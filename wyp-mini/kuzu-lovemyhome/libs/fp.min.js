function t(t, e) {
    var n = (65535 & t) + (65535 & e);
    return (t >> 16) + (e >> 16) + (n >> 16) << 16 | 65535 & n;
}

function e(t, e) {
    return t << e | t >>> 32 - e;
}

function n(n, r, o, i, c, a) {
    return t(e(t(t(r, n), t(i, a)), c), o);
}

function r(t, e, r, o, i, c, a) {
    return n(e & r | ~e & o, t, e, i, c, a);
}

function o(t, e, r, o, i, c, a) {
    return n(e & o | r & ~o, t, e, i, c, a);
}

function i(t, e, r, o, i, c, a) {
    return n(e ^ r ^ o, t, e, i, c, a);
}

function c(t, e, r, o, i, c, a) {
    return n(r ^ (e | ~o), t, e, i, c, a);
}

function a(e, n) {
    e[n >> 5] |= 128 << n % 32, e[14 + (n + 64 >>> 9 << 4)] = n;
    var a = void 0, u = void 0, f = void 0, s = void 0, d = void 0, h = 1732584193, v = -271733879, l = -1732584194, m = 271733878;
    for (a = 0; a < e.length; a += 16) u = h, f = v, s = l, d = m, v = c(v = c(v = c(v = c(v = i(v = i(v = i(v = i(v = o(v = o(v = o(v = o(v = r(v = r(v = r(v = r(v, l = r(l, m = r(m, h = r(h, v, l, m, e[a], 7, -680876936), v, l, e[a + 1], 12, -389564586), h, v, e[a + 2], 17, 606105819), m, h, e[a + 3], 22, -1044525330), l = r(l, m = r(m, h = r(h, v, l, m, e[a + 4], 7, -176418897), v, l, e[a + 5], 12, 1200080426), h, v, e[a + 6], 17, -1473231341), m, h, e[a + 7], 22, -45705983), l = r(l, m = r(m, h = r(h, v, l, m, e[a + 8], 7, 1770035416), v, l, e[a + 9], 12, -1958414417), h, v, e[a + 10], 17, -42063), m, h, e[a + 11], 22, -1990404162), l = r(l, m = r(m, h = r(h, v, l, m, e[a + 12], 7, 1804603682), v, l, e[a + 13], 12, -40341101), h, v, e[a + 14], 17, -1502002290), m, h, e[a + 15], 22, 1236535329), l = o(l, m = o(m, h = o(h, v, l, m, e[a + 1], 5, -165796510), v, l, e[a + 6], 9, -1069501632), h, v, e[a + 11], 14, 643717713), m, h, e[a], 20, -373897302), l = o(l, m = o(m, h = o(h, v, l, m, e[a + 5], 5, -701558691), v, l, e[a + 10], 9, 38016083), h, v, e[a + 15], 14, -660478335), m, h, e[a + 4], 20, -405537848), l = o(l, m = o(m, h = o(h, v, l, m, e[a + 9], 5, 568446438), v, l, e[a + 14], 9, -1019803690), h, v, e[a + 3], 14, -187363961), m, h, e[a + 8], 20, 1163531501), l = o(l, m = o(m, h = o(h, v, l, m, e[a + 13], 5, -1444681467), v, l, e[a + 2], 9, -51403784), h, v, e[a + 7], 14, 1735328473), m, h, e[a + 12], 20, -1926607734), l = i(l, m = i(m, h = i(h, v, l, m, e[a + 5], 4, -378558), v, l, e[a + 8], 11, -2022574463), h, v, e[a + 11], 16, 1839030562), m, h, e[a + 14], 23, -35309556), l = i(l, m = i(m, h = i(h, v, l, m, e[a + 1], 4, -1530992060), v, l, e[a + 4], 11, 1272893353), h, v, e[a + 7], 16, -155497632), m, h, e[a + 10], 23, -1094730640), l = i(l, m = i(m, h = i(h, v, l, m, e[a + 13], 4, 681279174), v, l, e[a], 11, -358537222), h, v, e[a + 3], 16, -722521979), m, h, e[a + 6], 23, 76029189), l = i(l, m = i(m, h = i(h, v, l, m, e[a + 9], 4, -640364487), v, l, e[a + 12], 11, -421815835), h, v, e[a + 15], 16, 530742520), m, h, e[a + 2], 23, -995338651), l = c(l, m = c(m, h = c(h, v, l, m, e[a], 6, -198630844), v, l, e[a + 7], 10, 1126891415), h, v, e[a + 14], 15, -1416354905), m, h, e[a + 5], 21, -57434055), l = c(l, m = c(m, h = c(h, v, l, m, e[a + 12], 6, 1700485571), v, l, e[a + 3], 10, -1894986606), h, v, e[a + 10], 15, -1051523), m, h, e[a + 1], 21, -2054922799), l = c(l, m = c(m, h = c(h, v, l, m, e[a + 8], 6, 1873313359), v, l, e[a + 15], 10, -30611744), h, v, e[a + 6], 15, -1560198380), m, h, e[a + 13], 21, 1309151649), l = c(l, m = c(m, h = c(h, v, l, m, e[a + 4], 6, -145523070), v, l, e[a + 11], 10, -1120210379), h, v, e[a + 2], 15, 718787259), m, h, e[a + 9], 21, -343485551), 
    h = t(h, u), v = t(v, f), l = t(l, s), m = t(m, d);
    return [ h, v, l, m ];
}

function u(t) {
    var e = void 0, n = "", r = 32 * t.length;
    for (e = 0; e < r; e += 8) n += String.fromCharCode(255 & t[e >> 5] >>> e % 32);
    return n;
}

function f(t) {
    var e = void 0, n = [];
    for (n[(t.length >> 2) - 1] = void 0, e = 0; e < n.length; e += 1) n[e] = 0;
    var r = 8 * t.length;
    for (e = 0; e < r; e += 8) n[e >> 5] |= (255 & t.charCodeAt(e / 8)) << e % 32;
    return n;
}

function s(t) {
    return u(a(f(t), 8 * t.length));
}

function d(t) {
    var e = void 0, n = void 0, r = "0123456789abcdef", o = "";
    for (n = 0; n < t.length; n += 1) e = t.charCodeAt(n), o += r.charAt(15 & e >>> 4) + r.charAt(15 & e);
    return o;
}

function h(t) {
    return unescape(encodeURIComponent(t));
}

function v(t) {
    return s(h(t));
}

function l(t) {
    return d(v(t));
}

function m(t) {
    return l(t);
}

function g(t) {
    t = unescape(t);
    for (var e = String.fromCharCode, n = e(t.charCodeAt(0) - t.length), r = 1; r < t.length; r++) n += e(t.charCodeAt(r) - n.charCodeAt(r - 1));
    return n;
}

function p() {
    var t = new Date(), e = t.getFullYear().toString(), n = (t.getMonth() + 1).toString(), r = t.getDate().toString(), o = t.getHours().toString(), i = t.getMinutes().toString(), c = t.getSeconds().toString();
    return n = 9 >= n ? "0" + n : n, r = 9 >= r ? "0" + r : r, o = 9 >= o ? "0" + o : o, 
    i = 9 >= i ? "0" + i : i, c = 9 >= c ? "0" + c : c, e + n + r + o + i + c;
}

function y() {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t) {
        var e = 0 | 16 * Math.random();
        return ("x" == t ? e : 8 | 3 & e).toString(16);
    });
}

function x() {
    try {
        return wx.getSystemInfoSync();
    } catch (t) {
        return {};
    }
}

function A() {
    var t = x(), e = +new Date(), n = S(), r = t.version, o = b();
    return delete t.version, Object.assign({
        appId: $.appId,
        channel: $.channel,
        deviceId: n,
        time: e - rt,
        sessionId: ot,
        version: Q,
        subVersion: X,
        weAppVerion: r,
        res: t.screenWidth + "_" + t.screenHeight,
        launchOptions: o
    }, t);
}

function C(t) {
    var e = [];
    for (var n in t) if (t.hasOwnProperty(n)) {
        var r = t[n];
        "object" == K(t[n]) && (r = JSON.stringify(r)), e.push(n + "=" + encodeURIComponent(r));
    }
    return e.join("&");
}

function w() {
    var t = S();
    new Date();
    return {
        deviceId: t,
        version: Q
    };
}

function S() {
    var t = void 0;
    try {
        var e = wx.env.USER_DATA_PATH + "/SMFP.txt";
        t = wx.getFileSystemManager().readFileSync(e, "utf8");
    } catch (t) {}
    try {
        t = wx.getStorageSync(Z, null);
    } catch (t) {}
    return t || (t = tt), I(t), t;
}

function I(t) {
    try {
        var e = wx.env.USER_DATA_PATH + "/SMFP.txt", n = wx.getFileSystemManager();
        wx.setStorageSync(Z, t), n.writeFileSync(e, t, "utf8");
    } catch (t) {}
}

function b() {
    var t = {};
    try {
        t = wx.getLaunchOptionsSync();
    } catch (t) {}
    return t;
}

function P() {
    return new Promise(function(t) {
        try {
            try {
                wx.startWifi({
                    success: function() {
                        wx.getConnectedWifi({
                            complete: function(e) {
                                try {
                                    t(e.wifi ? e.wifi : {});
                                } catch (e) {
                                    t({});
                                }
                            }
                        });
                    },
                    fail: function() {
                        t([]);
                    }
                });
            } catch (e) {
                t([]);
            }
        } catch (e) {
            t({});
        }
    });
}

function D() {
    return new Promise(function(t) {
        try {
            wx.getLocation({
                altitude: !0,
                success: function(e) {
                    try {
                        delete e.errMsg, t(e);
                    } catch (e) {
                        t({});
                    }
                },
                fail: function() {
                    t({});
                }
            });
        } catch (e) {
            t({});
        }
    });
}

function T() {
    return new Promise(function(t) {
        var e = [];
        try {
            wx.onAccelerometerChange(function(n) {
                try {
                    e.push(n), setTimeout(function() {}, 6e3), t(e);
                } catch (n) {
                    t(e);
                }
            }), setTimeout(function() {
                t(e);
            }, 1e3);
        } catch (n) {
            t(e);
        }
    });
}

function k() {
    return new Promise(function(t) {
        var e = [];
        try {
            wx.onCompassChange(function(n) {
                try {
                    e.push(n.direction), setTimeout(function() {}, 6e3), t(e);
                } catch (n) {
                    t(e);
                }
            }), setTimeout(function() {
                t(e);
            }, 1e3);
        } catch (n) {
            t(e);
        }
    });
}

function M() {
    return new Promise(function(t) {
        var e = A();
        try {
            wx.startWifi({
                success: function() {
                    if ("android" == e.platform) try {
                        wx.getWifiList({
                            success: function() {
                                try {
                                    wx.onGetWifiList(function(e) {
                                        try {
                                            t(e.wifiList);
                                        } catch (e) {
                                            t([]);
                                        }
                                    });
                                } catch (t) {}
                                setTimeout(function() {
                                    t([]);
                                }, 1e3);
                            },
                            fail: function() {
                                t([]);
                            }
                        });
                    } catch (e) {
                        t([]);
                    } else t([]);
                },
                fail: function() {
                    t([]);
                }
            });
        } catch (e) {
            t([]);
        }
    });
}

function O() {
    return new Promise(function(t) {
        try {
            wx.openBluetoothAdapter({
                success: function() {
                    try {
                        wx.startBluetoothDevicesDiscovery({
                            success: function() {
                                var e = [], n = [];
                                try {
                                    wx.onBluetoothDeviceFound(function(r) {
                                        try {
                                            for (var o = r.devices, i = 0; i < o.length; i++) -1 == n.indexOf(o[i].deviceId) && (n.push(o[i].deviceId), 
                                            e.push({
                                                deviceId: o[i].deviceId,
                                                name: o[i].name,
                                                RSSI: o[i].RSSI
                                            }));
                                        } catch (n) {
                                            t(e);
                                        }
                                    });
                                } catch (n) {
                                    t(e);
                                }
                                setTimeout(function() {
                                    t(e);
                                }, 2e3);
                            },
                            fail: function() {
                                t([]);
                            }
                        });
                    } catch (e) {
                        t([]);
                    }
                },
                fail: function() {
                    t([]);
                }
            });
        } catch (e) {
            t([]);
        }
    });
}

function W() {
    return new Promise(function(t) {
        try {
            wx.getScreenBrightness({
                success: function(e) {
                    try {
                        t(e.value);
                    } catch (e) {
                        t(-1);
                    }
                },
                fail: function() {
                    t(-1);
                }
            });
        } catch (e) {
            t(-1);
        }
    });
}

function B() {
    return new Promise(function(t) {
        try {
            wx.getNetworkType({
                success: function(e) {
                    try {
                        t(e.networkType);
                    } catch (e) {
                        t("");
                    }
                },
                fail: function() {
                    t("");
                }
            });
        } catch (e) {
            t("");
        }
    });
}

function F(t, e, n, r) {
    nt.deviceId = t, nt.sign = e, nt.timestamp = n, nt.length = 1 * r;
}

function L() {
    return {
        deviceId: nt.deviceId,
        sign: nt.sign,
        timestamp: nt.timestamp,
        length: nt.length
    };
}

function R() {
    return {
        deviceId: S(),
        sign: null,
        timestamp: et.timestamp
    };
}

function j(t, e, n) {
    try {
        wx.request({
            url: t,
            data: e,
            method: "POST",
            header: {
                "content-type": "application/json"
            },
            success: function(t) {
                var e = {
                    code: 1902,
                    detail: {},
                    deviceId: "",
                    message: "数据解析异常",
                    requestId: "",
                    riskLevel: ""
                };
                try {
                    var r = /smCB\((.*)\)/, o = t.data.match(r);
                    if (o) {
                        var i = o[1];
                        try {
                            n(JSON.parse(i));
                        } catch (t) {
                            n(e);
                        }
                    } else n(e);
                } catch (t) {
                    n(e);
                }
            }
        });
    } catch (t) {}
}

function H(t, e) {
    try {
        var n = L().timestamp;
        return z(t(e)) + n;
    } catch (t) {
        var r = R().timestamp;
        return z(_(U, e)) + r;
    }
}

function _(t, e, n, r, o, i) {
    return t = t || U, n = n || et.key, r = 0 == r ? 0 : 1, o = 2 == o ? 1 : 0, n += "", 
    0 == o ? t(n, e, r) : t(n, e, r, o, i);
}

function E(t) {
    for (var e = void 0, n = void 0, r = void 0, o = [ 0, 4, 536870912, 536870916, 65536, 65540, 536936448, 536936452, 512, 516, 536871424, 536871428, 66048, 66052, 536936960, 536936964 ], i = [ 0, 1, 1048576, 1048577, 67108864, 67108865, 68157440, 68157441, 256, 257, 1048832, 1048833, 67109120, 67109121, 68157696, 68157697 ], c = [ 0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272, 0, 8, 2048, 2056, 16777216, 16777224, 16779264, 16779272 ], a = [ 0, 2097152, 134217728, 136314880, 8192, 2105344, 134225920, 136323072, 131072, 2228224, 134348800, 136445952, 139264, 2236416, 134356992, 136454144 ], u = [ 0, 262144, 16, 262160, 0, 262144, 16, 262160, 4096, 266240, 4112, 266256, 4096, 266240, 4112, 266256 ], f = [ 0, 1024, 32, 1056, 0, 1024, 32, 1056, 33554432, 33555456, 33554464, 33555488, 33554432, 33555456, 33554464, 33555488 ], s = [ 0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746, 0, 268435456, 524288, 268959744, 2, 268435458, 524290, 268959746 ], d = [ 0, 65536, 2048, 67584, 536870912, 536936448, 536872960, 536938496, 131072, 196608, 133120, 198656, 537001984, 537067520, 537004032, 537069568 ], h = [ 0, 262144, 0, 262144, 2, 262146, 2, 262146, 33554432, 33816576, 33554432, 33816576, 33554434, 33816578, 33554434, 33816578 ], v = [ 0, 268435456, 8, 268435464, 0, 268435456, 8, 268435464, 1024, 268436480, 1032, 268436488, 1024, 268436480, 1032, 268436488 ], l = [ 0, 32, 0, 32, 1048576, 1048608, 1048576, 1048608, 8192, 8224, 8192, 8224, 1056768, 1056800, 1056768, 1056800 ], m = [ 0, 16777216, 512, 16777728, 2097152, 18874368, 2097664, 18874880, 67108864, 83886080, 67109376, 83886592, 69206016, 85983232, 69206528, 85983744 ], g = [ 0, 4096, 134217728, 134221824, 524288, 528384, 134742016, 134746112, 16, 4112, 134217744, 134221840, 524304, 528400, 134742032, 134746128 ], p = [ 0, 4, 256, 260, 0, 4, 256, 260, 1, 5, 257, 261, 1, 5, 257, 261 ], y = 8 < t.length ? 3 : 1, x = Array(32 * y), A = [ 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0 ], C = 0, w = 0, S = 0; S < y; S++) {
        var S = t.charCodeAt(C++) << 24 | t.charCodeAt(C++) << 16 | t.charCodeAt(C++) << 8 | t.charCodeAt(C++), I = t.charCodeAt(C++) << 24 | t.charCodeAt(C++) << 16 | t.charCodeAt(C++) << 8 | t.charCodeAt(C++);
        S ^= (r = 252645135 & (S >>> 4 ^ I)) << 4, S ^= r = 65535 & ((I ^= r) >>> -16 ^ S), 
        S ^= (r = 858993459 & (S >>> 2 ^ (I ^= r << -16))) << 2, S ^= r = 65535 & ((I ^= r) >>> -16 ^ S), 
        S ^= (r = 1431655765 & (S >>> 1 ^ (I ^= r << -16))) << 1, S ^= r = 16711935 & ((I ^= r) >>> 8 ^ S), 
        r = (S ^= (r = 1431655765 & (S >>> 1 ^ (I ^= r << 8))) << 1) << 8 | 240 & (I ^= r) >>> 20, 
        S = I << 24 | 16711680 & I << 8 | 65280 & I >>> 8 | 240 & I >>> 24, I = r;
        for (var b = 0; b < A.length; b++) A[b] ? (S = S << 2 | S >>> 26, I = I << 2 | I >>> 26) : (S = S << 1 | S >>> 27, 
        I = I << 1 | I >>> 27), I &= -15, e = o[(S &= -15) >>> 28] | i[15 & S >>> 24] | c[15 & S >>> 20] | a[15 & S >>> 16] | u[15 & S >>> 12] | f[15 & S >>> 8] | s[15 & S >>> 4], 
        r = 65535 & ((n = d[I >>> 28] | h[15 & I >>> 24] | v[15 & I >>> 20] | l[15 & I >>> 16] | m[15 & I >>> 12] | g[15 & I >>> 8] | p[15 & I >>> 4]) >>> 16 ^ e), 
        x[w++] = e ^ r, x[w++] = n ^ r << 16;
    }
    return x;
}

function U(t, e, n, r, o, i) {
    var c = String.fromCharCode, a = void 0, u = void 0, f = void 0, s = void 0, d = void 0, h = void 0, v = void 0, l = void 0, m = void 0, g = void 0, p = void 0, y = void 0, x = void 0, A = void 0, C = [ 16843776, 0, 65536, 16843780, 16842756, 66564, 4, 65536, 1024, 16843776, 16843780, 1024, 16778244, 16842756, 16777216, 4, 1028, 16778240, 16778240, 66560, 66560, 16842752, 16842752, 16778244, 65540, 16777220, 16777220, 65540, 0, 1028, 66564, 16777216, 65536, 16843780, 4, 16842752, 16843776, 16777216, 16777216, 1024, 16842756, 65536, 66560, 16777220, 1024, 4, 16778244, 66564, 16843780, 65540, 16842752, 16778244, 16777220, 1028, 66564, 16843776, 1028, 16778240, 16778240, 0, 65540, 66560, 0, 16842756 ], w = [ -2146402272, -2147450880, 32768, 1081376, 1048576, 32, -2146435040, -2147450848, -2147483616, -2146402272, -2146402304, -2147483648, -2147450880, 1048576, 32, -2146435040, 1081344, 1048608, -2147450848, 0, -2147483648, 32768, 1081376, -2146435072, 1048608, -2147483616, 0, 1081344, 32800, -2146402304, -2146435072, 32800, 0, 1081376, -2146435040, 1048576, -2147450848, -2146435072, -2146402304, 32768, -2146435072, -2147450880, 32, -2146402272, 1081376, 32, 32768, -2147483648, 32800, -2146402304, 1048576, -2147483616, 1048608, -2147450848, -2147483616, 1048608, 1081344, 0, -2147450880, 32800, -2147483648, -2146435040, -2146402272, 1081344 ], S = [ 520, 134349312, 0, 134348808, 134218240, 0, 131592, 134218240, 131080, 134217736, 134217736, 131072, 134349320, 131080, 134348800, 520, 134217728, 8, 134349312, 512, 131584, 134348800, 134348808, 131592, 134218248, 131584, 131072, 134218248, 8, 134349320, 512, 134217728, 134349312, 134217728, 131080, 520, 131072, 134349312, 134218240, 0, 512, 131080, 134349320, 134218240, 134217736, 512, 0, 134348808, 134218248, 131072, 134217728, 134349320, 8, 131592, 131584, 134217736, 134348800, 134218248, 520, 134348800, 131592, 8, 134348808, 131584 ], I = [ 8396801, 8321, 8321, 128, 8396928, 8388737, 8388609, 8193, 0, 8396800, 8396800, 8396929, 129, 0, 8388736, 8388609, 1, 8192, 8388608, 8396801, 128, 8388608, 8193, 8320, 8388737, 1, 8320, 8388736, 8192, 8396928, 8396929, 129, 8388736, 8388609, 8396800, 8396929, 129, 0, 0, 8396800, 8320, 8388736, 8388737, 1, 8396801, 8321, 8321, 128, 8396929, 129, 1, 8192, 8388609, 8193, 8396928, 8388737, 8193, 8320, 8388608, 8396801, 128, 8388608, 8192, 8396928 ], b = [ 256, 34078976, 34078720, 1107296512, 524288, 256, 1073741824, 34078720, 1074266368, 524288, 33554688, 1074266368, 1107296512, 1107820544, 524544, 1073741824, 33554432, 1074266112, 1074266112, 0, 1073742080, 1107820800, 1107820800, 33554688, 1107820544, 1073742080, 0, 1107296256, 34078976, 33554432, 1107296256, 524544, 524288, 1107296512, 256, 33554432, 1073741824, 34078720, 1107296512, 1074266368, 33554688, 1073741824, 1107820544, 34078976, 1074266368, 256, 33554432, 1107820544, 1107820800, 524544, 1107296256, 1107820800, 34078720, 0, 1074266112, 1107296256, 524544, 33554688, 1073742080, 524288, 0, 1074266112, 34078976, 1073742080 ], P = [ 536870928, 541065216, 16384, 541081616, 541065216, 16, 541081616, 4194304, 536887296, 4210704, 4194304, 536870928, 4194320, 536887296, 536870912, 16400, 0, 4194320, 536887312, 16384, 4210688, 536887312, 16, 541065232, 541065232, 0, 4210704, 541081600, 16400, 4210688, 541081600, 536870912, 536887296, 16, 541065232, 4210688, 541081616, 4194304, 16400, 536870928, 4194304, 536887296, 536870912, 16400, 536870928, 541081616, 4210688, 541065216, 4210704, 541081600, 0, 541065232, 16, 16384, 541065216, 4210704, 16384, 4194320, 536887312, 0, 541081600, 536870912, 4194320, 536887312 ], D = [ 2097152, 69206018, 67110914, 0, 2048, 67110914, 2099202, 69208064, 69208066, 2097152, 0, 67108866, 2, 67108864, 69206018, 2050, 67110912, 2099202, 2097154, 67110912, 67108866, 69206016, 69208064, 2097154, 69206016, 2048, 2050, 69208066, 2099200, 2, 67108864, 2099200, 67108864, 2099200, 2097152, 67110914, 67110914, 69206018, 69206018, 2, 2097154, 67108864, 67110912, 2097152, 69208064, 2050, 2099202, 69208064, 2050, 67108866, 69208066, 69206016, 2099200, 0, 2, 69208066, 0, 2099202, 69206016, 2048, 67108866, 67110912, 2048, 2097154 ], T = [ 268439616, 4096, 262144, 268701760, 268435456, 268439616, 64, 268435456, 262208, 268697600, 268701760, 266240, 268701696, 266304, 4096, 64, 268697600, 268435520, 268439552, 4160, 266240, 262208, 268697664, 268701696, 4160, 0, 0, 268697664, 268435520, 268439552, 266304, 262144, 266304, 262144, 268701696, 4096, 64, 268697664, 4096, 266304, 268439552, 64, 268435520, 268697600, 268697664, 268435456, 262144, 268439616, 0, 268701760, 262208, 268435520, 268697600, 268439552, 268439616, 0, 268701760, 266240, 266240, 4160, 4160, 262208, 268435456, 268701696 ], k = E(t), M = 0, O = e.length, W = 0, B = 32 == k.length ? 3 : 9;
    l = 3 == B ? n ? [ 0, 32, 2 ] : [ 30, -2, -2 ] : n ? [ 0, 32, 2, 62, 30, -2, 64, 96, 2 ] : [ 94, 62, -2, 32, 64, 2, 30, -2, -2 ], 
    2 == i ? e += "        " : 1 == i ? (f = 8 - O % 8, e += c(f, f, f, f, f, f, f, f), 
    8 == f && (O += 8)) : !i && (e += "\0\0\0\0\0\0\0\0");
    var F = "", L = "";
    for (1 == r && (m = o.charCodeAt(M++) << 24 | o.charCodeAt(M++) << 16 | o.charCodeAt(M++) << 8 | o.charCodeAt(M++), 
    p = o.charCodeAt(M++) << 24 | o.charCodeAt(M++) << 16 | o.charCodeAt(M++) << 8 | o.charCodeAt(M++), 
    M = 0); M < O; ) {
        for (h = e.charCodeAt(M++) << 24 | e.charCodeAt(M++) << 16 | e.charCodeAt(M++) << 8 | e.charCodeAt(M++), 
        v = e.charCodeAt(M++) << 24 | e.charCodeAt(M++) << 16 | e.charCodeAt(M++) << 8 | e.charCodeAt(M++), 
        1 == r && (n ? (h ^= m, v ^= p) : (g = m, y = p, m = h, p = v)), h ^= (f = 252645135 & (h >>> 4 ^ v)) << 4, 
        h ^= (f = 65535 & (h >>> 16 ^ (v ^= f))) << 16, h ^= f = 858993459 & ((v ^= f) >>> 2 ^ h), 
        h ^= f = 16711935 & ((v ^= f << 2) >>> 8 ^ h), h = (h ^= (f = 1431655765 & (h >>> 1 ^ (v ^= f << 8))) << 1) << 1 | h >>> 31, 
        v = (v ^= f) << 1 | v >>> 31, u = 0; u < B; u += 3) {
            for (x = l[u + 1], A = l[u + 2], a = l[u]; a != x; a += A) s = v ^ k[a], d = (v >>> 4 | v << 28) ^ k[a + 1], 
            f = h, h = v, v = f ^ (w[63 & s >>> 24] | I[63 & s >>> 16] | P[63 & s >>> 8] | T[63 & s] | C[63 & d >>> 24] | S[63 & d >>> 16] | b[63 & d >>> 8] | D[63 & d]);
            f = h, h = v, v = f;
        }
        v = v >>> 1 | v << 31, v ^= f = 1431655765 & ((h = h >>> 1 | h << 31) >>> 1 ^ v), 
        v ^= (f = 16711935 & (v >>> 8 ^ (h ^= f << 1))) << 8, v ^= (f = 858993459 & (v >>> 2 ^ (h ^= f))) << 2, 
        v ^= f = 65535 & ((h ^= f) >>> 16 ^ v), v ^= f = 252645135 & ((h ^= f << 16) >>> 4 ^ v), 
        h ^= f << 4, 1 == r && (n ? (m = h, p = v) : (h ^= g, v ^= y)), L += c(h >>> 24, 255 & h >>> 16, 255 & h >>> 8, 255 & h, v >>> 24, 255 & v >>> 16, 255 & v >>> 8, 255 & v), 
        512 == (W += 8) && (F += L, L = "", W = 0);
    }
    return F + L;
}

function z(t) {
    var e = void 0, n = void 0, r = void 0, o = void 0, i = void 0, c = void 0, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    for (r = t.length, n = 0, e = ""; n < r; ) {
        if (o = 255 & t.charCodeAt(n++), n == r) {
            e += a.charAt(o >> 2), e += a.charAt((3 & o) << 4), e += "==";
            break;
        }
        if (i = t.charCodeAt(n++), n == r) {
            e += a.charAt(o >> 2), e += a.charAt((3 & o) << 4 | (240 & i) >> 4), e += a.charAt((15 & i) << 2), 
            e += "=";
            break;
        }
        c = t.charCodeAt(n++), e += a.charAt(o >> 2), e += a.charAt((3 & o) << 4 | (240 & i) >> 4), 
        e += a.charAt((15 & i) << 2 | (192 & c) >> 6), e += a.charAt(63 & c);
    }
    return e;
}

function N(t) {
    var e = String.fromCharCode, n = void 0, r = void 0, o = void 0, i = void 0, c = void 0, a = void 0, u = void 0, f = [ -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1 ];
    for (a = t.length, c = 0, u = ""; c < a; ) {
        do {
            n = f[255 & t.charCodeAt(c++)];
        } while (c < a && -1 == n);
        if (-1 == n) break;
        do {
            r = f[255 & t.charCodeAt(c++)];
        } while (c < a && -1 == r);
        if (-1 == r) break;
        u += e(n << 2 | (48 & r) >> 4);
        do {
            if (61 == (o = 255 & t.charCodeAt(c++))) return u;
            o = f[o];
        } while (c < a && -1 == o);
        if (-1 == o) break;
        u += e((15 & r) << 4 | (60 & o) >> 2);
        do {
            if (61 == (i = 255 & t.charCodeAt(c++))) return u;
            i = f[i];
        } while (c < a && -1 == i);
        if (-1 == i) break;
        u += e((3 & o) << 6 | i);
    }
    return u;
}

function R() {
    return {
        deviceId: S(),
        sign: null,
        timestamp: et.timestamp
    };
}

function F(t, e, n, r) {
    nt.deviceId = t, nt.sign = e, nt.timestamp = n, nt.length = 1 * r;
}

function L() {
    return {
        deviceId: nt.deviceId,
        sign: nt.sign,
        timestamp: nt.timestamp,
        length: nt.length
    };
}

function V(t, e) {
    var n = L().length;
    try {
        var r = _(U, N(t), "", 0).substr(0, n).split(","), o = q(r[0]), i = null;
        return "function" == typeof o && (i = function(t) {
            return _(o, t, r[2], r[1], r[3]);
        }), "W" + H(i, e);
    } catch (t) {
        return "W" + H(U, e);
    }
}

function q(t) {
    var e = [ null, U ];
    return e[t] ? e[t] : null;
}

function J(t) {
    return new Promise(function(e) {
        var n = C(t), r = "https://" + $.apiHost + $.apiPath, o = R();
        F(o.deviceId, o.sign, o.timestamp, 0), j(r, {
            organization: $.organization,
            smdata: V(o.sign, n),
            os: "weapp",
            version: Q
        }, function(t) {
            try {
                if (1100 == t.code) {
                    var n = t.deviceId || S() || et.deviceId, r = t.detail ? t.detail.timestamp : "", o = t.detail ? t.detail.sign : "", i = t.detail ? t.detail.len : 0;
                    n && o && r && i && (I(n), F(n, o, r, i));
                }
            } catch (t) {}
            e();
        });
    });
}

function G(t, e) {
    var n = t;
    try {
        return e && (n = t.sort(function(t, n) {
            return 0 > t[e] - n[e];
        })), n.slice(0, 10);
    } catch (t) {
        return n.slice(0, 10);
    }
}

function Y() {
    try {
        var t = void 0, e = $.authConf && !0 === $.authConf.location, n = A(), r = [ T(), k(), W(), B(), O(), P() ];
        e && (r.push(M()), r.push(D())), Promise.all(r).then(function(o) {
            try {
                var i = {
                    accelerometer: G(o[0]),
                    compass: G(o[1]),
                    screenBright: o[2],
                    networkType: o[3],
                    bluetooth: G(o[4], "RSSI"),
                    connectedWifi: o[5]
                };
                e && (i.wifiList = G(o[r.length - 2], "signalStrength"), i.location = o[r.length - 1]), 
                J(t = Object.assign(n, i));
            } catch (t) {
                J(n);
            }
        }, function() {
            J(n);
        });
    } catch (t) {}
}

var K = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
    return typeof t;
} : function(t) {
    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
}, Q = "2.0.0", X = "2.0.9", Z = "smidV2", $ = {
    appId: "default",
    channel: "",
    organization: "",
    apiHost: "fp-it.fengkongcloud.com",
    apiPath: "/v3/profile/weapp",
    authConf: {
        location: !1
    }
}, tt = function() {
    var t = p() + m(y()) + "00";
    return t + m("smsk_weapp_" + t).substr(0, 14) + 0;
}(), et = {
    key: g("%5B%A0%C0%DB%DD%E2%D2%CE"),
    deviceId: tt,
    timestamp: g("%3Eelollnmmnhck")
}, nt = {
    sign: "",
    timestamp: "",
    deviceId: "",
    length: 0
}, rt = +new Date(), ot = +new Date() + "-" + Math.floor(1e8 * Math.random());

setTimeout(function() {
    J(A()).then(function() {
        try {
            setTimeout(Y, 2e3);
        } catch (t) {}
    });
    try {
        wx.startAccelerometer && wx.startAccelerometer(), wx.startCompass && wx.startCompass();
    } catch (t) {}
}, 0), module.exports = {
    initConf: function(t) {
        $ = Object.assign({}, $, t);
    },
    getDeviceId: function() {
        var t = C(w());
        return V(L().sign, t);
    }
};