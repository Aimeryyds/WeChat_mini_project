	var __wxAppData = __wxAppData || {}; 	var __wxRoute = __wxRoute || ""; 	var __wxRouteBegin = __wxRouteBegin || ""; 	var __wxAppCode__ = __wxAppCode__ || {};	var global = global || {};	var __WXML_GLOBAL__=__WXML_GLOBAL__ || {};	var __wxAppCurrentFile__=__wxAppCurrentFile__||""; 	var Component = Component || function(){};	var definePlugin = definePlugin || function(){};	var requirePlugin = requirePlugin || function(){};	var Behavior = Behavior || function(){};	var __vd_version_info__ = __vd_version_info__ || {};
	/*v0.5vv_20200413_syb_scopedata*/global.__wcc_version__='v0.5vv_20200413_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(path,global){
if(typeof global === 'undefined') global={};if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
function _(a,b){if(typeof(b)!='undefined')a.children.push(b);}
function _v(k){if(typeof(k)!='undefined')return {tag:'virtual','wxKey':k,children:[]};return {tag:'virtual',children:[]};}
function _n(tag){$gwxc++;if($gwxc>=16000){throw 'Dom limit exceeded, please check if there\'s any mistake you\'ve made.'};return {tag:'wx-'+tag,attr:{},children:[],n:[],raw:{},generics:{}}}
function _p(a,b){b&&a.properities.push(b);}
function _s(scope,env,key){return typeof(scope[key])!='undefined'?scope[key]:env[key]}
function _wp(m){console.warn("WXMLRT_$gwx:"+m)}
function _wl(tname,prefix){_wp(prefix+':-1:-1:-1: Template `' + tname + '` is being called recursively, will be stop.')}
$gwn=console.warn;
$gwl=console.log;
function $gwh()
{
function x()
{
}
x.prototype = 
{
hn: function( obj, all )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && ( all || obj.__wxspec__ !== 'm' || this.hn(obj.__value__) === 'h' ) ? "h" : "n";
}
return "n";
},
nh: function( obj, special )
{
return { __value__: obj, __wxspec__: special ? special : true }
},
rv: function( obj )
{
return this.hn(obj,true)==='n'?obj:this.rv(obj.__value__);
},
hm: function( obj )
{
if( typeof(obj) == 'object' )
{
var cnt=0;
var any1=false,any2=false;
for(var x in obj)
{
any1=any1|x==='__value__';
any2=any2|x==='__wxspec__';
cnt++;
if(cnt>2)break;
}
return cnt == 2 && any1 && any2 && (obj.__wxspec__ === 'm' || this.hm(obj.__value__) );
}
return false;
}
}
return new x;
}
wh=$gwh();
function $gstack(s){
var tmp=s.split('\n '+' '+' '+' ');
for(var i=0;i<tmp.length;++i){
if(0==i) continue;
if(")"===tmp[i][tmp[i].length-1])
tmp[i]=tmp[i].replace(/\s\(.*\)$/,"");
else
tmp[i]="at anonymous function";
}
return tmp.join('\n '+' '+' '+' ');
}
function $gwrt( should_pass_type_info )
{
function ArithmeticEv( ops, e, s, g, o )
{
var _f = false;
var rop = ops[0][1];
var _a,_b,_c,_d, _aa, _bb;
switch( rop )
{
case '?:':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : rev( ops[3], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '&&':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? rev( ops[2], e, s, g, o, _f ) : wh.rv( _a );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '||':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && ( wh.hn(_a) === 'h' );
_d = wh.rv( _a ) ? wh.rv(_a) : rev( ops[2], e, s, g, o, _f );
_d = _c && wh.hn( _d ) === 'n' ? wh.nh( _d, 'c' ) : _d;
return _d;
break;
case '+':
case '*':
case '/':
case '%':
case '|':
case '^':
case '&':
case '===':
case '==':
case '!=':
case '!==':
case '>=':
case '<=':
case '>':
case '<':
case '<<':
case '>>':
_a = rev( ops[1], e, s, g, o, _f );
_b = rev( ops[2], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
switch( rop )
{
case '+':
_d = wh.rv( _a ) + wh.rv( _b );
break;
case '*':
_d = wh.rv( _a ) * wh.rv( _b );
break;
case '/':
_d = wh.rv( _a ) / wh.rv( _b );
break;
case '%':
_d = wh.rv( _a ) % wh.rv( _b );
break;
case '|':
_d = wh.rv( _a ) | wh.rv( _b );
break;
case '^':
_d = wh.rv( _a ) ^ wh.rv( _b );
break;
case '&':
_d = wh.rv( _a ) & wh.rv( _b );
break;
case '===':
_d = wh.rv( _a ) === wh.rv( _b );
break;
case '==':
_d = wh.rv( _a ) == wh.rv( _b );
break;
case '!=':
_d = wh.rv( _a ) != wh.rv( _b );
break;
case '!==':
_d = wh.rv( _a ) !== wh.rv( _b );
break;
case '>=':
_d = wh.rv( _a ) >= wh.rv( _b );
break;
case '<=':
_d = wh.rv( _a ) <= wh.rv( _b );
break;
case '>':
_d = wh.rv( _a ) > wh.rv( _b );
break;
case '<':
_d = wh.rv( _a ) < wh.rv( _b );
break;
case '<<':
_d = wh.rv( _a ) << wh.rv( _b );
break;
case '>>':
_d = wh.rv( _a ) >> wh.rv( _b );
break;
default:
break;
}
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '-':
_a = ops.length === 3 ? rev( ops[1], e, s, g, o, _f ) : 0;
_b = ops.length === 3 ? rev( ops[2], e, s, g, o, _f ) : rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) === 'h' || wh.hn( _b ) === 'h');
_d = _c ? wh.rv( _a ) - wh.rv( _b ) : _a - _b;
return _c ? wh.nh( _d, "c" ) : _d;
break;
case '!':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = !wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
case '~':
_a = rev( ops[1], e, s, g, o, _f );
_c = should_pass_type_info && (wh.hn( _a ) == 'h');
_d = ~wh.rv(_a);
return _c ? wh.nh( _d, "c" ) : _d;
default:
$gwn('unrecognized op' + rop );
}
}
function rev( ops, e, s, g, o, newap )
{
var op = ops[0];
var _f = false;
if ( typeof newap !== "undefined" ) o.ap = newap;
if( typeof(op)==='object' )
{
var vop=op[0];
var _a, _aa, _b, _bb, _c, _d, _s, _e, _ta, _tb, _td;
switch(vop)
{
case 2:
return ArithmeticEv(ops,e,s,g,o);
break;
case 4: 
return rev( ops[1], e, s, g, o, _f );
break;
case 5: 
switch( ops.length )
{
case 2: 
_a = rev( ops[1],e,s,g,o,_f );
return should_pass_type_info?[_a]:[wh.rv(_a)];
return [_a];
break;
case 1: 
return [];
break;
default:
_a = rev( ops[1],e,s,g,o,_f );
_b = rev( ops[2],e,s,g,o,_f );
_a.push( 
should_pass_type_info ?
_b :
wh.rv( _b )
);
return _a;
break;
}
break;
case 6:
_a = rev(ops[1],e,s,g,o);
var ap = o.ap;
_ta = wh.hn(_a)==='h';
_aa = _ta ? wh.rv(_a) : _a;
o.is_affected |= _ta;
if( should_pass_type_info )
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return _ta ? wh.nh(undefined, 'e') : undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return (_ta || _tb) ? wh.nh(undefined, 'e') : undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return (_ta || _tb) ? (_td ? _d : wh.nh(_d, 'e')) : _d;
}
else
{
if( _aa===null || typeof(_aa) === 'undefined' )
{
return undefined;
}
_b = rev(ops[2],e,s,g,o,_f);
_tb = wh.hn(_b) === 'h';
_bb = _tb ? wh.rv(_b) : _b;
o.ap = ap;
o.is_affected |= _tb;
if( _bb===null || typeof(_bb) === 'undefined' || 
_bb === "__proto__" || _bb === "prototype" || _bb === "caller" ) 
{
return undefined;
}
_d = _aa[_bb];
if ( typeof _d === 'function' && !ap ) _d = undefined;
_td = wh.hn(_d)==='h';
o.is_affected |= _td;
return _td ? wh.rv(_d) : _d;
}
case 7: 
switch(ops[1][0])
{
case 11:
o.is_affected |= wh.hn(g)==='h';
return g;
case 3:
_s = wh.rv( s );
_e = wh.rv( e );
_b = ops[1][1];
if (g && g.f && g.f.hasOwnProperty(_b) )
{
_a = g.f;
o.ap = true;
}
else
{
_a = _s && _s.hasOwnProperty(_b) ? 
s : (_e && _e.hasOwnProperty(_b) ? e : undefined );
}
if( should_pass_type_info )
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
_d = _ta && !_td ? wh.nh(_d,'e') : _d;
return _d;
}
}
else
{
if( _a )
{
_ta = wh.hn(_a) === 'h';
_aa = _ta ? wh.rv( _a ) : _a;
_d = _aa[_b];
_td = wh.hn(_d) === 'h';
o.is_affected |= _ta || _td;
return wh.rv(_d);
}
}
return undefined;
}
break;
case 8: 
_a = {};
_a[ops[1]] = rev(ops[2],e,s,g,o,_f);
return _a;
break;
case 9: 
_a = rev(ops[1],e,s,g,o,_f);
_b = rev(ops[2],e,s,g,o,_f);
function merge( _a, _b, _ow )
{
var ka, _bbk;
_ta = wh.hn(_a)==='h';
_tb = wh.hn(_b)==='h';
_aa = wh.rv(_a);
_bb = wh.rv(_b);
for(var k in _bb)
{
if ( _ow || !_aa.hasOwnProperty(k) )
{
_aa[k] = should_pass_type_info ? (_tb ? wh.nh(_bb[k],'e') : _bb[k]) : wh.rv(_bb[k]);
}
}
return _a;
}
var _c = _a
var _ow = true
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
_a = _b
_b = _c
_ow = false
}
if ( typeof(ops[1][0]) === "object" && ops[1][0][0] === 10 ) {
var _r = {}
return merge( merge( _r, _a, _ow ), _b, _ow );
}
else
return merge( _a, _b, _ow );
break;
case 10:
_a = rev(ops[1],e,s,g,o,_f);
_a = should_pass_type_info ? _a : wh.rv( _a );
return _a ;
break;
case 12:
var _r;
_a = rev(ops[1],e,s,g,o);
if ( !o.ap )
{
return should_pass_type_info && wh.hn(_a)==='h' ? wh.nh( _r, 'f' ) : _r;
}
var ap = o.ap;
_b = rev(ops[2],e,s,g,o,_f);
o.ap = ap;
_ta = wh.hn(_a)==='h';
_tb = _ca(_b);
_aa = wh.rv(_a);	
_bb = wh.rv(_b); snap_bb=$gdc(_bb,"nv_");
try{
_r = typeof _aa === "function" ? $gdc(_aa.apply(null, snap_bb)) : undefined;
} catch (e){
e.message = e.message.replace(/nv_/g,"");
e.stack = e.stack.substring(0,e.stack.indexOf("\n", e.stack.lastIndexOf("at nv_")));
e.stack = e.stack.replace(/\snv_/g," "); 
e.stack = $gstack(e.stack);	
if(g.debugInfo)
{
e.stack += "\n "+" "+" "+" at "+g.debugInfo[0]+":"+g.debugInfo[1]+":"+g.debugInfo[2];
console.error(e);
}
_r = undefined;
}
return should_pass_type_info && (_tb || _ta) ? wh.nh( _r, 'f' ) : _r;
}
}
else
{
if( op === 3 || op === 1) return ops[1];
else if( op === 11 ) 
{
var _a='';
for( var i = 1 ; i < ops.length ; i++ )
{
var xp = wh.rv(rev(ops[i],e,s,g,o,_f));
_a += typeof(xp) === 'undefined' ? '' : xp;
}
return _a;
}
}
}
function wrapper( ops, e, s, g, o, newap )
{
if( ops[0] == '11182016' )
{
g.debugInfo = ops[2];
return rev( ops[1], e, s, g, o, newap );
}
else
{
g.debugInfo = null;
return rev( ops, e, s, g, o, newap );
}
}
return wrapper;
}
gra=$gwrt(true); 
grb=$gwrt(false); 
function TestTest( expr, ops, e,s,g, expect_a, expect_b, expect_affected )
{
{
var o = {is_affected:false};
var a = gra( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_a )
|| o.is_affected != expect_affected )
{
console.warn( "A. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_a ) + ", " + expect_affected + " is expected" );
}
}
{
var o = {is_affected:false};
var a = grb( ops, e,s,g, o );
if( JSON.stringify(a) != JSON.stringify( expect_b )
|| o.is_affected != expect_affected )
{
console.warn( "B. " + expr + " get result " + JSON.stringify(a) + ", " + o.is_affected + ", but " + JSON.stringify( expect_b ) + ", " + expect_affected + " is expected" );
}
}
}

function wfor( to_iter, func, env, _s, global, father, itemname, indexname, keyname )
{
var _n = wh.hn( to_iter ) === 'n'; 
var scope = wh.rv( _s ); 
var has_old_item = scope.hasOwnProperty(itemname);
var has_old_index = scope.hasOwnProperty(indexname);
var old_item = scope[itemname];
var old_index = scope[indexname];
var full = Object.prototype.toString.call(wh.rv(to_iter));
var type = full[8]; 
if( type === 'N' && full[10] === 'l' ) type = 'X'; 
var _y;
if( _n )
{
if( type === 'A' ) 
{
var r_iter_item;
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
r_iter_item = wh.rv(to_iter[i]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i = 0;
var r_iter_item;
for( var k in to_iter )
{
scope[itemname] = to_iter[k];
scope[indexname] = _n ? k : wh.nh(k, 'h');
r_iter_item = wh.rv(to_iter[k]);
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env,scope,_y,global );
i++;
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < to_iter.length ; i++ )
{
scope[itemname] = to_iter[i];
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env,scope,_y,global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < to_iter ; i++ )
{
scope[itemname] = i;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
else
{
var r_to_iter = wh.rv(to_iter);
var r_iter_item, iter_item;
if( type === 'A' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = r_to_iter[i];
iter_item = wh.hn(iter_item)==='n' ? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item
scope[indexname] = _n ? i : wh.nh(i, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y = _v(key);
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'O' ) 
{
var i=0;
for( var k in r_to_iter )
{
iter_item = r_to_iter[k];
iter_item = wh.hn(iter_item)==='n'? wh.nh(iter_item,'h') : iter_item;
r_iter_item = wh.rv( iter_item );
scope[itemname] = iter_item;
scope[indexname] = _n ? k : wh.nh(k, 'h');
var key = keyname && r_iter_item ? (keyname==="*this" ? r_iter_item : wh.rv(r_iter_item[keyname])) : undefined;
_y=_v(key);
_(father,_y);
func( env, scope, _y, global );
i++
}
}
else if( type === 'S' ) 
{
for( var i = 0 ; i < r_to_iter.length ; i++ )
{
iter_item = wh.nh(r_to_iter[i],'h');
scope[itemname] = iter_item;
scope[indexname] = _n ? i : wh.nh(i, 'h');
_y = _v( to_iter[i] + i );
_(father,_y);
func( env, scope, _y, global );
}
}
else if( type === 'N' ) 
{
for( var i = 0 ; i < r_to_iter ; i++ )
{
iter_item = wh.nh(i,'h');
scope[itemname] = iter_item;
scope[indexname]= _n ? i : wh.nh(i,'h');
_y = _v( i );
_(father,_y);
func(env,scope,_y,global);
}
}
else
{
}
}
if(has_old_item)
{
scope[itemname]=old_item;
}
else
{
delete scope[itemname];
}
if(has_old_index)
{
scope[indexname]=old_index;
}
else
{
delete scope[indexname];
}
}

function _ca(o)
{ 
if ( wh.hn(o) == 'h' ) return true;
if ( typeof o !== "object" ) return false;
for(var i in o){ 
if ( o.hasOwnProperty(i) ){
if (_ca(o[i])) return true;
}
}
return false;
}
function _da( node, attrname, opindex, raw, o )
{
var isaffected = false;
var value = $gdc( raw, "", 2 );
if ( o.ap && value && value.constructor===Function ) 
{
attrname = "$wxs:" + attrname; 
node.attr["$gdc"] = $gdc;
}
if ( o.is_affected || _ca(raw) ) 
{
node.n.push( attrname );
node.raw[attrname] = raw;
}
node.attr[attrname] = value;
}
function _r( node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _rz( z, node, attrname, opindex, env, scope, global ) 
{
global.opindex=opindex;
var o = {}, _env;
var a = grb( z[opindex], env, scope, global, o );
_da( node, attrname, opindex, a, o );
}
function _o( opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _oz( z, opindex, env, scope, global )
{
global.opindex=opindex;
var nothing = {};
var r = grb( z[opindex], env, scope, global, nothing );
return (r&&r.constructor===Function) ? undefined : r;
}
function _1( opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _1z( z, opindex, env, scope, global, o )
{
var o = o || {};
global.opindex=opindex;
return gra( z[opindex], env, scope, global, o );
}
function _2( opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1( opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}
function _2z( z, opindex, func, env, scope, global, father, itemname, indexname, keyname )
{
var o = {};
var to_iter = _1z( z, opindex, env, scope, global );
wfor( to_iter, func, env, scope, global, father, itemname, indexname, keyname );
}


function _m(tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_r(tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}
function _mz(z,tag,attrs,generics,env,scope,global)
{
var tmp=_n(tag);
var base=0;
for(var i = 0 ; i < attrs.length ; i+=2 )
{
if(base+attrs[i+1]<0)
{
tmp.attr[attrs[i]]=true;
}
else
{
_rz(z, tmp,attrs[i],base+attrs[i+1],env,scope,global);
if(base===0)base=attrs[i+1];
}
}
for(var i=0;i<generics.length;i+=2)
{
if(base+generics[i+1]<0)
{
tmp.generics[generics[i]]="";
}
else
{
var $t=grb(z[base+generics[i+1]],env,scope,global);
if ($t!="") $t="wx-"+$t;
tmp.generics[generics[i]]=$t;
if(base===0)base=generics[i+1];
}
}
return tmp;
}

var nf_init=function(){
if(typeof __WXML_GLOBAL__==="undefined"||undefined===__WXML_GLOBAL__.wxs_nf_init){
nf_init_Object();nf_init_Function();nf_init_Array();nf_init_String();nf_init_Boolean();nf_init_Number();nf_init_Math();nf_init_Date();nf_init_RegExp();
}
if(typeof __WXML_GLOBAL__!=="undefined") __WXML_GLOBAL__.wxs_nf_init=true;
};
var nf_init_Object=function(){
Object.defineProperty(Object.prototype,"nv_constructor",{writable:true,value:"Object"})
Object.defineProperty(Object.prototype,"nv_toString",{writable:true,value:function(){return "[object Object]"}})
}
var nf_init_Function=function(){
Object.defineProperty(Function.prototype,"nv_constructor",{writable:true,value:"Function"})
Object.defineProperty(Function.prototype,"nv_length",{get:function(){return this.length;},set:function(){}});
Object.defineProperty(Function.prototype,"nv_toString",{writable:true,value:function(){return "[function Function]"}})
}
var nf_init_Array=function(){
Object.defineProperty(Array.prototype,"nv_toString",{writable:true,value:function(){return this.nv_join();}})
Object.defineProperty(Array.prototype,"nv_join",{writable:true,value:function(s){
s=undefined==s?',':s;
var r="";
for(var i=0;i<this.length;++i){
if(0!=i) r+=s;
if(null==this[i]||undefined==this[i]) r+='';	
else if(typeof this[i]=='function') r+=this[i].nv_toString();
else if(typeof this[i]=='object'&&this[i].nv_constructor==="Array") r+=this[i].nv_join();
else r+=this[i].toString();
}
return r;
}})
Object.defineProperty(Array.prototype,"nv_constructor",{writable:true,value:"Array"})
Object.defineProperty(Array.prototype,"nv_concat",{writable:true,value:Array.prototype.concat})
Object.defineProperty(Array.prototype,"nv_pop",{writable:true,value:Array.prototype.pop})
Object.defineProperty(Array.prototype,"nv_push",{writable:true,value:Array.prototype.push})
Object.defineProperty(Array.prototype,"nv_reverse",{writable:true,value:Array.prototype.reverse})
Object.defineProperty(Array.prototype,"nv_shift",{writable:true,value:Array.prototype.shift})
Object.defineProperty(Array.prototype,"nv_slice",{writable:true,value:Array.prototype.slice})
Object.defineProperty(Array.prototype,"nv_sort",{writable:true,value:Array.prototype.sort})
Object.defineProperty(Array.prototype,"nv_splice",{writable:true,value:Array.prototype.splice})
Object.defineProperty(Array.prototype,"nv_unshift",{writable:true,value:Array.prototype.unshift})
Object.defineProperty(Array.prototype,"nv_indexOf",{writable:true,value:Array.prototype.indexOf})
Object.defineProperty(Array.prototype,"nv_lastIndexOf",{writable:true,value:Array.prototype.lastIndexOf})
Object.defineProperty(Array.prototype,"nv_every",{writable:true,value:Array.prototype.every})
Object.defineProperty(Array.prototype,"nv_some",{writable:true,value:Array.prototype.some})
Object.defineProperty(Array.prototype,"nv_forEach",{writable:true,value:Array.prototype.forEach})
Object.defineProperty(Array.prototype,"nv_map",{writable:true,value:Array.prototype.map})
Object.defineProperty(Array.prototype,"nv_filter",{writable:true,value:Array.prototype.filter})
Object.defineProperty(Array.prototype,"nv_reduce",{writable:true,value:Array.prototype.reduce})
Object.defineProperty(Array.prototype,"nv_reduceRight",{writable:true,value:Array.prototype.reduceRight})
Object.defineProperty(Array.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_String=function(){
Object.defineProperty(String.prototype,"nv_constructor",{writable:true,value:"String"})
Object.defineProperty(String.prototype,"nv_toString",{writable:true,value:String.prototype.toString})
Object.defineProperty(String.prototype,"nv_valueOf",{writable:true,value:String.prototype.valueOf})
Object.defineProperty(String.prototype,"nv_charAt",{writable:true,value:String.prototype.charAt})
Object.defineProperty(String.prototype,"nv_charCodeAt",{writable:true,value:String.prototype.charCodeAt})
Object.defineProperty(String.prototype,"nv_concat",{writable:true,value:String.prototype.concat})
Object.defineProperty(String.prototype,"nv_indexOf",{writable:true,value:String.prototype.indexOf})
Object.defineProperty(String.prototype,"nv_lastIndexOf",{writable:true,value:String.prototype.lastIndexOf})
Object.defineProperty(String.prototype,"nv_localeCompare",{writable:true,value:String.prototype.localeCompare})
Object.defineProperty(String.prototype,"nv_match",{writable:true,value:String.prototype.match})
Object.defineProperty(String.prototype,"nv_replace",{writable:true,value:String.prototype.replace})
Object.defineProperty(String.prototype,"nv_search",{writable:true,value:String.prototype.search})
Object.defineProperty(String.prototype,"nv_slice",{writable:true,value:String.prototype.slice})
Object.defineProperty(String.prototype,"nv_split",{writable:true,value:String.prototype.split})
Object.defineProperty(String.prototype,"nv_substring",{writable:true,value:String.prototype.substring})
Object.defineProperty(String.prototype,"nv_toLowerCase",{writable:true,value:String.prototype.toLowerCase})
Object.defineProperty(String.prototype,"nv_toLocaleLowerCase",{writable:true,value:String.prototype.toLocaleLowerCase})
Object.defineProperty(String.prototype,"nv_toUpperCase",{writable:true,value:String.prototype.toUpperCase})
Object.defineProperty(String.prototype,"nv_toLocaleUpperCase",{writable:true,value:String.prototype.toLocaleUpperCase})
Object.defineProperty(String.prototype,"nv_trim",{writable:true,value:String.prototype.trim})
Object.defineProperty(String.prototype,"nv_length",{get:function(){return this.length;},set:function(value){this.length=value;}});
}
var nf_init_Boolean=function(){
Object.defineProperty(Boolean.prototype,"nv_constructor",{writable:true,value:"Boolean"})
Object.defineProperty(Boolean.prototype,"nv_toString",{writable:true,value:Boolean.prototype.toString})
Object.defineProperty(Boolean.prototype,"nv_valueOf",{writable:true,value:Boolean.prototype.valueOf})
}
var nf_init_Number=function(){
Object.defineProperty(Number,"nv_MAX_VALUE",{writable:false,value:Number.MAX_VALUE})
Object.defineProperty(Number,"nv_MIN_VALUE",{writable:false,value:Number.MIN_VALUE})
Object.defineProperty(Number,"nv_NEGATIVE_INFINITY",{writable:false,value:Number.NEGATIVE_INFINITY})
Object.defineProperty(Number,"nv_POSITIVE_INFINITY",{writable:false,value:Number.POSITIVE_INFINITY})
Object.defineProperty(Number.prototype,"nv_constructor",{writable:true,value:"Number"})
Object.defineProperty(Number.prototype,"nv_toString",{writable:true,value:Number.prototype.toString})
Object.defineProperty(Number.prototype,"nv_toLocaleString",{writable:true,value:Number.prototype.toLocaleString})
Object.defineProperty(Number.prototype,"nv_valueOf",{writable:true,value:Number.prototype.valueOf})
Object.defineProperty(Number.prototype,"nv_toFixed",{writable:true,value:Number.prototype.toFixed})
Object.defineProperty(Number.prototype,"nv_toExponential",{writable:true,value:Number.prototype.toExponential})
Object.defineProperty(Number.prototype,"nv_toPrecision",{writable:true,value:Number.prototype.toPrecision})
}
var nf_init_Math=function(){
Object.defineProperty(Math,"nv_E",{writable:false,value:Math.E})
Object.defineProperty(Math,"nv_LN10",{writable:false,value:Math.LN10})
Object.defineProperty(Math,"nv_LN2",{writable:false,value:Math.LN2})
Object.defineProperty(Math,"nv_LOG2E",{writable:false,value:Math.LOG2E})
Object.defineProperty(Math,"nv_LOG10E",{writable:false,value:Math.LOG10E})
Object.defineProperty(Math,"nv_PI",{writable:false,value:Math.PI})
Object.defineProperty(Math,"nv_SQRT1_2",{writable:false,value:Math.SQRT1_2})
Object.defineProperty(Math,"nv_SQRT2",{writable:false,value:Math.SQRT2})
Object.defineProperty(Math,"nv_abs",{writable:false,value:Math.abs})
Object.defineProperty(Math,"nv_acos",{writable:false,value:Math.acos})
Object.defineProperty(Math,"nv_asin",{writable:false,value:Math.asin})
Object.defineProperty(Math,"nv_atan",{writable:false,value:Math.atan})
Object.defineProperty(Math,"nv_atan2",{writable:false,value:Math.atan2})
Object.defineProperty(Math,"nv_ceil",{writable:false,value:Math.ceil})
Object.defineProperty(Math,"nv_cos",{writable:false,value:Math.cos})
Object.defineProperty(Math,"nv_exp",{writable:false,value:Math.exp})
Object.defineProperty(Math,"nv_floor",{writable:false,value:Math.floor})
Object.defineProperty(Math,"nv_log",{writable:false,value:Math.log})
Object.defineProperty(Math,"nv_max",{writable:false,value:Math.max})
Object.defineProperty(Math,"nv_min",{writable:false,value:Math.min})
Object.defineProperty(Math,"nv_pow",{writable:false,value:Math.pow})
Object.defineProperty(Math,"nv_random",{writable:false,value:Math.random})
Object.defineProperty(Math,"nv_round",{writable:false,value:Math.round})
Object.defineProperty(Math,"nv_sin",{writable:false,value:Math.sin})
Object.defineProperty(Math,"nv_sqrt",{writable:false,value:Math.sqrt})
Object.defineProperty(Math,"nv_tan",{writable:false,value:Math.tan})
}
var nf_init_Date=function(){
Object.defineProperty(Date.prototype,"nv_constructor",{writable:true,value:"Date"})
Object.defineProperty(Date,"nv_parse",{writable:true,value:Date.parse})
Object.defineProperty(Date,"nv_UTC",{writable:true,value:Date.UTC})
Object.defineProperty(Date,"nv_now",{writable:true,value:Date.now})
Object.defineProperty(Date.prototype,"nv_toString",{writable:true,value:Date.prototype.toString})
Object.defineProperty(Date.prototype,"nv_toDateString",{writable:true,value:Date.prototype.toDateString})
Object.defineProperty(Date.prototype,"nv_toTimeString",{writable:true,value:Date.prototype.toTimeString})
Object.defineProperty(Date.prototype,"nv_toLocaleString",{writable:true,value:Date.prototype.toLocaleString})
Object.defineProperty(Date.prototype,"nv_toLocaleDateString",{writable:true,value:Date.prototype.toLocaleDateString})
Object.defineProperty(Date.prototype,"nv_toLocaleTimeString",{writable:true,value:Date.prototype.toLocaleTimeString})
Object.defineProperty(Date.prototype,"nv_valueOf",{writable:true,value:Date.prototype.valueOf})
Object.defineProperty(Date.prototype,"nv_getTime",{writable:true,value:Date.prototype.getTime})
Object.defineProperty(Date.prototype,"nv_getFullYear",{writable:true,value:Date.prototype.getFullYear})
Object.defineProperty(Date.prototype,"nv_getUTCFullYear",{writable:true,value:Date.prototype.getUTCFullYear})
Object.defineProperty(Date.prototype,"nv_getMonth",{writable:true,value:Date.prototype.getMonth})
Object.defineProperty(Date.prototype,"nv_getUTCMonth",{writable:true,value:Date.prototype.getUTCMonth})
Object.defineProperty(Date.prototype,"nv_getDate",{writable:true,value:Date.prototype.getDate})
Object.defineProperty(Date.prototype,"nv_getUTCDate",{writable:true,value:Date.prototype.getUTCDate})
Object.defineProperty(Date.prototype,"nv_getDay",{writable:true,value:Date.prototype.getDay})
Object.defineProperty(Date.prototype,"nv_getUTCDay",{writable:true,value:Date.prototype.getUTCDay})
Object.defineProperty(Date.prototype,"nv_getHours",{writable:true,value:Date.prototype.getHours})
Object.defineProperty(Date.prototype,"nv_getUTCHours",{writable:true,value:Date.prototype.getUTCHours})
Object.defineProperty(Date.prototype,"nv_getMinutes",{writable:true,value:Date.prototype.getMinutes})
Object.defineProperty(Date.prototype,"nv_getUTCMinutes",{writable:true,value:Date.prototype.getUTCMinutes})
Object.defineProperty(Date.prototype,"nv_getSeconds",{writable:true,value:Date.prototype.getSeconds})
Object.defineProperty(Date.prototype,"nv_getUTCSeconds",{writable:true,value:Date.prototype.getUTCSeconds})
Object.defineProperty(Date.prototype,"nv_getMilliseconds",{writable:true,value:Date.prototype.getMilliseconds})
Object.defineProperty(Date.prototype,"nv_getUTCMilliseconds",{writable:true,value:Date.prototype.getUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_getTimezoneOffset",{writable:true,value:Date.prototype.getTimezoneOffset})
Object.defineProperty(Date.prototype,"nv_setTime",{writable:true,value:Date.prototype.setTime})
Object.defineProperty(Date.prototype,"nv_setMilliseconds",{writable:true,value:Date.prototype.setMilliseconds})
Object.defineProperty(Date.prototype,"nv_setUTCMilliseconds",{writable:true,value:Date.prototype.setUTCMilliseconds})
Object.defineProperty(Date.prototype,"nv_setSeconds",{writable:true,value:Date.prototype.setSeconds})
Object.defineProperty(Date.prototype,"nv_setUTCSeconds",{writable:true,value:Date.prototype.setUTCSeconds})
Object.defineProperty(Date.prototype,"nv_setMinutes",{writable:true,value:Date.prototype.setMinutes})
Object.defineProperty(Date.prototype,"nv_setUTCMinutes",{writable:true,value:Date.prototype.setUTCMinutes})
Object.defineProperty(Date.prototype,"nv_setHours",{writable:true,value:Date.prototype.setHours})
Object.defineProperty(Date.prototype,"nv_setUTCHours",{writable:true,value:Date.prototype.setUTCHours})
Object.defineProperty(Date.prototype,"nv_setDate",{writable:true,value:Date.prototype.setDate})
Object.defineProperty(Date.prototype,"nv_setUTCDate",{writable:true,value:Date.prototype.setUTCDate})
Object.defineProperty(Date.prototype,"nv_setMonth",{writable:true,value:Date.prototype.setMonth})
Object.defineProperty(Date.prototype,"nv_setUTCMonth",{writable:true,value:Date.prototype.setUTCMonth})
Object.defineProperty(Date.prototype,"nv_setFullYear",{writable:true,value:Date.prototype.setFullYear})
Object.defineProperty(Date.prototype,"nv_setUTCFullYear",{writable:true,value:Date.prototype.setUTCFullYear})
Object.defineProperty(Date.prototype,"nv_toUTCString",{writable:true,value:Date.prototype.toUTCString})
Object.defineProperty(Date.prototype,"nv_toISOString",{writable:true,value:Date.prototype.toISOString})
Object.defineProperty(Date.prototype,"nv_toJSON",{writable:true,value:Date.prototype.toJSON})
}
var nf_init_RegExp=function(){
Object.defineProperty(RegExp.prototype,"nv_constructor",{writable:true,value:"RegExp"})
Object.defineProperty(RegExp.prototype,"nv_exec",{writable:true,value:RegExp.prototype.exec})
Object.defineProperty(RegExp.prototype,"nv_test",{writable:true,value:RegExp.prototype.test})
Object.defineProperty(RegExp.prototype,"nv_toString",{writable:true,value:RegExp.prototype.toString})
Object.defineProperty(RegExp.prototype,"nv_source",{get:function(){return this.source;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_global",{get:function(){return this.global;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_ignoreCase",{get:function(){return this.ignoreCase;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_multiline",{get:function(){return this.multiline;},set:function(){}});
Object.defineProperty(RegExp.prototype,"nv_lastIndex",{get:function(){return this.lastIndex;},set:function(v){this.lastIndex=v;}});
}
nf_init();
var nv_getDate=function(){var args=Array.prototype.slice.call(arguments);args.unshift(Date);return new(Function.prototype.bind.apply(Date, args));}
var nv_getRegExp=function(){var args=Array.prototype.slice.call(arguments);args.unshift(RegExp);return new(Function.prototype.bind.apply(RegExp, args));}
var nv_console={}
nv_console.nv_log=function(){var res="WXSRT:";for(var i=0;i<arguments.length;++i)res+=arguments[i]+" ";console.log(res);}
var nv_parseInt = parseInt, nv_parseFloat = parseFloat, nv_isNaN = isNaN, nv_isFinite = isFinite, nv_decodeURI = decodeURI, nv_decodeURIComponent = decodeURIComponent, nv_encodeURI = encodeURI, nv_encodeURIComponent = encodeURIComponent;
function $gdc(o,p,r) {
o=wh.rv(o);
if(o===null||o===undefined) return o;
if(o.constructor===String||o.constructor===Boolean||o.constructor===Number) return o;
if(o.constructor===Object){
var copy={};
for(var k in o)
if(o.hasOwnProperty(k))
if(undefined===p) copy[k.substring(3)]=$gdc(o[k],p,r);
else copy[p+k]=$gdc(o[k],p,r);
return copy;
}
if(o.constructor===Array){
var copy=[];
for(var i=0;i<o.length;i++) copy.push($gdc(o[i],p,r));
return copy;
}
if(o.constructor===Date){
var copy=new Date();
copy.setTime(o.getTime());
return copy;
}
if(o.constructor===RegExp){
var f="";
if(o.global) f+="g";
if(o.ignoreCase) f+="i";
if(o.multiline) f+="m";
return (new RegExp(o.source,f));
}
if(r&&o.constructor===Function){
if ( r == 1 ) return $gdc(o(),undefined, 2);
if ( r == 2 ) return o;
}
return null;
}
var nv_JSON={}
nv_JSON.nv_stringify=function(o){
JSON.stringify(o);
return JSON.stringify($gdc(o));
}
nv_JSON.nv_parse=function(o){
if(o===undefined) return undefined;
var t=JSON.parse(o);
return $gdc(t,'nv_');
}

function _af(p, a, r, c){
p.extraAttr = {"t_action": a, "t_rawid": r };
if ( typeof(c) != 'undefined' ) p.extraAttr.t_cid = c;
}

function _ai(i,p,e,me,r,c){var x=_grp(p,e,me);if(x)i.push(x);else{i.push('');_wp(me+':import:'+r+':'+c+': Path `'+p+'` not found from `'+me+'`.')}}
function _grp(p,e,me){if(p[0]!='/'){var mepart=me.split('/');mepart.pop();var ppart=p.split('/');for(var i=0;i<ppart.length;i++){if( ppart[i]=='..')mepart.pop();else if(!ppart[i]||ppart[i]=='.')continue;else mepart.push(ppart[i]);}p=mepart.join('/');}if(me[0]=='.'&&p[0]=='/')p='.'+p;if(e[p])return p;if(e[p+'.wxml'])return p+'.wxml';}
function _gd(p,c,e,d){if(!c)return;if(d[p][c])return d[p][c];for(var x=e[p].i.length-1;x>=0;x--){if(e[p].i[x]&&d[e[p].i[x]][c])return d[e[p].i[x]][c]};for(var x=e[p].ti.length-1;x>=0;x--){var q=_grp(e[p].ti[x],e,p);if(q&&d[q][c])return d[q][c]}var ii=_gapi(e,p);for(var x=0;x<ii.length;x++){if(ii[x]&&d[ii[x]][c])return d[ii[x]][c]}for(var k=e[p].j.length-1;k>=0;k--)if(e[p].j[k]){for(var q=e[e[p].j[k]].ti.length-1;q>=0;q--){var pp=_grp(e[e[p].j[k]].ti[q],e,p);if(pp&&d[pp][c]){return d[pp][c]}}}}
function _gapi(e,p){if(!p)return [];if($gaic[p]){return $gaic[p]};var ret=[],q=[],h=0,t=0,put={},visited={};q.push(p);visited[p]=true;t++;while(h<t){var a=q[h++];for(var i=0;i<e[a].ic.length;i++){var nd=e[a].ic[i];var np=_grp(nd,e,a);if(np&&!visited[np]){visited[np]=true;q.push(np);t++;}}for(var i=0;a!=p&&i<e[a].ti.length;i++){var ni=e[a].ti[i];var nm=_grp(ni,e,a);if(nm&&!put[nm]){put[nm]=true;ret.push(nm);}}}$gaic[p]=ret;return ret;}
var $ixc={};function _ic(p,ent,me,e,s,r,gg){var x=_grp(p,ent,me);ent[me].j.push(x);if(x){if($ixc[x]){_wp('-1:include:-1:-1: `'+p+'` is being included in a loop, will be stop.');return;}$ixc[x]=true;try{ent[x].f(e,s,r,gg)}catch(e){}$ixc[x]=false;}else{_wp(me+':include:-1:-1: Included path `'+p+'` not found from `'+me+'`.')}}
function _w(tn,f,line,c){_wp(f+':template:'+line+':'+c+': Template `'+tn+'` not found.');}function _ev(dom){var changed=false;delete dom.properities;delete dom.n;if(dom.children){do{changed=false;var newch = [];for(var i=0;i<dom.children.length;i++){var ch=dom.children[i];if( ch.tag=='virtual'){changed=true;for(var j=0;ch.children&&j<ch.children.length;j++){newch.push(ch.children[j]);}}else { newch.push(ch); } } dom.children = newch; }while(changed);for(var i=0;i<dom.children.length;i++){_ev(dom.children[i]);}} return dom; }
function _tsd( root )
{
if( root.tag == "wx-wx-scope" ) 
{
root.tag = "virtual";
root.wxCkey = "11";
root['wxScopeData'] = root.attr['wx:scope-data'];
delete root.n;
delete root.raw;
delete root.generics;
delete root.attr;
}
for( var i = 0 ; root.children && i < root.children.length ; i++ )
{
_tsd( root.children[i] );
}
return root;
}

var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
function gz$gwx_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_1)return __WXML_GLOBAL__.ops_cached.$gwx_1
__WXML_GLOBAL__.ops_cached.$gwx_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'address_picker'])
Z([[6],[[6],[[6],[[7],[3,'entries']],[1,1]],[3,'range']],[3,'length']])
Z([[6],[[6],[[6],[[7],[3,'entries']],[1,2]],[3,'range']],[3,'length']])
Z([[6],[[6],[[6],[[7],[3,'entries']],[1,3]],[3,'range']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_1);return __WXML_GLOBAL__.ops_cached.$gwx_1
}
function gz$gwx_2(){
if( __WXML_GLOBAL__.ops_cached.$gwx_2)return __WXML_GLOBAL__.ops_cached.$gwx_2
__WXML_GLOBAL__.ops_cached.$gwx_2=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([3,'dialog_cn'])
Z([[7],[3,'title']])
Z([[7],[3,'showClose']])
Z([[7],[3,'showBottomMask']])
Z([[7],[3,'showCancel']])
})(__WXML_GLOBAL__.ops_cached.$gwx_2);return __WXML_GLOBAL__.ops_cached.$gwx_2
}
function gz$gwx_3(){
if( __WXML_GLOBAL__.ops_cached.$gwx_3)return __WXML_GLOBAL__.ops_cached.$gwx_3
__WXML_GLOBAL__.ops_cached.$gwx_3=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'empty_prompt'])
})(__WXML_GLOBAL__.ops_cached.$gwx_3);return __WXML_GLOBAL__.ops_cached.$gwx_3
}
function gz$gwx_4(){
if( __WXML_GLOBAL__.ops_cached.$gwx_4)return __WXML_GLOBAL__.ops_cached.$gwx_4
__WXML_GLOBAL__.ops_cached.$gwx_4=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'img-loader'])
})(__WXML_GLOBAL__.ops_cached.$gwx_4);return __WXML_GLOBAL__.ops_cached.$gwx_4
}
function gz$gwx_5(){
if( __WXML_GLOBAL__.ops_cached.$gwx_5)return __WXML_GLOBAL__.ops_cached.$gwx_5
__WXML_GLOBAL__.ops_cached.$gwx_5=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'modal'])
Z([[2,'||'],[[7],[3,'title']],[[7],[3,'content']]])
Z([3,'xmodal_content'])
Z([[7],[3,'title']])
Z([[7],[3,'content']])
Z([[7],[3,'goods']])
Z(z[5])
Z([[10],[[7],[3,'goods']]])
Z([3,'goods'])
Z([[7],[3,'sku']])
Z([[7],[3,'showCancel']])
Z(z[8])
Z([[7],[3,'products']])
Z([[7],[3,'index']])
Z([[2,'||'],[[2,'||'],[[6],[[7],[3,'goods']],[3,'isSams']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'mainSku']],[3,'isSams']],[1,'1']]],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'mainSku']],[3,'zxLx']],[1,'1']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_5);return __WXML_GLOBAL__.ops_cached.$gwx_5
}
function gz$gwx_6(){
if( __WXML_GLOBAL__.ops_cached.$gwx_6)return __WXML_GLOBAL__.ops_cached.$gwx_6
__WXML_GLOBAL__.ops_cached.$gwx_6=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'toast'])
Z([[7],[3,'content']])
Z([[2,'!='],[[7],[3,'icon']],[1,'none']])
})(__WXML_GLOBAL__.ops_cached.$gwx_6);return __WXML_GLOBAL__.ops_cached.$gwx_6
}
function gz$gwx_7(){
if( __WXML_GLOBAL__.ops_cached.$gwx_7)return __WXML_GLOBAL__.ops_cached.$gwx_7
__WXML_GLOBAL__.ops_cached.$gwx_7=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showtype']])
Z([[2,'!='],[[7],[3,'type']],[1,'banner']])
Z([a,[3,'awentry_capsule '],[[2,'?:'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!='],[[7],[3,'showtype']],[1,3]],[[7],[3,'getAward']]],[[7],[3,'taskone']]],[[7],[3,'tasktwo']]],[[6],[[7],[3,'tasktwo']],[3,'amount']]],[[2,'||'],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,2]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,1]]],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,1]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,2]]]]],[1,'height100'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'isWidth0']],[1,'width0'],[1,'']]])
Z([[2,'||'],[[2,'=='],[[7],[3,'showtype']],[1,3]],[[2,'!'],[[7],[3,'totleAward']]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'totleAward']],[[2,'!='],[[7],[3,'showtype']],[1,2]]],[[7],[3,'taskone']]],[[2,'!='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,2]]],[[7],[3,'tasktwo']]],[[2,'!='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,2]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'getAward']],[[7],[3,'taskone']]],[[7],[3,'tasktwo']]],[[6],[[7],[3,'tasktwo']],[3,'amount']]],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,2]]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,1]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'getAward']],[[7],[3,'taskone']]],[[7],[3,'tasktwo']]],[[6],[[7],[3,'taskone']],[3,'amount']]],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,1]]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,2]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'getAward']],[[7],[3,'taskone']]],[[7],[3,'tasktwo']]],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,2]]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,2]]])
Z([[7],[3,'getAward']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'getAward']],[[7],[3,'taskone']]],[[7],[3,'tasktwo']]],[[2,'||'],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,2]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,3]]],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,3]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,2]]]]])
Z(z[8])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'taskone']],[[7],[3,'tasktwo']]],[[2,'||'],[[2,'||'],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,0]],[[2,'=='],[[6],[[7],[3,'taskone']],[3,'taskstatus']],[1,1]]],[[2,'||'],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,0]],[[2,'=='],[[6],[[7],[3,'tasktwo']],[3,'taskstatus']],[1,1]]]]])
Z([3,'entryAddWxapp'])
Z([3,'awentry_banner'])
Z([a,[3,'background: url('],[[2,'?:'],[[2,'&&'],[[2,'!='],[[7],[3,'showtype']],[1,3]],[[7],[3,'totleAward']]],[[2,'||'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'ppmsData']],[[6],[[7],[3,'ppmsData']],[3,'bannerBackground']]],[[6],[[6],[[7],[3,'ppmsData']],[3,'bannerBackground']],[3,'length']]],[[6],[[6],[[6],[[7],[3,'ppmsData']],[3,'bannerBackground']],[[7],[3,'bannerBgPlan']]],[3,'award']]],[1,'https://img13.360buyimg.com/jdphoto/jfs/t1/35647/34/14601/89383/5d27ed35E4f8e1aee/751a5fc293e86740.png']],[[2,'||'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'ppmsData']],[[6],[[7],[3,'ppmsData']],[3,'bannerBackground']]],[[6],[[6],[[7],[3,'ppmsData']],[3,'bannerBackground']],[3,'length']]],[[6],[[6],[[6],[[7],[3,'ppmsData']],[3,'bannerBackground']],[[7],[3,'bannerBgPlan']]],[3,'noAward']]],[1,'https://img20.360buyimg.com/jdphoto/jfs/t1/66074/14/4376/88604/5d27f746Eee97820a/b581d49997f9e07a.png']]],[3,');background-size:100%;']])
Z([[2,'&&'],[[2,'!='],[[7],[3,'showtype']],[1,3]],[[7],[3,'totleAward']]])
Z([[7],[3,'addWxappData']])
Z([[7],[3,'navHeight']])
})(__WXML_GLOBAL__.ops_cached.$gwx_7);return __WXML_GLOBAL__.ops_cached.$gwx_7
}
function gz$gwx_8(){
if( __WXML_GLOBAL__.ops_cached.$gwx_8)return __WXML_GLOBAL__.ops_cached.$gwx_8
__WXML_GLOBAL__.ops_cached.$gwx_8=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'addWxappData']],[[6],[[7],[3,'addWxappData']],[3,'showtype']]])
Z([3,'close'])
Z([3,'preventTouchMove'])
Z([3,'type_alert'])
Z([3,'closetarget'])
Z([a,[3,'top: '],[[7],[3,'navHeight']],[3,'px;']])
Z([3,'addwxapp_bg'])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'addWxappData']],[[6],[[7],[3,'addWxappData']],[3,'taskone']]],[[2,'!='],[[6],[[6],[[7],[3,'addWxappData']],[3,'taskone']],[3,'taskstatus']],[1,3]]],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']]],[[2,'=='],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'taskstatus']],[1,3]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'addWxappData']],[[6],[[7],[3,'addWxappData']],[3,'taskone']]],[[2,'=='],[[6],[[6],[[7],[3,'addWxappData']],[3,'taskone']],[3,'taskstatus']],[1,3]]],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']]],[[2,'!='],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'taskstatus']],[1,3]]])
Z([[2,'&&'],[[2,'!='],[[6],[[7],[3,'addWxappData']],[3,'showtype']],[1,3]],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'amount']]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'addWxappData']],[[6],[[7],[3,'addWxappData']],[3,'taskone']]],[[2,'!='],[[6],[[6],[[7],[3,'addWxappData']],[3,'taskone']],[3,'taskstatus']],[1,3]]],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']]],[[2,'!='],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'taskstatus']],[1,3]]])
Z([3,'addwxapp_task'])
Z([[2,'=='],[[6],[[6],[[7],[3,'addWxappData']],[3,'taskone']],[3,'taskstatus']],[1,2]])
Z([[2,'&&'],[[2,'!='],[[6],[[7],[3,'addWxappData']],[3,'showtype']],[1,3]],[[6],[[6],[[7],[3,'addWxappData']],[3,'taskone']],[3,'amount']]])
Z(z[11])
Z([[2,'=='],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'taskstatus']],[1,2]])
Z(z[9])
Z([[2,'&&'],[[2,'&&'],[[2,'!='],[[6],[[7],[3,'addWxappData']],[3,'showtype']],[1,3]],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'amount']]],[[2,'!='],[[6],[[6],[[7],[3,'addWxappData']],[3,'tasktwo']],[3,'taskstatus']],[1,2]]])
Z([[2,'=='],[[7],[3,'system']],[1,'android']])
})(__WXML_GLOBAL__.ops_cached.$gwx_8);return __WXML_GLOBAL__.ops_cached.$gwx_8
}
function gz$gwx_9(){
if( __WXML_GLOBAL__.ops_cached.$gwx_9)return __WXML_GLOBAL__.ops_cached.$gwx_9
__WXML_GLOBAL__.ops_cached.$gwx_9=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showAddressLayerFlag']])
Z([a,[3,'layout '],[[2,'?:'],[[7],[3,'isDIYLayout']],[1,'diy_layout'],[1,'popup_layout']]])
Z([[2,'!'],[[7],[3,'isDIYLayout']]])
Z([[7],[3,'isShowAddrLayer']])
Z([[7],[3,'isShowAddrPicker']])
Z([a,[3,'wrap address-picker '],[[2,'?:'],[[7],[3,'showOverseaTabBar']],[1,'picker_ui2'],[1,'picker_ui1']],[3,' '],[[2,'?:'],[[7],[3,'showAnim']],[1,'show'],[1,'']]])
Z([[7],[3,'showOverseaTabBar']])
Z([3,'address-picker_tabs'])
Z([[6],[[7],[3,'selectedNameList']],[[7],[3,'addrType']]])
Z([3,'*this'])
Z([[2,'||'],[[2,'||'],[[2,'!'],[[7],[3,'showOverseaTabBar']]],[[2,'!='],[[7],[3,'index']],[1,0]]],[[2,'=='],[[7],[3,'addrType']],[[6],[[7],[3,'ADDR_TYPE']],[3,'MIANLAND']]]])
Z([[2,'<'],[[6],[[6],[[7],[3,'selectedNameList']],[[7],[3,'addrType']]],[3,'length']],[1,4]])
Z([3,'noscroll'])
Z([3,'body'])
Z([[7],[3,'scrollTop']])
Z([[7],[3,'hasError']])
Z([[2,'&&'],[[7],[3,'showHotCitiesFlag']],[[6],[[7],[3,'hotsotcities']],[3,'length']]])
Z([[2,'&&'],[[2,'>'],[[7],[3,'allAreaBtnStartLevel']],[1,0]],[[2,'>='],[[2,'+'],[[7],[3,'activeLevel']],[1,1]],[[7],[3,'allAreaBtnStartLevel']]]])
Z(z[2])
})(__WXML_GLOBAL__.ops_cached.$gwx_9);return __WXML_GLOBAL__.ops_cached.$gwx_9
}
function gz$gwx_10(){
if( __WXML_GLOBAL__.ops_cached.$gwx_10)return __WXML_GLOBAL__.ops_cached.$gwx_10
__WXML_GLOBAL__.ops_cached.$gwx_10=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'!='],[[7],[3,'envCode']],[1,7]],[[2,'!'],[[7],[3,'isExit']]]])
Z([a,[3,'components-box '],[[2,'?:'],[[7],[3,'isClose']],[1,'out'],[1,'in']]])
Z([a,[3,'top:'],[[6],[[6],[[7],[3,'businessConfig']],[3,'style']],[3,'top']],[3,';z-index:'],[[6],[[6],[[7],[3,'businessConfig']],[3,'style']],[3,'zIndex']],[3,';position:'],[[6],[[6],[[7],[3,'businessConfig']],[3,'style']],[3,'position']],[3,';']])
Z([[7],[3,'isQuota']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isQuota']]],[[7],[3,'isXCX']]])
Z([[7],[3,'launchConfig']])
Z([3,'launch-pgapp'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isQuota']]],[[2,'!'],[[7],[3,'isXCX']]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_10);return __WXML_GLOBAL__.ops_cached.$gwx_10
}
function gz$gwx_11(){
if( __WXML_GLOBAL__.ops_cached.$gwx_11)return __WXML_GLOBAL__.ops_cached.$gwx_11
__WXML_GLOBAL__.ops_cached.$gwx_11=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShowWidget']])
})(__WXML_GLOBAL__.ops_cached.$gwx_11);return __WXML_GLOBAL__.ops_cached.$gwx_11
}
function gz$gwx_12(){
if( __WXML_GLOBAL__.ops_cached.$gwx_12)return __WXML_GLOBAL__.ops_cached.$gwx_12
__WXML_GLOBAL__.ops_cached.$gwx_12=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'bubble-message '],[[7],[3,'addClass']]])
Z([a,[3,'position: fixed; top: '],[[7],[3,'top']],[3,'px; z-index:'],[[7],[3,'zIndex']]])
Z([[2,'&&'],[[7],[3,'isShowBubbleMessage']],[[7],[3,'isNeedTriangle']]])
Z([[7],[3,'isShowBubbleMessage']])
Z([[7],[3,'isShowButton']])
})(__WXML_GLOBAL__.ops_cached.$gwx_12);return __WXML_GLOBAL__.ops_cached.$gwx_12
}
function gz$gwx_13(){
if( __WXML_GLOBAL__.ops_cached.$gwx_13)return __WXML_GLOBAL__.ops_cached.$gwx_13
__WXML_GLOBAL__.ops_cached.$gwx_13=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'canvas-share'])
Z(z[0])
Z([[7],[3,'isXCX']])
Z([[2,'||'],[[7],[3,'isJXApp']],[[7],[3,'isJDAPPshareXCX']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_13);return __WXML_GLOBAL__.ops_cached.$gwx_13
}
function gz$gwx_14(){
if( __WXML_GLOBAL__.ops_cached.$gwx_14)return __WXML_GLOBAL__.ops_cached.$gwx_14
__WXML_GLOBAL__.ops_cached.$gwx_14=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'&&'],[[7],[3,'isshow']],[[2,'||'],[[2,'=='],[[7],[3,'showtype']],[1,1]],[[2,'=='],[[7],[3,'showtype']],[1,2]]]],[[2,'>'],[[7],[3,'discount']],[1,0]]])
Z([a,[3,'horn '],[[2,'?:'],[[2,'&&'],[[7],[3,'hornData']],[[6],[[7],[3,'hornData']],[3,'location_isleft']]],[1,'left10'],[1,'right10']]])
Z([a,[3,'bottom:'],[[2,'||'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'hornData']],[[6],[[7],[3,'hornData']],[3,'bottom']]],[[2,'>='],[[6],[[7],[3,'hornData']],[3,'bottom']],[1,44]]],[[2,'<='],[[6],[[7],[3,'hornData']],[3,'bottom']],[1,880]]],[[6],[[7],[3,'hornData']],[3,'bottom']]],[1,200]],[3,'rpx;']])
Z([[2,'=='],[[7],[3,'showtype']],[1,1]])
Z([3,'jump'])
Z([3,'horn_got'])
Z([[2,'&&'],[[7],[3,'countDown']],[[2,'=='],[[6],[[7],[3,'countDown']],[3,'length']],[1,3]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_14);return __WXML_GLOBAL__.ops_cached.$gwx_14
}
function gz$gwx_15(){
if( __WXML_GLOBAL__.ops_cached.$gwx_15)return __WXML_GLOBAL__.ops_cached.$gwx_15
__WXML_GLOBAL__.ops_cached.$gwx_15=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[7],[3,'showBanner']],[[7],[3,'bannerPic']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_15);return __WXML_GLOBAL__.ops_cached.$gwx_15
}
function gz$gwx_16(){
if( __WXML_GLOBAL__.ops_cached.$gwx_16)return __WXML_GLOBAL__.ops_cached.$gwx_16
__WXML_GLOBAL__.ops_cached.$gwx_16=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_16);return __WXML_GLOBAL__.ops_cached.$gwx_16
}
function gz$gwx_17(){
if( __WXML_GLOBAL__.ops_cached.$gwx_17)return __WXML_GLOBAL__.ops_cached.$gwx_17
__WXML_GLOBAL__.ops_cached.$gwx_17=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'launch_pgapp'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'shareFromJdapp']]],[[7],[3,'showTopBar']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'shareFromJdapp']]],[[7],[3,'showBar']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'shareFromJdapp']]],[[7],[3,'showBottomBar']]])
Z([[2,'&&'],[[2,'=='],[[6],[[7],[3,'param']],[3,'downloadAppGuideType']],[1,2]],[[7],[3,'launchApp']]])
Z([[7],[3,'showKlCopyGuideToast']])
Z([3,'launch_pgapp_alert_content'])
Z([[7],[3,'klCopySuccess']])
Z([3,'main_tip'])
Z([[2,'&&'],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'param']],[3,'klCopyType']],[1,'-1']],[[6],[[7],[3,'param']],[3,'klCopySucText']]],[[2,'>'],[[6],[[6],[[7],[3,'param']],[3,'klCopySucText']],[3,'length']],[1,0]]])
Z([[2,'&&'],[[2,'!='],[[6],[[7],[3,'param']],[3,'klCopyType']],[1,'1']],[[2,'!='],[[6],[[7],[3,'param']],[3,'klCopyType']],[1,'2']]])
Z([[6],[[7],[3,'param']],[3,'klCopyTitle']])
})(__WXML_GLOBAL__.ops_cached.$gwx_17);return __WXML_GLOBAL__.ops_cached.$gwx_17
}
function gz$gwx_18(){
if( __WXML_GLOBAL__.ops_cached.$gwx_18)return __WXML_GLOBAL__.ops_cached.$gwx_18
__WXML_GLOBAL__.ops_cached.$gwx_18=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isShowLayer']])
Z([3,'mask-container'])
Z([[7],[3,'isShowAuthInfo']])
Z([3,'auth-info-layer'])
Z([[2,'!'],[[7],[3,'isHideCloseLayerButton']]])
Z(z[4])
Z([3,'auth-info-layer__header'])
Z([[2,'!'],[[7],[3,'IS_JING_XI_APP']]])
Z([[7],[3,'IS_JING_XI_APP']])
Z([[7],[3,'isShowLoginGuide']])
Z([3,'login-guide-layer'])
Z(z[4])
Z(z[4])
Z([3,'login-guide-layer__header'])
Z(z[7])
Z(z[8])
})(__WXML_GLOBAL__.ops_cached.$gwx_18);return __WXML_GLOBAL__.ops_cached.$gwx_18
}
function gz$gwx_19(){
if( __WXML_GLOBAL__.ops_cached.$gwx_19)return __WXML_GLOBAL__.ops_cached.$gwx_19
__WXML_GLOBAL__.ops_cached.$gwx_19=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'touchEndFn'])
Z([3,'moveFn'])
Z([3,'touchStartFn'])
Z([3,'weixinBehavior'])
})(__WXML_GLOBAL__.ops_cached.$gwx_19);return __WXML_GLOBAL__.ops_cached.$gwx_19
}
function gz$gwx_20(){
if( __WXML_GLOBAL__.ops_cached.$gwx_20)return __WXML_GLOBAL__.ops_cached.$gwx_20
__WXML_GLOBAL__.ops_cached.$gwx_20=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isSupportNav']])
Z([3,'nav-bar'])
Z([a,[3,'height: '],[[7],[3,'navHeight']],[3,'px;']])
Z([3,'onHideMenu'])
Z([3,'nav-bar__container__main-content'])
Z([a,[3,'margin-right:'],[[7],[3,'mainContentMargin']],[3,'px;max-width: '],[[7],[3,'mainContentWidth']],[3,'px;height: '],[[7],[3,'containerHeight']],[3,'px;opacity: '],[[6],[[7],[3,'navBarData']],[3,'mainContentOpacity']],[3,';']])
Z([[2,'!'],[[6],[[7],[3,'navBarData']],[3,'isCustom']]])
Z([[7],[3,'isShowHorn']])
Z([[7],[3,'hornData']])
Z([[7],[3,'isShowBubbleMessage']])
Z([3,'onBubbleMessageClick'])
Z([3,'onBubbleMessageHide'])
Z([[7],[3,'bubbleMessageData']])
Z([[7],[3,'isShowModal']])
Z([3,'nav-bar__modal'])
Z([[2,'==='],[[6],[[7],[3,'modalData']],[3,'type']],[1,'success']])
Z([[2,'==='],[[6],[[7],[3,'modalData']],[3,'type']],[1,'hasCoupon']])
Z([[2,'==='],[[6],[[7],[3,'modalData']],[3,'type']],[1,'error']])
})(__WXML_GLOBAL__.ops_cached.$gwx_20);return __WXML_GLOBAL__.ops_cached.$gwx_20
}
function gz$gwx_21(){
if( __WXML_GLOBAL__.ops_cached.$gwx_21)return __WXML_GLOBAL__.ops_cached.$gwx_21
__WXML_GLOBAL__.ops_cached.$gwx_21=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'options']],[3,'show']])
Z([3,'noscroll'])
Z([a,[3,'popup quick-clear '],[[2,'?:'],[[6],[[7],[3,'options']],[3,'show']],[1,'show'],[1,'']],[3,' '],[[2,'?:'],[[2,'||'],[[7],[3,'loading']],[[7],[3,'hasError']]],[1,'loading'],[1,'']],[3,' ']])
Z([a,[3,'popup__wrap '],[[2,'?:'],[[7],[3,'isTabCartPage']],[1,'for_tab_index'],[1,'']]])
Z([3,'popup__body'])
Z([[7],[3,'hasError']])
Z([[7],[3,'groups']])
Z([3,'key'])
Z([3,'product'])
Z([[6],[[7],[3,'item']],[3,'products']])
Z([3,'wxKey'])
Z([3,'select'])
Z([3,'good'])
Z([[6],[[7],[3,'product']],[3,'id']])
Z([[6],[[7],[3,'item']],[3,'key']])
Z([[2,'!'],[[2,'!'],[[6],[[6],[[7],[3,'selections']],[[6],[[7],[3,'item']],[3,'key']]],[[6],[[7],[3,'product']],[3,'id']]]]])
Z([[2,'=='],[[6],[[7],[3,'product']],[3,'itemType']],[1,4]])
Z([[2,'!'],[[7],[3,'hasError']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_21);return __WXML_GLOBAL__.ops_cached.$gwx_21
}
function gz$gwx_22(){
if( __WXML_GLOBAL__.ops_cached.$gwx_22)return __WXML_GLOBAL__.ops_cached.$gwx_22
__WXML_GLOBAL__.ops_cached.$gwx_22=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showModule']])
})(__WXML_GLOBAL__.ops_cached.$gwx_22);return __WXML_GLOBAL__.ops_cached.$gwx_22
}
function gz$gwx_23(){
if( __WXML_GLOBAL__.ops_cached.$gwx_23)return __WXML_GLOBAL__.ops_cached.$gwx_23
__WXML_GLOBAL__.ops_cached.$gwx_23=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'||'],[[2,'&&'],[[7],[3,'enableWaterfallFlow']],[[2,'||'],[[2,'&&'],[[7],[3,'leftList']],[[6],[[7],[3,'leftList']],[3,'length']]],[[2,'&&'],[[7],[3,'rightlist']],[[6],[[7],[3,'rightlist']],[3,'length']]]]],[[2,'&&'],[[7],[3,'list']],[[6],[[7],[3,'list']],[3,'length']]]])
Z([3,'mod_recommend'])
Z([[7],[3,'hidden']])
Z([[2,'&&'],[[7],[3,'title']],[[2,'!='],[[6],[[7],[3,'options']],[3,'uiType']],[1,1]]])
Z([[2,'!'],[[7],[3,'enableWaterfallFlow']]])
Z([[7],[3,'list']])
Z([3,'sku'])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[8],'item',[[7],[3,'item']]],[[8],'index',[[6],[[7],[3,'item']],[3,'index']]]],[[8],'actualIndex',[[7],[3,'index']]]],[[8],'hasBorderLeft',[[2,'!='],[[2,'%'],[[7],[3,'index']],[1,2]],[1,0]]]],[[8],'isLast',[[2,'=='],[[2,'-'],[[6],[[7],[3,'list']],[3,'length']],[1,1]],[[7],[3,'index']]]]],[[8],'enableWaterfallFlow',[[7],[3,'enableWaterfallFlow']]]],[[8],'enableAdd2Cart',[[7],[3,'enableAdd2Cart']]]],[[8],'curMoreIndex',[[7],[3,'curMoreIndex']]]],[[8],'similarBtn',[[7],[3,'similarBtn']]]],[[8],'markBtns',[[7],[3,'markBtns']]]],[[8],'plusImg',[[7],[3,'plusImg']]]],[[8],'cornerMark',[[7],[3,'cornerMark']]]],[[8],'cwidth',[[7],[3,'cwidth']]]],[[8],'cheight',[[7],[3,'cheight']]]],[[8],'showHaitunGlobal',[[7],[3,'showHaitunGlobal']]]],[[8],'iconList',[[7],[3,'iconList']]]])
Z([3,'product'])
Z([3,'mod_recommend_list'])
Z([[7],[3,'leftList']])
Z(z[6])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[8],'item',[[7],[3,'item']]],[[8],'index',[[6],[[7],[3,'item']],[3,'index']]]],[[8],'actualIndex',[[7],[3,'index']]]],[[8],'isLast',[[2,'=='],[[2,'-'],[[6],[[7],[3,'leftList']],[3,'length']],[1,1]],[[7],[3,'index']]]]],[[8],'isLeft',[1,1]]],[[8],'enableAdd2Cart',[[7],[3,'enableAdd2Cart']]]],[[8],'enableWaterfallFlow',[[7],[3,'enableWaterfallFlow']]]],[[8],'curMoreIndex',[[7],[3,'curMoreIndex']]]],[[8],'similarBtn',[[7],[3,'similarBtn']]]],[[8],'markBtns',[[7],[3,'markBtns']]]],[[8],'plusImg',[[7],[3,'plusImg']]]],[[8],'cornerMark',[[7],[3,'cornerMark']]]],[[8],'cwidth',[[7],[3,'cwidth']]]],[[8],'cheight',[[7],[3,'cheight']]]],[[8],'showHaitunGlobal',[[7],[3,'showHaitunGlobal']]]],[[8],'iconList',[[7],[3,'iconList']]]])
Z(z[8])
Z([[7],[3,'rightList']])
Z(z[6])
Z([[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[9],[[8],'item',[[7],[3,'item']]],[[8],'index',[[6],[[7],[3,'item']],[3,'index']]]],[[8],'actualIndex',[[7],[3,'index']]]],[[8],'isLast',[[2,'=='],[[2,'-'],[[6],[[7],[3,'rightList']],[3,'length']],[1,1]],[[7],[3,'index']]]]],[[8],'isLeft',[1,0]]],[[8],'enableAdd2Cart',[[7],[3,'enableAdd2Cart']]]],[[8],'enableWaterfallFlow',[[7],[3,'enableWaterfallFlow']]]],[[8],'curMoreIndex',[[7],[3,'curMoreIndex']]]],[[8],'similarBtn',[[7],[3,'similarBtn']]]],[[8],'markBtns',[[7],[3,'markBtns']]]],[[8],'plusImg',[[7],[3,'plusImg']]]],[[8],'cornerMark',[[7],[3,'cornerMark']]]],[[8],'cwidth',[[7],[3,'cwidth']]]],[[8],'cheight',[[7],[3,'cheight']]]],[[8],'showHaitunGlobal',[[7],[3,'showHaitunGlobal']]]],[[8],'iconList',[[7],[3,'iconList']]]])
Z(z[8])
Z([[10],[[7],[3,'toast']]])
Z([3,'toast'])
Z(z[8])
Z([3,'gotoDetails'])
Z([a,[3,'mod_recommend_list_item '],[[2,'?:'],[[2,'=='],[[6],[[7],[3,'item']],[3,'source']],[1,1]],[1,'mod_item_scoure1'],[1,'']],[3,'  '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'img']],[1,''],[1,'lazy']],[3,' '],[[2,'?:'],[[7],[3,'isLast']],[1,'last'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'hasBorderLeft']],[1,'odd_border'],[1,'']],[3,' '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'isTopic']],[1,'gray_bg'],[1,'']],[3,' '],[[2,'?:'],[[2,'&&'],[[2,'&&'],[[2,'=='],[[7],[3,'enableAdd2Cart']],[1,2]],[[7],[3,'similarBtn']]],[[6],[[7],[3,'similarBtn']],[3,'buttonText']]],[1,'simicls'],[1,'']]])
Z([[7],[3,'actualIndex']])
Z([[7],[3,'index']])
Z([[7],[3,'isLeft']])
Z([a,[3,'gyl_sku_'],[[6],[[7],[3,'item']],[3,'sku']]])
Z([[6],[[7],[3,'item']],[3,'isTopic']])
Z([[8],'item',[[7],[3,'item']]])
Z([3,'topicTpl'])
Z([[6],[[7],[3,'item']],[3,'isKeyWord']])
Z(z[28])
Z([3,'keyWordsTpl'])
Z([3,'mrli_cover'])
Z([[6],[[7],[3,'item']],[3,'presellyd']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'reserve']],[1,1]])
Z([[6],[[6],[[7],[3,'item']],[3,'psp']],[3,'tp']])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'psp']],[3,'tp']],[3,'date']])
Z([[2,'&&'],[[2,'&&'],[[2,'=='],[[7],[3,'enableAdd2Cart']],[1,2]],[[7],[3,'markBtns']]],[[6],[[7],[3,'markBtns']],[3,'length']]])
Z([3,'mrli_info'])
Z([3,'mrli_info_name'])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'item']],[3,'prom']],[1,1]],[[7],[3,'cornerMark']]],[[7],[3,'cwidth']]],[[7],[3,'cheight']]])
Z([[2,'&&'],[[2,'&&'],[[2,'!='],[[6],[[7],[3,'item']],[3,'icon']],[1,0]],[[6],[[7],[3,'iconList']],[[6],[[7],[3,'item']],[3,'icon']]]],[[6],[[6],[[7],[3,'iconList']],[[6],[[7],[3,'item']],[3,'icon']]],[3,'imgSrc']]])
Z([3,'pro_info'])
Z([[2,'?:'],[[6],[[7],[3,'item']],[3,'hasClsDoublePrice']],[1,'flex_wrap price_max_heigth'],[1,'']])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'jpnonshow']],[1,1]])
Z([[2,'<='],[[2,'||'],[[2,'*'],[[6],[[6],[[7],[3,'prices']],[[6],[[7],[3,'item']],[3,'sku']]],[3,'price']],[1,1]],[[6],[[7],[3,'item']],[3,'jp']]],[[2,'-'],[1,1]]])
Z([3,'mrli_info_price'])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'dpicon']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'dpicon']],[3,'icon']],[1,'4']]])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'item']],[3,'paicon']],[[2,'!='],[[6],[[7],[3,'item']],[3,'paicon']],[1,0]]],[[2,'!='],[[6],[[7],[3,'item']],[3,'paicon']],[1,6]]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'dpicon']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'dpicon']],[3,'icon']],[1,'2']]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'dpicon']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'dpicon']],[3,'icon']],[1,'7']]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'dpicon']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'dpicon']],[3,'icon']],[1,'5']]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'paicon']],[1,'6']])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'dpicon']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'dpicon']],[3,'icon']],[1,'3']]])
Z([[2,'&&'],[[6],[[7],[3,'item']],[3,'dpicon']],[[2,'=='],[[6],[[6],[[7],[3,'item']],[3,'dpicon']],[3,'icon']],[1,'6']]])
Z([[2,'=='],[[7],[3,'enableAdd2Cart']],[1,1]])
Z([[2,'&&'],[[2,'&&'],[[2,'=='],[[7],[3,'enableAdd2Cart']],[1,2]],[[7],[3,'similarBtn']]],[[6],[[7],[3,'similarBtn']],[3,'buttonText']]])
Z([[2,'&&'],[[7],[3,'enableWaterfallFlow']],[[6],[[7],[3,'item']],[3,'tip']]])
Z([[2,'=='],[[7],[3,'index']],[[7],[3,'curMoreIndex']]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'source']],[1,1]])
Z(z[29])
Z(z[32])
Z([3,'doAction'])
Z([3,'words'])
Z([[6],[[7],[3,'item']],[3,'keyIndex']])
Z([[6],[[7],[3,'item']],[3,'title']])
Z([3,'bubble'])
Z([3,'words_list'])
Z([3,'it'])
Z([[6],[[7],[3,'item']],[3,'list']])
Z([3,'wordid'])
Z([[6],[[7],[3,'it']],[3,'word']])
})(__WXML_GLOBAL__.ops_cached.$gwx_23);return __WXML_GLOBAL__.ops_cached.$gwx_23
}
function gz$gwx_24(){
if( __WXML_GLOBAL__.ops_cached.$gwx_24)return __WXML_GLOBAL__.ops_cached.$gwx_24
__WXML_GLOBAL__.ops_cached.$gwx_24=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_24);return __WXML_GLOBAL__.ops_cached.$gwx_24
}
function gz$gwx_25(){
if( __WXML_GLOBAL__.ops_cached.$gwx_25)return __WXML_GLOBAL__.ops_cached.$gwx_25
__WXML_GLOBAL__.ops_cached.$gwx_25=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onTap'])
Z([3,'searchbar-box'])
Z([[7],[3,'cssStyle']])
Z([[7],[3,'icon']])
})(__WXML_GLOBAL__.ops_cached.$gwx_25);return __WXML_GLOBAL__.ops_cached.$gwx_25
}
function gz$gwx_26(){
if( __WXML_GLOBAL__.ops_cached.$gwx_26)return __WXML_GLOBAL__.ops_cached.$gwx_26
__WXML_GLOBAL__.ops_cached.$gwx_26=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'noscroll'])
Z([a,[3,'sku-layer pingou_style '],[[2,'?:'],[[7],[3,'isPingouApp']],[1,'pgxcx'],[1,'']]])
Z([a,[3,'popup__main '],[[2,'?:'],[[2,'&&'],[[7],[3,'isShowPopup']],[[7],[3,'isShowPopupAnim']]],[1,'show'],[1,'']]])
Z([[2,'!'],[[7],[3,'isShowPopup']]])
Z([3,'sku-layer__header'])
Z([3,'handlePreviewImage'])
Z([3,'sku-layer__header-img'])
Z([[6],[[7],[3,'info']],[3,'cover']])
Z([3,'sku-layer__header-info'])
Z([[2,'&&'],[[6],[[7],[3,'info']],[3,'isPingou']],[[2,'!='],[[6],[[7],[3,'othersData']],[3,'buyType']],[1,1]]])
Z([3,'sku-layer__header-price adaption_color_red'])
Z([[6],[[6],[[7],[3,'info']],[3,'pingouInfo']],[3,'active_info']])
Z([[6],[[6],[[7],[3,'info']],[3,'pingouInfo']],[3,'fanxianAmount']])
Z([[6],[[7],[3,'info']],[3,'price']])
Z([[6],[[7],[3,'info']],[3,'extraPriceFlag']])
Z(z[9])
Z([3,'sku-layer__content-container'])
Z([3,'sku-layer__panel'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'hideSkuSwitch']]],[[2,'||'],[[6],[[7],[3,'skuProps']],[3,'length']],[[6],[[7],[3,'info']],[3,'text']]]])
Z([3,'index'])
Z([3,'skuProp'])
Z([[7],[3,'skuProps']])
Z([3,'name'])
Z([[2,'>='],[[6],[[6],[[7],[3,'skuProp']],[3,'value']],[3,'length']],[1,1]])
Z([3,'idx'])
Z([[6],[[7],[3,'skuProp']],[3,'value']])
Z([3,'*this'])
Z([[7],[3,'item']])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'isCart']]],[[6],[[7],[3,'info']],[3,'poolList']]],[[6],[[6],[[7],[3,'info']],[3,'poolList']],[3,'length']]])
Z([3,'gotoGiftList'])
Z([3,'gift-pool__list'])
Z([3,'/pages/item/subPackages/pages/giftPool/giftPool'])
Z([[6],[[7],[3,'info']],[3,'poolFlag']])
Z(z[24])
Z([[6],[[6],[[6],[[7],[3,'info']],[3,'poolList']],[1,0]],[3,'selectedArr']])
Z([[2,'<'],[[7],[3,'idx']],[1,4]])
Z([3,'gift-pool__images'])
Z(z[24])
Z([[2,'>'],[[6],[[7],[3,'item']],[3,'num']],[1,1]])
Z([[2,'=='],[[7],[3,'idx']],[1,4]])
Z([[2,'>'],[[6],[[6],[[7],[3,'info']],[3,'poolList']],[3,'length']],[1,4]])
Z([[7],[3,'showNumController']])
Z([[2,'>'],[[6],[[6],[[7],[3,'info']],[3,'stock']],[3,'rn']],[1,0]])
Z([[7],[3,'isLoading']])
Z([[7],[3,'isShowPopup']])
Z([[7],[3,'areaId']])
Z([3,'updateAddedServices'])
Z([[6],[[7],[3,'info']],[3,'brandId']])
Z([[6],[[7],[3,'info']],[3,'category']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'needClearInitAddedServices']]],[[7],[3,'initAddedServices']]])
Z([[2,'&&'],[[7],[3,'isSupportGift']],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isSupportCard']],[1,'1']]])
Z(z[13])
Z([[6],[[7],[3,'info']],[3,'skuId']])
Z([[7],[3,'showActions']])
Z([[2,'&&'],[[6],[[7],[3,'info']],[3,'isPingou']],[[2,'||'],[[2,'=='],[[6],[[7],[3,'othersData']],[3,'buyType']],[1,0]],[[2,'=='],[[7],[3,'sceneType']],[1,'detail']]]])
Z([[2,'&&'],[[6],[[7],[3,'info']],[3,'pingouInfo']],[[6],[[6],[[7],[3,'info']],[3,'pingouInfo']],[3,'price']]])
Z([3,'handleStartTuan'])
Z([a,[3,'btn btn-buy btn-cart--pingou '],[[2,'?:'],[[2,'&&'],[[6],[[7],[3,'info']],[3,'canBuy']],[[2,'!'],[[6],[[6],[[7],[3,'info']],[3,'pingouInfo']],[3,'cannotBuy']]]],[1,''],[1,'disabled']]])
Z([3,'1'])
Z([[6],[[6],[[7],[3,'info']],[3,'pingouInfo']],[3,'price']])
Z([[6],[[6],[[7],[3,'info']],[3,'pingouInfo']],[3,'isNewerTuan']])
Z([[2,'||'],[[2,'!'],[[6],[[7],[3,'info']],[3,'isPingou']]],[[2,'&&'],[[2,'!'],[[7],[3,'isPingouApp']]],[[2,'=='],[[6],[[7],[3,'othersData']],[3,'buyType']],[1,1]]]])
Z([3,'sku-layer__btn'])
Z([[2,'||'],[[6],[[7],[3,'info']],[3,'buyingSpreeFlag']],[[6],[[7],[3,'info']],[3,'subscribeFlag']]])
Z([[2,'||'],[[2,'&&'],[[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'text']],[[2,'!='],[[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'method']],[1,'buy']]],[[2,'&&'],[[2,'&&'],[[2,'&&'],[[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'sellWhilePresell']],[[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'prevPrice']]],[[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'price']]],[[6],[[7],[3,'info']],[3,'canBuy']]]])
Z([3,'method0'])
Z([a,[3,'btn btn-cart '],[[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'style']]])
Z([[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'enable']])
Z([[6],[[6],[[7],[3,'bottomBtn']],[1,0]],[3,'sellWhilePresell']])
Z([[6],[[6],[[7],[3,'bottomBtn']],[1,1]],[3,'text']])
Z([3,'method1'])
Z([3,'wx-form'])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[6],[[6],[[7],[3,'bottomBtn']],[1,1]],[3,'sellWhilePresell']],[[6],[[6],[[7],[3,'bottomBtn']],[1,1]],[3,'prevPrice']]],[[6],[[6],[[7],[3,'bottomBtn']],[1,1]],[3,'price']]],[[6],[[7],[3,'info']],[3,'canBuy']]])
Z([[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'stock']],[3,'StockState']],[1,0]],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'stock']],[3,'StockState']],[1,34]]])
Z([[2,'=='],[[6],[[7],[3,'info']],[3,'warestatus']],[1,'1']])
Z([[2,'||'],[[2,'==='],[[6],[[7],[3,'info']],[3,'canBuy']],[1,false]],[[2,'!'],[[6],[[7],[3,'info']],[3,'skuId']]]])
Z([[2,'!'],[[6],[[7],[3,'info']],[3,'isECardOnce']]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'showGwfx']],[[6],[[7],[3,'info']],[3,'gwfxInfo']]],[[6],[[6],[[7],[3,'info']],[3,'gwfxInfo']],[3,'returnMoney']]])
Z([[6],[[7],[3,'info']],[3,'isJMa']])
Z([[7],[3,'isSubscribeCar']])
Z([[2,'&&'],[[2,'==='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isLOC']],[1,'1']],[[2,'!'],[[7],[3,'isOfflineHasShop']]]])
Z([[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isFlimPrint']])
Z([[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isFlimPrint']],[1,'2']],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isFlimPrint']],[1,'3']]])
Z([[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isFlimPrint']],[1,'1']],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'isFlimPrint']],[1,'3']]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'saleAtmos']],[[6],[[7],[3,'saleAtmos']],[3,'ppmsItemId']]],[[2,'!'],[[6],[[7],[3,'info']],[3,'isJX']]]])
Z([3,'doBuy'])
Z([a,[3,'btn btn-buy '],[[2,'?:'],[[6],[[7],[3,'info']],[3,'isJX']],[1,'btn-buy--jx'],[1,'']]])
Z([[2,'+'],[1,'background: '],[[6],[[7],[3,'saleAtmos']],[3,'buyBtnColor']]])
Z(z[77])
Z([[2,'!'],[[7],[3,'isECardOnce']]])
Z([3,'buy'])
Z([a,z[86][1],[[2,'?:'],[[2,'||'],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'ysp']],[1,'1']],[[2,'=='],[[6],[[6],[[7],[3,'info']],[3,'spAttr']],[3,'ysp']],[1,'3']]],[1,'btn-buy--ysp'],[1,'']],[3,' '],z[86][2]])
Z(z[77])
Z([[10],[[7],[3,'toast']]])
Z([3,'toast'])
})(__WXML_GLOBAL__.ops_cached.$gwx_26);return __WXML_GLOBAL__.ops_cached.$gwx_26
}
function gz$gwx_27(){
if( __WXML_GLOBAL__.ops_cached.$gwx_27)return __WXML_GLOBAL__.ops_cached.$gwx_27
__WXML_GLOBAL__.ops_cached.$gwx_27=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'sku-services_wrap'])
Z([[2,'&&'],[[7],[3,'show']],[[7],[3,'loading']]])
Z([[7],[3,'hasError']])
Z([[2,'&&'],[[6],[[7],[3,'options']],[3,'ext']],[[2,'>'],[[6],[[6],[[7],[3,'options']],[3,'ext']],[3,'length']],[1,0]]])
Z([3,'groupIndex'])
Z([3,'group'])
Z([[6],[[7],[3,'options']],[3,'ext']])
Z([3,'name'])
Z([[6],[[7],[3,'group']],[3,'list']])
Z([3,'id'])
Z([3,'onCheck'])
Z([a,[3,'services_group_list_item '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'checked']],[1,'checked'],[1,'']],[3,' '],[[2,'?:'],[[2,'==='],[[6],[[6],[[7],[3,'tabs']],[[7],[3,'grpIndex']]],[3,'type']],[1,'gift_service']],[1,'gift'],[1,'']]])
Z([[7],[3,'groupIndex']])
Z([[6],[[7],[3,'item']],[3,'id']])
Z([3,'ext'])
Z([3,'service_header'])
Z([[6],[[7],[3,'item']],[3,'isFavor']])
Z([[6],[[7],[3,'item']],[3,'tag']])
Z([[6],[[7],[3,'item']],[3,'desc']])
Z([[2,'&&'],[[6],[[7],[3,'options']],[3,'jd']],[[2,'>'],[[6],[[6],[[7],[3,'options']],[3,'jd']],[3,'length']],[1,0]]])
Z(z[4])
Z(z[5])
Z([[6],[[7],[3,'options']],[3,'jd']])
Z(z[7])
Z(z[8])
Z(z[9])
Z(z[10])
Z([a,z[11][1],z[11][2],z[11][3],z[11][4]])
Z(z[12])
Z(z[13])
Z([3,'jd'])
Z(z[15])
Z(z[16])
Z(z[17])
Z(z[18])
Z([[2,'&&'],[[6],[[7],[3,'options']],[3,'gift']],[[2,'>'],[[6],[[6],[[7],[3,'options']],[3,'gift']],[3,'length']],[1,0]]])
Z(z[4])
Z(z[5])
Z([[6],[[7],[3,'options']],[3,'gift']])
Z(z[7])
Z(z[8])
Z(z[9])
Z(z[10])
Z([a,z[11][1],z[11][2],[3,' \x27gift\x27}}']])
Z(z[12])
Z(z[13])
Z([3,'gift'])
Z(z[15])
Z(z[16])
Z(z[17])
Z(z[18])
Z([[6],[[7],[3,'item']],[3,'image']])
})(__WXML_GLOBAL__.ops_cached.$gwx_27);return __WXML_GLOBAL__.ops_cached.$gwx_27
}
function gz$gwx_28(){
if( __WXML_GLOBAL__.ops_cached.$gwx_28)return __WXML_GLOBAL__.ops_cached.$gwx_28
__WXML_GLOBAL__.ops_cached.$gwx_28=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onChange'])
Z([3,'onTouchEnd'])
Z([3,'slider_view_content'])
Z([3,'100'])
Z([3,'horizontal'])
Z([[7],[3,'disabled']])
Z([[7],[3,'x']])
Z([3,'slider_view_button'])
Z([a,[3,'width:'],[[7],[3,'moveMax']],[3,'rpx;right:-'],[[7],[3,'moveMax']],[3,'rpx;']])
Z([[7],[3,'showFavBtn']])
Z([[7],[3,'showRemoveBtn']])
})(__WXML_GLOBAL__.ops_cached.$gwx_28);return __WXML_GLOBAL__.ops_cached.$gwx_28
}
function gz$gwx_29(){
if( __WXML_GLOBAL__.ops_cached.$gwx_29)return __WXML_GLOBAL__.ops_cached.$gwx_29
__WXML_GLOBAL__.ops_cached.$gwx_29=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'props']],[3,'show']])
Z([[2,'!'],[[6],[[7],[3,'props']],[3,'titleDisable']]])
Z([[6],[[7],[3,'props']],[3,'titleIcon']])
Z([[6],[[7],[3,'props']],[3,'guide2Setting']])
})(__WXML_GLOBAL__.ops_cached.$gwx_29);return __WXML_GLOBAL__.ops_cached.$gwx_29
}
function gz$gwx_30(){
if( __WXML_GLOBAL__.ops_cached.$gwx_30)return __WXML_GLOBAL__.ops_cached.$gwx_30
__WXML_GLOBAL__.ops_cached.$gwx_30=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'value']])
})(__WXML_GLOBAL__.ops_cached.$gwx_30);return __WXML_GLOBAL__.ops_cached.$gwx_30
}
function gz$gwx_31(){
if( __WXML_GLOBAL__.ops_cached.$gwx_31)return __WXML_GLOBAL__.ops_cached.$gwx_31
__WXML_GLOBAL__.ops_cached.$gwx_31=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[10],[[7],[3,'toast']]])
Z([3,'toast'])
Z([[10],[[7],[3,'modal']]])
Z([3,'modal'])
Z([[8],'msgbox',[[7],[3,'msgbox']]])
Z([3,'tplMessageBox'])
})(__WXML_GLOBAL__.ops_cached.$gwx_31);return __WXML_GLOBAL__.ops_cached.$gwx_31
}
function gz$gwx_32(){
if( __WXML_GLOBAL__.ops_cached.$gwx_32)return __WXML_GLOBAL__.ops_cached.$gwx_32
__WXML_GLOBAL__.ops_cached.$gwx_32=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[10],[[7],[3,'toast']]])
Z([3,'toast'])
Z([[10],[[7],[3,'modal']]])
Z([3,'modal'])
Z([[8],'msgbox',[[7],[3,'msgbox']]])
Z([3,'tplMessageBox'])
})(__WXML_GLOBAL__.ops_cached.$gwx_32);return __WXML_GLOBAL__.ops_cached.$gwx_32
}
function gz$gwx_33(){
if( __WXML_GLOBAL__.ops_cached.$gwx_33)return __WXML_GLOBAL__.ops_cached.$gwx_33
__WXML_GLOBAL__.ops_cached.$gwx_33=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[6],[[7],[3,'navBarData']],[3,'pageKey']])
Z([3,'setNavInfo'])
Z([[7],[3,'navBarData']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'navHeight']]],[[7],[3,'showQuickNav']]])
Z([3,'145'])
Z([3,'quickNav'])
Z([3,'cart'])
Z([[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'viewLoaded']])
Z([3,'onPullRefreshClose'])
Z([3,'onPullRefresh'])
Z([3,'onPullRefreshOpen'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'editable']]],[[2,'!'],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'loading']]]])
Z([[2,'?:'],[[2,'>'],[[7],[3,'navTitleHeight']],[1,0]],[[7],[3,'navTitleHeight']],[1,44]])
Z([3,'pullrefresh'])
Z([[7],[3,'navStatusBartHeight']])
Z([3,'onPageScroll'])
Z([3,'onPageTouchEnd'])
Z([3,'onPageTouchMove'])
Z([3,'onPageTouchStart'])
Z(z[16])
Z(z[17])
Z(z[18])
Z([a,[3,'wrapper '],[[7],[3,'theme']]])
Z([[7],[3,'addrFixed']])
Z([[7],[3,'address']])
Z([3,'onReceiveCartfresh'])
Z([3,'showSwitchAddressPanel'])
Z([3,'toggleEditMode'])
Z([[7],[3,'curCartType']])
Z([[7],[3,'editable']])
Z([[2,'||'],[[7],[3,'noLogin']],[[2,'!'],[[6],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'venders']],[3,'length']]]])
Z([3,'topbar'])
Z([[2,'<='],[[6],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'venders']],[3,'length']],[1,0]])
Z([[7],[3,'navHeight']])
Z([[2,'=='],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'isJth']],[1,1]])
Z(z[22][2])
Z([[2,'&&'],[[7],[3,'showBanner']],[[2,'!'],[[7],[3,'editable']]]])
Z([3,'banner'])
Z([3,'jd_cart_banner'])
Z([3,'cartType'])
Z(z[6])
Z([[7],[3,'cartData']])
Z(z[39])
Z([3,'vender'])
Z([[6],[[7],[3,'cart']],[3,'venders']])
Z([3,'vid'])
Z([[2,'&&'],[[2,'!'],[[7],[3,'noLogin']]],[[7],[3,'cart']]])
Z([3,'doAction'])
Z(z[43])
Z([[6],[[7],[3,'vender']],[3,'vid']])
Z(z[49])
Z([[6],[[7],[3,'vender']],[3,'type']])
Z([[2,'!='],[[7],[3,'cartType']],[[7],[3,'curCartType']]])
Z([3,'vender_header_btns'])
Z([[2,'&&'],[[6],[[6],[[6],[[7],[3,'cart']],[3,'freightCoudan']],[3,'zy']],[3,'statu']],[[2,'||'],[[2,'=='],[[6],[[7],[3,'vender']],[3,'vid']],[1,8888]],[[2,'=='],[[6],[[7],[3,'vender']],[3,'vid']],[1,1000076153]]]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'editable']]],[[2,'!='],[[6],[[7],[3,'vender']],[3,'vid']],[1,1000076153]]],[[12],[[6],[[7],[3,'utils']],[3,'isShowCoudanBtn']],[[5],[[6],[[6],[[7],[3,'cart']],[3,'freightCoudan']],[3,'category']]]]])
Z([[2,'&&'],[[6],[[6],[[6],[[7],[3,'cart']],[3,'freightCoudan']],[3,'fbp']],[3,'statu']],[[12],[[6],[[7],[3,'utils']],[3,'showFbpTip']],[[5],[[5],[[6],[[7],[3,'vender']],[3,'fbpVender']]],[[6],[[7],[3,'vender']],[3,'vid']]]]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'editable']]],[[2,'>'],[[6],[[7],[3,'vender']],[3,'hasCoupon']],[1,0]]])
Z([[2,'&&'],[[6],[[6],[[7],[3,'cart']],[3,'freightCoudan']],[3,'fbpTip']],[[12],[[6],[[7],[3,'utils']],[3,'showFbpTip']],[[5],[[5],[[6],[[7],[3,'vender']],[3,'fbpVender']]],[[6],[[7],[3,'vender']],[3,'vid']]]]])
Z([[6],[[7],[3,'vender']],[3,'list']])
Z([3,'itemId'])
Z([a,[3,'vender_goods_group '],[[2,'?:'],[[2,'<='],[[7],[3,'index']],[1,0]],[1,'first'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'promoteFlag']])
Z([[2,'!'],[[7],[3,'editable']]])
Z([3,'product'])
Z([[6],[[7],[3,'item']],[3,'manGiftSkus']])
Z([3,'id'])
Z(z[47])
Z([[7],[3,'cartType']])
Z(z[29])
Z([[6],[[7],[3,'item']],[3,'itemId']])
Z([[7],[3,'product']])
Z(z[22][2])
Z(z[62])
Z([[2,'&&'],[[2,'!='],[[6],[[7],[3,'item']],[3,'polyType']],[1,2]],[[6],[[6],[[7],[3,'item']],[3,'products']],[3,'length']]])
Z(z[64])
Z([[6],[[7],[3,'item']],[3,'products']])
Z([3,'uuid'])
Z(z[47])
Z(z[68])
Z(z[29])
Z([a,[3,'id_'],[[6],[[7],[3,'product']],[3,'uuid']]])
Z([[6],[[6],[[7],[3,'cart']],[3,'miaShaInfos']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z([[6],[[6],[[7],[3,'cart']],[3,'partition']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z([[6],[[6],[[7],[3,'cart']],[3,'pinGouInfos']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z(z[71])
Z([[2,'||'],[[2,'||'],[[6],[[7],[3,'product']],[3,'serviceSelNum']],[[2,'=='],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'isSupportCard']],[1,1]]],[[2,'=='],[[6],[[6],[[6],[[7],[3,'cart']],[3,'services']],[3,'entries']],[[6],[[7],[3,'product']],[3,'serveId']]],[1,1]]])
Z([[6],[[6],[[7],[3,'cart']],[3,'flashPurchaseSkus']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z(z[22][2])
Z([[2,'||'],[[6],[[6],[[7],[3,'item']],[3,'suits']],[3,'length']],[[2,'=='],[[6],[[7],[3,'item']],[3,'polyType']],[1,2]]])
Z([3,'suit'])
Z([[2,'?:'],[[6],[[6],[[7],[3,'item']],[3,'suits']],[3,'length']],[[6],[[7],[3,'item']],[3,'suits']],[[4],[[5],[[7],[3,'item']]]]])
Z(z[77])
Z(z[47])
Z(z[68])
Z(z[29])
Z([[6],[[7],[3,'cart']],[3,'flashPurchaseSkus']])
Z([a,z[81][1],[[6],[[7],[3,'item']],[3,'uuid']]])
Z([[2,'=='],[[7],[3,'cartType']],[[6],[[7],[3,'cartMap']],[3,'PINGOU']]])
Z([[7],[3,'suit']])
Z([[6],[[7],[3,'cart']],[3,'miaShaInfos']])
Z([[6],[[7],[3,'cart']],[3,'partition']])
Z([[6],[[7],[3,'cart']],[3,'services']])
Z(z[22][2])
Z([[2,'&&'],[[2,'!'],[[7],[3,'noLogin']]],[[6],[[7],[3,'cart']],[3,'btmLoading']]])
Z([[2,'&&'],[[6],[[6],[[7],[3,'cartData']],[[6],[[7],[3,'cartMap']],[3,'JD']]],[3,'showRecommend']],[[2,'<='],[[6],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'venders']],[3,'length']],[1,0]]])
Z([3,'onRecommendAfterAdd2Cart'])
Z([3,'onRecommendError'])
Z([3,'onRecommendReady'])
Z([[6],[[6],[[7],[3,'cartData']],[[6],[[7],[3,'cartMap']],[3,'JD']]],[3,'hasError']])
Z([[7],[3,'recommendOptions']])
Z([[6],[[6],[[7],[3,'cartData']],[[6],[[7],[3,'cartMap']],[3,'JD']]],[3,'showRecommend']])
Z(z[106])
Z(z[107])
Z(z[108])
Z(z[29])
Z(z[110])
Z([3,'onCheck'])
Z([3,'onEditCheck'])
Z([3,'onFavorite'])
Z([3,'showQuickClearPanel'])
Z([3,'onRemove'])
Z(z[28])
Z(z[29])
Z([[2,'||'],[[7],[3,'noLogin']],[[2,'<='],[[6],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'venders']],[3,'length']],[1,0]]])
Z([3,'btmbar'])
Z([[2,'=='],[[7],[3,'curCartType']],[[6],[[7],[3,'cartMap']],[3,'PINGOU']]])
Z([[7],[3,'showQuickCleanButton']])
Z([[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'summary']])
Z(z[22][2])
Z([[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'loading']])
Z([[7],[3,'showInputMask']])
})(__WXML_GLOBAL__.ops_cached.$gwx_33);return __WXML_GLOBAL__.ops_cached.$gwx_33
}
function gz$gwx_34(){
if( __WXML_GLOBAL__.ops_cached.$gwx_34)return __WXML_GLOBAL__.ops_cached.$gwx_34
__WXML_GLOBAL__.ops_cached.$gwx_34=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'getLoginEvent'])
Z([[7],[3,'loginLayerData']])
Z([[6],[[7],[3,'addressOpts']],[3,'adid']])
Z([[6],[[7],[3,'addressOpts']],[3,'areaId']])
Z([3,'onAddressPanelClose'])
Z([3,'onAddressChange'])
Z([[6],[[7],[3,'addressOpts']],[3,'show']])
Z([3,'onOptionSwitchPromo'])
Z([3,'onOptionPromoShutdown'])
Z([[7],[3,'curCartType']])
Z([[2,'||'],[[2,'!'],[[6],[[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'venders']],[3,'length']]],[[7],[3,'editable']]])
Z([3,'optionpromotions'])
Z([3,'onReceiveCartChanged'])
Z([3,'onReceiveCartfresh'])
Z([3,'onCouponPanelClose'])
Z(z[12])
Z([3,'gotoCouponPromotion'])
Z([[6],[[7],[3,'couponsData']],[3,'cartType']])
Z([3,'popCouponsPanel'])
Z([[6],[[7],[3,'couponsData']],[3,'show']])
Z([[6],[[7],[3,'couponsData']],[3,'vid']])
Z([3,'onPromoSelected'])
Z([[7],[3,'promotion']])
Z([3,'onSwitchPricePanelClose'])
Z([3,'onSwitchPriceSelected'])
Z([[7],[3,'switchPriceOpts']])
Z([3,'hideSwitchSkuPanel'])
Z([3,'onSkuChange'])
Z([[6],[[7],[3,'skuPanelData']],[3,'cover']])
Z([[6],[[7],[3,'skuPanelData']],[3,'hideSkuSwitch']])
Z([3,'skulayer'])
Z([[6],[[7],[3,'skuPanelData']],[3,'initAddedServices']])
Z([[6],[[7],[3,'skuPanelData']],[3,'isSupportGift']])
Z([[6],[[7],[3,'skuPanelData']],[3,'othersData']])
Z([[6],[[7],[3,'skuPanelData']],[3,'price']])
Z([[7],[3,'showSkuLayerFlag']])
Z([[6],[[7],[3,'skuPanelData']],[3,'sku']])
Z([[6],[[7],[3,'skuPanelData']],[3,'suitPackData']])
Z([[6],[[7],[3,'skuPanelData']],[3,'totalNum']])
Z([[7],[3,'skuInfoData']])
Z([3,'closeSkuInfos'])
Z([3,'gotoAttachmentsDetail'])
Z([3,'gotoGiftDetail'])
Z([3,'onRemoveJdService'])
Z([3,'showSwitchSkuPanel'])
Z(z[9])
Z([[7],[3,'editable']])
Z([3,'skuinfos'])
Z([[6],[[6],[[7],[3,'cartData']],[[7],[3,'curCartType']]],[3,'services']])
Z(z[39])
Z([[7],[3,'watermarkText']])
Z([[2,'&&'],[[7],[3,'editable']],[[7],[3,'showQuickCleanButton']]])
Z([3,'onQuickClearPanelClose'])
Z([[7],[3,'quickClearOptions']])
})(__WXML_GLOBAL__.ops_cached.$gwx_34);return __WXML_GLOBAL__.ops_cached.$gwx_34
}
function gz$gwx_35(){
if( __WXML_GLOBAL__.ops_cached.$gwx_35)return __WXML_GLOBAL__.ops_cached.$gwx_35
__WXML_GLOBAL__.ops_cached.$gwx_35=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_35);return __WXML_GLOBAL__.ops_cached.$gwx_35
}
function gz$gwx_36(){
if( __WXML_GLOBAL__.ops_cached.$gwx_36)return __WXML_GLOBAL__.ops_cached.$gwx_36
__WXML_GLOBAL__.ops_cached.$gwx_36=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'loading']])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'summary']],[3,'price']],[[2,'!'],[[7],[3,'editable']]]],[[2,'!'],[[7],[3,'hidden']]]])
Z([a,[[7],[3,'theme']],[3,' summary_bar']])
Z([[7],[3,'isPinGou']])
Z([3,'v_center'])
Z([[2,'>'],[[6],[[7],[3,'summary']],[3,'cashback']],[1,0]])
Z([[6],[[7],[3,'summary']],[3,'totalFanXianAmount']])
Z([[2,'>'],[[6],[[7],[3,'summary']],[3,'plusPromoStatus']],[1,0]])
Z([[2,'&&'],[[7],[3,'editable']],[[2,'!'],[[7],[3,'hidden']]]])
Z([[7],[3,'showQuickCleanButton']])
Z([[7],[3,'showPay']])
Z([[2,'&&'],[[6],[[7],[3,'summary']],[3,'price']],[[2,'!'],[[7],[3,'hidden']]]])
Z([3,'noscroll'])
Z([a,[3,'popup summary_list '],[[2,'?:'],[[7],[3,'showSumDetail']],[1,'show'],[1,'']]])
Z([3,'popup__body'])
Z([[2,'!'],[[7],[3,'showSumDetail']]])
Z([[2,'>'],[[6],[[7],[3,'summary']],[3,'promoDiscount']],[1,0]])
Z([[2,'>'],[[6],[[7],[3,'summary']],[3,'couponCashBack']],[1,0]])
Z([[6],[[6],[[7],[3,'summary']],[3,'coupons']],[3,'length']])
Z([3,'coupon'])
Z([[6],[[7],[3,'summary']],[3,'coupons']])
Z([[7],[3,'coupon']])
Z([[2,'||'],[[2,'>'],[[6],[[7],[3,'summary']],[3,'plus95CashBack']],[1,0]],[[2,'=='],[[6],[[7],[3,'summary']],[3,'plusPromoStatus']],[1,2]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_36);return __WXML_GLOBAL__.ops_cached.$gwx_36
}
function gz$gwx_37(){
if( __WXML_GLOBAL__.ops_cached.$gwx_37)return __WXML_GLOBAL__.ops_cached.$gwx_37
__WXML_GLOBAL__.ops_cached.$gwx_37=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onRemoveGift'])
Z([[7],[3,'itemId']])
Z([[6],[[7],[3,'product']],[3,'id']])
})(__WXML_GLOBAL__.ops_cached.$gwx_37);return __WXML_GLOBAL__.ops_cached.$gwx_37
}
function gz$gwx_38(){
if( __WXML_GLOBAL__.ops_cached.$gwx_38)return __WXML_GLOBAL__.ops_cached.$gwx_38
__WXML_GLOBAL__.ops_cached.$gwx_38=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_38);return __WXML_GLOBAL__.ops_cached.$gwx_38
}
function gz$gwx_39(){
if( __WXML_GLOBAL__.ops_cached.$gwx_39)return __WXML_GLOBAL__.ops_cached.$gwx_39
__WXML_GLOBAL__.ops_cached.$gwx_39=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'promo'])
Z([[7],[3,'hide']])
Z([[7],[3,'showTips']])
Z([3,'noscroll'])
Z([a,[3,'popup '],[[2,'?:'],[[7],[3,'isPlusPromo']],[1,'plus'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'showList']],[1,'show'],[1,'']]])
Z([3,'popup__wrap'])
Z([3,'popup__body'])
Z([[7],[3,'isPlusPromo']])
Z([[8],'list',[[7],[3,'list']]])
Z([3,'plusPromoGoods'])
Z([[9],[[8],'list',[[7],[3,'list']]],[[8],'remCoupons',[[7],[3,'remCoupons']]]])
Z([3,'opPromoList'])
Z(z[7])
Z([3,'popup__btm'])
Z(z[7])
Z([[2,'=='],[[7],[3,'plusGraySwitch']],[1,1]])
Z(z[11])
Z(z[0])
Z([[7],[3,'list']])
Z([3,'wxKey'])
Z([3,'sku'])
Z([[6],[[7],[3,'promo']],[3,'skus']])
Z([3,'skuId'])
Z([[6],[[7],[3,'sku']],[3,'price']])
Z([[6],[[7],[3,'remCoupons']],[3,'length']])
Z([3,'coupon'])
Z([[7],[3,'remCoupons']])
Z([3,'batchId'])
Z([[2,'!'],[[6],[[7],[3,'coupon']],[3,'isDiscount']]])
Z(z[9])
Z(z[20])
Z(z[18])
Z(z[22])
Z([3,'good_main'])
Z([[6],[[7],[3,'sku']],[3,'spec']])
Z([[6],[[7],[3,'sku']],[3,'num']])
})(__WXML_GLOBAL__.ops_cached.$gwx_39);return __WXML_GLOBAL__.ops_cached.$gwx_39
}
function gz$gwx_40(){
if( __WXML_GLOBAL__.ops_cached.$gwx_40)return __WXML_GLOBAL__.ops_cached.$gwx_40
__WXML_GLOBAL__.ops_cached.$gwx_40=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
Z([3,'noscroll'])
Z([a,[3,'popup coupons '],[[2,'?:'],[[7],[3,'showAnim']],[1,'show'],[1,'']]])
Z([3,'popup__body'])
Z([[6],[[7],[3,'gettable']],[3,'length']])
Z([[9],[[9],[[8],'list',[[7],[3,'gettable']]],[[8],'vid',[[7],[3,'vid']]]],[[8],'imageMap',[[7],[3,'imageMap']]]])
Z([3,'tplCoupons'])
Z([[6],[[7],[3,'useable']],[3,'length']])
Z([[9],[[9],[[8],'list',[[7],[3,'useable']]],[[8],'vid',[[7],[3,'vid']]]],[[8],'imageMap',[[7],[3,'imageMap']]]])
Z(z[6])
Z(z[6])
Z([[7],[3,'list']])
Z([3,'encryptedKey'])
Z([a,[3,'item coupon '],[[12],[[6],[[7],[3,'util']],[3,'getCouponCls']],[[5],[[5],[[6],[[7],[3,'item']],[3,'couponType']]],[[6],[[7],[3,'item']],[3,'couponUserLable']]]]])
Z([3,'coupon_wrap'])
Z([3,'view'])
Z([[6],[[7],[3,'item']],[3,'isDiscount']])
Z([3,'t'])
Z([[6],[[7],[3,'item']],[3,'mutilDiscountText']])
Z([3,'index'])
Z([[6],[[7],[3,'item']],[3,'isMutilDiscount']])
Z([[2,'!'],[[6],[[7],[3,'item']],[3,'isMutilDiscount']]])
Z([[6],[[7],[3,'item']],[3,'highText']])
Z([3,'info'])
Z([3,'text'])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'couponUserLable']],[1,2]])
Z([[2,'=='],[[6],[[7],[3,'item']],[3,'couponUserLable']],[1,1]])
Z([[6],[[7],[3,'item']],[3,'validTimeStr']])
Z([[2,'&&'],[[2,'!='],[[6],[[7],[3,'item']],[3,'couponKind']],[1,'0']],[[6],[[6],[[7],[3,'item']],[3,'skus']],[3,'length']]])
Z([3,'goods'])
Z([3,'sku'])
Z([[6],[[7],[3,'item']],[3,'skus']])
Z([3,'uuid'])
Z([3,'onCheck'])
Z([3,'goods_item'])
Z([[6],[[7],[3,'sku']],[3,'uuid']])
Z([[6],[[7],[3,'sku']],[3,'isSuit']])
Z([[2,'||'],[[2,'||'],[[6],[[7],[3,'item']],[3,'isJing']],[[2,'=='],[[6],[[7],[3,'item']],[3,'coudanStatus']],[1,1]]],[[2,'=='],[[6],[[7],[3,'item']],[3,'coudanStatus']],[1,2]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_40);return __WXML_GLOBAL__.ops_cached.$gwx_40
}
function gz$gwx_41(){
if( __WXML_GLOBAL__.ops_cached.$gwx_41)return __WXML_GLOBAL__.ops_cached.$gwx_41
__WXML_GLOBAL__.ops_cached.$gwx_41=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onSliderViewFav'])
Z([3,'onSliderViewOpen'])
Z([3,'onSliderViewRemove'])
Z([[2,'?:'],[[6],[[7],[3,'product']],[3,'isSuit']],[1,136],[1,272]])
Z([[2,'!'],[[6],[[7],[3,'product']],[3,'isSuit']]])
Z(z[4])
Z([3,'doAction'])
Z([3,'goods_image'])
Z([[2,'?:'],[[7],[3,'editable']],[1,'onEditCheck'],[1,'gotoItemDetail']])
Z([1,true])
Z([[6],[[7],[3,'product']],[3,'stockDesc']])
Z([3,'goods_content'])
Z(z[6])
Z([3,'goods_name line2'])
Z(z[8])
Z([3,'label'])
Z([[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'lableList']])
Z([3,'index'])
Z([[2,'&&'],[[7],[3,'label']],[[6],[[7],[3,'label']],[3,'lableImgUrl']]])
Z([3,'goods_content_line'])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'product']],[3,'isSuit']]],[[2,'=='],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'locType']],[1,1]]],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'lsname']]])
Z([[2,'||'],[[7],[3,'serviceEntry']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'colorSizeDesc']]])
Z(z[6])
Z([a,[3,'cm_sel_btn gray goods_attr '],[[2,'?:'],[[2,'||'],[[7],[3,'serviceEntry']],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'product']],[3,'isSuit']]],[[2,'>'],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'colorSizeNum']],[1,1]]]],[1,''],[1,'readonly']]])
Z([[2,'?:'],[[2,'||'],[[7],[3,'serviceEntry']],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'product']],[3,'isSuit']]],[[2,'>'],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'colorSizeNum']],[1,1]]]],[1,'showSwitchSkuPanel'],[1,'gotoItemDetail']])
Z([[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'colorSizeDesc']])
Z([[7],[3,'serviceEntry']])
Z(z[6])
Z([3,'goods_discount'])
Z([3,'gotoItemDetail'])
Z([[6],[[6],[[7],[3,'product']],[3,'selectPromotion']],[3,'desc']])
Z([[2,'=='],[[6],[[7],[3,'product']],[3,'plusPromoType']],[1,18]])
Z([[6],[[7],[3,'product']],[3,'productCashBack']])
Z([[6],[[7],[3,'product']],[3,'margin']])
Z(z[4])
Z([[6],[[7],[3,'product']],[3,'limitMsg']])
Z(z[19])
Z([[2,'=='],[[6],[[7],[3,'product']],[3,'hidePrice']],[1,1]])
Z([[6],[[7],[3,'product']],[3,'memberPrice']])
Z(z[6])
Z([a,[3,'goods_price '],[[12],[[6],[[7],[3,'utils']],[3,'getClsPrice']],[[5],[[5],[[6],[[7],[3,'product']],[3,'promoTag']]],[[6],[[7],[3,'product']],[3,'shopLevel']]]]])
Z([[2,'?:'],[[12],[[6],[[7],[3,'utils']],[3,'showSwitchPrice']],[[5],[[5],[[6],[[7],[3,'product']],[3,'memberPriceType']]],[[6],[[7],[3,'product']],[3,'shopLevel']]]],[1,'showSwitchPrices'],[1,'']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'editable']]],[[12],[[6],[[7],[3,'utils']],[3,'showSwitchPrice']],[[5],[[5],[[6],[[7],[3,'product']],[3,'memberPriceType']]],[[6],[[7],[3,'product']],[3,'shopLevel']]]]])
Z([[7],[3,'shangou']])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'editable']]],[[6],[[7],[3,'product']],[3,'noStock']]],[[7],[3,'partitionSku']]])
Z([[2,'&&'],[[2,'!'],[[7],[3,'editable']]],[[6],[[7],[3,'product']],[3,'noStock']]])
Z(z[6])
Z([[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'maxNum']])
Z([[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'lowestBuy']])
Z([[6],[[7],[3,'product']],[3,'num']])
Z([[7],[3,'theme']])
Z([[6],[[7],[3,'product']],[3,'isSuit']])
Z(z[45])
Z([[2,'&&'],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'extFlag']],[[6],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'extFlag']],[3,'jthflag']]])
Z([[2,'||'],[[6],[[7],[3,'product']],[3,'serviceSelNum']],[[6],[[7],[3,'product']],[3,'attachText']]])
Z(z[6])
Z([3,'addon_item arrow inline'])
Z([3,'showSkuInfos'])
Z([[6],[[7],[3,'product']],[3,'serviceSelNum']])
Z(z[4])
Z([[2,'&&'],[[6],[[7],[3,'product']],[3,'jdBeanPromo']],[[2,'!='],[[6],[[6],[[7],[3,'product']],[3,'jdBeanPromo']],[3,'promoId']],[1,0]]])
Z([[2,'&&'],[[7],[3,'pingou']],[[2,'>'],[[6],[[7],[3,'pingou']],[3,'priceDiff']],[1,0]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_41);return __WXML_GLOBAL__.ops_cached.$gwx_41
}
function gz$gwx_42(){
if( __WXML_GLOBAL__.ops_cached.$gwx_42)return __WXML_GLOBAL__.ops_cached.$gwx_42
__WXML_GLOBAL__.ops_cached.$gwx_42=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'curStatus']])
Z([[2,'=='],[[7],[3,'curStatus']],[1,3]])
})(__WXML_GLOBAL__.ops_cached.$gwx_42);return __WXML_GLOBAL__.ops_cached.$gwx_42
}
function gz$gwx_43(){
if( __WXML_GLOBAL__.ops_cached.$gwx_43)return __WXML_GLOBAL__.ops_cached.$gwx_43
__WXML_GLOBAL__.ops_cached.$gwx_43=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'product']])
Z([3,'noscroll'])
Z([a,[3,'popup skuinfos '],[[2,'?:'],[[7],[3,'showPopup']],[1,'show'],[1,'']]])
Z([3,'popup__wrap'])
Z([[2,'&&'],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'fanXianAmountDesc']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'fanXianTypeDesc']]])
Z([3,'popup__body'])
Z([[6],[[7],[3,'product']],[3,'serviceSelNum']])
Z([[7],[3,'showServiceEntry']])
Z([[6],[[7],[3,'product']],[3,'selectedJDHomeServiceList']])
Z([3,'id'])
Z([[2,'||'],[[2,'!'],[[6],[[7],[3,'services']],[3,'invalidHomeSkus']]],[[2,'!'],[[6],[[6],[[7],[3,'services']],[3,'invalidHomeSkus']],[[6],[[7],[3,'item']],[3,'id']]]]])
Z(z[8])
Z([[2,'&&'],[[6],[[7],[3,'services']],[3,'invalidHomeSkus']],[[6],[[6],[[7],[3,'services']],[3,'invalidHomeSkus']],[[6],[[7],[3,'item']],[3,'id']]]])
Z([[2,'&&'],[[6],[[7],[3,'product']],[3,'giftServiceSku']],[[6],[[6],[[7],[3,'product']],[3,'giftServiceSku']],[3,'id']]])
Z([[6],[[7],[3,'product']],[3,'servicePrjInfo']])
Z([[2,'!='],[[6],[[6],[[7],[3,'product']],[3,'servicePrjInfo']],[3,'status']],[1,0]])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'product']],[3,'isVirtualSuit']]],[[6],[[6],[[6],[[7],[3,'product']],[3,'gifts']],[3,'listGiftPools']],[3,'length']]])
Z([[6],[[6],[[7],[3,'product']],[3,'gifts']],[3,'listGiftPools']])
Z([3,'PoolNo'])
Z([3,'skuItem'])
Z([[6],[[7],[3,'item']],[3,'skus']])
Z(z[9])
Z([[2,'=='],[[6],[[7],[3,'skuItem']],[3,'selectState']],[1,2]])
Z([[2,'&&'],[[6],[[6],[[7],[3,'product']],[3,'showGifts']],[3,'length']],[[2,'!='],[[6],[[6],[[7],[3,'product']],[3,'gifts']],[3,'virtualSuit']],[1,1]]])
Z([[2,'>'],[[2,'*'],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'score']],[1,1]],[1,0]])
Z([[6],[[6],[[7],[3,'product']],[3,'donatedCouponList']],[3,'length']])
Z([[6],[[6],[[7],[3,'product']],[3,'showAttachments']],[3,'length']])
})(__WXML_GLOBAL__.ops_cached.$gwx_43);return __WXML_GLOBAL__.ops_cached.$gwx_43
}
function gz$gwx_44(){
if( __WXML_GLOBAL__.ops_cached.$gwx_44)return __WXML_GLOBAL__.ops_cached.$gwx_44
__WXML_GLOBAL__.ops_cached.$gwx_44=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[[7],[3,'theme']],[3,' suit '],[[12],[[6],[[7],[3,'utils']],[3,'getItemExtraCls']],[[5],[[5],[[6],[[7],[3,'item']],[3,'polyType']]],[[6],[[7],[3,'item']],[3,'isLast']]]]])
Z([[6],[[6],[[6],[[7],[3,'item']],[3,'selectPromotion']],[3,'list']],[3,'length']])
Z([3,'product'])
Z([[6],[[7],[3,'item']],[3,'products']])
Z([3,'wxKey'])
Z([3,'proAction'])
Z([[7],[3,'cartType']])
Z([[7],[3,'editable']])
Z([[6],[[7],[3,'miaShaInfos']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z([[6],[[7],[3,'partition']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z([[7],[3,'product']])
Z([[2,'||'],[[6],[[7],[3,'product']],[3,'serviceSelNum']],[[2,'=='],[[6],[[6],[[7],[3,'services']],[3,'entries']],[[6],[[7],[3,'product']],[3,'serveId']]],[1,1]]])
Z([[6],[[7],[3,'flashPurchaseSkus']],[[6],[[6],[[7],[3,'product']],[3,'mainSku']],[3,'id']]])
Z([[6],[[7],[3,'item']],[3,'num']])
Z(z[0][1])
Z([[6],[[7],[3,'item']],[3,'vSkuId']])
Z([3,'doAction'])
Z([[6],[[7],[3,'item']],[3,'maxNum']])
Z([1,1])
Z(z[13])
Z(z[0][1])
})(__WXML_GLOBAL__.ops_cached.$gwx_44);return __WXML_GLOBAL__.ops_cached.$gwx_44
}
function gz$gwx_45(){
if( __WXML_GLOBAL__.ops_cached.$gwx_45)return __WXML_GLOBAL__.ops_cached.$gwx_45
__WXML_GLOBAL__.ops_cached.$gwx_45=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'show']])
})(__WXML_GLOBAL__.ops_cached.$gwx_45);return __WXML_GLOBAL__.ops_cached.$gwx_45
}
function gz$gwx_46(){
if( __WXML_GLOBAL__.ops_cached.$gwx_46)return __WXML_GLOBAL__.ops_cached.$gwx_46
__WXML_GLOBAL__.ops_cached.$gwx_46=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_46);return __WXML_GLOBAL__.ops_cached.$gwx_46
}
function gz$gwx_47(){
if( __WXML_GLOBAL__.ops_cached.$gwx_47)return __WXML_GLOBAL__.ops_cached.$gwx_47
__WXML_GLOBAL__.ops_cached.$gwx_47=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'hidden']]])
Z([[7],[3,'showMenus']])
Z([[7],[3,'showJthEntry']])
})(__WXML_GLOBAL__.ops_cached.$gwx_47);return __WXML_GLOBAL__.ops_cached.$gwx_47
}
function gz$gwx_48(){
if( __WXML_GLOBAL__.ops_cached.$gwx_48)return __WXML_GLOBAL__.ops_cached.$gwx_48
__WXML_GLOBAL__.ops_cached.$gwx_48=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'wrapper'])
Z([[7],[3,'hiddenWord']])
Z([3,'cate'])
Z([1,true])
Z([[7],[3,'_triggerObserer']])
Z([3,'handleTabClick'])
Z([[7],[3,'curIdx']])
Z([[7],[3,'st1']])
Z([[7],[3,'tabEntries']])
Z([[7],[3,'updateTime']])
Z([3,'handleScroll'])
Z([3,'handleTouchEnd'])
Z([3,'handleTouchMove'])
Z([3,'handleTouchStart'])
Z([3,'level2'])
Z(z[3])
Z([[7],[3,'st2']])
Z(z[3])
Z([[2,'||'],[[6],[[6],[[7],[3,'tabEntries']],[[7],[3,'curIdx']]],[3,'loading']],[[7],[3,'isTouchDown']]])
Z([[2,'&&'],[[2,'!'],[[6],[[6],[[7],[3,'tabEntries']],[[7],[3,'curIdx']]],[3,'loading']]],[[6],[[6],[[7],[3,'tabEntries']],[[7],[3,'curIdx']]],[3,'errMsg']]])
Z([[2,'&&'],[[2,'!'],[[6],[[6],[[7],[3,'tabEntries']],[[7],[3,'curIdx']]],[3,'loading']]],[[2,'!'],[[7],[3,'isTouchDown']]]])
Z([3,'level2__content'])
Z([[2,'>'],[[7],[3,'curIdx']],[1,0]])
Z(z[3])
Z(z[4])
Z([3,'handleReportBanner'])
Z([[7],[3,'bannerConfig']])
Z(z[9])
Z([[2,'&&'],[[2,'==='],[[7],[3,'curIdx']],[1,0]],[[6],[[7],[3,'promoteEntryData']],[3,'proid']]])
Z(z[4])
Z([[7],[3,'promoteEntryData']])
Z(z[9])
Z([[2,'&&'],[[7],[3,'promotion']],[[2,'!'],[[6],[[7],[3,'promoteEntryData']],[3,'proid']]]])
Z(z[3])
Z(z[4])
Z([3,'handleReportPrmt'])
Z([[7],[3,'promotion']])
Z(z[9])
Z(z[3])
Z(z[4])
Z([3,'handleReportCate'])
Z([[7],[3,'commonWords']])
Z(z[9])
Z([[7],[3,'channelInfo']])
Z(z[3])
Z(z[4])
Z([3,'handleChannelClick'])
Z(z[43])
Z(z[9])
Z([[2,'>='],[[2,'-'],[[6],[[7],[3,'tabEntries']],[3,'length']],[1,2]],[[7],[3,'curIdx']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_48);return __WXML_GLOBAL__.ops_cached.$gwx_48
}
function gz$gwx_49(){
if( __WXML_GLOBAL__.ops_cached.$gwx_49)return __WXML_GLOBAL__.ops_cached.$gwx_49
__WXML_GLOBAL__.ops_cached.$gwx_49=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[6],[[7],[3,'entries']],[3,'length']]])
Z([[2,'>'],[[6],[[7],[3,'entries']],[3,'length']],[1,1]])
})(__WXML_GLOBAL__.ops_cached.$gwx_49);return __WXML_GLOBAL__.ops_cached.$gwx_49
}
function gz$gwx_50(){
if( __WXML_GLOBAL__.ops_cached.$gwx_50)return __WXML_GLOBAL__.ops_cached.$gwx_50
__WXML_GLOBAL__.ops_cached.$gwx_50=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_50);return __WXML_GLOBAL__.ops_cached.$gwx_50
}
function gz$gwx_51(){
if( __WXML_GLOBAL__.ops_cached.$gwx_51)return __WXML_GLOBAL__.ops_cached.$gwx_51
__WXML_GLOBAL__.ops_cached.$gwx_51=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_51);return __WXML_GLOBAL__.ops_cached.$gwx_51
}
function gz$gwx_52(){
if( __WXML_GLOBAL__.ops_cached.$gwx_52)return __WXML_GLOBAL__.ops_cached.$gwx_52
__WXML_GLOBAL__.ops_cached.$gwx_52=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'||'],[[2,'!'],[[6],[[7],[3,'entries']],[3,'length']]],[[2,'<'],[[6],[[7],[3,'entries']],[3,'length']],[1,4]]])
Z([3,'index'])
Z([3,'item'])
Z([[7],[3,'loopArray0']])
Z([[7],[3,'index']])
Z([[2,'<'],[[7],[3,'index']],[1,4]])
})(__WXML_GLOBAL__.ops_cached.$gwx_52);return __WXML_GLOBAL__.ops_cached.$gwx_52
}
function gz$gwx_53(){
if( __WXML_GLOBAL__.ops_cached.$gwx_53)return __WXML_GLOBAL__.ops_cached.$gwx_53
__WXML_GLOBAL__.ops_cached.$gwx_53=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'promotion']]])
Z([3,'index'])
Z([3,'item'])
Z([[6],[[7],[3,'promotion']],[3,'level2words']])
Z([[6],[[7],[3,'item']],[3,'marketing']])
Z([[2,'<'],[[7],[3,'index']],[1,4]])
})(__WXML_GLOBAL__.ops_cached.$gwx_53);return __WXML_GLOBAL__.ops_cached.$gwx_53
}
function gz$gwx_54(){
if( __WXML_GLOBAL__.ops_cached.$gwx_54)return __WXML_GLOBAL__.ops_cached.$gwx_54
__WXML_GLOBAL__.ops_cached.$gwx_54=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_54);return __WXML_GLOBAL__.ops_cached.$gwx_54
}
function gz$gwx_55(){
if( __WXML_GLOBAL__.ops_cached.$gwx_55)return __WXML_GLOBAL__.ops_cached.$gwx_55
__WXML_GLOBAL__.ops_cached.$gwx_55=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_55);return __WXML_GLOBAL__.ops_cached.$gwx_55
}
function gz$gwx_56(){
if( __WXML_GLOBAL__.ops_cached.$gwx_56)return __WXML_GLOBAL__.ops_cached.$gwx_56
__WXML_GLOBAL__.ops_cached.$gwx_56=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'tplMessageBox'])
Z([[6],[[7],[3,'msgbox']],[3,'show']])
Z([[10],[[7],[3,'msgbox']]])
Z([[6],[[7],[3,'msgbox']],[3,'tpl']])
Z([3,'tplShow'])
Z([[7],[3,'closable']])
Z([[7],[3,'icon']])
Z([[7],[3,'title']])
Z([[7],[3,'content']])
Z([3,'tplInfo'])
Z(z[7])
Z(z[8])
Z([3,'tplFreigth'])
Z(z[5])
Z(z[7])
Z([[6],[[7],[3,'list']],[3,'length']])
Z([[2,'!'],[[6],[[7],[3,'content']],[3,'length']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_56);return __WXML_GLOBAL__.ops_cached.$gwx_56
}
function gz$gwx_57(){
if( __WXML_GLOBAL__.ops_cached.$gwx_57)return __WXML_GLOBAL__.ops_cached.$gwx_57
__WXML_GLOBAL__.ops_cached.$gwx_57=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_57);return __WXML_GLOBAL__.ops_cached.$gwx_57
}
function gz$gwx_58(){
if( __WXML_GLOBAL__.ops_cached.$gwx_58)return __WXML_GLOBAL__.ops_cached.$gwx_58
__WXML_GLOBAL__.ops_cached.$gwx_58=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_58);return __WXML_GLOBAL__.ops_cached.$gwx_58
}
function gz$gwx_59(){
if( __WXML_GLOBAL__.ops_cached.$gwx_59)return __WXML_GLOBAL__.ops_cached.$gwx_59
__WXML_GLOBAL__.ops_cached.$gwx_59=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_59);return __WXML_GLOBAL__.ops_cached.$gwx_59
}
function gz$gwx_60(){
if( __WXML_GLOBAL__.ops_cached.$gwx_60)return __WXML_GLOBAL__.ops_cached.$gwx_60
__WXML_GLOBAL__.ops_cached.$gwx_60=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_60);return __WXML_GLOBAL__.ops_cached.$gwx_60
}
function gz$gwx_61(){
if( __WXML_GLOBAL__.ops_cached.$gwx_61)return __WXML_GLOBAL__.ops_cached.$gwx_61
__WXML_GLOBAL__.ops_cached.$gwx_61=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_61);return __WXML_GLOBAL__.ops_cached.$gwx_61
}
function gz$gwx_62(){
if( __WXML_GLOBAL__.ops_cached.$gwx_62)return __WXML_GLOBAL__.ops_cached.$gwx_62
__WXML_GLOBAL__.ops_cached.$gwx_62=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[4],[[5],[[5],[1,'']],[1,'']]])
Z([3,'entries_index'])
Z([3,'entries_item'])
Z([[7],[3,'entries']])
Z([3,'name'])
Z([[2,'=='],[[2,'%'],[[7],[3,'entries_index']],[1,2]],[[7],[3,'index']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_62);return __WXML_GLOBAL__.ops_cached.$gwx_62
}
function gz$gwx_63(){
if( __WXML_GLOBAL__.ops_cached.$gwx_63)return __WXML_GLOBAL__.ops_cached.$gwx_63
__WXML_GLOBAL__.ops_cached.$gwx_63=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_63);return __WXML_GLOBAL__.ops_cached.$gwx_63
}
function gz$gwx_64(){
if( __WXML_GLOBAL__.ops_cached.$gwx_64)return __WXML_GLOBAL__.ops_cached.$gwx_64
__WXML_GLOBAL__.ops_cached.$gwx_64=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_64);return __WXML_GLOBAL__.ops_cached.$gwx_64
}
function gz$gwx_65(){
if( __WXML_GLOBAL__.ops_cached.$gwx_65)return __WXML_GLOBAL__.ops_cached.$gwx_65
__WXML_GLOBAL__.ops_cached.$gwx_65=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_65);return __WXML_GLOBAL__.ops_cached.$gwx_65
}
function gz$gwx_66(){
if( __WXML_GLOBAL__.ops_cached.$gwx_66)return __WXML_GLOBAL__.ops_cached.$gwx_66
__WXML_GLOBAL__.ops_cached.$gwx_66=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[4],[[5],[[5],[1,'']],[1,'']]])
Z([3,''])
Z([3,'item_index'])
Z([3,'item_item'])
Z([[7],[3,'entries']])
Z([3,'title'])
Z([[2,'=='],[[2,'%'],[[7],[3,'item_index']],[1,2]],[[7],[3,'index']]])
Z([3,'gotoDetail'])
Z([3,'goods__item'])
Z([[7],[3,'item_index']])
Z([3,'tag_item'])
Z([[6],[[7],[3,'item_item']],[3,'tags']])
Z(z[1])
Z([[6],[[7],[3,'tag_item']],[3,'text']])
})(__WXML_GLOBAL__.ops_cached.$gwx_66);return __WXML_GLOBAL__.ops_cached.$gwx_66
}
function gz$gwx_67(){
if( __WXML_GLOBAL__.ops_cached.$gwx_67)return __WXML_GLOBAL__.ops_cached.$gwx_67
__WXML_GLOBAL__.ops_cached.$gwx_67=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'showAppShare']])
})(__WXML_GLOBAL__.ops_cached.$gwx_67);return __WXML_GLOBAL__.ops_cached.$gwx_67
}
function gz$gwx_68(){
if( __WXML_GLOBAL__.ops_cached.$gwx_68)return __WXML_GLOBAL__.ops_cached.$gwx_68
__WXML_GLOBAL__.ops_cached.$gwx_68=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_68);return __WXML_GLOBAL__.ops_cached.$gwx_68
}
function gz$gwx_69(){
if( __WXML_GLOBAL__.ops_cached.$gwx_69)return __WXML_GLOBAL__.ops_cached.$gwx_69
__WXML_GLOBAL__.ops_cached.$gwx_69=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'wrap '],[[2,'?:'],[[7],[3,'isGary']],[1,'wrap--isGray'],[1,'']]])
Z([3,'firstScreenLoaded'])
Z([3,'isGaryPage'])
Z([3,'mainDataLoaded'])
Z([3,'setNavInfo'])
Z([3,'mallv2'])
Z([[7],[3,'onHide']])
Z([[7],[3,'onLoad']])
Z([[7],[3,'onPageScroll']])
Z([[7],[3,'onReachBottom']])
Z([[7],[3,'onRefresh']])
Z([[7],[3,'onShow']])
Z([[7],[3,'pageType']])
Z([[7],[3,'pretime']])
Z([[7],[3,'navHeight']])
Z([[7],[3,'onHideTime']])
Z([[7],[3,'onShowTime']])
Z([3,'capsule'])
Z([[7],[3,'subsGuider']])
Z([[7],[3,'loginLayerData']])
Z([[10],[[7],[3,'toast']]])
Z([3,'toast'])
})(__WXML_GLOBAL__.ops_cached.$gwx_69);return __WXML_GLOBAL__.ops_cached.$gwx_69
}
function gz$gwx_70(){
if( __WXML_GLOBAL__.ops_cached.$gwx_70)return __WXML_GLOBAL__.ops_cached.$gwx_70
__WXML_GLOBAL__.ops_cached.$gwx_70=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'carousel '],[[2,'?:'],[[7],[3,'showSkeleton']],[1,'skeleton'],[1,'']]])
Z([[2,'>'],[[6],[[7],[3,'entries']],[3,'length']],[1,1]])
Z([[8],'imgLoadList',[[7],[3,'imgLoadList']]])
Z([3,'img-loader'])
})(__WXML_GLOBAL__.ops_cached.$gwx_70);return __WXML_GLOBAL__.ops_cached.$gwx_70
}
function gz$gwx_71(){
if( __WXML_GLOBAL__.ops_cached.$gwx_71)return __WXML_GLOBAL__.ops_cached.$gwx_71
__WXML_GLOBAL__.ops_cached.$gwx_71=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'onSwiperChange'])
Z([3,'channel-nav__swiper'])
Z([[7],[3,'swiperCurrent']])
Z([1,false])
Z([3,'pageIndex'])
Z([3,'page'])
Z([[7],[3,'pages']])
Z([[7],[3,'pageIndex']])
Z([3,'index'])
Z([[6],[[7],[3,'page']],[3,'entries']])
Z([3,'name'])
Z([3,'tapOnItem'])
Z([3,'channel-nav__item'])
Z([[6],[[7],[3,'item']],[3,'appid']])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'name']])
Z(z[7])
Z([[6],[[7],[3,'item']],[3,'ptag']])
Z([[6],[[7],[3,'item']],[3,'link']])
Z([[6],[[7],[3,'item']],[3,'wxJumpUrl']])
Z([[6],[[7],[3,'item']],[3,'wxappPath']])
Z([[6],[[7],[3,'item']],[3,'corner']])
Z([[2,'>'],[[6],[[7],[3,'pages']],[3,'length']],[1,1]])
})(__WXML_GLOBAL__.ops_cached.$gwx_71);return __WXML_GLOBAL__.ops_cached.$gwx_71
}
function gz$gwx_72(){
if( __WXML_GLOBAL__.ops_cached.$gwx_72)return __WXML_GLOBAL__.ops_cached.$gwx_72
__WXML_GLOBAL__.ops_cached.$gwx_72=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'curtain-wapper'])
Z([[7],[3,'sale']])
Z([3,'onTransitionEnd'])
Z([3,'tapOnNavigator'])
Z([3,'preventSaleMove'])
Z([a,[3,'sale_curtain '],[[2,'?:'],[[7],[3,'sale618']],[[2,'+'],[1,'sale_curtain--'],[[7],[3,'period']]],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'hideSale']],[1,'sale_curtain--hide'],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'hide618Sale']],[[2,'+'],[[2,'+'],[1,'sale_curtain--'],[[7],[3,'period']]],[1,'-hide']],[1,'']],[3,' '],[[2,'?:'],[[7],[3,'hideMould']],[1,'sale_curtain--hide_mould'],[1,'']]])
Z([[7],[3,'rd']])
Z([[7],[3,'url']])
Z([[7],[3,'wxappLink']])
Z([3,'none'])
Z([a,[3,'height: '],[[2,'?:'],[[7],[3,'hasSubHome']],[[2,'+'],[[7],[3,'fixedbarHeight']],[1,784]],[[2,'+'],[[7],[3,'fixedbarHeight']],[1,854]]],[3,'rpx;']])
Z([[7],[3,'preImage']])
Z([[7],[3,'climax']])
})(__WXML_GLOBAL__.ops_cached.$gwx_72);return __WXML_GLOBAL__.ops_cached.$gwx_72
}
function gz$gwx_73(){
if( __WXML_GLOBAL__.ops_cached.$gwx_73)return __WXML_GLOBAL__.ops_cached.$gwx_73
__WXML_GLOBAL__.ops_cached.$gwx_73=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_73);return __WXML_GLOBAL__.ops_cached.$gwx_73
}
function gz$gwx_74(){
if( __WXML_GLOBAL__.ops_cached.$gwx_74)return __WXML_GLOBAL__.ops_cached.$gwx_74
__WXML_GLOBAL__.ops_cached.$gwx_74=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'goods'])
Z([[2,'!'],[[7],[3,'hideModule']]])
Z([[2,'!=='],[[7],[3,'curIdx']],[1,0]])
Z([[7],[3,'showRecommend']])
Z([[6],[[7],[3,'entries']],[1,0]])
Z([3,'onRecommendLoadError'])
Z([3,'onRecommendLoadSuccess'])
Z([3,'reclikeCmp'])
Z([1,true])
Z([[8],'uiType',[1,1]])
Z([3,'wxapp_index_user'])
Z([[7],[3,'entries']])
Z([3,'list'])
Z([[2,'=='],[[7],[3,'curIdx']],[[7],[3,'index']]])
Z([3,'list_index'])
Z([3,'list_item'])
Z([[4],[[5],[[5],[1,'']],[1,'']]])
Z([3,''])
Z([3,'item_index'])
Z([3,'item_item'])
Z([[6],[[7],[3,'item']],[3,'list']])
Z([3,'title'])
Z([[2,'=='],[[2,'%'],[[7],[3,'item_index']],[1,2]],[[7],[3,'list_index']]])
Z([3,'gotoDetail'])
Z([3,'goods__item'])
Z([[7],[3,'item_index']])
Z([[9],[[10],[[7],[3,'item_item']]],[[8],'item_index',[[7],[3,'item_index']]]])
Z(z[0])
Z([[2,'!'],[[6],[[6],[[7],[3,'item']],[3,'list']],[3,'length']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_74);return __WXML_GLOBAL__.ops_cached.$gwx_74
}
function gz$gwx_75(){
if( __WXML_GLOBAL__.ops_cached.$gwx_75)return __WXML_GLOBAL__.ops_cached.$gwx_75
__WXML_GLOBAL__.ops_cached.$gwx_75=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_75);return __WXML_GLOBAL__.ops_cached.$gwx_75
}
function gz$gwx_76(){
if( __WXML_GLOBAL__.ops_cached.$gwx_76)return __WXML_GLOBAL__.ops_cached.$gwx_76
__WXML_GLOBAL__.ops_cached.$gwx_76=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_76);return __WXML_GLOBAL__.ops_cached.$gwx_76
}
function gz$gwx_77(){
if( __WXML_GLOBAL__.ops_cached.$gwx_77)return __WXML_GLOBAL__.ops_cached.$gwx_77
__WXML_GLOBAL__.ops_cached.$gwx_77=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_77);return __WXML_GLOBAL__.ops_cached.$gwx_77
}
function gz$gwx_78(){
if( __WXML_GLOBAL__.ops_cached.$gwx_78)return __WXML_GLOBAL__.ops_cached.$gwx_78
__WXML_GLOBAL__.ops_cached.$gwx_78=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'isError']])
Z([[6],[[7],[3,'indexStyle']],[3,'pageStyle']])
Z([3,'fixedbar'])
Z([a,[3,'height: '],[[7],[3,'fixedbarHeight']],[3,'rpx;padding-top: '],[[7],[3,'titleHeight']],[3,'rpx;'],[[6],[[7],[3,'indexStyle']],[3,'fixedbarStyle']]])
Z([[7],[3,'isSupportNav']])
Z([3,'setNavInfo'])
Z([[7],[3,'navBarData']])
Z([[7],[3,'shakePayload']])
Z([[7],[3,'showSkeleton']])
Z(z[3][2])
Z([[7],[3,'hasSubHome']])
Z(z[8])
Z([3,'subHome'])
Z([[2,'==='],[[7],[3,'channelStatus']],[1,0]])
Z([a,[3,'padding-top: '],z[3][2],z[3][5]])
Z([[2,'==='],[[7],[3,'channelStatus']],[1,1]])
Z([[2,'==='],[[7],[3,'channelStatus']],[1,2]])
Z([[7],[3,'channelData']])
Z(z[17])
Z([[7],[3,'reachBottom']])
Z([[2,'==='],[[7],[3,'channelStatus']],[1,3]])
Z([3,'mainHome'])
Z([[2,'!=='],[[7],[3,'channelStatus']],[1,0]])
Z([3,'head'])
Z([a,z[14][1],z[3][2],z[3][5]])
Z([3,'header'])
Z([3,'onComponentLoad'])
Z(z[10])
Z(z[8])
Z(z[26])
Z([[7],[3,'pageType']])
Z(z[8])
Z([3,'1'])
Z([3,'2'])
Z(z[26])
Z([3,'strategy'])
Z(z[26])
Z(z[8])
Z(z[33])
Z(z[32])
Z(z[26])
Z([3,'group'])
Z(z[8])
Z(z[26])
Z(z[26])
Z(z[30])
Z(z[26])
Z([[7],[3,'curtainFinish']])
Z([3,'onCurtainFinish'])
Z(z[3][2])
Z(z[10])
Z([[7],[3,'showTime']])
Z([3,'floor'])
Z([a,[[6],[[7],[3,'indexStyle']],[3,'floorBg']],[[2,'&&'],[[6],[[7],[3,'indexStyle']],[3,'floorBg']],[1,'margin-bottom: 15rpx;']]])
Z(z[26])
Z(z[8])
Z(z[10])
Z(z[52])
Z([[7],[3,'loadOthers']])
Z([[7],[3,'channelStatus']])
Z(z[3][2])
Z(z[10])
Z([3,'goods'])
Z(z[19])
Z([[7],[3,'scrollTop']])
Z([[7],[3,'tabBanner']])
Z(z[64])
Z([[2,'>'],[[7],[3,'scrollTop']],[1,1000]])
Z([3,'onShakeAnimLoaded'])
Z([[7],[3,'saleConfig']])
Z(z[47])
})(__WXML_GLOBAL__.ops_cached.$gwx_78);return __WXML_GLOBAL__.ops_cached.$gwx_78
}
function gz$gwx_79(){
if( __WXML_GLOBAL__.ops_cached.$gwx_79)return __WXML_GLOBAL__.ops_cached.$gwx_79
__WXML_GLOBAL__.ops_cached.$gwx_79=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_79);return __WXML_GLOBAL__.ops_cached.$gwx_79
}
function gz$gwx_80(){
if( __WXML_GLOBAL__.ops_cached.$gwx_80)return __WXML_GLOBAL__.ops_cached.$gwx_80
__WXML_GLOBAL__.ops_cached.$gwx_80=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_80);return __WXML_GLOBAL__.ops_cached.$gwx_80
}
function gz$gwx_81(){
if( __WXML_GLOBAL__.ops_cached.$gwx_81)return __WXML_GLOBAL__.ops_cached.$gwx_81
__WXML_GLOBAL__.ops_cached.$gwx_81=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_81);return __WXML_GLOBAL__.ops_cached.$gwx_81
}
function gz$gwx_82(){
if( __WXML_GLOBAL__.ops_cached.$gwx_82)return __WXML_GLOBAL__.ops_cached.$gwx_82
__WXML_GLOBAL__.ops_cached.$gwx_82=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_82);return __WXML_GLOBAL__.ops_cached.$gwx_82
}
function gz$gwx_83(){
if( __WXML_GLOBAL__.ops_cached.$gwx_83)return __WXML_GLOBAL__.ops_cached.$gwx_83
__WXML_GLOBAL__.ops_cached.$gwx_83=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'tapSeckill'])
Z([3,'group__item group__item--full'])
Z([[7],[3,'seckillLink']])
Z([[7],[3,'seckillPtag']])
Z([[7],[3,'seckillBeginTime']])
})(__WXML_GLOBAL__.ops_cached.$gwx_83);return __WXML_GLOBAL__.ops_cached.$gwx_83
}
function gz$gwx_84(){
if( __WXML_GLOBAL__.ops_cached.$gwx_84)return __WXML_GLOBAL__.ops_cached.$gwx_84
__WXML_GLOBAL__.ops_cached.$gwx_84=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_84);return __WXML_GLOBAL__.ops_cached.$gwx_84
}
function gz$gwx_85(){
if( __WXML_GLOBAL__.ops_cached.$gwx_85)return __WXML_GLOBAL__.ops_cached.$gwx_85
__WXML_GLOBAL__.ops_cached.$gwx_85=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_85);return __WXML_GLOBAL__.ops_cached.$gwx_85
}
function gz$gwx_86(){
if( __WXML_GLOBAL__.ops_cached.$gwx_86)return __WXML_GLOBAL__.ops_cached.$gwx_86
__WXML_GLOBAL__.ops_cached.$gwx_86=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_86);return __WXML_GLOBAL__.ops_cached.$gwx_86
}
function gz$gwx_87(){
if( __WXML_GLOBAL__.ops_cached.$gwx_87)return __WXML_GLOBAL__.ops_cached.$gwx_87
__WXML_GLOBAL__.ops_cached.$gwx_87=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_87);return __WXML_GLOBAL__.ops_cached.$gwx_87
}
function gz$gwx_88(){
if( __WXML_GLOBAL__.ops_cached.$gwx_88)return __WXML_GLOBAL__.ops_cached.$gwx_88
__WXML_GLOBAL__.ops_cached.$gwx_88=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_88);return __WXML_GLOBAL__.ops_cached.$gwx_88
}
function gz$gwx_89(){
if( __WXML_GLOBAL__.ops_cached.$gwx_89)return __WXML_GLOBAL__.ops_cached.$gwx_89
__WXML_GLOBAL__.ops_cached.$gwx_89=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
})(__WXML_GLOBAL__.ops_cached.$gwx_89);return __WXML_GLOBAL__.ops_cached.$gwx_89
}
function gz$gwx_90(){
if( __WXML_GLOBAL__.ops_cached.$gwx_90)return __WXML_GLOBAL__.ops_cached.$gwx_90
__WXML_GLOBAL__.ops_cached.$gwx_90=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[6],[[7],[3,'bindWindow']],[3,'show']],[[6],[[7],[3,'bindWindow']],[3,'img']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_90);return __WXML_GLOBAL__.ops_cached.$gwx_90
}
function gz$gwx_91(){
if( __WXML_GLOBAL__.ops_cached.$gwx_91)return __WXML_GLOBAL__.ops_cached.$gwx_91
__WXML_GLOBAL__.ops_cached.$gwx_91=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[6],[[7],[3,'userInfo']],[3,'success']],[[2,'||'],[[2,'&&'],[[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'singleDefault']],[[7],[3,'bindConfig']]],[[2,'&&'],[[2,'&&'],[[6],[[7],[3,'userInfo']],[3,'isNewUser']],[[7],[3,'newConfig']]],[[6],[[7],[3,'newConfig']],[3,'link']]]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_91);return __WXML_GLOBAL__.ops_cached.$gwx_91
}
function gz$gwx_92(){
if( __WXML_GLOBAL__.ops_cached.$gwx_92)return __WXML_GLOBAL__.ops_cached.$gwx_92
__WXML_GLOBAL__.ops_cached.$gwx_92=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[2,'<='],[[7],[3,'wrapHeight']],[1,235]],[[2,'>'],[[7],[3,'wrapHeight']],[1,195]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_92);return __WXML_GLOBAL__.ops_cached.$gwx_92
}
function gz$gwx_93(){
if( __WXML_GLOBAL__.ops_cached.$gwx_93)return __WXML_GLOBAL__.ops_cached.$gwx_93
__WXML_GLOBAL__.ops_cached.$gwx_93=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'xlist_group my_cell rel_container top_line_box'])
Z([3,'navToCouponPage'])
Z([3,'assets_item'])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']]],[[7],[3,'couponNum']]],[[7],[3,'isCouponRed']]])
Z([[7],[3,'isXcx']])
Z([[2,'&&'],[[2,'!'],[[7],[3,'isXcx']]],[[2,'!'],[[7],[3,'isViomiFridge']]]])
Z([3,'navToBaiTiaoPage'])
Z(z[2])
Z([[2,'=='],[[7],[3,'baiTiaoNum']],[1,'开通有礼']])
Z([3,'assets_item_val'])
Z([[2,'||'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']],[[2,'!'],[[7],[3,'baiTiaoNum']]]])
Z([[7],[3,'baiTiaoNum']])
Z([[7],[3,'isBaiTiaoNum']])
Z([[2,'!'],[[7],[3,'isViomiFridge']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_93);return __WXML_GLOBAL__.ops_cached.$gwx_93
}
function gz$gwx_94(){
if( __WXML_GLOBAL__.ops_cached.$gwx_94)return __WXML_GLOBAL__.ops_cached.$gwx_94
__WXML_GLOBAL__.ops_cached.$gwx_94=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'xlist_group my_cell rel_container top_line_box'])
Z([3,'navToGoodsFav'])
Z([3,'assets_item'])
Z([3,'assets_item_val take_place'])
Z([[2,'||'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']],[[2,'!'],[[7],[3,'goodsFavNum']]]])
Z([[2,'&&'],[[7],[3,'goodsFavNum']],[[7],[3,'goodsRedPoint']]])
Z([3,'navToShopFav'])
Z(z[2])
Z(z[3])
Z([[2,'||'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']],[[2,'!'],[[7],[3,'shopFavNum']]]])
Z([[2,'&&'],[[7],[3,'shopFavNum']],[[7],[3,'shopRedPoint']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_94);return __WXML_GLOBAL__.ops_cached.$gwx_94
}
function gz$gwx_95(){
if( __WXML_GLOBAL__.ops_cached.$gwx_95)return __WXML_GLOBAL__.ops_cached.$gwx_95
__WXML_GLOBAL__.ops_cached.$gwx_95=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'my_header shadow '],[[2,'?:'],[[6],[[7],[3,'userInfo']],[3,'isPlus']],[1,'plus_user'],[1,'']]])
Z([3,'user_info'])
Z([3,'avatar_wrap'])
Z([3,'navToAccountPage'])
Z([3,'avatar'])
Z([[6],[[7],[3,'userInfo']],[3,'avatarUrl']])
Z([[2,'&&'],[[2,'&&'],[[6],[[7],[3,'userInfo']],[3,'success']],[[2,'!'],[[7],[3,'isSqSimple']]]],[[2,'!'],[[7],[3,'isWopayWallet']]]])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isRealName']]],[[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'formal']]])
Z([3,'personal_wrap'])
Z([[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'singleDefault']])
Z([[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'doubleDefault']])
Z([[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'formal']])
Z([3,'name_wrap'])
Z([[6],[[7],[3,'userInfo']],[3,'isPlus']])
Z([[2,'!'],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'level']]]])
Z(z[6])
Z([3,'hor-tips'])
Z([[2,'&&'],[[6],[[7],[3,'userInfo']],[3,'jvalue']],[[2,'!'],[[7],[3,'isViomiFridge']]]])
Z([[2,'&&'],[[7],[3,'showXBCredit']],[[2,'!'],[[7],[3,'isViomiFridge']]]])
Z([[2,'&&'],[[7],[3,'showFamily']],[[2,'!'],[[7],[3,'isViomiFridge']]]])
Z([3,'navToFamily'])
Z([3,'notice arrow family-icon'])
Z([[7],[3,'familyText']])
Z([[6],[[7],[3,'userInfo']],[3,'success']])
Z([[2,'||'],[[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'formal']],[[2,'=='],[[6],[[7],[3,'userInfo']],[3,'accountStatus']],[1,'doubleDefault']]])
Z([[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'isSqSimple']]],[[2,'!'],[[7],[3,'isWopayWallet']]]],[[6],[[7],[3,'userInfo']],[3,'success']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_95);return __WXML_GLOBAL__.ops_cached.$gwx_95
}
function gz$gwx_96(){
if( __WXML_GLOBAL__.ops_cached.$gwx_96)return __WXML_GLOBAL__.ops_cached.$gwx_96
__WXML_GLOBAL__.ops_cached.$gwx_96=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([1,true])
Z([3,'animationfinish'])
Z([3,'swiperChange'])
Z([[6],[[7],[3,'dealLogList']],[3,'length']])
Z([[2,'?:'],[[2,'>'],[[6],[[7],[3,'dealLogList']],[3,'length']],[1,1]],[1,true],[1,false]])
Z([3,'my_logistics_swiper'])
Z([[2,'?:'],[[7],[3,'isXCX']],[[7],[3,'currentSwiper']],[1,0]])
Z([1,false])
Z([3,'3000'])
Z(z[0])
Z([[7],[3,'dealLogList']])
Z([3,'createTime'])
Z([3,'jumpLogisDetail'])
Z([3,'my_logistics_item'])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'num']])
})(__WXML_GLOBAL__.ops_cached.$gwx_96);return __WXML_GLOBAL__.ops_cached.$gwx_96
}
function gz$gwx_97(){
if( __WXML_GLOBAL__.ops_cached.$gwx_97)return __WXML_GLOBAL__.ops_cached.$gwx_97
__WXML_GLOBAL__.ops_cached.$gwx_97=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([a,[3,'rel_container '],[[2,'?:'],[[2,'&&'],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']]],[[6],[[7],[3,'dealLogList']],[1,0]]],[1,'rel_container_has_logis'],[1,'']]])
Z([3,'top_line_box'])
Z([3,'navToOrderListPage'])
Z([3,'my_order_entrance type_unpay'])
Z([3,'7155.1.12'])
Z([3,'waitPay'])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'waitPayCount']],[[2,'!='],[[7],[3,'waitPayCount']],[1,0]]],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']]]])
Z(z[2])
Z([3,'my_order_entrance type_unrecieve'])
Z([3,'7155.1.13'])
Z([3,'waitReceipt'])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'receiveCount']],[[2,'!='],[[7],[3,'receiveCount']],[1,0]]],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']]]])
Z([[2,'!'],[[7],[3,'isMenv']]])
Z(z[2])
Z([3,'my_order_entrance type_orders'])
Z([3,'7155.1.11'])
Z([3,'all'])
Z(z[12])
Z([[2,'&&'],[[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']]],[[6],[[7],[3,'dealLogList']],[3,'length']]])
Z([[7],[3,'dealLogList']])
})(__WXML_GLOBAL__.ops_cached.$gwx_97);return __WXML_GLOBAL__.ops_cached.$gwx_97
}
function gz$gwx_98(){
if( __WXML_GLOBAL__.ops_cached.$gwx_98)return __WXML_GLOBAL__.ops_cached.$gwx_98
__WXML_GLOBAL__.ops_cached.$gwx_98=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[6],[[7],[3,'newWindow']],[3,'show']],[[6],[[7],[3,'newWindow']],[3,'img']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_98);return __WXML_GLOBAL__.ops_cached.$gwx_98
}
function gz$gwx_99(){
if( __WXML_GLOBAL__.ops_cached.$gwx_99)return __WXML_GLOBAL__.ops_cached.$gwx_99
__WXML_GLOBAL__.ops_cached.$gwx_99=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[6],[[7],[3,'plusWindow']],[3,'show']],[[6],[[7],[3,'plusWindow']],[3,'img']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_99);return __WXML_GLOBAL__.ops_cached.$gwx_99
}
function gz$gwx_100(){
if( __WXML_GLOBAL__.ops_cached.$gwx_100)return __WXML_GLOBAL__.ops_cached.$gwx_100
__WXML_GLOBAL__.ops_cached.$gwx_100=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'&&'],[[6],[[7],[3,'promoteData']],[3,'list']],[[2,'>='],[[6],[[6],[[7],[3,'promoteData']],[3,'list']],[3,'length']],[1,4]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_100);return __WXML_GLOBAL__.ops_cached.$gwx_100
}
function gz$gwx_101(){
if( __WXML_GLOBAL__.ops_cached.$gwx_101)return __WXML_GLOBAL__.ops_cached.$gwx_101
__WXML_GLOBAL__.ops_cached.$gwx_101=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'content'])
Z([3,'content-linear'])
Z([a,[3,'background-image: linear-gradient('],[[7],[3,'contentBgColor']],[3,', #f7f7f7);']])
Z([3,'listenEvent'])
Z([3,'myHeader'])
Z([[7],[3,'newBindConfig']])
Z([[7],[3,'plusText']])
Z([[7],[3,'userInfo']])
Z([[7],[3,'orderInfo']])
Z(z[7])
Z([[2,'!'],[[7],[3,'isSqSimple']]])
Z(z[5])
Z(z[7])
Z(z[10])
Z([[7],[3,'assetInfo']])
Z([3,'changeAccount'])
Z(z[7])
Z([[2,'&&'],[[6],[[7],[3,'adConfigTop']],[3,'img']],[[6],[[7],[3,'adConfigTop']],[3,'url']]])
Z(z[10])
Z([[7],[3,'favInfo']])
Z(z[7])
Z([[2,'==='],[[7],[3,'env']],[1,0]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!'],[[7],[3,'isWopayWallet']]],[[2,'!'],[[7],[3,'hideActivity']]]],[[2,'!'],[[7],[3,'isViomiFridge']]]],[[2,'!'],[[7],[3,'isSqSimple']]]])
Z(z[15])
Z(z[7])
Z([[2,'&&'],[[7],[3,'delayRender']],[[2,'!'],[[7],[3,'isSqSimple']]]])
Z([[2,'!'],[[7],[3,'isViomiFridge']]])
Z([[2,'&&'],[[6],[[7],[3,'adConfig']],[3,'img']],[[6],[[7],[3,'adConfig']],[3,'url']]])
Z([[2,'!'],[[6],[[7],[3,'userInfo']],[3,'isShowRongZai']]])
Z([[7],[3,'guideWxappShowTime']])
Z([3,'banner'])
Z([[2,'=='],[[7],[3,'env']],[1,0]])
Z([3,'jxappdl'])
Z([1,30])
Z(z[25])
Z([[2,'!'],[[7],[3,'hideRecommend']]])
Z([3,'recommend'])
Z([1,true])
Z([[2,'?:'],[[2,'=='],[[7],[3,'env']],[1,3]],[1,'MmyPage'],[1,'myPage']])
Z([3,'为您推荐'])
Z(z[10])
Z(z[5])
Z(z[7])
Z(z[10])
Z(z[5])
Z(z[7])
Z(z[10])
Z([[7],[3,'plusPinBaseInfo']])
Z(z[7])
Z([[7],[3,'showBack']])
Z([[10],[[7],[3,'toast']]])
Z([3,'toast'])
Z([[10],[[7],[3,'modal']]])
Z([3,'modal'])
Z([[7],[3,'loginLayerData']])
})(__WXML_GLOBAL__.ops_cached.$gwx_101);return __WXML_GLOBAL__.ops_cached.$gwx_101
}
function gz$gwx_102(){
if( __WXML_GLOBAL__.ops_cached.$gwx_102)return __WXML_GLOBAL__.ops_cached.$gwx_102
__WXML_GLOBAL__.ops_cached.$gwx_102=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([3,'goods'])
Z([[2,'!=='],[[7],[3,'curIdx']],[1,0]])
Z([[7],[3,'showRecommend']])
Z([3,'onRecommendLoadError'])
Z([3,'reccmp'])
Z([[8],'uiType',[1,1]])
Z([[7],[3,'entries']])
Z([3,'list'])
Z([[2,'=='],[[7],[3,'curIdx']],[[7],[3,'index']]])
Z([3,'list_index'])
Z([3,'list_item'])
Z([[4],[[5],[[5],[1,'']],[1,'']]])
Z([3,''])
Z([3,'item_index'])
Z([3,'item_item'])
Z([[6],[[7],[3,'item']],[3,'list']])
Z([3,'title'])
Z([[2,'=='],[[2,'%'],[[7],[3,'item_index']],[1,2]],[[7],[3,'list_index']]])
Z([3,'gotoUrl'])
Z([3,'goods__item'])
Z([[7],[3,'item_index']])
Z([[10],[[7],[3,'item_item']]])
Z(z[0])
})(__WXML_GLOBAL__.ops_cached.$gwx_102);return __WXML_GLOBAL__.ops_cached.$gwx_102
}
function gz$gwx_103(){
if( __WXML_GLOBAL__.ops_cached.$gwx_103)return __WXML_GLOBAL__.ops_cached.$gwx_103
__WXML_GLOBAL__.ops_cached.$gwx_103=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'reachBottom']])
Z([[7],[3,'refreshTime']])
Z([[7],[3,'scrollTop']])
Z([[2,'>'],[[7],[3,'scrollTop']],[1,1000]])
})(__WXML_GLOBAL__.ops_cached.$gwx_103);return __WXML_GLOBAL__.ops_cached.$gwx_103
}
function gz$gwx_104(){
if( __WXML_GLOBAL__.ops_cached.$gwx_104)return __WXML_GLOBAL__.ops_cached.$gwx_104
__WXML_GLOBAL__.ops_cached.$gwx_104=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$taroCompReady']])
Z([[2,'!'],[[2,'!'],[[2,'&&'],[[7],[3,'leftLabel']],[[7],[3,'rightLabel']]]]])
})(__WXML_GLOBAL__.ops_cached.$gwx_104);return __WXML_GLOBAL__.ops_cached.$gwx_104
}
function gz$gwx_105(){
if( __WXML_GLOBAL__.ops_cached.$gwx_105)return __WXML_GLOBAL__.ops_cached.$gwx_105
__WXML_GLOBAL__.ops_cached.$gwx_105=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'$taroCompReady']])
})(__WXML_GLOBAL__.ops_cached.$gwx_105);return __WXML_GLOBAL__.ops_cached.$gwx_105
}
function gz$gwx_106(){
if( __WXML_GLOBAL__.ops_cached.$gwx_106)return __WXML_GLOBAL__.ops_cached.$gwx_106
__WXML_GLOBAL__.ops_cached.$gwx_106=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[2,'!'],[[7],[3,'errMsg']]])
})(__WXML_GLOBAL__.ops_cached.$gwx_106);return __WXML_GLOBAL__.ops_cached.$gwx_106
}
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={"m_./common/modal/modal.wxml:preHandle":np_0,"m_./components/sku-layer/index.wxml:setCount":np_3,"m_./components/sku-layer/index.wxml:sliceArr":np_4,"m_./components/sku-layer/sku-added-service/index.wxml:isChecked":np_5,"m_./components/sku-layer/sku-added-service/index.wxml:toFixed":np_6,"m_./pages/wechatpay/index.wxml:prehandle":np_11,"p_./common/wxs/price.wxs":np_1,"p_./components/recommend/tools.wxs":np_2,"p_./pages/cart/common/wxs/index.wxs":np_7,"p_./pages/cart/components/bottom-bar/index.wxs":np_8,"p_./pages/cart/components/popup-coupons/index.wxs":np_9,"p_./pages/index/filter.wxs":np_10,};var nom={};return function(n){return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
f_['./common/modal/modal.wxml']={};
f_['./common/modal/modal.wxml']['preHandle'] =nv_require("m_./common/modal/modal.wxml:preHandle");
function np_0(){var nv_module={nv_exports:{}};var nv_formatePrice = (function (nv_price){return(nv_parseFloat(nv_price / 100).nv_toFixed(2))});var nv_priceToFixed = (function (nv_price){return(nv_parseFloat(nv_price).nv_toFixed(2))});nv_module.nv_exports = ({nv_formatePrice:nv_formatePrice,nv_priceToFixed:nv_priceToFixed,});return nv_module.nv_exports;}

f_['./common/wxs/price.wxs'] = nv_require("p_./common/wxs/price.wxs");
function np_1(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_price,nv_decimalPlaces){var nv_fPrice = nv_parseFloat(nv_price);if (nv_isNaN(nv_fPrice)){return(({nv_whole:nv_price,nv_int:nv_price,nv_decimal:'',}))};if (typeof nv_decimalPlaces == 'undefined'){nv_decimalPlaces = 2};var nv_sPrice = nv_fPrice.nv_toFixed(nv_decimalPlaces);var nv_aPrice = nv_sPrice.nv_split('.');return(({nv_whole:nv_sPrice,nv_int:nv_aPrice[(0)],nv_decimal:nv_aPrice[(1)] || '',}))});return nv_module.nv_exports;}

f_['./components/recommend/index.wxml']={};
f_['./components/recommend/index.wxml']['price'] =f_['./common/wxs/price.wxs'] || nv_require("p_./common/wxs/price.wxs");
f_['./components/recommend/index.wxml']['price']();
f_['./components/recommend/index.wxml']['tools'] =f_['./components/recommend/tools.wxs'] || nv_require("p_./components/recommend/tools.wxs");
f_['./components/recommend/index.wxml']['tools']();

f_['./components/recommend/tools.wxs'] = nv_require("p_./components/recommend/tools.wxs");
function np_2(){var nv_module={nv_exports:{}};var nv_price = nv_require('p_./common/wxs/price.wxs')();function nv_getYDStyle(nv_yd){return(nv_yd && nv_yd.nv_url ? 'background-image:url({0});'.nv_replace('{0}',nv_yd.nv_url):'')};function nv_getYDPrice(nv_val){var nv_int = nv_price(nv_val / 100).nv_int;var nv_decimal = nv_price(nv_val / 100).nv_decimal;return(nv_int.nv_length > 3 ? ({nv_int:nv_int,nv_decimal:'',}):({nv_int:nv_int,nv_decimal:+nv_decimal ? '.' + nv_decimal:'',}))};function nv_getPromotionTipCls(nv_v){return((({'nv_0':'','nv_1':'type_manjian','nv_2':'type_quan','nv_3':'type_shangou','nv_4':'type_xinpin','nv_5':'type_miaosha',})[((nt_0=(nv_v),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] || ''))};function nv_formatMoney(nv_v){var nv_priceObj = nv_price(nv_v / 100);var nv_int = nv_priceObj.nv_int;var nv_decimal = nv_priceObj.nv_decimal;if (nv_decimal[(0)] === '0' && +nv_decimal > 0){nv_decimal = nv_decimal} else if (nv_decimal[(1)] === '0' && +nv_decimal > 0){nv_decimal = nv_decimal[(0)]} else if (+nv_decimal > 0){nv_decimal = nv_decimal} else {nv_decimal = ''};return(({nv_int:nv_int,nv_decimal:nv_decimal,}))};nv_module.nv_exports = ({nv_getYDStyle:nv_getYDStyle,nv_getYDPrice:nv_getYDPrice,nv_getPromotionTipCls:nv_getPromotionTipCls,nv_formatMoney:nv_formatMoney,});return nv_module.nv_exports;}

f_['./components/sku-layer/index.wxml']={};
f_['./components/sku-layer/index.wxml']['setPrice'] =f_['./common/wxs/price.wxs'] || nv_require("p_./common/wxs/price.wxs");
f_['./components/sku-layer/index.wxml']['setPrice']();
f_['./components/sku-layer/index.wxml']['setCount'] =nv_require("m_./components/sku-layer/index.wxml:setCount");
function np_3(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_count){var nv_countStr = nv_count ? ('' + nv_count):'';if (nv_countStr.nv_length > 4){return('' + nv_countStr.nv_slice(0,nv_countStr.nv_length - 4) + 'w')};return(nv_countStr)});return nv_module.nv_exports;}
f_['./components/sku-layer/index.wxml']['sliceArr'] =nv_require("m_./components/sku-layer/index.wxml:sliceArr");
function np_4(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_arr,nv_start,nv_end){return(nv_arr.nv_slice(nv_start,nv_end))});return nv_module.nv_exports;}

f_['./components/sku-layer/sku-added-service/index.wxml']={};
f_['./components/sku-layer/sku-added-service/index.wxml']['isChecked'] =nv_require("m_./components/sku-layer/sku-added-service/index.wxml:isChecked");
function np_5(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_list,nv_id){return(nv_list.nv_indexOf(nv_id) > -1)});return nv_module.nv_exports;}
f_['./components/sku-layer/sku-added-service/index.wxml']['toFixed'] =nv_require("m_./components/sku-layer/sku-added-service/index.wxml:toFixed");
function np_6(){var nv_module={nv_exports:{}};nv_module.nv_exports = (function (nv_price){return(Number)(nv_price).nv_toFixed(2)});return nv_module.nv_exports;}

f_['./pages/cart/cart/cart.wxml']={};
f_['./pages/cart/cart/cart.wxml']['utils'] =f_['./pages/cart/common/wxs/index.wxs'] || nv_require("p_./pages/cart/common/wxs/index.wxs");
f_['./pages/cart/cart/cart.wxml']['utils']();

f_['./pages/cart/cart/index.wxml']={};
f_['./pages/cart/cart/index.wxml']['utils'] =f_['./pages/cart/common/wxs/index.wxs'] || nv_require("p_./pages/cart/common/wxs/index.wxs");
f_['./pages/cart/cart/index.wxml']['utils']();

f_['./pages/cart/common/wxs/index.wxs'] = nv_require("p_./pages/cart/common/wxs/index.wxs");
function np_7(){var nv_module={nv_exports:{}};function nv_getClsPrice(nv_promoTag,nv_shopLevel){if (nv_promoTag == '12'){if (!nv_shopLevel)return('');;return(({'nv_5001':'lv1_price','nv_5002':'lv2_price','nv_5003':'lv3_price','nv_5004':'lv4_price','nv_5005':'lv5_price',})[((nt_0=(nv_shopLevel + ''),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] || '')};return(({'nv_15':'sams_price','nv_18':'exclusive_price','nv_23':'fans_price','nv_25':'newer_price','nv_29':'student_price','nv_201':'plus_price','nv_101':'plus_price','nv_1005':'family_price',})[((nt_1=(nv_promoTag + ''),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))] || '')};function nv_showSwitchPrice(nv_memberPriceType,nv_shopLevel){if (nv_memberPriceType == '12'){if (!nv_shopLevel)return(false);;var nv_lvs = ['5001','5002','5003','5004','5005'];return(nv_lvs.nv_indexOf(nv_shopLevel) > -1)};var nv_flags = ['15','18','23','25','29','101','201','1005'];return(nv_flags.nv_indexOf(nv_memberPriceType) > -1)};function nv_getMemPriceDesc(nv_memberPriceType){return(({'nv_15':'山姆价','nv_18':'专属价','nv_23':'粉丝价','nv_25':'新人价','nv_29':'学生价','nv_201':'会员价','nv_101':'会员价','nv_1005':'家庭价','nv_12':'会员价',})[((nt_2=(nv_memberPriceType + ''),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))] || '')};var nv_isShowCoudanBtn = (function (nv_category){return([1,2,3].nv_indexOf(+nv_category) > -1)});var nv_showFbpTip = (function (nv_fbpVender,nv_vid){var nv_vids = ['8888','1000076153','603837','146426','663284','667688'];return(nv_fbpVender == 1 && nv_vids.nv_indexOf(nv_vid + '') < 0)});var nv_getItemExtraCls = (function (nv_polyType,nv_isLast,nv_isSuitPro,nv_noStock){var nv_cls = '';if (nv_isSuitPro){nv_cls += ' suit_pro'} else if (nv_polyType == 3 || nv_polyType == 4){nv_cls += ' connect_line '};if (nv_isLast){nv_cls += ' last'};if (nv_noStock){nv_cls += ' nostock'};return(nv_cls)});var nv_getTopPlaceholderHeight = (function (nv_isSupportNav,nv_isShowTabs,nv_navHeight){var nv_height = '0';if (nv_isSupportNav && nv_isShowTabs){nv_height = 'calc(' + nv_navHeight + 'px + 90rpx)'} else if (nv_isSupportNav){nv_height = nv_navHeight + 'px'} else if (nv_isShowTabs){nv_height = '90rpx'};return(nv_height)});var nv_getTotalFixedHeight = (function (nv_addrFixed,nv_navHeight,nv_isShowTabs){var nv_fixedHeight = '0';if (nv_isShowTabs){nv_fixedHeight = 'calc(' + (nv_addrFixed ? '178rpx':'90rpx') + ' + ' + nv_navHeight + 'px)'} else {nv_fixedHeight = nv_addrFixed ? ('calc(88rpx + ' + nv_navHeight + 'px)'):(nv_navHeight + 'px')};return(nv_fixedHeight)});var nv_rafObserver = (function (nv_newValue,nv_oldValue,nv_onwins,nv_ins){nv_ins.nv_requestAnimationFrame((function (){nv_ins.nv_callMethod('_requestAnimationFrameCB',nv_ins.nv_getDataset())}))});var nv_getSkuCheckCls = (function (nv_checkType){if (nv_checkType == 0)return('');;return(({'nv_1':'checked','nv_3':'presale',})[((nt_3=(nv_checkType + ''),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))] || 'disabled')});var nv_getSkuCheckFunc = (function (nv_checkType){return(({'nv_0':'onCheck','nv_1':'onCheck','nv_3':'showCheckTips',})[((nt_4=(nv_checkType + ''),null==nt_4?undefined:'number'=== typeof nt_4?nt_4:"nv_"+nt_4))] || 'showCheckTips')});nv_module.nv_exports = ({nv_getClsPrice:nv_getClsPrice,nv_showSwitchPrice:nv_showSwitchPrice,nv_isShowCoudanBtn:nv_isShowCoudanBtn,nv_showFbpTip:nv_showFbpTip,nv_getItemExtraCls:nv_getItemExtraCls,nv_rafObserver:nv_rafObserver,nv_getTopPlaceholderHeight:nv_getTopPlaceholderHeight,nv_getSkuCheckCls:nv_getSkuCheckCls,nv_getSkuCheckFunc:nv_getSkuCheckFunc,nv_getTotalFixedHeight:nv_getTotalFixedHeight,nv_getMemPriceDesc:nv_getMemPriceDesc,});return nv_module.nv_exports;}

f_['./pages/cart/components/bottom-bar/index.wxml']={};
f_['./pages/cart/components/bottom-bar/index.wxml']['utils'] =f_['./pages/cart/components/bottom-bar/index.wxs'] || nv_require("p_./pages/cart/components/bottom-bar/index.wxs");
f_['./pages/cart/components/bottom-bar/index.wxml']['utils']();

f_['./pages/cart/components/bottom-bar/index.wxs'] = nv_require("p_./pages/cart/components/bottom-bar/index.wxs");
function np_8(){var nv_module={nv_exports:{}};var nv_getSummaryTexts = (function (nv_details){var nv_texts = [];nv_details.nv_forEach((function (nv_item){nv_item.nv_category !== 'other' && nv_texts.nv_push(nv_item.nv_text)}));return(nv_texts.nv_join('、'))});var nv_show95Desc = (function (nv_val1,nv_val2){return((+nv_val1) >= (+nv_val2))});nv_module.nv_exports = ({nv_getSummaryTexts:nv_getSummaryTexts,nv_show95Desc:nv_show95Desc,});return nv_module.nv_exports;}

f_['./pages/cart/components/popup-coupons/index.wxml']={};
f_['./pages/cart/components/popup-coupons/index.wxml']['util'] =f_['./pages/cart/components/popup-coupons/index.wxs'] || nv_require("p_./pages/cart/components/popup-coupons/index.wxs");
f_['./pages/cart/components/popup-coupons/index.wxml']['util']();

f_['./pages/cart/components/popup-coupons/index.wxs'] = nv_require("p_./pages/cart/components/popup-coupons/index.wxs");
function np_9(){var nv_module={nv_exports:{}};function nv_getCouponCls(nv_type,nv_couponUserLable){if (nv_couponUserLable == 5)return('bg_shengqian');;if (nv_couponUserLable == 6)return('bg_shengqian_god');;return((({'nv_0':'bg_jing','nv_1':'bg_dong','nv_2':'bg_yun',})[((nt_0=(nv_type),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] || ''))};function nv_getCouponTypeText(nv_typeCode,nv_kindCode){var nv_kind = ({'nv_2':'店铺','nv_3':'店铺',})[((nt_1=(nv_kindCode),null==nt_1?undefined:'number'=== typeof nt_1?nt_1:"nv_"+nt_1))] || '';var nv_type = ({'nv_0':'京券','nv_1':'东券','nv_2':'免运费券',})[((nt_2=(nv_typeCode),null==nt_2?undefined:'number'=== typeof nt_2?nt_2:"nv_"+nt_2))] || '';return(nv_kind + nv_type)};function nv_getStatusCls(nv_status){return(({'nv_1':'','nv_2':'disabled','nv_3':'','nv_4':'disabled',})[((nt_3=(nv_status),null==nt_3?undefined:'number'=== typeof nt_3?nt_3:"nv_"+nt_3))] || '')};function nv_getStatusText(nv_status){return((({'nv_1':'领取','nv_2':'已领取','nv_3':'领取中','nv_4':'已抢光',})[((nt_4=(nv_status),null==nt_4?undefined:'number'=== typeof nt_4?nt_4:"nv_"+nt_4))] || ''))};nv_module.nv_exports = ({nv_getCouponCls:nv_getCouponCls,nv_getCouponTypeText:nv_getCouponTypeText,nv_getStatusCls:nv_getStatusCls,nv_getStatusText:nv_getStatusText,});return nv_module.nv_exports;}

f_['./pages/cart/components/product/index.wxml']={};
f_['./pages/cart/components/product/index.wxml']['utils'] =f_['./pages/cart/common/wxs/index.wxs'] || nv_require("p_./pages/cart/common/wxs/index.wxs");
f_['./pages/cart/components/product/index.wxml']['utils']();

f_['./pages/cart/components/suit/index.wxml']={};
f_['./pages/cart/components/suit/index.wxml']['utils'] =f_['./pages/cart/common/wxs/index.wxs'] || nv_require("p_./pages/cart/common/wxs/index.wxs");
f_['./pages/cart/components/suit/index.wxml']['utils']();

f_['./pages/cart/components/switch-price/index.wxml']={};
f_['./pages/cart/components/switch-price/index.wxml']['utils'] =f_['./pages/cart/common/wxs/index.wxs'] || nv_require("p_./pages/cart/common/wxs/index.wxs");
f_['./pages/cart/components/switch-price/index.wxml']['utils']();

f_['./pages/index/filter.wxs'] = nv_require("p_./pages/index/filter.wxs");
function np_10(){var nv_module={nv_exports:{}};function nv_priceCeil(nv_price){return(Math.nv_ceil(+nv_price))};function nv_priceOneDecimal(nv_price){return(Math.nv_ceil(+nv_price * 10) * 1.0 / 10)};nv_module.nv_exports = ({nv_priceCeil:nv_priceCeil,nv_priceOneDecimal:nv_priceOneDecimal,});return nv_module.nv_exports;}

f_['./pages/index/mallv2/wallet-group/index.wxml']={};
f_['./pages/index/mallv2/wallet-group/index.wxml']['filter'] =f_['./pages/index/filter.wxs'] || nv_require("p_./pages/index/filter.wxs");
f_['./pages/index/mallv2/wallet-group/index.wxml']['filter']();

f_['./pages/wechatpay/index.wxml']={};
f_['./pages/wechatpay/index.wxml']['prehandle'] =nv_require("m_./pages/wechatpay/index.wxml:prehandle");
function np_11(){var nv_module={nv_exports:{}};var nv_formatePrice = (function (nv_price){return(nv_parseFloat(nv_price / 100).nv_toFixed(2))});nv_module.nv_exports = ({nv_formatePrice:nv_formatePrice,});return nv_module.nv_exports;}

var x=['./common/address_picker/address_picker.wxml','./common/dialog/dialog.wxml','./common/empty_prompt/empty_prompt.wxml','./common/img_loader/img_loader.wxml','./common/modal/modal.wxml','./common/toast/toast.wxml','./components/add-wxapp-entry/add-wxapp-entry.wxml','./components/add-wxapp/add-wxapp.wxml','./components/address-layer/index.wxml','./components/bonus-header-down/index.wxml','./components/bottom-widget/bottom-widget.wxml','./components/bubble-message/bubble-message.wxml','./components/canvas-share/index.wxml','./components/horn/horn.wxml','./components/jxapp-dl-entry/index.wxml','./components/launch-jdapp/index.wxml','./components/launch-pgapp/index.wxml','./components/login-layer/login-layer.wxml','./components/mp-behavior/index.wxml','./components/nav-bar/nav-bar.wxml','./components/quick-clear/index.wxml','./components/quick-nav/quick-nav.wxml','./components/recommend/index.wxml','../../common/toast/toast.wxml','./components/return-wxapp/index.wxml','./components/search-bar/index.wxml','./components/sku-layer/index.wxml','./components/sku-layer/sku-added-service/index.wxml','./components/slider-view/index.wxml','./components/subscribe-guider/index.wxml','./components/watermarker/index.wxml','./pages/cart/cart/cart.wxml','./page.wxml','./popup-cmps.wxml','../../../common/toast/toast.wxml','../../../common/modal/modal.wxml','../../components/message-box/index.wxml','./pages/cart/cart/index.wxml','./pages/cart/cart/page.wxml','./pages/cart/cart/popup-cmps.wxml','./pages/cart/components/banner/index.wxml','./pages/cart/components/bottom-bar/index.wxml','./pages/cart/components/main-sku-gift/index.wxml','./pages/cart/components/number-picker/index.wxml','./pages/cart/components/option-promotions/index.wxml','./pages/cart/components/popup-coupons/index.wxml','./pages/cart/components/product/index.wxml','./pages/cart/components/pullrefresh/index.wxml','./pages/cart/components/sku-infos/index.wxml','./pages/cart/components/suit/index.wxml','./pages/cart/components/switch-price/index.wxml','./pages/cart/components/switch-promotions/index.wxml','./pages/cart/components/top-bar/index.wxml','./pages/cate/cate.wxml','./pages/cate/components/banner/index.wxml','./pages/cate/components/cate-list/index.wxml','./pages/cate/components/channel/index.wxml','./pages/cate/components/promotion-entry/index.wxml','./pages/cate/components/promotion/index.wxml','./pages/cate/components/tab-nav/index.wxml','./pages/common/update/index.wxml','./pages/components/message-box/index.wxml','./pages/gwq/index.wxml','./pages/h5/index.wxml','./pages/index/compoments-sale/banner-1/index.wxml','./pages/index/compoments-sale/banner-2/index.wxml','./pages/index/compoments-sale/featured-1/index.wxml','./pages/index/compoments-sale/featured-2/index.wxml','./pages/index/compoments-sale/timeaxis-1/index.wxml','./pages/index/components-cate/catebar/index.wxml','./pages/index/components-cate/channel/index.wxml','./pages/index/components-cate/goods/index.wxml','./pages/index/components/app-lauch-btn/index.wxml','./pages/index/components/shake/shake.wxml','./pages/index/index.wxml','./pages/index/mallv2/carousel/carousel.wxml','../../../../common/img_loader/img_loader.wxml','./pages/index/mallv2/channel-nav/channel-nav.wxml','./pages/index/mallv2/curtain/curtain.wxml','./pages/index/mallv2/floating/floating.wxml','./pages/index/mallv2/goods/goods.wxml','./pages/index/mallv2/group-banner/group-banner.wxml','./pages/index/mallv2/guide-bar/index.wxml','./pages/index/mallv2/hot-word/hot-word.wxml','./pages/index/mallv2/index/index.wxml','./pages/index/mallv2/newuser-floor/index.wxml','./pages/index/mallv2/one-yuan/one-yuan.wxml','./pages/index/mallv2/promote-banner/promote-banner.wxml','./pages/index/mallv2/search-bar/search-bar.wxml','./pages/index/mallv2/wallet-group/index.wxml','./pages/index/mallv2/wallet-selected/index.wxml','./pages/index/mallv2/yard/index.wxml','./pages/my/account/account.wxml','./pages/my/coupon/coupon.wxml','./pages/my/ecard/bind/bind.wxml','./pages/my/ecard/index/index.wxml','./pages/my/index/components/bind-curtain/index.wxml','./pages/my/index/components/bind-floor/index.wxml','./pages/my/index/components/my-activity/index.wxml','./pages/my/index/components/my-asset/index.wxml','./pages/my/index/components/my-fav/index.wxml','./pages/my/index/components/my-header/index.wxml','./pages/my/index/components/my-logistics/index.wxml','./pages/my/index/components/my-order/index.wxml','./pages/my/index/components/new-curtain/index.wxml','./pages/my/index/components/plus-curtain/index.wxml','./pages/my/index/components/promote-floor/index.wxml','./pages/my/index/index.wxml','./pages/recommend/components/goods/goods.wxml','./pages/recommend/index.wxml','./pages/taro/components/fanxian-tag/index.wxml','./pages/taro/components/loading/index.wxml','./pages/wechatpay/index.wxml'];d_[x[0]]={}
d_[x[0]]["address_picker"]=function(e,s,r,gg){
var z=gz$gwx_1()
var b=x[0]+':address_picker'
r.wxVkey=b
gg.f=$gdc(f_["./common/address_picker/address_picker.wxml"],"",1)
if(p_[b]){_wl(b,x[0]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(r,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
oB.wxXCkey=1
xC.wxXCkey=1
oD.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m0=function(e,s,r,gg){
var z=gz$gwx_1()
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
d_[x[1]]={}
var m1=function(e,s,r,gg){
var z=gz$gwx_2()
var xC=_v()
_(r,xC)
if(_oz(z,0,e,s,gg)){xC.wxVkey=1
var oD=_n('view')
_rz(z,oD,'class',1,e,s,gg)
var fE=_v()
_(oD,fE)
if(_oz(z,2,e,s,gg)){fE.wxVkey=1
var oH=_v()
_(fE,oH)
if(_oz(z,3,e,s,gg)){oH.wxVkey=1
}
oH.wxXCkey=1
}
var cI=_n('slot')
_(oD,cI)
var cF=_v()
_(oD,cF)
if(_oz(z,4,e,s,gg)){cF.wxVkey=1
}
var hG=_v()
_(oD,hG)
if(_oz(z,5,e,s,gg)){hG.wxVkey=1
}
fE.wxXCkey=1
cF.wxXCkey=1
hG.wxXCkey=1
_(xC,oD)
}
xC.wxXCkey=1
return r
}
e_[x[1]]={f:m1,j:[],i:[],ti:[],ic:[]}
d_[x[2]]={}
d_[x[2]]["empty_prompt"]=function(e,s,r,gg){
var z=gz$gwx_3()
var b=x[2]+':empty_prompt'
r.wxVkey=b
gg.f=$gdc(f_["./common/empty_prompt/empty_prompt.wxml"],"",1)
if(p_[b]){_wl(b,x[2]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m2=function(e,s,r,gg){
var z=gz$gwx_3()
return r
}
e_[x[2]]={f:m2,j:[],i:[],ti:[],ic:[]}
d_[x[3]]={}
d_[x[3]]["img-loader"]=function(e,s,r,gg){
var z=gz$gwx_4()
var b=x[3]+':img-loader'
r.wxVkey=b
gg.f=$gdc(f_["./common/img_loader/img_loader.wxml"],"",1)
if(p_[b]){_wl(b,x[3]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m3=function(e,s,r,gg){
var z=gz$gwx_4()
return r
}
e_[x[3]]={f:m3,j:[],i:[],ti:[],ic:[]}
d_[x[4]]={}
d_[x[4]]["modal"]=function(e,s,r,gg){
var z=gz$gwx_5()
var b=x[4]+':modal'
r.wxVkey=b
gg.f=$gdc(f_["./common/modal/modal.wxml"],"",1)
if(p_[b]){_wl(b,x[4]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_n('view')
_rz(z,xC,'class',2,e,s,gg)
var oD=_v()
_(xC,oD)
if(_oz(z,3,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(xC,fE)
if(_oz(z,4,e,s,gg)){fE.wxVkey=1
}
var cF=_v()
_(xC,cF)
if(_oz(z,5,e,s,gg)){cF.wxVkey=1
var cI=_v()
_(cF,cI)
if(_oz(z,6,e,s,gg)){cI.wxVkey=1
var oJ=_v()
_(cI,oJ)
var lK=_oz(z,8,e,s,gg)
var aL=_gd(x[4],lK,e_,d_)
if(aL){
var tM=_1z(z,7,e,s,gg) || {}
var cur_globalf=gg.f
oJ.wxXCkey=3
aL(tM,tM,oJ,gg)
gg.f=cur_globalf
}
else _w(lK,x[4],18,34)
}
cI.wxXCkey=1
}
var hG=_v()
_(xC,hG)
if(_oz(z,9,e,s,gg)){hG.wxVkey=1
}
var oH=_v()
_(xC,oH)
if(_oz(z,10,e,s,gg)){oH.wxVkey=1
}
oD.wxXCkey=1
fE.wxXCkey=1
cF.wxXCkey=1
hG.wxXCkey=1
oH.wxXCkey=1
_(oB,xC)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[4]]["goods"]=function(e,s,r,gg){
var z=gz$gwx_5()
var b=x[4]+':goods'
r.wxVkey=b
gg.f=$gdc(f_["./common/modal/modal.wxml"],"",1)
if(p_[b]){_wl(b,x[4]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
var xC=function(fE,oD,cF,gg){
var oH=_v()
_(cF,oH)
if(_oz(z,14,fE,oD,gg)){oH.wxVkey=1
}
oH.wxXCkey=1
return cF
}
oB.wxXCkey=2
_2z(z,12,xC,e,s,gg,oB,'item','index','{{ index }}')
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m4=function(e,s,r,gg){
var z=gz$gwx_5()
return r
}
e_[x[4]]={f:m4,j:[],i:[],ti:[],ic:[]}
d_[x[5]]={}
d_[x[5]]["toast"]=function(e,s,r,gg){
var z=gz$gwx_6()
var b=x[5]+':toast'
r.wxVkey=b
gg.f=$gdc(f_["./common/toast/toast.wxml"],"",1)
if(p_[b]){_wl(b,x[5]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
if(_oz(z,2,e,s,gg)){xC.wxVkey=1
}
xC.wxXCkey=1
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m5=function(e,s,r,gg){
var z=gz$gwx_6()
return r
}
e_[x[5]]={f:m5,j:[],i:[],ti:[],ic:[]}
d_[x[6]]={}
var m6=function(e,s,r,gg){
var z=gz$gwx_7()
var bO=_v()
_(r,bO)
if(_oz(z,0,e,s,gg)){bO.wxVkey=1
var oP=_n('view')
var xQ=_v()
_(oP,xQ)
if(_oz(z,1,e,s,gg)){xQ.wxVkey=1
var oR=_n('view')
_rz(z,oR,'class',2,e,s,gg)
var fS=_v()
_(oR,fS)
if(_oz(z,3,e,s,gg)){fS.wxVkey=1
}
else if(_oz(z,4,e,s,gg)){fS.wxVkey=2
}
else if(_oz(z,5,e,s,gg)){fS.wxVkey=3
}
else if(_oz(z,6,e,s,gg)){fS.wxVkey=4
}
else if(_oz(z,7,e,s,gg)){fS.wxVkey=5
var cT=_v()
_(fS,cT)
if(_oz(z,8,e,s,gg)){cT.wxVkey=1
}
cT.wxXCkey=1
}
else if(_oz(z,9,e,s,gg)){fS.wxVkey=6
var hU=_v()
_(fS,hU)
if(_oz(z,10,e,s,gg)){hU.wxVkey=1
}
hU.wxXCkey=1
}
else{fS.wxVkey=7
}
fS.wxXCkey=1
_(xQ,oR)
}
else if(_oz(z,11,e,s,gg)){xQ.wxVkey=2
var oV=_mz(z,'view',['bindtap',12,'class',1,'style',2],[],e,s,gg)
var cW=_v()
_(oV,cW)
if(_oz(z,15,e,s,gg)){cW.wxVkey=1
}
cW.wxXCkey=1
_(xQ,oV)
}
xQ.wxXCkey=1
_(bO,oP)
}
var oX=_mz(z,'add-wxapp',['addWxappData',16,'navHeight',1],[],e,s,gg)
_(r,oX)
bO.wxXCkey=1
return r
}
e_[x[6]]={f:m6,j:[],i:[],ti:[],ic:[]}
d_[x[7]]={}
var m7=function(e,s,r,gg){
var z=gz$gwx_8()
var aZ=_v()
_(r,aZ)
if(_oz(z,0,e,s,gg)){aZ.wxVkey=1
var t1=_mz(z,'view',['bindtap',1,'catchtouchmove',1,'class',2,'data-type',3,'style',4],[],e,s,gg)
var e2=_n('view')
_rz(z,e2,'class',6,e,s,gg)
var b3=_v()
_(e2,b3)
if(_oz(z,7,e,s,gg)){b3.wxVkey=1
}
else if(_oz(z,8,e,s,gg)){b3.wxVkey=2
var o4=_v()
_(b3,o4)
if(_oz(z,9,e,s,gg)){o4.wxVkey=1
}
o4.wxXCkey=1
}
else if(_oz(z,10,e,s,gg)){b3.wxVkey=3
var x5=_n('view')
var o6=_n('view')
_rz(z,o6,'class',11,e,s,gg)
var f7=_v()
_(o6,f7)
if(_oz(z,12,e,s,gg)){f7.wxVkey=1
}
var c8=_v()
_(o6,c8)
if(_oz(z,13,e,s,gg)){c8.wxVkey=1
}
f7.wxXCkey=1
c8.wxXCkey=1
_(x5,o6)
var h9=_n('view')
_rz(z,h9,'class',14,e,s,gg)
var o0=_v()
_(h9,o0)
if(_oz(z,15,e,s,gg)){o0.wxVkey=1
}
var cAB=_v()
_(h9,cAB)
if(_oz(z,16,e,s,gg)){cAB.wxVkey=1
}
var oBB=_v()
_(h9,oBB)
if(_oz(z,17,e,s,gg)){oBB.wxVkey=1
}
o0.wxXCkey=1
cAB.wxXCkey=1
oBB.wxXCkey=1
_(x5,h9)
_(b3,x5)
}
else if(_oz(z,18,e,s,gg)){b3.wxVkey=4
}
else{b3.wxVkey=5
}
b3.wxXCkey=1
_(t1,e2)
_(aZ,t1)
}
aZ.wxXCkey=1
return r
}
e_[x[7]]={f:m7,j:[],i:[],ti:[],ic:[]}
d_[x[8]]={}
var m8=function(e,s,r,gg){
var z=gz$gwx_9()
var aDB=_v()
_(r,aDB)
if(_oz(z,0,e,s,gg)){aDB.wxVkey=1
var tEB=_n('view')
_rz(z,tEB,'class',1,e,s,gg)
var eFB=_v()
_(tEB,eFB)
if(_oz(z,2,e,s,gg)){eFB.wxVkey=1
}
var bGB=_v()
_(tEB,bGB)
if(_oz(z,3,e,s,gg)){bGB.wxVkey=1
}
else if(_oz(z,4,e,s,gg)){bGB.wxVkey=2
var oHB=_n('view')
_rz(z,oHB,'class',5,e,s,gg)
var xIB=_v()
_(oHB,xIB)
if(_oz(z,6,e,s,gg)){xIB.wxVkey=1
}
var fKB=_n('view')
_rz(z,fKB,'class',7,e,s,gg)
var hMB=_v()
_(fKB,hMB)
var oNB=function(oPB,cOB,lQB,gg){
var tSB=_v()
_(lQB,tSB)
if(_oz(z,10,oPB,cOB,gg)){tSB.wxVkey=1
}
tSB.wxXCkey=1
return lQB
}
hMB.wxXCkey=2
_2z(z,8,oNB,e,s,gg,hMB,'item','index','*this')
var cLB=_v()
_(fKB,cLB)
if(_oz(z,11,e,s,gg)){cLB.wxVkey=1
}
cLB.wxXCkey=1
_(oHB,fKB)
var eTB=_mz(z,'scroll-view',['scrollY',-1,'catchtouchmove',12,'class',1,'scrollTop',2],[],e,s,gg)
var bUB=_v()
_(eTB,bUB)
if(_oz(z,15,e,s,gg)){bUB.wxVkey=1
}
else{bUB.wxVkey=2
var oVB=_v()
_(bUB,oVB)
if(_oz(z,16,e,s,gg)){oVB.wxVkey=1
}
var xWB=_v()
_(bUB,xWB)
if(_oz(z,17,e,s,gg)){xWB.wxVkey=1
}
oVB.wxXCkey=1
xWB.wxXCkey=1
}
bUB.wxXCkey=1
_(oHB,eTB)
var oJB=_v()
_(oHB,oJB)
if(_oz(z,18,e,s,gg)){oJB.wxVkey=1
}
xIB.wxXCkey=1
oJB.wxXCkey=1
_(bGB,oHB)
}
eFB.wxXCkey=1
bGB.wxXCkey=1
_(aDB,tEB)
}
aDB.wxXCkey=1
return r
}
e_[x[8]]={f:m8,j:[],i:[],ti:[],ic:[]}
d_[x[9]]={}
var m9=function(e,s,r,gg){
var z=gz$gwx_10()
var fYB=_v()
_(r,fYB)
if(_oz(z,0,e,s,gg)){fYB.wxVkey=1
var cZB=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var h1B=_v()
_(cZB,h1B)
if(_oz(z,3,e,s,gg)){h1B.wxVkey=1
}
var o2B=_v()
_(cZB,o2B)
if(_oz(z,4,e,s,gg)){o2B.wxVkey=1
var o4B=_mz(z,'launch-pgapp',['param',5,'ref',1],[],e,s,gg)
_(o2B,o4B)
}
var c3B=_v()
_(cZB,c3B)
if(_oz(z,7,e,s,gg)){c3B.wxVkey=1
}
h1B.wxXCkey=1
o2B.wxXCkey=1
o2B.wxXCkey=3
c3B.wxXCkey=1
_(fYB,cZB)
}
fYB.wxXCkey=1
fYB.wxXCkey=3
return r
}
e_[x[9]]={f:m9,j:[],i:[],ti:[],ic:[]}
d_[x[10]]={}
var m10=function(e,s,r,gg){
var z=gz$gwx_11()
var a6B=_v()
_(r,a6B)
if(_oz(z,0,e,s,gg)){a6B.wxVkey=1
}
a6B.wxXCkey=1
return r
}
e_[x[10]]={f:m10,j:[],i:[],ti:[],ic:[]}
d_[x[11]]={}
var m11=function(e,s,r,gg){
var z=gz$gwx_12()
var e8B=_mz(z,'view',['class',0,'style',1],[],e,s,gg)
var b9B=_v()
_(e8B,b9B)
if(_oz(z,2,e,s,gg)){b9B.wxVkey=1
}
var o0B=_v()
_(e8B,o0B)
if(_oz(z,3,e,s,gg)){o0B.wxVkey=1
var xAC=_v()
_(o0B,xAC)
if(_oz(z,4,e,s,gg)){xAC.wxVkey=1
}
xAC.wxXCkey=1
}
b9B.wxXCkey=1
o0B.wxXCkey=1
_(r,e8B)
return r
}
e_[x[11]]={f:m11,j:[],i:[],ti:[],ic:[]}
d_[x[12]]={}
var m12=function(e,s,r,gg){
var z=gz$gwx_13()
var fCC=_mz(z,'view',['class',0,'id',1],[],e,s,gg)
var cDC=_v()
_(fCC,cDC)
if(_oz(z,2,e,s,gg)){cDC.wxVkey=1
}
var hEC=_v()
_(fCC,hEC)
if(_oz(z,3,e,s,gg)){hEC.wxVkey=1
}
cDC.wxXCkey=1
hEC.wxXCkey=1
_(r,fCC)
return r
}
e_[x[12]]={f:m12,j:[],i:[],ti:[],ic:[]}
d_[x[13]]={}
var m13=function(e,s,r,gg){
var z=gz$gwx_14()
var cGC=_v()
_(r,cGC)
if(_oz(z,0,e,s,gg)){cGC.wxVkey=1
var oHC=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var lIC=_v()
_(oHC,lIC)
if(_oz(z,3,e,s,gg)){lIC.wxVkey=1
}
else{lIC.wxVkey=2
var aJC=_mz(z,'view',['bindtap',4,'class',1],[],e,s,gg)
var tKC=_v()
_(aJC,tKC)
if(_oz(z,6,e,s,gg)){tKC.wxVkey=1
}
tKC.wxXCkey=1
_(lIC,aJC)
}
lIC.wxXCkey=1
_(cGC,oHC)
}
cGC.wxXCkey=1
return r
}
e_[x[13]]={f:m13,j:[],i:[],ti:[],ic:[]}
d_[x[14]]={}
var m14=function(e,s,r,gg){
var z=gz$gwx_15()
var bMC=_v()
_(r,bMC)
if(_oz(z,0,e,s,gg)){bMC.wxVkey=1
}
bMC.wxXCkey=1
return r
}
e_[x[14]]={f:m14,j:[],i:[],ti:[],ic:[]}
d_[x[15]]={}
var m15=function(e,s,r,gg){
var z=gz$gwx_16()
return r
}
e_[x[15]]={f:m15,j:[],i:[],ti:[],ic:[]}
d_[x[16]]={}
var m16=function(e,s,r,gg){
var z=gz$gwx_17()
var oPC=_n('view')
_rz(z,oPC,'class',0,e,s,gg)
var fQC=_v()
_(oPC,fQC)
if(_oz(z,1,e,s,gg)){fQC.wxVkey=1
}
var cRC=_v()
_(oPC,cRC)
if(_oz(z,2,e,s,gg)){cRC.wxVkey=1
}
var hSC=_v()
_(oPC,hSC)
if(_oz(z,3,e,s,gg)){hSC.wxVkey=1
}
var oTC=_v()
_(oPC,oTC)
if(_oz(z,4,e,s,gg)){oTC.wxVkey=1
}
var cUC=_v()
_(oPC,cUC)
if(_oz(z,5,e,s,gg)){cUC.wxVkey=1
var oVC=_n('view')
_rz(z,oVC,'class',6,e,s,gg)
var lWC=_v()
_(oVC,lWC)
if(_oz(z,7,e,s,gg)){lWC.wxVkey=1
var aXC=_n('view')
_rz(z,aXC,'class',8,e,s,gg)
var tYC=_v()
_(aXC,tYC)
if(_oz(z,9,e,s,gg)){tYC.wxVkey=1
}
else{tYC.wxVkey=2
var eZC=_v()
_(tYC,eZC)
if(_oz(z,10,e,s,gg)){eZC.wxVkey=1
}
eZC.wxXCkey=1
}
tYC.wxXCkey=1
_(lWC,aXC)
}
else{lWC.wxVkey=2
var b1C=_v()
_(lWC,b1C)
if(_oz(z,11,e,s,gg)){b1C.wxVkey=1
}
b1C.wxXCkey=1
}
lWC.wxXCkey=1
_(cUC,oVC)
}
fQC.wxXCkey=1
cRC.wxXCkey=1
hSC.wxXCkey=1
oTC.wxXCkey=1
cUC.wxXCkey=1
_(r,oPC)
return r
}
e_[x[16]]={f:m16,j:[],i:[],ti:[],ic:[]}
d_[x[17]]={}
var m17=function(e,s,r,gg){
var z=gz$gwx_18()
var x3C=_v()
_(r,x3C)
if(_oz(z,0,e,s,gg)){x3C.wxVkey=1
var o4C=_n('view')
_rz(z,o4C,'class',1,e,s,gg)
var f5C=_v()
_(o4C,f5C)
if(_oz(z,2,e,s,gg)){f5C.wxVkey=1
var h7C=_n('view')
_rz(z,h7C,'class',3,e,s,gg)
var o8C=_v()
_(h7C,o8C)
if(_oz(z,4,e,s,gg)){o8C.wxVkey=1
var c9C=_v()
_(o8C,c9C)
if(_oz(z,5,e,s,gg)){c9C.wxVkey=1
}
c9C.wxXCkey=1
}
var o0C=_n('view')
_rz(z,o0C,'class',6,e,s,gg)
var lAD=_v()
_(o0C,lAD)
if(_oz(z,7,e,s,gg)){lAD.wxVkey=1
}
var aBD=_v()
_(o0C,aBD)
if(_oz(z,8,e,s,gg)){aBD.wxVkey=1
}
lAD.wxXCkey=1
aBD.wxXCkey=1
_(h7C,o0C)
o8C.wxXCkey=1
_(f5C,h7C)
}
var c6C=_v()
_(o4C,c6C)
if(_oz(z,9,e,s,gg)){c6C.wxVkey=1
var tCD=_n('view')
_rz(z,tCD,'class',10,e,s,gg)
var eDD=_v()
_(tCD,eDD)
if(_oz(z,11,e,s,gg)){eDD.wxVkey=1
var bED=_v()
_(eDD,bED)
if(_oz(z,12,e,s,gg)){bED.wxVkey=1
}
bED.wxXCkey=1
}
var oFD=_n('view')
_rz(z,oFD,'class',13,e,s,gg)
var xGD=_v()
_(oFD,xGD)
if(_oz(z,14,e,s,gg)){xGD.wxVkey=1
}
var oHD=_v()
_(oFD,oHD)
if(_oz(z,15,e,s,gg)){oHD.wxVkey=1
}
xGD.wxXCkey=1
oHD.wxXCkey=1
_(tCD,oFD)
eDD.wxXCkey=1
_(c6C,tCD)
}
f5C.wxXCkey=1
c6C.wxXCkey=1
_(x3C,o4C)
}
x3C.wxXCkey=1
return r
}
e_[x[17]]={f:m17,j:[],i:[],ti:[],ic:[]}
d_[x[18]]={}
var m18=function(e,s,r,gg){
var z=gz$gwx_19()
var cJD=_mz(z,'view',['bind:touchend',0,'bind:touchmove',1,'bind:touchstart',1,'class',2],[],e,s,gg)
var hKD=_n('slot')
_(cJD,hKD)
_(r,cJD)
return r
}
e_[x[18]]={f:m18,j:[],i:[],ti:[],ic:[]}
d_[x[19]]={}
var m19=function(e,s,r,gg){
var z=gz$gwx_20()
var cMD=_v()
_(r,cMD)
if(_oz(z,0,e,s,gg)){cMD.wxVkey=1
var oND=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var eRD=_mz(z,'view',['catchtap',3,'class',1,'style',2],[],e,s,gg)
var bSD=_v()
_(eRD,bSD)
if(_oz(z,6,e,s,gg)){bSD.wxVkey=1
}
else{bSD.wxVkey=2
var oTD=_n('slot')
_(bSD,oTD)
}
bSD.wxXCkey=1
_(oND,eRD)
var lOD=_v()
_(oND,lOD)
if(_oz(z,7,e,s,gg)){lOD.wxVkey=1
var xUD=_n('horn')
_rz(z,xUD,'hornData',8,e,s,gg)
_(lOD,xUD)
}
var aPD=_v()
_(oND,aPD)
if(_oz(z,9,e,s,gg)){aPD.wxVkey=1
var oVD=_mz(z,'bubble-message',['bindtriggerclick',10,'bindtriggerhide',1,'bubbleMessageData',2],[],e,s,gg)
_(aPD,oVD)
}
var tQD=_v()
_(oND,tQD)
if(_oz(z,13,e,s,gg)){tQD.wxVkey=1
var fWD=_n('view')
_rz(z,fWD,'class',14,e,s,gg)
var cXD=_v()
_(fWD,cXD)
if(_oz(z,15,e,s,gg)){cXD.wxVkey=1
}
var hYD=_v()
_(fWD,hYD)
if(_oz(z,16,e,s,gg)){hYD.wxVkey=1
}
var oZD=_v()
_(fWD,oZD)
if(_oz(z,17,e,s,gg)){oZD.wxVkey=1
}
cXD.wxXCkey=1
hYD.wxXCkey=1
oZD.wxXCkey=1
_(tQD,fWD)
}
lOD.wxXCkey=1
lOD.wxXCkey=3
aPD.wxXCkey=1
aPD.wxXCkey=3
tQD.wxXCkey=1
_(cMD,oND)
}
cMD.wxXCkey=1
cMD.wxXCkey=3
return r
}
e_[x[19]]={f:m19,j:[],i:[],ti:[],ic:[]}
d_[x[20]]={}
var m20=function(e,s,r,gg){
var z=gz$gwx_21()
var o2D=_v()
_(r,o2D)
if(_oz(z,0,e,s,gg)){o2D.wxVkey=1
var l3D=_mz(z,'view',['catchtouchmove',1,'class',1],[],e,s,gg)
var a4D=_n('view')
_rz(z,a4D,'class',3,e,s,gg)
var e6D=_mz(z,'scroll-view',['scrollY',-1,'class',4],[],e,s,gg)
var b7D=_v()
_(e6D,b7D)
if(_oz(z,5,e,s,gg)){b7D.wxVkey=1
}
else{b7D.wxVkey=2
var o8D=_v()
_(b7D,o8D)
var x9D=function(fAE,o0D,cBE,gg){
var oDE=_v()
_(cBE,oDE)
var cEE=function(lGE,oFE,aHE,gg){
var eJE=_mz(z,'view',['bind:tap',11,'class',1,'data-id',2,'data-key',3,'data-selected',4],[],lGE,oFE,gg)
var bKE=_v()
_(eJE,bKE)
if(_oz(z,16,lGE,oFE,gg)){bKE.wxVkey=1
}
bKE.wxXCkey=1
_(aHE,eJE)
return aHE
}
oDE.wxXCkey=2
_2z(z,9,cEE,fAE,o0D,gg,oDE,'product','index','wxKey')
return cBE
}
o8D.wxXCkey=2
_2z(z,6,x9D,e,s,gg,o8D,'item','index','key')
}
b7D.wxXCkey=1
_(a4D,e6D)
var t5D=_v()
_(a4D,t5D)
if(_oz(z,17,e,s,gg)){t5D.wxVkey=1
}
t5D.wxXCkey=1
_(l3D,a4D)
_(o2D,l3D)
}
o2D.wxXCkey=1
return r
}
e_[x[20]]={f:m20,j:[],i:[],ti:[],ic:[]}
d_[x[21]]={}
var m21=function(e,s,r,gg){
var z=gz$gwx_22()
var xME=_v()
_(r,xME)
if(_oz(z,0,e,s,gg)){xME.wxVkey=1
}
xME.wxXCkey=1
return r
}
e_[x[21]]={f:m21,j:[],i:[],ti:[],ic:[]}
d_[x[22]]={}
d_[x[22]]["product"]=function(e,s,r,gg){
var z=gz$gwx_23()
var b=x[22]+':product'
r.wxVkey=b
gg.f=$gdc(f_["./components/recommend/index.wxml"],"",1)
if(p_[b]){_wl(b,x[22]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['bindtap',21,'class',1,'data-actual-index',2,'data-index',3,'data-isleft',4,'id',5],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,27,e,s,gg)){xC.wxVkey=1
var oD=_v()
_(xC,oD)
var fE=_oz(z,29,e,s,gg)
var cF=_gd(x[22],fE,e_,d_)
if(cF){
var hG=_1z(z,28,e,s,gg) || {}
var cur_globalf=gg.f
oD.wxXCkey=3
cF(hG,hG,oD,gg)
gg.f=cur_globalf
}
else _w(fE,x[22],41,66)
}
else if(_oz(z,30,e,s,gg)){xC.wxVkey=2
var oH=_v()
_(xC,oH)
var cI=_oz(z,32,e,s,gg)
var oJ=_gd(x[22],cI,e_,d_)
if(oJ){
var lK=_1z(z,31,e,s,gg) || {}
var cur_globalf=gg.f
oH.wxXCkey=3
oJ(lK,lK,oH,gg)
gg.f=cur_globalf
}
else _w(cI,x[22],42,53)
}
else{xC.wxVkey=3
var aL=_n('view')
var xQ=_n('view')
_rz(z,xQ,'class',33,e,s,gg)
var oR=_v()
_(xQ,oR)
if(_oz(z,34,e,s,gg)){oR.wxVkey=1
}
else if(_oz(z,35,e,s,gg)){oR.wxVkey=2
}
else{oR.wxVkey=3
var fS=_v()
_(oR,fS)
if(_oz(z,36,e,s,gg)){fS.wxVkey=1
var cT=_v()
_(fS,cT)
if(_oz(z,37,e,s,gg)){cT.wxVkey=1
}
cT.wxXCkey=1
}
fS.wxXCkey=1
}
oR.wxXCkey=1
_(aL,xQ)
var tM=_v()
_(aL,tM)
if(_oz(z,38,e,s,gg)){tM.wxVkey=1
}
var hU=_n('view')
_rz(z,hU,'class',39,e,s,gg)
var oV=_n('view')
_rz(z,oV,'class',40,e,s,gg)
var cW=_v()
_(oV,cW)
if(_oz(z,41,e,s,gg)){cW.wxVkey=1
}
var oX=_v()
_(oV,oX)
if(_oz(z,42,e,s,gg)){oX.wxVkey=1
}
cW.wxXCkey=1
oX.wxXCkey=1
_(hU,oV)
var lY=_n('view')
_rz(z,lY,'class',43,e,s,gg)
var e2=_n('view')
_rz(z,e2,'class',44,e,s,gg)
var b3=_v()
_(e2,b3)
if(_oz(z,45,e,s,gg)){b3.wxVkey=1
}
else if(_oz(z,46,e,s,gg)){b3.wxVkey=2
}
else{b3.wxVkey=3
var o4=_n('view')
_rz(z,o4,'class',47,e,s,gg)
var x5=_v()
_(o4,x5)
if(_oz(z,48,e,s,gg)){x5.wxVkey=1
}
var o6=_v()
_(o4,o6)
if(_oz(z,49,e,s,gg)){o6.wxVkey=1
}
var f7=_v()
_(o4,f7)
if(_oz(z,50,e,s,gg)){f7.wxVkey=1
}
var c8=_v()
_(o4,c8)
if(_oz(z,51,e,s,gg)){c8.wxVkey=1
}
var h9=_v()
_(o4,h9)
if(_oz(z,52,e,s,gg)){h9.wxVkey=1
}
var o0=_v()
_(o4,o0)
if(_oz(z,53,e,s,gg)){o0.wxVkey=1
}
var cAB=_v()
_(o4,cAB)
if(_oz(z,54,e,s,gg)){cAB.wxVkey=1
}
var oBB=_v()
_(o4,oBB)
if(_oz(z,55,e,s,gg)){oBB.wxVkey=1
}
x5.wxXCkey=1
o6.wxXCkey=1
f7.wxXCkey=1
c8.wxXCkey=1
h9.wxXCkey=1
o0.wxXCkey=1
cAB.wxXCkey=1
oBB.wxXCkey=1
_(b3,o4)
}
b3.wxXCkey=1
_(lY,e2)
var aZ=_v()
_(lY,aZ)
if(_oz(z,56,e,s,gg)){aZ.wxVkey=1
}
var t1=_v()
_(lY,t1)
if(_oz(z,57,e,s,gg)){t1.wxVkey=1
}
aZ.wxXCkey=1
t1.wxXCkey=1
_(hU,lY)
_(aL,hU)
var eN=_v()
_(aL,eN)
if(_oz(z,58,e,s,gg)){eN.wxVkey=1
}
var bO=_v()
_(aL,bO)
if(_oz(z,59,e,s,gg)){bO.wxVkey=1
}
var oP=_v()
_(aL,oP)
if(_oz(z,60,e,s,gg)){oP.wxVkey=1
}
tM.wxXCkey=1
eN.wxXCkey=1
bO.wxXCkey=1
oP.wxXCkey=1
_(xC,aL)
}
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[22]]["topicTpl"]=function(e,s,r,gg){
var z=gz$gwx_23()
var b=x[22]+':topicTpl'
r.wxVkey=b
gg.f=$gdc(f_["./components/recommend/index.wxml"],"",1)
if(p_[b]){_wl(b,x[22]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[22]]["keyWordsTpl"]=function(e,s,r,gg){
var z=gz$gwx_23()
var b=x[22]+':keyWordsTpl'
r.wxVkey=b
gg.f=$gdc(f_["./components/recommend/index.wxml"],"",1)
if(p_[b]){_wl(b,x[22]);return}
p_[b]=true
try{
var oB=_mz(z,'view',['catchtap',63,'class',1,'data-key-index',2],[],e,s,gg)
var xC=_v()
_(oB,xC)
if(_oz(z,66,e,s,gg)){xC.wxVkey=1
}
var oD=_mz(z,'view',['bind:tap',67,'class',1],[],e,s,gg)
var fE=_v()
_(oD,fE)
var cF=function(oH,hG,cI,gg){
var lK=_v()
_(cI,lK)
if(_oz(z,72,oH,hG,gg)){lK.wxVkey=1
}
lK.wxXCkey=1
return cI
}
fE.wxXCkey=2
_2z(z,70,cF,e,s,gg,fE,'it','index','wordid')
_(oB,oD)
xC.wxXCkey=1
_(r,oB)
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m22=function(e,s,r,gg){
var z=gz$gwx_23()
var fOE=e_[x[22]].i
var cPE=_v()
_(r,cPE)
if(_oz(z,0,e,s,gg)){cPE.wxVkey=1
var hQE=_mz(z,'view',['class',1,'hidden',1],[],e,s,gg)
var oRE=_v()
_(hQE,oRE)
if(_oz(z,3,e,s,gg)){oRE.wxVkey=1
}
var cSE=_v()
_(hQE,cSE)
if(_oz(z,4,e,s,gg)){cSE.wxVkey=1
var oTE=_v()
_(cSE,oTE)
var lUE=function(tWE,aVE,eXE,gg){
var oZE=_v()
_(eXE,oZE)
var x1E=_oz(z,8,tWE,aVE,gg)
var o2E=_gd(x[22],x1E,e_,d_)
if(o2E){
var f3E=_1z(z,7,tWE,aVE,gg) || {}
var cur_globalf=gg.f
oZE.wxXCkey=3
o2E(f3E,f3E,oZE,gg)
gg.f=cur_globalf
}
else _w(x1E,x[22],14,18)
return eXE
}
oTE.wxXCkey=2
_2z(z,5,lUE,e,s,gg,oTE,'item','index','sku')
}
else{cSE.wxVkey=2
var c4E=_n('view')
_rz(z,c4E,'class',9,e,s,gg)
var h5E=_v()
_(c4E,h5E)
var o6E=function(o8E,c7E,l9E,gg){
var tAF=_v()
_(l9E,tAF)
var eBF=_oz(z,13,o8E,c7E,gg)
var bCF=_gd(x[22],eBF,e_,d_)
if(bCF){
var oDF=_1z(z,12,o8E,c7E,gg) || {}
var cur_globalf=gg.f
tAF.wxXCkey=3
bCF(oDF,oDF,tAF,gg)
gg.f=cur_globalf
}
else _w(eBF,x[22],18,25)
return l9E
}
h5E.wxXCkey=2
_2z(z,10,o6E,e,s,gg,h5E,'item','index','sku')
var xEF=_v()
_(c4E,xEF)
var oFF=function(cHF,fGF,hIF,gg){
var cKF=_v()
_(hIF,cKF)
var oLF=_oz(z,17,cHF,fGF,gg)
var lMF=_gd(x[22],oLF,e_,d_)
if(lMF){
var aNF=_1z(z,16,cHF,fGF,gg) || {}
var cur_globalf=gg.f
cKF.wxXCkey=3
lMF(aNF,aNF,cKF,gg)
gg.f=cur_globalf
}
else _w(oLF,x[22],21,26)
return hIF
}
xEF.wxXCkey=2
_2z(z,14,oFF,e,s,gg,xEF,'item','index','sku')
_(cSE,c4E)
}
oRE.wxXCkey=1
cSE.wxXCkey=1
_(cPE,hQE)
}
_ai(fOE,x[23],e_,x[22],31,2)
var tOF=_v()
_(r,tOF)
var ePF=_oz(z,19,e,s,gg)
var bQF=_gd(x[22],ePF,e_,d_)
if(bQF){
var oRF=_1z(z,18,e,s,gg) || {}
var cur_globalf=gg.f
tOF.wxXCkey=3
bQF(oRF,oRF,tOF,gg)
gg.f=cur_globalf
}
else _w(ePF,x[22],32,14)
cPE.wxXCkey=1
fOE.pop()
return r
}
e_[x[22]]={f:m22,j:[],i:[],ti:[x[23]],ic:[]}
d_[x[24]]={}
var m23=function(e,s,r,gg){
var z=gz$gwx_24()
return r
}
e_[x[24]]={f:m23,j:[],i:[],ti:[],ic:[]}
d_[x[25]]={}
var m24=function(e,s,r,gg){
var z=gz$gwx_25()
var fUF=_mz(z,'view',['bind:tap',0,'class',1,'style',1],[],e,s,gg)
var cVF=_v()
_(fUF,cVF)
if(_oz(z,3,e,s,gg)){cVF.wxVkey=1
}
cVF.wxXCkey=1
_(r,fUF)
return r
}
e_[x[25]]={f:m24,j:[],i:[],ti:[],ic:[]}
d_[x[26]]={}
var m25=function(e,s,r,gg){
var z=gz$gwx_26()
var oXF=e_[x[26]].i
var cYF=_mz(z,'view',['catchtouchmove',0,'class',1],[],e,s,gg)
var oZF=_mz(z,'view',['class',2,'hidden',1],[],e,s,gg)
var a2F=_n('view')
_rz(z,a2F,'class',4,e,s,gg)
var t3F=_mz(z,'view',['bind:tap',5,'class',1],[],e,s,gg)
var e4F=_v()
_(t3F,e4F)
if(_oz(z,7,e,s,gg)){e4F.wxVkey=1
}
e4F.wxXCkey=1
_(a2F,t3F)
var b5F=_n('view')
_rz(z,b5F,'class',8,e,s,gg)
var o6F=_v()
_(b5F,o6F)
if(_oz(z,9,e,s,gg)){o6F.wxVkey=1
var o8F=_n('view')
_rz(z,o8F,'class',10,e,s,gg)
var f9F=_v()
_(o8F,f9F)
if(_oz(z,11,e,s,gg)){f9F.wxVkey=1
}
var c0F=_v()
_(o8F,c0F)
if(_oz(z,12,e,s,gg)){c0F.wxVkey=1
}
f9F.wxXCkey=1
c0F.wxXCkey=1
_(o6F,o8F)
}
else if(_oz(z,13,e,s,gg)){o6F.wxVkey=2
var hAG=_v()
_(o6F,hAG)
if(_oz(z,14,e,s,gg)){hAG.wxVkey=1
}
hAG.wxXCkey=1
}
var x7F=_v()
_(b5F,x7F)
if(_oz(z,15,e,s,gg)){x7F.wxVkey=1
}
o6F.wxXCkey=1
x7F.wxXCkey=1
_(a2F,b5F)
_(oZF,a2F)
var oBG=_n('view')
_rz(z,oBG,'class',16,e,s,gg)
var oDG=_n('view')
_rz(z,oDG,'class',17,e,s,gg)
var lEG=_v()
_(oDG,lEG)
if(_oz(z,18,e,s,gg)){lEG.wxVkey=1
var bIG=_v()
_(lEG,bIG)
var oJG=function(oLG,xKG,fMG,gg){
var hOG=_v()
_(fMG,hOG)
if(_oz(z,23,oLG,xKG,gg)){hOG.wxVkey=1
var oPG=_v()
_(hOG,oPG)
var cQG=function(lSG,oRG,aTG,gg){
var eVG=_v()
_(aTG,eVG)
if(_oz(z,27,lSG,oRG,gg)){eVG.wxVkey=1
}
eVG.wxXCkey=1
return aTG
}
oPG.wxXCkey=2
_2z(z,25,cQG,oLG,xKG,gg,oPG,'item','idx','*this')
}
hOG.wxXCkey=1
return fMG
}
bIG.wxXCkey=2
_2z(z,21,oJG,e,s,gg,bIG,'skuProp','index','name')
}
var aFG=_v()
_(oDG,aFG)
if(_oz(z,28,e,s,gg)){aFG.wxVkey=1
var bWG=_mz(z,'view',['bindtap',29,'class',1,'data-url',2],[],e,s,gg)
var oXG=_v()
_(bWG,oXG)
if(_oz(z,32,e,s,gg)){oXG.wxVkey=1
var xYG=_v()
_(oXG,xYG)
var oZG=function(c2G,f1G,h3G,gg){
var c5G=_v()
_(h3G,c5G)
if(_oz(z,35,c2G,f1G,gg)){c5G.wxVkey=1
var l7G=_n('view')
_rz(z,l7G,'class',36,c2G,f1G,gg)
var a8G=_v()
_(l7G,a8G)
if(_oz(z,38,c2G,f1G,gg)){a8G.wxVkey=1
}
a8G.wxXCkey=1
_(c5G,l7G)
}
var o6G=_v()
_(h3G,o6G)
if(_oz(z,39,c2G,f1G,gg)){o6G.wxVkey=1
}
c5G.wxXCkey=1
o6G.wxXCkey=1
return h3G
}
xYG.wxXCkey=2
_2z(z,34,oZG,e,s,gg,xYG,'item','idx','')
}
else{oXG.wxVkey=2
var t9G=_v()
_(oXG,t9G)
if(_oz(z,40,e,s,gg)){t9G.wxVkey=1
}
t9G.wxXCkey=1
}
oXG.wxXCkey=1
_(aFG,bWG)
}
var tGG=_v()
_(oDG,tGG)
if(_oz(z,41,e,s,gg)){tGG.wxVkey=1
var e0G=_v()
_(tGG,e0G)
if(_oz(z,42,e,s,gg)){e0G.wxVkey=1
}
e0G.wxXCkey=1
}
var eHG=_v()
_(oDG,eHG)
if(_oz(z,43,e,s,gg)){eHG.wxVkey=1
}
lEG.wxXCkey=1
aFG.wxXCkey=1
tGG.wxXCkey=1
eHG.wxXCkey=1
_(oBG,oDG)
var cCG=_v()
_(oBG,cCG)
if(_oz(z,44,e,s,gg)){cCG.wxVkey=1
var bAH=_mz(z,'sku-added-service',['areaId',45,'bind:updateAddedServices',1,'brandId',2,'category',3,'initAddedServices',4,'isSupportGift',5,'price',6,'skuId',7],[],e,s,gg)
_(cCG,bAH)
}
cCG.wxXCkey=1
cCG.wxXCkey=3
_(oZF,oBG)
var l1F=_v()
_(oZF,l1F)
if(_oz(z,53,e,s,gg)){l1F.wxVkey=1
var oBH=_v()
_(l1F,oBH)
if(_oz(z,54,e,s,gg)){oBH.wxVkey=1
var xCH=_v()
_(oBH,xCH)
if(_oz(z,55,e,s,gg)){xCH.wxVkey=1
var oDH=_mz(z,'view',['bind:tap',56,'class',1,'data-report',2],[],e,s,gg)
var fEH=_v()
_(oDH,fEH)
if(_oz(z,59,e,s,gg)){fEH.wxVkey=1
}
var cFH=_v()
_(oDH,cFH)
if(_oz(z,60,e,s,gg)){cFH.wxVkey=1
}
fEH.wxXCkey=1
cFH.wxXCkey=1
_(xCH,oDH)
}
xCH.wxXCkey=1
}
else if(_oz(z,61,e,s,gg)){oBH.wxVkey=2
var hGH=_n('view')
_rz(z,hGH,'class',62,e,s,gg)
var oHH=_v()
_(hGH,oHH)
if(_oz(z,63,e,s,gg)){oHH.wxVkey=1
var cIH=_v()
_(oHH,cIH)
if(_oz(z,64,e,s,gg)){cIH.wxVkey=1
var lKH=_mz(z,'view',['bindtap',65,'class',1,'data-enable',2],[],e,s,gg)
var aLH=_v()
_(lKH,aLH)
if(_oz(z,68,e,s,gg)){aLH.wxVkey=1
}
aLH.wxXCkey=1
_(cIH,lKH)
}
var oJH=_v()
_(oHH,oJH)
if(_oz(z,69,e,s,gg)){oJH.wxVkey=1
var tMH=_mz(z,'form',['reportSubmit',-1,'bindsubmit',70,'class',1],[],e,s,gg)
var eNH=_v()
_(tMH,eNH)
if(_oz(z,72,e,s,gg)){eNH.wxVkey=1
}
eNH.wxXCkey=1
_(oJH,tMH)
}
cIH.wxXCkey=1
oJH.wxXCkey=1
}
else if(_oz(z,73,e,s,gg)){oHH.wxVkey=2
var bOH=_v()
_(oHH,bOH)
if(_oz(z,74,e,s,gg)){bOH.wxVkey=1
}
bOH.wxXCkey=1
}
else if(_oz(z,75,e,s,gg)){oHH.wxVkey=3
var oPH=_v()
_(oHH,oPH)
if(_oz(z,76,e,s,gg)){oPH.wxVkey=1
}
var xQH=_v()
_(oHH,xQH)
if(_oz(z,77,e,s,gg)){xQH.wxVkey=1
}
oPH.wxXCkey=1
xQH.wxXCkey=1
}
else if(_oz(z,78,e,s,gg)){oHH.wxVkey=4
}
else if(_oz(z,79,e,s,gg)){oHH.wxVkey=5
}
else if(_oz(z,80,e,s,gg)){oHH.wxVkey=6
}
else if(_oz(z,81,e,s,gg)){oHH.wxVkey=7
var oRH=_v()
_(oHH,oRH)
if(_oz(z,82,e,s,gg)){oRH.wxVkey=1
}
var fSH=_v()
_(oHH,fSH)
if(_oz(z,83,e,s,gg)){fSH.wxVkey=1
}
oRH.wxXCkey=1
fSH.wxXCkey=1
}
else if(_oz(z,84,e,s,gg)){oHH.wxVkey=8
var cTH=_mz(z,'view',['bindtap',85,'class',1,'style',2],[],e,s,gg)
var hUH=_v()
_(cTH,hUH)
if(_oz(z,88,e,s,gg)){hUH.wxVkey=1
}
hUH.wxXCkey=1
_(oHH,cTH)
}
else{oHH.wxVkey=9
var oVH=_v()
_(oHH,oVH)
if(_oz(z,89,e,s,gg)){oVH.wxVkey=1
}
var cWH=_mz(z,'view',['bindtap',90,'class',1],[],e,s,gg)
var oXH=_v()
_(cWH,oXH)
if(_oz(z,92,e,s,gg)){oXH.wxVkey=1
}
oXH.wxXCkey=1
_(oHH,cWH)
oVH.wxXCkey=1
}
oHH.wxXCkey=1
_(oBH,hGH)
}
else{oBH.wxVkey=3
}
oBH.wxXCkey=1
}
else{l1F.wxVkey=2
}
l1F.wxXCkey=1
_(cYF,oZF)
_(r,cYF)
_ai(oXF,x[23],e_,x[26],352,2)
var lYH=_v()
_(r,lYH)
var aZH=_oz(z,94,e,s,gg)
var t1H=_gd(x[26],aZH,e_,d_)
if(t1H){
var e2H=_1z(z,93,e,s,gg) || {}
var cur_globalf=gg.f
lYH.wxXCkey=3
t1H(e2H,e2H,lYH,gg)
gg.f=cur_globalf
}
else _w(aZH,x[26],353,14)
oXF.pop()
return r
}
e_[x[26]]={f:m25,j:[],i:[],ti:[x[23]],ic:[]}
d_[x[27]]={}
var m26=function(e,s,r,gg){
var z=gz$gwx_27()
var o4H=_n('view')
_rz(z,o4H,'class',0,e,s,gg)
var x5H=_v()
_(o4H,x5H)
if(_oz(z,1,e,s,gg)){x5H.wxVkey=1
}
var o6H=_v()
_(o4H,o6H)
if(_oz(z,2,e,s,gg)){o6H.wxVkey=1
}
var f7H=_v()
_(o4H,f7H)
if(_oz(z,3,e,s,gg)){f7H.wxVkey=1
var o0H=_v()
_(f7H,o0H)
var cAI=function(lCI,oBI,aDI,gg){
var eFI=_v()
_(aDI,eFI)
var bGI=function(xII,oHI,oJI,gg){
var cLI=_mz(z,'view',['bind:tap',10,'class',1,'data-gindex',2,'data-id',3,'data-type',4],[],xII,oHI,gg)
var oNI=_n('view')
_rz(z,oNI,'class',15,xII,oHI,gg)
var cOI=_v()
_(oNI,cOI)
if(_oz(z,16,xII,oHI,gg)){cOI.wxVkey=1
}
var oPI=_v()
_(oNI,oPI)
if(_oz(z,17,xII,oHI,gg)){oPI.wxVkey=1
}
cOI.wxXCkey=1
oPI.wxXCkey=1
_(cLI,oNI)
var hMI=_v()
_(cLI,hMI)
if(_oz(z,18,xII,oHI,gg)){hMI.wxVkey=1
}
hMI.wxXCkey=1
_(oJI,cLI)
return oJI
}
eFI.wxXCkey=2
_2z(z,8,bGI,lCI,oBI,gg,eFI,'item','index','id')
return aDI
}
o0H.wxXCkey=2
_2z(z,6,cAI,e,s,gg,o0H,'group','groupIndex','name')
}
var c8H=_v()
_(o4H,c8H)
if(_oz(z,19,e,s,gg)){c8H.wxVkey=1
var lQI=_v()
_(c8H,lQI)
var aRI=function(eTI,tSI,bUI,gg){
var xWI=_v()
_(bUI,xWI)
var oXI=function(cZI,fYI,h1I,gg){
var c3I=_mz(z,'view',['bind:tap',26,'class',1,'data-gindex',2,'data-id',3,'data-type',4],[],cZI,fYI,gg)
var l5I=_n('view')
_rz(z,l5I,'class',31,cZI,fYI,gg)
var a6I=_v()
_(l5I,a6I)
if(_oz(z,32,cZI,fYI,gg)){a6I.wxVkey=1
}
var t7I=_v()
_(l5I,t7I)
if(_oz(z,33,cZI,fYI,gg)){t7I.wxVkey=1
}
a6I.wxXCkey=1
t7I.wxXCkey=1
_(c3I,l5I)
var o4I=_v()
_(c3I,o4I)
if(_oz(z,34,cZI,fYI,gg)){o4I.wxVkey=1
}
o4I.wxXCkey=1
_(h1I,c3I)
return h1I
}
xWI.wxXCkey=2
_2z(z,24,oXI,eTI,tSI,gg,xWI,'item','index','id')
return bUI
}
lQI.wxXCkey=2
_2z(z,22,aRI,e,s,gg,lQI,'group','groupIndex','name')
}
var h9H=_v()
_(o4H,h9H)
if(_oz(z,35,e,s,gg)){h9H.wxVkey=1
var e8I=_v()
_(h9H,e8I)
var b9I=function(xAJ,o0I,oBJ,gg){
var cDJ=_v()
_(oBJ,cDJ)
var hEJ=function(cGJ,oFJ,oHJ,gg){
var aJJ=_mz(z,'view',['bind:tap',42,'class',1,'data-gindex',2,'data-id',3,'data-type',4],[],cGJ,oFJ,gg)
var bMJ=_n('view')
_rz(z,bMJ,'class',47,cGJ,oFJ,gg)
var oNJ=_v()
_(bMJ,oNJ)
if(_oz(z,48,cGJ,oFJ,gg)){oNJ.wxVkey=1
}
var xOJ=_v()
_(bMJ,xOJ)
if(_oz(z,49,cGJ,oFJ,gg)){xOJ.wxVkey=1
}
oNJ.wxXCkey=1
xOJ.wxXCkey=1
_(aJJ,bMJ)
var tKJ=_v()
_(aJJ,tKJ)
if(_oz(z,50,cGJ,oFJ,gg)){tKJ.wxVkey=1
}
var eLJ=_v()
_(aJJ,eLJ)
if(_oz(z,51,cGJ,oFJ,gg)){eLJ.wxVkey=1
}
tKJ.wxXCkey=1
eLJ.wxXCkey=1
_(oHJ,aJJ)
return oHJ
}
cDJ.wxXCkey=2
_2z(z,40,hEJ,xAJ,o0I,gg,cDJ,'item','index','id')
return oBJ
}
e8I.wxXCkey=2
_2z(z,38,b9I,e,s,gg,e8I,'group','groupIndex','name')
}
x5H.wxXCkey=1
o6H.wxXCkey=1
f7H.wxXCkey=1
c8H.wxXCkey=1
h9H.wxXCkey=1
_(r,o4H)
return r
}
e_[x[27]]={f:m26,j:[],i:[],ti:[],ic:[]}
d_[x[28]]={}
var m27=function(e,s,r,gg){
var z=gz$gwx_28()
var fQJ=_mz(z,'movable-view',['bind:change',0,'bind:touchend',1,'class',1,'damping',2,'direction',3,'disabled',4,'x',5],[],e,s,gg)
var cRJ=_n('slot')
_(fQJ,cRJ)
var hSJ=_mz(z,'view',['class',7,'style',1],[],e,s,gg)
var oTJ=_v()
_(hSJ,oTJ)
if(_oz(z,9,e,s,gg)){oTJ.wxVkey=1
}
var cUJ=_v()
_(hSJ,cUJ)
if(_oz(z,10,e,s,gg)){cUJ.wxVkey=1
}
oTJ.wxXCkey=1
cUJ.wxXCkey=1
_(fQJ,hSJ)
_(r,fQJ)
return r
}
e_[x[28]]={f:m27,j:[],i:[],ti:[],ic:[]}
d_[x[29]]={}
var m28=function(e,s,r,gg){
var z=gz$gwx_29()
var lWJ=_v()
_(r,lWJ)
if(_oz(z,0,e,s,gg)){lWJ.wxVkey=1
var tYJ=_v()
_(lWJ,tYJ)
if(_oz(z,1,e,s,gg)){tYJ.wxVkey=1
var eZJ=_v()
_(tYJ,eZJ)
if(_oz(z,2,e,s,gg)){eZJ.wxVkey=1
}
eZJ.wxXCkey=1
}
tYJ.wxXCkey=1
}
var aXJ=_v()
_(r,aXJ)
if(_oz(z,3,e,s,gg)){aXJ.wxVkey=1
}
lWJ.wxXCkey=1
aXJ.wxXCkey=1
return r
}
e_[x[29]]={f:m28,j:[],i:[],ti:[],ic:[]}
d_[x[30]]={}
var m29=function(e,s,r,gg){
var z=gz$gwx_30()
var o2J=_v()
_(r,o2J)
if(_oz(z,0,e,s,gg)){o2J.wxVkey=1
}
o2J.wxXCkey=1
return r
}
e_[x[30]]={f:m29,j:[],i:[],ti:[],ic:[]}
d_[x[31]]={}
var m30=function(e,s,r,gg){
var z=gz$gwx_31()
var o4J=e_[x[31]].j
var f5J=e_[x[31]].i
_ic(x[32],e_,x[31],e,s,r,gg);
_ic(x[33],e_,x[31],e,s,r,gg);
_ai(f5J,x[34],e_,x[31],7,2)
var c6J=_v()
_(r,c6J)
var h7J=_oz(z,1,e,s,gg)
var o8J=_gd(x[31],h7J,e_,d_)
if(o8J){
var c9J=_1z(z,0,e,s,gg) || {}
var cur_globalf=gg.f
c6J.wxXCkey=3
o8J(c9J,c9J,c6J,gg)
gg.f=cur_globalf
}
else _w(h7J,x[31],8,14)
_ai(f5J,x[35],e_,x[31],9,2)
var o0J=_v()
_(r,o0J)
var lAK=_oz(z,3,e,s,gg)
var aBK=_gd(x[31],lAK,e_,d_)
if(aBK){
var tCK=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
o0J.wxXCkey=3
aBK(tCK,tCK,o0J,gg)
gg.f=cur_globalf
}
else _w(lAK,x[31],10,14)
_ai(f5J,x[36],e_,x[31],11,2)
var eDK=_v()
_(r,eDK)
var bEK=_oz(z,5,e,s,gg)
var oFK=_gd(x[31],bEK,e_,d_)
if(oFK){
var xGK=_1z(z,4,e,s,gg) || {}
var cur_globalf=gg.f
eDK.wxXCkey=3
oFK(xGK,xGK,eDK,gg)
gg.f=cur_globalf
}
else _w(bEK,x[31],12,14)
f5J.pop()
f5J.pop()
f5J.pop()
o4J.pop()
o4J.pop()
return r
}
e_[x[31]]={f:m30,j:[],i:[],ti:[x[34],x[35],x[36]],ic:[x[32],x[33]]}
d_[x[37]]={}
var m31=function(e,s,r,gg){
var z=gz$gwx_32()
var fIK=e_[x[37]].j
var cJK=e_[x[37]].i
_ic(x[32],e_,x[37],e,s,r,gg);
_ic(x[33],e_,x[37],e,s,r,gg);
_ai(cJK,x[34],e_,x[37],7,2)
var hKK=_v()
_(r,hKK)
var oLK=_oz(z,1,e,s,gg)
var cMK=_gd(x[37],oLK,e_,d_)
if(cMK){
var oNK=_1z(z,0,e,s,gg) || {}
var cur_globalf=gg.f
hKK.wxXCkey=3
cMK(oNK,oNK,hKK,gg)
gg.f=cur_globalf
}
else _w(oLK,x[37],8,14)
_ai(cJK,x[35],e_,x[37],9,2)
var lOK=_v()
_(r,lOK)
var aPK=_oz(z,3,e,s,gg)
var tQK=_gd(x[37],aPK,e_,d_)
if(tQK){
var eRK=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
lOK.wxXCkey=3
tQK(eRK,eRK,lOK,gg)
gg.f=cur_globalf
}
else _w(aPK,x[37],10,14)
_ai(cJK,x[36],e_,x[37],11,2)
var bSK=_v()
_(r,bSK)
var oTK=_oz(z,5,e,s,gg)
var xUK=_gd(x[37],oTK,e_,d_)
if(xUK){
var oVK=_1z(z,4,e,s,gg) || {}
var cur_globalf=gg.f
bSK.wxXCkey=3
xUK(oVK,oVK,bSK,gg)
gg.f=cur_globalf
}
else _w(oTK,x[37],12,14)
cJK.pop()
cJK.pop()
cJK.pop()
fIK.pop()
fIK.pop()
return r
}
e_[x[37]]={f:m31,j:[],i:[],ti:[x[34],x[35],x[36]],ic:[x[32],x[33]]}
d_[x[38]]={}
var m32=function(e,s,r,gg){
var z=gz$gwx_33()
var cXK=_v()
_(r,cXK)
if(_oz(z,0,e,s,gg)){cXK.wxVkey=1
var l3K=_mz(z,'nav-bar',['bindgetnavinfo',1,'navBarData',1],[],e,s,gg)
_(cXK,l3K)
}
var hYK=_v()
_(r,hYK)
if(_oz(z,3,e,s,gg)){hYK.wxVkey=1
var a4K=_mz(z,'quick-nav',['bottom',4,'id',1,'wxappPageUrl',2],[],e,s,gg)
_(hYK,a4K)
}
var oZK=_v()
_(r,oZK)
if(_oz(z,7,e,s,gg)){oZK.wxVkey=1
var t5K=_mz(z,'pullrefresh',['bind:close',8,'bind:loading',1,'bind:open',2,'enable',3,'height',4,'id',5,'marginTop',6,'scroll',7,'touchEnd',8,'touchMove',9,'touchStart',10],[],e,s,gg)
_(oZK,t5K)
}
var e6K=_mz(z,'view',['capture-bind:touchend',19,'capture-bind:touchmove',1,'capture-bind:touchstart',2,'class',3],[],e,s,gg)
var x9K=_mz(z,'top-bar',['addrFixed',23,'address',1,'bind:cartrefresh',2,'bind:showaddrpanel',3,'bind:toggleeditmode',4,'cartType',5,'editable',6,'hidden',7,'id',8,'isEmptyCart',9,'navHeight',10,'showJthEntry',11,'theme',12],[],e,s,gg)
_(e6K,x9K)
var b7K=_v()
_(e6K,b7K)
if(_oz(z,36,e,s,gg)){b7K.wxVkey=1
var o0K=_mz(z,'banner',['id',37,'ppmsKey',1],[],e,s,gg)
_(b7K,o0K)
}
var fAL=_v()
_(e6K,fAL)
var cBL=function(oDL,hCL,cEL,gg){
var aHL=_v()
_(cEL,aHL)
var tIL=function(bKL,eJL,oLL,gg){
var oNL=_v()
_(oLL,oNL)
if(_oz(z,46,bKL,eJL,gg)){oNL.wxVkey=1
var fOL=_mz(z,'view',['bind:tap',47,'class',1,'data-item-id',2,'data-vid',3,'data-vtype',4,'hidden',5],[],bKL,eJL,gg)
var hQL=_n('view')
_rz(z,hQL,'class',53,bKL,eJL,gg)
var oRL=_v()
_(hQL,oRL)
if(_oz(z,54,bKL,eJL,gg)){oRL.wxVkey=1
var oTL=_v()
_(oRL,oTL)
if(_oz(z,55,bKL,eJL,gg)){oTL.wxVkey=1
}
oTL.wxXCkey=1
}
else if(_oz(z,56,bKL,eJL,gg)){oRL.wxVkey=2
}
var cSL=_v()
_(hQL,cSL)
if(_oz(z,57,bKL,eJL,gg)){cSL.wxVkey=1
}
oRL.wxXCkey=1
cSL.wxXCkey=1
_(fOL,hQL)
var cPL=_v()
_(fOL,cPL)
if(_oz(z,58,bKL,eJL,gg)){cPL.wxVkey=1
}
var lUL=_v()
_(fOL,lUL)
var aVL=function(eXL,tWL,bYL,gg){
var x1L=_n('view')
_rz(z,x1L,'class',61,eXL,tWL,gg)
var o2L=_v()
_(x1L,o2L)
if(_oz(z,62,eXL,tWL,gg)){o2L.wxVkey=1
var h5L=_v()
_(o2L,h5L)
if(_oz(z,63,eXL,tWL,gg)){h5L.wxVkey=1
}
h5L.wxXCkey=1
}
var o6L=_v()
_(x1L,o6L)
var c7L=function(l9L,o8L,a0L,gg){
var eBM=_mz(z,'main-sku-gift',['bind:action',67,'cartType',1,'editable',2,'itemId',3,'product',4,'theme',5,'type',6],[],l9L,o8L,gg)
_(a0L,eBM)
return a0L
}
o6L.wxXCkey=4
_2z(z,65,c7L,eXL,tWL,gg,o6L,'product','index','id')
var f3L=_v()
_(x1L,f3L)
if(_oz(z,74,eXL,tWL,gg)){f3L.wxVkey=1
var bCM=_v()
_(f3L,bCM)
var oDM=function(oFM,xEM,fGM,gg){
var hIM=_mz(z,'product',['bind:action',78,'cartType',1,'editable',2,'id',3,'miaosha',4,'partitionSku',5,'pingou',6,'product',7,'serviceEntry',8,'shangou',9,'theme',10],[],oFM,xEM,gg)
_(fGM,hIM)
return fGM
}
bCM.wxXCkey=4
_2z(z,76,oDM,eXL,tWL,gg,bCM,'product','index','uuid')
}
var c4L=_v()
_(x1L,c4L)
if(_oz(z,89,eXL,tWL,gg)){c4L.wxVkey=1
var oJM=_v()
_(c4L,oJM)
var cKM=function(lMM,oLM,aNM,gg){
var ePM=_mz(z,'suit',['bind:action',93,'cartType',1,'editable',2,'flashPurchaseSkus',3,'id',4,'isPinGou',5,'item',6,'miaShaInfos',7,'partition',8,'services',9,'theme',10],[],lMM,oLM,gg)
_(aNM,ePM)
return aNM
}
oJM.wxXCkey=4
_2z(z,91,cKM,eXL,tWL,gg,oJM,'suit','index','uuid')
}
o2L.wxXCkey=1
f3L.wxXCkey=1
f3L.wxXCkey=3
c4L.wxXCkey=1
c4L.wxXCkey=3
_(bYL,x1L)
return bYL
}
lUL.wxXCkey=4
_2z(z,59,aVL,bKL,eJL,gg,lUL,'item','index','itemId')
cPL.wxXCkey=1
_(oNL,fOL)
}
oNL.wxXCkey=1
oNL.wxXCkey=3
return oLL
}
aHL.wxXCkey=4
_2z(z,44,tIL,oDL,hCL,gg,aHL,'vender','index','vid')
var lGL=_v()
_(cEL,lGL)
if(_oz(z,104,oDL,hCL,gg)){lGL.wxVkey=1
}
lGL.wxXCkey=1
return cEL
}
fAL.wxXCkey=4
_2z(z,41,cBL,e,s,gg,fAL,'cart','cartType','cartType')
var o8K=_v()
_(e6K,o8K)
if(_oz(z,105,e,s,gg)){o8K.wxVkey=1
var bQM=_mz(z,'recommend',['bind:afteraddcart',106,'bind:loaderror',1,'bind:ready',2,'hidden',3,'options',4],[],e,s,gg)
_(o8K,bQM)
}
else if(_oz(z,111,e,s,gg)){o8K.wxVkey=2
var oRM=_mz(z,'recommend',['bind:afteraddcart',112,'bind:loaderror',1,'bind:ready',2,'hidden',3,'options',4],[],e,s,gg)
_(o8K,oRM)
}
var xSM=_mz(z,'bottom-bar',['bind:check',117,'bind:editcheck',1,'bind:favorite',2,'bind:quickclear',3,'bind:remove',4,'cartType',5,'editable',6,'hidden',7,'id',8,'isPinGou',9,'showQuickCleanButton',10,'summary',11,'theme',12],[],e,s,gg)
_(e6K,xSM)
b7K.wxXCkey=1
b7K.wxXCkey=3
o8K.wxXCkey=1
o8K.wxXCkey=3
o8K.wxXCkey=3
_(r,e6K)
var c1K=_v()
_(r,c1K)
if(_oz(z,130,e,s,gg)){c1K.wxVkey=1
}
var o2K=_v()
_(r,o2K)
if(_oz(z,131,e,s,gg)){o2K.wxVkey=1
}
cXK.wxXCkey=1
cXK.wxXCkey=3
hYK.wxXCkey=1
hYK.wxXCkey=3
oZK.wxXCkey=1
oZK.wxXCkey=3
c1K.wxXCkey=1
o2K.wxXCkey=1
return r
}
e_[x[38]]={f:m32,j:[],i:[],ti:[],ic:[]}
d_[x[39]]={}
var m33=function(e,s,r,gg){
var z=gz$gwx_34()
var hWM=_mz(z,'login-layer',['bind:getloginevent',0,'loginLayerData',1],[],e,s,gg)
_(r,hWM)
var oXM=_mz(z,'address-layer',['loadAddressList',-1,'showOverseaTabBar',-1,'adid',2,'areaid',1,'bind:closeAddress',2,'bind:switchAddress',3,'showAddressLayerFlag',4],[],e,s,gg)
_(r,oXM)
var cYM=_mz(z,'option-promotions',['bind:afterswitchpromo',7,'bind:shutdown',1,'cartType',2,'hide',3,'id',4],[],e,s,gg)
_(r,cYM)
var oZM=_mz(z,'popup-coupons',['bind:cartchanged',12,'bind:cartrefresh',1,'bind:close',2,'bind:drawafter',3,'bind:tocouponpromopage',4,'cartType',5,'id',6,'show',7,'vid',8],[],e,s,gg)
_(r,oZM)
var l1M=_mz(z,'popup-promotion',['bind:select',21,'promotion',1],[],e,s,gg)
_(r,l1M)
var a2M=_mz(z,'switch-price',['bind:close',23,'bind:select',1,'options',2],[],e,s,gg)
_(r,a2M)
var t3M=_mz(z,'sku-layer',['isCart',-1,'bind:closeSkuLayer',26,'bind:confirmSkuChange',1,'cover',2,'hideSkuSwitch',3,'id',4,'initAddedServices',5,'isSupportGift',6,'othersData',7,'price',8,'showSkuLayerFlag',9,'sku',10,'suitPackData',11,'totalNum',12],[],e,s,gg)
_(r,t3M)
var fUM=_v()
_(r,fUM)
if(_oz(z,39,e,s,gg)){fUM.wxVkey=1
var e4M=_mz(z,'sku-infos',['bind:close',40,'bind:goAttachmentsDetail',1,'bind:goGiftDetail',2,'bind:removeJdService',3,'bind:showSwitchSkuPanel',4,'cartType',5,'editable',6,'id',7,'services',8,'uuid',9],[],e,s,gg)
_(fUM,e4M)
}
var b5M=_n('watermarker')
_rz(z,b5M,'text',50,e,s,gg)
_(r,b5M)
var cVM=_v()
_(r,cVM)
if(_oz(z,51,e,s,gg)){cVM.wxVkey=1
var o6M=_mz(z,'quick-clear',['bind:close',52,'options',1],[],e,s,gg)
_(cVM,o6M)
}
fUM.wxXCkey=1
fUM.wxXCkey=3
cVM.wxXCkey=1
cVM.wxXCkey=3
return r
}
e_[x[39]]={f:m33,j:[],i:[],ti:[],ic:[]}
d_[x[40]]={}
var m34=function(e,s,r,gg){
var z=gz$gwx_35()
var o8M=_v()
_(r,o8M)
if(_oz(z,0,e,s,gg)){o8M.wxVkey=1
}
o8M.wxXCkey=1
return r
}
e_[x[40]]={f:m34,j:[],i:[],ti:[],ic:[]}
d_[x[41]]={}
var m35=function(e,s,r,gg){
var z=gz$gwx_36()
var c0M=_v()
_(r,c0M)
if(_oz(z,0,e,s,gg)){c0M.wxVkey=1
}
var hAN=_v()
_(r,hAN)
if(_oz(z,1,e,s,gg)){hAN.wxVkey=1
var lEN=_n('view')
_rz(z,lEN,'class',2,e,s,gg)
var aFN=_v()
_(lEN,aFN)
if(_oz(z,3,e,s,gg)){aFN.wxVkey=1
var tGN=_n('view')
_rz(z,tGN,'class',4,e,s,gg)
var eHN=_v()
_(tGN,eHN)
if(_oz(z,5,e,s,gg)){eHN.wxVkey=1
}
var bIN=_v()
_(tGN,bIN)
if(_oz(z,6,e,s,gg)){bIN.wxVkey=1
}
eHN.wxXCkey=1
bIN.wxXCkey=1
_(aFN,tGN)
}
else if(_oz(z,7,e,s,gg)){aFN.wxVkey=2
}
else{aFN.wxVkey=3
}
aFN.wxXCkey=1
_(hAN,lEN)
}
var oBN=_v()
_(r,oBN)
if(_oz(z,8,e,s,gg)){oBN.wxVkey=1
var oJN=_v()
_(oBN,oJN)
if(_oz(z,9,e,s,gg)){oJN.wxVkey=1
}
oJN.wxXCkey=1
}
var cCN=_v()
_(r,cCN)
if(_oz(z,10,e,s,gg)){cCN.wxVkey=1
}
var oDN=_v()
_(r,oDN)
if(_oz(z,11,e,s,gg)){oDN.wxVkey=1
var xKN=_mz(z,'view',['catchtouchmove',12,'class',1],[],e,s,gg)
var oLN=_mz(z,'scroll-view',['scrollY',-1,'class',14,'hidden',1],[],e,s,gg)
var fMN=_v()
_(oLN,fMN)
if(_oz(z,16,e,s,gg)){fMN.wxVkey=1
}
var cNN=_v()
_(oLN,cNN)
if(_oz(z,17,e,s,gg)){cNN.wxVkey=1
var oPN=_v()
_(cNN,oPN)
if(_oz(z,18,e,s,gg)){oPN.wxVkey=1
var cQN=_v()
_(oPN,cQN)
var oRN=function(aTN,lSN,tUN,gg){
var bWN=_v()
_(tUN,bWN)
if(_oz(z,21,aTN,lSN,gg)){bWN.wxVkey=1
}
bWN.wxXCkey=1
return tUN
}
cQN.wxXCkey=2
_2z(z,20,oRN,e,s,gg,cQN,'coupon','index','')
}
oPN.wxXCkey=1
}
var hON=_v()
_(oLN,hON)
if(_oz(z,22,e,s,gg)){hON.wxVkey=1
}
fMN.wxXCkey=1
cNN.wxXCkey=1
hON.wxXCkey=1
_(xKN,oLN)
_(oDN,xKN)
}
c0M.wxXCkey=1
hAN.wxXCkey=1
oBN.wxXCkey=1
cCN.wxXCkey=1
oDN.wxXCkey=1
return r
}
e_[x[41]]={f:m35,j:[],i:[],ti:[],ic:[]}
d_[x[42]]={}
var m36=function(e,s,r,gg){
var z=gz$gwx_37()
var xYN=_mz(z,'slider-view',['bind:remove',0,'data-item-id',1,'data-sku-id',1],[],e,s,gg)
_(r,xYN)
return r
}
e_[x[42]]={f:m36,j:[],i:[],ti:[],ic:[]}
d_[x[43]]={}
var m37=function(e,s,r,gg){
var z=gz$gwx_38()
return r
}
e_[x[43]]={f:m37,j:[],i:[],ti:[],ic:[]}
d_[x[44]]={}
d_[x[44]]["opPromoList"]=function(e,s,r,gg){
var z=gz$gwx_39()
var b=x[44]+':opPromoList'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cart/components/option-promotions/index.wxml"],"",1)
if(p_[b]){_wl(b,x[44]);return}
p_[b]=true
try{
var xC=_v()
_(r,xC)
var oD=function(cF,fE,hG,gg){
var cI=_v()
_(hG,cI)
var oJ=function(aL,lK,tM,gg){
var bO=_v()
_(tM,bO)
if(_oz(z,23,aL,lK,gg)){bO.wxVkey=1
}
bO.wxXCkey=1
return tM
}
cI.wxXCkey=2
_2z(z,21,oJ,cF,fE,gg,cI,'sku','index','skuId')
return hG
}
xC.wxXCkey=2
_2z(z,18,oD,e,s,gg,xC,'promo','index','wxKey')
var oB=_v()
_(r,oB)
if(_oz(z,24,e,s,gg)){oB.wxVkey=1
var oP=_v()
_(oB,oP)
var xQ=function(fS,oR,cT,gg){
var oV=_v()
_(cT,oV)
if(_oz(z,28,fS,oR,gg)){oV.wxVkey=1
}
oV.wxXCkey=1
return cT
}
oP.wxXCkey=2
_2z(z,26,xQ,e,s,gg,oP,'coupon','index','batchId')
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[44]]["plusPromoGoods"]=function(e,s,r,gg){
var z=gz$gwx_39()
var b=x[44]+':plusPromoGoods'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cart/components/option-promotions/index.wxml"],"",1)
if(p_[b]){_wl(b,x[44]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
var xC=function(fE,oD,cF,gg){
var oH=_n('view')
_rz(z,oH,'class',33,fE,oD,gg)
var cI=_v()
_(oH,cI)
if(_oz(z,34,fE,oD,gg)){cI.wxVkey=1
}
var oJ=_v()
_(oH,oJ)
if(_oz(z,35,fE,oD,gg)){oJ.wxVkey=1
}
cI.wxXCkey=1
oJ.wxXCkey=1
_(cF,oH)
return cF
}
oB.wxXCkey=2
_2z(z,31,xC,e,s,gg,oB,'sku','index','skuId')
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m38=function(e,s,r,gg){
var z=gz$gwx_39()
var c2N=_mz(z,'view',['class',0,'hidden',1],[],e,s,gg)
var h3N=_v()
_(c2N,h3N)
if(_oz(z,2,e,s,gg)){h3N.wxVkey=1
}
var o4N=_mz(z,'view',['catchtouchmove',3,'class',1],[],e,s,gg)
var c5N=_n('view')
_rz(z,c5N,'class',5,e,s,gg)
var l7N=_mz(z,'scroll-view',['scrollY',-1,'class',6],[],e,s,gg)
var a8N=_v()
_(l7N,a8N)
if(_oz(z,7,e,s,gg)){a8N.wxVkey=1
var t9N=_v()
_(a8N,t9N)
var e0N=_oz(z,9,e,s,gg)
var bAO=_gd(x[44],e0N,e_,d_)
if(bAO){
var oBO=_1z(z,8,e,s,gg) || {}
var cur_globalf=gg.f
t9N.wxXCkey=3
bAO(oBO,oBO,t9N,gg)
gg.f=cur_globalf
}
else _w(e0N,x[44],22,54)
}
else{a8N.wxVkey=2
var xCO=_v()
_(a8N,xCO)
var oDO=_oz(z,11,e,s,gg)
var fEO=_gd(x[44],oDO,e_,d_)
if(fEO){
var cFO=_1z(z,10,e,s,gg) || {}
var cur_globalf=gg.f
xCO.wxXCkey=3
fEO(cFO,cFO,xCO,gg)
gg.f=cur_globalf
}
else _w(oDO,x[44],23,38)
}
a8N.wxXCkey=1
_(c5N,l7N)
var o6N=_v()
_(c5N,o6N)
if(_oz(z,12,e,s,gg)){o6N.wxVkey=1
}
var hGO=_n('view')
_rz(z,hGO,'class',13,e,s,gg)
var oHO=_v()
_(hGO,oHO)
if(_oz(z,14,e,s,gg)){oHO.wxVkey=1
var cIO=_v()
_(oHO,cIO)
if(_oz(z,15,e,s,gg)){cIO.wxVkey=1
}
cIO.wxXCkey=1
}
else{oHO.wxVkey=2
}
oHO.wxXCkey=1
_(c5N,hGO)
o6N.wxXCkey=1
_(o4N,c5N)
_(c2N,o4N)
h3N.wxXCkey=1
_(r,c2N)
return r
}
e_[x[44]]={f:m38,j:[],i:[],ti:[],ic:[]}
d_[x[45]]={}
d_[x[45]]["tplCoupons"]=function(e,s,r,gg){
var z=gz$gwx_40()
var b=x[45]+':tplCoupons'
r.wxVkey=b
gg.f=$gdc(f_["./pages/cart/components/popup-coupons/index.wxml"],"",1)
if(p_[b]){_wl(b,x[45]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
var xC=function(fE,oD,cF,gg){
var oH=_n('view')
_rz(z,oH,'class',13,fE,oD,gg)
var oJ=_n('view')
_rz(z,oJ,'class',14,fE,oD,gg)
var lK=_n('view')
_rz(z,lK,'class',15,fE,oD,gg)
var aL=_v()
_(lK,aL)
if(_oz(z,16,fE,oD,gg)){aL.wxVkey=1
var eN=_v()
_(aL,eN)
var bO=function(xQ,oP,oR,gg){
var cT=_v()
_(oR,cT)
if(_oz(z,20,xQ,oP,gg)){cT.wxVkey=1
}
cT.wxXCkey=1
return oR
}
eN.wxXCkey=2
_2z(z,18,bO,fE,oD,gg,eN,'t','index','index')
var tM=_v()
_(aL,tM)
if(_oz(z,21,fE,oD,gg)){tM.wxVkey=1
}
tM.wxXCkey=1
}
else{aL.wxVkey=2
var hU=_v()
_(aL,hU)
if(_oz(z,22,fE,oD,gg)){hU.wxVkey=1
}
hU.wxXCkey=1
}
aL.wxXCkey=1
_(oJ,lK)
var oV=_n('view')
_rz(z,oV,'class',23,fE,oD,gg)
var oX=_n('view')
_rz(z,oX,'class',24,fE,oD,gg)
var lY=_v()
_(oX,lY)
if(_oz(z,25,fE,oD,gg)){lY.wxVkey=1
}
else{lY.wxVkey=2
var aZ=_v()
_(lY,aZ)
if(_oz(z,26,fE,oD,gg)){aZ.wxVkey=1
}
aZ.wxXCkey=1
}
lY.wxXCkey=1
_(oV,oX)
var cW=_v()
_(oV,cW)
if(_oz(z,27,fE,oD,gg)){cW.wxVkey=1
}
cW.wxXCkey=1
_(oJ,oV)
_(oH,oJ)
var cI=_v()
_(oH,cI)
if(_oz(z,28,fE,oD,gg)){cI.wxVkey=1
var t1=_n('view')
_rz(z,t1,'class',29,fE,oD,gg)
var b3=_v()
_(t1,b3)
var o4=function(o6,x5,f7,gg){
var h9=_mz(z,'view',['catch:tap',33,'class',1,'data-uuid',2],[],o6,x5,gg)
var o0=_v()
_(h9,o0)
if(_oz(z,36,o6,x5,gg)){o0.wxVkey=1
}
o0.wxXCkey=1
_(f7,h9)
return f7
}
b3.wxXCkey=2
_2z(z,31,o4,fE,oD,gg,b3,'sku','index','uuid')
var e2=_v()
_(t1,e2)
if(_oz(z,37,fE,oD,gg)){e2.wxVkey=1
}
e2.wxXCkey=1
_(cI,t1)
}
cI.wxXCkey=1
_(cF,oH)
return cF
}
oB.wxXCkey=2
_2z(z,11,xC,e,s,gg,oB,'item','index','encryptedKey')
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m39=function(e,s,r,gg){
var z=gz$gwx_40()
var lKO=_v()
_(r,lKO)
if(_oz(z,0,e,s,gg)){lKO.wxVkey=1
var aLO=_mz(z,'view',['catchtouchmove',1,'class',1],[],e,s,gg)
var tMO=_mz(z,'scroll-view',['scrollY',-1,'class',3],[],e,s,gg)
var eNO=_v()
_(tMO,eNO)
if(_oz(z,4,e,s,gg)){eNO.wxVkey=1
var oPO=_v()
_(eNO,oPO)
var xQO=_oz(z,6,e,s,gg)
var oRO=_gd(x[45],xQO,e_,d_)
if(oRO){
var fSO=_1z(z,5,e,s,gg) || {}
var cur_globalf=gg.f
oPO.wxXCkey=3
oRO(fSO,fSO,oPO,gg)
gg.f=cur_globalf
}
else _w(xQO,x[45],24,30)
}
var bOO=_v()
_(tMO,bOO)
if(_oz(z,7,e,s,gg)){bOO.wxVkey=1
var cTO=_v()
_(bOO,cTO)
var hUO=_oz(z,9,e,s,gg)
var oVO=_gd(x[45],hUO,e_,d_)
if(oVO){
var cWO=_1z(z,8,e,s,gg) || {}
var cur_globalf=gg.f
cTO.wxXCkey=3
oVO(cWO,cWO,cTO,gg)
gg.f=cur_globalf
}
else _w(hUO,x[45],33,30)
}
eNO.wxXCkey=1
bOO.wxXCkey=1
_(aLO,tMO)
_(lKO,aLO)
}
lKO.wxXCkey=1
return r
}
e_[x[45]]={f:m39,j:[],i:[],ti:[],ic:[]}
d_[x[46]]={}
var m40=function(e,s,r,gg){
var z=gz$gwx_41()
var lYO=_mz(z,'slider-view',['bind:fav',0,'bind:open',1,'bind:remove',1,'moveMax',2,'showFavBtn',3],[],e,s,gg)
var aZO=_v()
_(lYO,aZO)
if(_oz(z,5,e,s,gg)){aZO.wxVkey=1
}
var t1O=_mz(z,'view',['catch:tap',6,'class',1,'data-action',2,'data-imgclk',3],[],e,s,gg)
var e2O=_v()
_(t1O,e2O)
if(_oz(z,10,e,s,gg)){e2O.wxVkey=1
}
e2O.wxXCkey=1
_(lYO,t1O)
var b3O=_n('view')
_rz(z,b3O,'class',11,e,s,gg)
var c8O=_mz(z,'view',['catch:tap',12,'class',1,'data-action',2],[],e,s,gg)
var h9O=_v()
_(c8O,h9O)
var o0O=function(oBP,cAP,lCP,gg){
var tEP=_v()
_(lCP,tEP)
if(_oz(z,18,oBP,cAP,gg)){tEP.wxVkey=1
}
tEP.wxXCkey=1
return lCP
}
h9O.wxXCkey=2
_2z(z,16,o0O,e,s,gg,h9O,'label','index','index')
_(b3O,c8O)
var eFP=_n('view')
_rz(z,eFP,'class',19,e,s,gg)
var bGP=_v()
_(eFP,bGP)
if(_oz(z,20,e,s,gg)){bGP.wxVkey=1
}
else if(_oz(z,21,e,s,gg)){bGP.wxVkey=2
var oHP=_mz(z,'view',['catch:tap',22,'class',1,'data-action',2],[],e,s,gg)
var xIP=_v()
_(oHP,xIP)
if(_oz(z,25,e,s,gg)){xIP.wxVkey=1
}
var oJP=_v()
_(oHP,oJP)
if(_oz(z,26,e,s,gg)){oJP.wxVkey=1
}
xIP.wxXCkey=1
oJP.wxXCkey=1
_(bGP,oHP)
}
bGP.wxXCkey=1
_(b3O,eFP)
var fKP=_mz(z,'view',['catch:tap',27,'class',1,'data-action',2],[],e,s,gg)
var cLP=_v()
_(fKP,cLP)
if(_oz(z,30,e,s,gg)){cLP.wxVkey=1
}
var hMP=_v()
_(fKP,hMP)
if(_oz(z,31,e,s,gg)){hMP.wxVkey=1
}
var oNP=_v()
_(fKP,oNP)
if(_oz(z,32,e,s,gg)){oNP.wxVkey=1
}
var cOP=_v()
_(fKP,cOP)
if(_oz(z,33,e,s,gg)){cOP.wxVkey=1
}
cLP.wxXCkey=1
hMP.wxXCkey=1
oNP.wxXCkey=1
cOP.wxXCkey=1
_(b3O,fKP)
var o4O=_v()
_(b3O,o4O)
if(_oz(z,34,e,s,gg)){o4O.wxVkey=1
var oPP=_v()
_(o4O,oPP)
if(_oz(z,35,e,s,gg)){oPP.wxVkey=1
}
var lQP=_n('view')
_rz(z,lQP,'class',36,e,s,gg)
var aRP=_v()
_(lQP,aRP)
if(_oz(z,37,e,s,gg)){aRP.wxVkey=1
}
else if(_oz(z,38,e,s,gg)){aRP.wxVkey=2
var eTP=_mz(z,'view',['catch:tap',39,'class',1,'data-action',2],[],e,s,gg)
var bUP=_v()
_(eTP,bUP)
if(_oz(z,42,e,s,gg)){bUP.wxVkey=1
}
bUP.wxXCkey=1
_(aRP,eTP)
}
else{aRP.wxVkey=3
var oVP=_v()
_(aRP,oVP)
if(_oz(z,43,e,s,gg)){oVP.wxVkey=1
}
oVP.wxXCkey=1
}
var tSP=_v()
_(lQP,tSP)
if(_oz(z,44,e,s,gg)){tSP.wxVkey=1
}
else if(_oz(z,45,e,s,gg)){tSP.wxVkey=2
}
else{tSP.wxVkey=3
var xWP=_mz(z,'number-picker',['bind:action',46,'max',1,'min',2,'num',3,'theme',4],[],e,s,gg)
_(tSP,xWP)
}
aRP.wxXCkey=1
tSP.wxXCkey=1
tSP.wxXCkey=3
_(o4O,lQP)
oPP.wxXCkey=1
}
else if(_oz(z,51,e,s,gg)){o4O.wxVkey=2
var oXP=_v()
_(o4O,oXP)
if(_oz(z,52,e,s,gg)){oXP.wxVkey=1
}
oXP.wxXCkey=1
}
var x5O=_v()
_(b3O,x5O)
if(_oz(z,53,e,s,gg)){x5O.wxVkey=1
}
var o6O=_v()
_(b3O,o6O)
if(_oz(z,54,e,s,gg)){o6O.wxVkey=1
var fYP=_mz(z,'view',['catch:tap',55,'class',1,'data-action',2],[],e,s,gg)
var cZP=_v()
_(fYP,cZP)
if(_oz(z,58,e,s,gg)){cZP.wxVkey=1
}
cZP.wxXCkey=1
_(o6O,fYP)
}
var f7O=_v()
_(b3O,f7O)
if(_oz(z,59,e,s,gg)){f7O.wxVkey=1
var h1P=_v()
_(f7O,h1P)
if(_oz(z,60,e,s,gg)){h1P.wxVkey=1
}
var o2P=_v()
_(f7O,o2P)
if(_oz(z,61,e,s,gg)){o2P.wxVkey=1
}
h1P.wxXCkey=1
o2P.wxXCkey=1
}
o4O.wxXCkey=1
o4O.wxXCkey=3
x5O.wxXCkey=1
o6O.wxXCkey=1
f7O.wxXCkey=1
_(lYO,b3O)
aZO.wxXCkey=1
_(r,lYO)
return r
}
e_[x[46]]={f:m40,j:[],i:[],ti:[],ic:[]}
d_[x[47]]={}
var m41=function(e,s,r,gg){
var z=gz$gwx_42()
var o4P=_v()
_(r,o4P)
if(_oz(z,0,e,s,gg)){o4P.wxVkey=1
var l5P=_v()
_(o4P,l5P)
if(_oz(z,1,e,s,gg)){l5P.wxVkey=1
}
l5P.wxXCkey=1
}
o4P.wxXCkey=1
return r
}
e_[x[47]]={f:m41,j:[],i:[],ti:[],ic:[]}
d_[x[48]]={}
var m42=function(e,s,r,gg){
var z=gz$gwx_43()
var t7P=_v()
_(r,t7P)
if(_oz(z,0,e,s,gg)){t7P.wxVkey=1
var e8P=_mz(z,'view',['catchtouchmove',1,'class',1],[],e,s,gg)
var b9P=_n('view')
_rz(z,b9P,'class',3,e,s,gg)
var o0P=_v()
_(b9P,o0P)
if(_oz(z,4,e,s,gg)){o0P.wxVkey=1
}
var xAQ=_mz(z,'scroll-view',['scrollY',-1,'class',5],[],e,s,gg)
var oBQ=_v()
_(xAQ,oBQ)
if(_oz(z,6,e,s,gg)){oBQ.wxVkey=1
var oHQ=_v()
_(oBQ,oHQ)
if(_oz(z,7,e,s,gg)){oHQ.wxVkey=1
}
var aJQ=_v()
_(oBQ,aJQ)
var tKQ=function(bMQ,eLQ,oNQ,gg){
var oPQ=_v()
_(oNQ,oPQ)
if(_oz(z,10,bMQ,eLQ,gg)){oPQ.wxVkey=1
}
oPQ.wxXCkey=1
return oNQ
}
aJQ.wxXCkey=2
_2z(z,8,tKQ,e,s,gg,aJQ,'item','index','id')
var fQQ=_v()
_(oBQ,fQQ)
var cRQ=function(oTQ,hSQ,cUQ,gg){
var lWQ=_v()
_(cUQ,lWQ)
if(_oz(z,12,oTQ,hSQ,gg)){lWQ.wxVkey=1
}
lWQ.wxXCkey=1
return cUQ
}
fQQ.wxXCkey=2
_2z(z,11,cRQ,e,s,gg,fQQ,'item','index','')
var lIQ=_v()
_(oBQ,lIQ)
if(_oz(z,13,e,s,gg)){lIQ.wxVkey=1
}
oHQ.wxXCkey=1
lIQ.wxXCkey=1
}
var fCQ=_v()
_(xAQ,fCQ)
if(_oz(z,14,e,s,gg)){fCQ.wxVkey=1
var aXQ=_v()
_(fCQ,aXQ)
if(_oz(z,15,e,s,gg)){aXQ.wxVkey=1
}
aXQ.wxXCkey=1
}
var cDQ=_v()
_(xAQ,cDQ)
if(_oz(z,16,e,s,gg)){cDQ.wxVkey=1
var tYQ=_v()
_(cDQ,tYQ)
var eZQ=function(o2Q,b1Q,x3Q,gg){
var f5Q=_v()
_(x3Q,f5Q)
var c6Q=function(o8Q,h7Q,c9Q,gg){
var lAR=_v()
_(c9Q,lAR)
if(_oz(z,22,o8Q,h7Q,gg)){lAR.wxVkey=1
}
lAR.wxXCkey=1
return c9Q
}
f5Q.wxXCkey=2
_2z(z,20,c6Q,o2Q,b1Q,gg,f5Q,'skuItem','index','id')
return x3Q
}
tYQ.wxXCkey=2
_2z(z,17,eZQ,e,s,gg,tYQ,'item','index','PoolNo')
}
else if(_oz(z,23,e,s,gg)){cDQ.wxVkey=2
}
var hEQ=_v()
_(xAQ,hEQ)
if(_oz(z,24,e,s,gg)){hEQ.wxVkey=1
}
var oFQ=_v()
_(xAQ,oFQ)
if(_oz(z,25,e,s,gg)){oFQ.wxVkey=1
}
var cGQ=_v()
_(xAQ,cGQ)
if(_oz(z,26,e,s,gg)){cGQ.wxVkey=1
}
oBQ.wxXCkey=1
fCQ.wxXCkey=1
cDQ.wxXCkey=1
hEQ.wxXCkey=1
oFQ.wxXCkey=1
cGQ.wxXCkey=1
_(b9P,xAQ)
o0P.wxXCkey=1
_(e8P,b9P)
_(t7P,e8P)
}
t7P.wxXCkey=1
return r
}
e_[x[48]]={f:m42,j:[],i:[],ti:[],ic:[]}
d_[x[49]]={}
var m43=function(e,s,r,gg){
var z=gz$gwx_44()
var tCR=_n('view')
_rz(z,tCR,'class',0,e,s,gg)
var eDR=_v()
_(tCR,eDR)
if(_oz(z,1,e,s,gg)){eDR.wxVkey=1
}
var bER=_v()
_(tCR,bER)
var oFR=function(oHR,xGR,fIR,gg){
var hKR=_mz(z,'product',['bind:action',5,'cartType',1,'editable',2,'miaosha',3,'partitionSku',4,'product',5,'serviceEntry',6,'shangou',7,'suitNum',8,'theme',9,'vskuid',10],[],oHR,xGR,gg)
_(fIR,hKR)
return fIR
}
bER.wxXCkey=4
_2z(z,3,oFR,e,s,gg,bER,'product','index','wxKey')
var oLR=_mz(z,'number-picker',['bind:action',16,'max',1,'min',2,'num',3,'theme',4],[],e,s,gg)
_(tCR,oLR)
eDR.wxXCkey=1
_(r,tCR)
return r
}
e_[x[49]]={f:m43,j:[],i:[],ti:[],ic:[]}
d_[x[50]]={}
var m44=function(e,s,r,gg){
var z=gz$gwx_45()
var oNR=_v()
_(r,oNR)
if(_oz(z,0,e,s,gg)){oNR.wxVkey=1
}
oNR.wxXCkey=1
return r
}
e_[x[50]]={f:m44,j:[],i:[],ti:[],ic:[]}
d_[x[51]]={}
var m45=function(e,s,r,gg){
var z=gz$gwx_46()
return r
}
e_[x[51]]={f:m45,j:[],i:[],ti:[],ic:[]}
d_[x[52]]={}
var m46=function(e,s,r,gg){
var z=gz$gwx_47()
var tQR=_v()
_(r,tQR)
if(_oz(z,0,e,s,gg)){tQR.wxVkey=1
var eRR=_v()
_(tQR,eRR)
if(_oz(z,1,e,s,gg)){eRR.wxVkey=1
var bSR=_v()
_(eRR,bSR)
if(_oz(z,2,e,s,gg)){bSR.wxVkey=1
}
bSR.wxXCkey=1
}
eRR.wxXCkey=1
}
tQR.wxXCkey=1
return r
}
e_[x[52]]={f:m46,j:[],i:[],ti:[],ic:[]}
d_[x[53]]={}
var m47=function(e,s,r,gg){
var z=gz$gwx_48()
var xUR=_n('view')
_rz(z,xUR,'class',0,e,s,gg)
var oVR=_v()
_(xUR,oVR)
if(_oz(z,1,e,s,gg)){oVR.wxVkey=1
}
var fWR=_n('view')
_rz(z,fWR,'class',2,e,s,gg)
var cXR=_mz(z,'tab-nav',['__fn_onTabClick',3,'__triggerObserer',1,'bindontabclick',2,'curIdx',3,'st',4,'tabEntries',5,'updateTime',6],[],e,s,gg)
_(fWR,cXR)
var hYR=_mz(z,'scroll-view',['bindscroll',10,'bindtouchend',1,'bindtouchmove',2,'bindtouchstart',3,'class',4,'enableBackToTop',5,'scrollTop',6,'scrollY',7],[],e,s,gg)
var oZR=_v()
_(hYR,oZR)
if(_oz(z,18,e,s,gg)){oZR.wxVkey=1
}
var c1R=_v()
_(hYR,c1R)
if(_oz(z,19,e,s,gg)){c1R.wxVkey=1
}
else if(_oz(z,20,e,s,gg)){c1R.wxVkey=2
var o2R=_n('view')
_rz(z,o2R,'class',21,e,s,gg)
var l3R=_v()
_(o2R,l3R)
if(_oz(z,22,e,s,gg)){l3R.wxVkey=1
}
var o8R=_mz(z,'banner',['__fn_onClick',23,'__triggerObserer',1,'bindonclick',2,'config',3,'updateTime',4],[],e,s,gg)
_(o2R,o8R)
var a4R=_v()
_(o2R,a4R)
if(_oz(z,28,e,s,gg)){a4R.wxVkey=1
var x9R=_mz(z,'promotion-entry',['__triggerObserer',29,'promotion',1,'updateTime',2],[],e,s,gg)
_(a4R,x9R)
}
var t5R=_v()
_(o2R,t5R)
if(_oz(z,32,e,s,gg)){t5R.wxVkey=1
var o0R=_mz(z,'promotion',['__fn_onClick',33,'__triggerObserer',1,'bindonclick',2,'promotion',3,'updateTime',4],[],e,s,gg)
_(t5R,o0R)
}
var fAS=_mz(z,'cate-list',['__fn_onClick',38,'__triggerObserer',1,'bindonclick',2,'entries',3,'updateTime',4],[],e,s,gg)
_(o2R,fAS)
var e6R=_v()
_(o2R,e6R)
if(_oz(z,43,e,s,gg)){e6R.wxVkey=1
var cBS=_mz(z,'channel',['__fn_onClick',44,'__triggerObserer',1,'bindonclick',2,'channelInfo',3,'updateTime',4],[],e,s,gg)
_(e6R,cBS)
}
var b7R=_v()
_(o2R,b7R)
if(_oz(z,49,e,s,gg)){b7R.wxVkey=1
}
l3R.wxXCkey=1
a4R.wxXCkey=1
a4R.wxXCkey=3
t5R.wxXCkey=1
t5R.wxXCkey=3
e6R.wxXCkey=1
e6R.wxXCkey=3
b7R.wxXCkey=1
_(c1R,o2R)
}
oZR.wxXCkey=1
c1R.wxXCkey=1
c1R.wxXCkey=3
_(fWR,hYR)
_(xUR,fWR)
oVR.wxXCkey=1
_(r,xUR)
return r
}
e_[x[53]]={f:m47,j:[],i:[],ti:[],ic:[]}
d_[x[54]]={}
var m48=function(e,s,r,gg){
var z=gz$gwx_49()
var oDS=_v()
_(r,oDS)
if(_oz(z,0,e,s,gg)){oDS.wxVkey=1
}
else{oDS.wxVkey=2
var cES=_v()
_(oDS,cES)
if(_oz(z,1,e,s,gg)){cES.wxVkey=1
}
cES.wxXCkey=1
}
oDS.wxXCkey=1
return r
}
e_[x[54]]={f:m48,j:[],i:[],ti:[],ic:[]}
d_[x[55]]={}
var m49=function(e,s,r,gg){
var z=gz$gwx_50()
return r
}
e_[x[55]]={f:m49,j:[],i:[],ti:[],ic:[]}
d_[x[56]]={}
var m50=function(e,s,r,gg){
var z=gz$gwx_51()
return r
}
e_[x[56]]={f:m50,j:[],i:[],ti:[],ic:[]}
d_[x[57]]={}
var m51=function(e,s,r,gg){
var z=gz$gwx_52()
var tIS=_v()
_(r,tIS)
if(_oz(z,0,e,s,gg)){tIS.wxVkey=1
}
else{tIS.wxVkey=2
var eJS=_v()
_(tIS,eJS)
var bKS=function(xMS,oLS,oNS,gg){
var cPS=_v()
_(oNS,cPS)
if(_oz(z,5,xMS,oLS,gg)){cPS.wxVkey=1
}
cPS.wxXCkey=1
return oNS
}
eJS.wxXCkey=2
_2z(z,3,bKS,e,s,gg,eJS,'item','index','{{index}}')
}
tIS.wxXCkey=1
return r
}
e_[x[57]]={f:m51,j:[],i:[],ti:[],ic:[]}
d_[x[58]]={}
var m52=function(e,s,r,gg){
var z=gz$gwx_53()
var oRS=_v()
_(r,oRS)
if(_oz(z,0,e,s,gg)){oRS.wxVkey=1
}
else{oRS.wxVkey=2
var cSS=_v()
_(oRS,cSS)
var oTS=function(aVS,lUS,tWS,gg){
var bYS=_v()
_(tWS,bYS)
if(_oz(z,5,aVS,lUS,gg)){bYS.wxVkey=1
}
bYS.wxXCkey=1
return tWS
}
cSS.wxXCkey=2
_2z(z,3,oTS,e,s,gg,cSS,'item','index','{{item.marketing}}')
}
oRS.wxXCkey=1
return r
}
e_[x[58]]={f:m52,j:[],i:[],ti:[],ic:[]}
d_[x[59]]={}
var m53=function(e,s,r,gg){
var z=gz$gwx_54()
return r
}
e_[x[59]]={f:m53,j:[],i:[],ti:[],ic:[]}
d_[x[60]]={}
var m54=function(e,s,r,gg){
var z=gz$gwx_55()
return r
}
e_[x[60]]={f:m54,j:[],i:[],ti:[],ic:[]}
d_[x[61]]={}
d_[x[61]]["tplMessageBox"]=function(e,s,r,gg){
var z=gz$gwx_56()
var b=x[61]+':tplMessageBox'
r.wxVkey=b
gg.f=$gdc(f_["./pages/components/message-box/index.wxml"],"",1)
if(p_[b]){_wl(b,x[61]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,1,e,s,gg)){oB.wxVkey=1
var xC=_v()
_(oB,xC)
var oD=_oz(z,3,e,s,gg)
var fE=_gd(x[61],oD,e_,d_)
if(fE){
var cF=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
xC.wxXCkey=3
fE(cF,cF,xC,gg)
gg.f=cur_globalf
}
else _w(oD,x[61],6,22)
}
oB.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[61]]["tplShow"]=function(e,s,r,gg){
var z=gz$gwx_56()
var b=x[61]+':tplShow'
r.wxVkey=b
gg.f=$gdc(f_["./pages/components/message-box/index.wxml"],"",1)
if(p_[b]){_wl(b,x[61]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,5,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,6,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(r,oD)
if(_oz(z,7,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(r,fE)
if(_oz(z,8,e,s,gg)){fE.wxVkey=1
}
oB.wxXCkey=1
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[61]]["tplInfo"]=function(e,s,r,gg){
var z=gz$gwx_56()
var b=x[61]+':tplInfo'
r.wxVkey=b
gg.f=$gdc(f_["./pages/components/message-box/index.wxml"],"",1)
if(p_[b]){_wl(b,x[61]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,10,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,11,e,s,gg)){xC.wxVkey=1
}
oB.wxXCkey=1
xC.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
d_[x[61]]["tplFreigth"]=function(e,s,r,gg){
var z=gz$gwx_56()
var b=x[61]+':tplFreigth'
r.wxVkey=b
gg.f=$gdc(f_["./pages/components/message-box/index.wxml"],"",1)
if(p_[b]){_wl(b,x[61]);return}
p_[b]=true
try{
var oB=_v()
_(r,oB)
if(_oz(z,13,e,s,gg)){oB.wxVkey=1
}
var xC=_v()
_(r,xC)
if(_oz(z,14,e,s,gg)){xC.wxVkey=1
}
var oD=_v()
_(r,oD)
if(_oz(z,15,e,s,gg)){oD.wxVkey=1
}
var fE=_v()
_(r,fE)
if(_oz(z,16,e,s,gg)){fE.wxVkey=1
}
oB.wxXCkey=1
xC.wxXCkey=1
oD.wxXCkey=1
fE.wxXCkey=1
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m55=function(e,s,r,gg){
var z=gz$gwx_56()
return r
}
e_[x[61]]={f:m55,j:[],i:[],ti:[],ic:[]}
d_[x[62]]={}
var m56=function(e,s,r,gg){
var z=gz$gwx_57()
return r
}
e_[x[62]]={f:m56,j:[],i:[],ti:[],ic:[]}
d_[x[63]]={}
var m57=function(e,s,r,gg){
var z=gz$gwx_58()
return r
}
e_[x[63]]={f:m57,j:[],i:[],ti:[],ic:[]}
d_[x[64]]={}
var m58=function(e,s,r,gg){
var z=gz$gwx_59()
return r
}
e_[x[64]]={f:m58,j:[],i:[],ti:[],ic:[]}
d_[x[65]]={}
var m59=function(e,s,r,gg){
var z=gz$gwx_60()
return r
}
e_[x[65]]={f:m59,j:[],i:[],ti:[],ic:[]}
d_[x[66]]={}
var m60=function(e,s,r,gg){
var z=gz$gwx_61()
return r
}
e_[x[66]]={f:m60,j:[],i:[],ti:[],ic:[]}
d_[x[67]]={}
var m61=function(e,s,r,gg){
var z=gz$gwx_62()
var l9S=_v()
_(r,l9S)
var a0S=function(eBT,tAT,bCT,gg){
var xET=_v()
_(bCT,xET)
var oFT=function(cHT,fGT,hIT,gg){
var cKT=_v()
_(hIT,cKT)
if(_oz(z,5,cHT,fGT,gg)){cKT.wxVkey=1
}
cKT.wxXCkey=1
return hIT
}
xET.wxXCkey=2
_2z(z,3,oFT,eBT,tAT,gg,xET,'entries_item','entries_index','name')
return bCT
}
l9S.wxXCkey=2
_2z(z,0,a0S,e,s,gg,l9S,'item','index','')
return r
}
e_[x[67]]={f:m61,j:[],i:[],ti:[],ic:[]}
d_[x[68]]={}
var m62=function(e,s,r,gg){
var z=gz$gwx_63()
return r
}
e_[x[68]]={f:m62,j:[],i:[],ti:[],ic:[]}
d_[x[69]]={}
var m63=function(e,s,r,gg){
var z=gz$gwx_64()
return r
}
e_[x[69]]={f:m63,j:[],i:[],ti:[],ic:[]}
d_[x[70]]={}
var m64=function(e,s,r,gg){
var z=gz$gwx_65()
return r
}
e_[x[70]]={f:m64,j:[],i:[],ti:[],ic:[]}
d_[x[71]]={}
var m65=function(e,s,r,gg){
var z=gz$gwx_66()
var ePT=_v()
_(r,ePT)
var bQT=function(xST,oRT,oTT,gg){
var cVT=_v()
_(oTT,cVT)
var hWT=function(cYT,oXT,oZT,gg){
var a2T=_v()
_(oZT,a2T)
if(_oz(z,6,cYT,oXT,gg)){a2T.wxVkey=1
var t3T=_mz(z,'view',['bind:tap',7,'class',1,'data-index',2],[],cYT,oXT,gg)
var e4T=_v()
_(t3T,e4T)
var b5T=function(x7T,o6T,o8T,gg){
var c0T=_v()
_(o8T,c0T)
if(_oz(z,13,x7T,o6T,gg)){c0T.wxVkey=1
}
c0T.wxXCkey=1
return o8T
}
e4T.wxXCkey=2
_2z(z,11,b5T,cYT,oXT,gg,e4T,'tag_item','index','')
_(a2T,t3T)
}
a2T.wxXCkey=1
return oZT
}
cVT.wxXCkey=2
_2z(z,4,hWT,xST,oRT,gg,cVT,'item_item','item_index','title')
return oTT
}
ePT.wxXCkey=2
_2z(z,0,bQT,e,s,gg,ePT,'item','index','')
return r
}
e_[x[71]]={f:m65,j:[],i:[],ti:[],ic:[]}
d_[x[72]]={}
var m66=function(e,s,r,gg){
var z=gz$gwx_67()
var oBU=_v()
_(r,oBU)
if(_oz(z,0,e,s,gg)){oBU.wxVkey=1
}
oBU.wxXCkey=1
return r
}
e_[x[72]]={f:m66,j:[],i:[],ti:[],ic:[]}
d_[x[73]]={}
var m67=function(e,s,r,gg){
var z=gz$gwx_68()
return r
}
e_[x[73]]={f:m67,j:[],i:[],ti:[],ic:[]}
d_[x[74]]={}
var m68=function(e,s,r,gg){
var z=gz$gwx_69()
var lEU=_n('view')
_rz(z,lEU,'class',0,e,s,gg)
var aFU=e_[x[74]].i
var tGU=_mz(z,'mallv2',['bind:firstScreenLoaded',1,'bind:isGaryPage',1,'bind:mainDataLoaded',2,'bind:onNavInfo',3,'id',4,'onHide',5,'onLoad',6,'onPageScroll',7,'onReachBottom',8,'onRefresh',9,'onShow',10,'pageType',11,'pretime',12],[],e,s,gg)
_(lEU,tGU)
var eHU=_mz(z,'add-wxapp-entry',['navHeight',14,'onHideTimestamp',1,'onShowTimestamp',2,'type',3],[],e,s,gg)
_(lEU,eHU)
_ai(aFU,x[23],e_,x[74],18,2)
aFU.pop()
_(r,lEU)
var bIU=_n('subscribe-guider')
_rz(z,bIU,'props',18,e,s,gg)
_(r,bIU)
var oJU=_n('login-layer')
_rz(z,oJU,'loginLayerData',19,e,s,gg)
_(r,oJU)
var xKU=_v()
_(r,xKU)
var oLU=_oz(z,21,e,s,gg)
var fMU=_gd(x[74],oLU,e_,d_)
if(fMU){
var cNU=_1z(z,20,e,s,gg) || {}
var cur_globalf=gg.f
xKU.wxXCkey=3
fMU(cNU,cNU,xKU,gg)
gg.f=cur_globalf
}
else _w(oLU,x[74],22,14)
return r
}
e_[x[74]]={f:m68,j:[],i:[],ti:[],ic:[]}
d_[x[75]]={}
var m69=function(e,s,r,gg){
var z=gz$gwx_70()
var oPU=_n('view')
_rz(z,oPU,'class',0,e,s,gg)
var cQU=e_[x[75]].i
var oRU=_v()
_(oPU,oRU)
if(_oz(z,1,e,s,gg)){oRU.wxVkey=1
}
_ai(cQU,x[76],e_,x[75],26,6)
var lSU=_v()
_(oPU,lSU)
var aTU=_oz(z,3,e,s,gg)
var tUU=_gd(x[75],aTU,e_,d_)
if(tUU){
var eVU=_1z(z,2,e,s,gg) || {}
var cur_globalf=gg.f
lSU.wxXCkey=3
tUU(eVU,eVU,lSU,gg)
gg.f=cur_globalf
}
else _w(aTU,x[75],27,18)
oRU.wxXCkey=1
cQU.pop()
_(r,oPU)
return r
}
e_[x[75]]={f:m69,j:[],i:[],ti:[],ic:[]}
d_[x[77]]={}
var m70=function(e,s,r,gg){
var z=gz$gwx_71()
var oXU=_n('view')
var oZU=_mz(z,'swiper',['bindchange',0,'class',1,'current',1,'indicatorDots',2],[],e,s,gg)
var f1U=_v()
_(oZU,f1U)
var c2U=function(o4U,h3U,c5U,gg){
var l7U=_v()
_(c5U,l7U)
var a8U=function(e0U,t9U,bAV,gg){
var xCV=_mz(z,'view',['bindtap',11,'class',1,'data-appid',2,'data-index',3,'data-name',4,'data-page',5,'data-ptag',6,'data-url',7,'data-wx-jump-url',8,'data-wxapp-path',9],[],e0U,t9U,gg)
var oDV=_v()
_(xCV,oDV)
if(_oz(z,21,e0U,t9U,gg)){oDV.wxVkey=1
}
oDV.wxXCkey=1
_(bAV,xCV)
return bAV
}
l7U.wxXCkey=2
_2z(z,9,a8U,o4U,h3U,gg,l7U,'item','index','name')
return c5U
}
f1U.wxXCkey=2
_2z(z,6,c2U,e,s,gg,f1U,'page','pageIndex','{{ pageIndex }}')
_(oXU,oZU)
var xYU=_v()
_(oXU,xYU)
if(_oz(z,22,e,s,gg)){xYU.wxVkey=1
}
xYU.wxXCkey=1
_(r,oXU)
return r
}
e_[x[77]]={f:m70,j:[],i:[],ti:[],ic:[]}
d_[x[78]]={}
var m71=function(e,s,r,gg){
var z=gz$gwx_72()
var cFV=_n('view')
_rz(z,cFV,'class',0,e,s,gg)
var hGV=_v()
_(cFV,hGV)
if(_oz(z,1,e,s,gg)){hGV.wxVkey=1
var oHV=_mz(z,'view',['catch:transitionend',2,'catchtap',1,'catchtouchmove',2,'class',3,'data-rd',4,'data-url',5,'data-wxapp-link',6,'hoverClass',7,'style',8],[],e,s,gg)
var cIV=_v()
_(oHV,cIV)
if(_oz(z,11,e,s,gg)){cIV.wxVkey=1
}
cIV.wxXCkey=1
_(hGV,oHV)
}
else if(_oz(z,12,e,s,gg)){hGV.wxVkey=2
}
else{hGV.wxVkey=3
}
hGV.wxXCkey=1
_(r,cFV)
return r
}
e_[x[78]]={f:m71,j:[],i:[],ti:[],ic:[]}
d_[x[79]]={}
var m72=function(e,s,r,gg){
var z=gz$gwx_73()
return r
}
e_[x[79]]={f:m72,j:[],i:[],ti:[],ic:[]}
d_[x[80]]={}
d_[x[80]]["goods"]=function(e,s,r,gg){
var z=gz$gwx_74()
var b=x[80]+':goods'
r.wxVkey=b
gg.f=$gdc(f_["./pages/index/mallv2/goods/goods.wxml"],"",1)
if(p_[b]){_wl(b,x[80]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m73=function(e,s,r,gg){
var z=gz$gwx_74()
var aLV=_v()
_(r,aLV)
if(_oz(z,1,e,s,gg)){aLV.wxVkey=1
var tMV=_n('view')
_rz(z,tMV,'hidden',2,e,s,gg)
var eNV=_v()
_(tMV,eNV)
if(_oz(z,3,e,s,gg)){eNV.wxVkey=1
var bOV=_v()
_(eNV,bOV)
if(_oz(z,4,e,s,gg)){bOV.wxVkey=1
var oPV=_mz(z,'recommend',['bind:loaderror',5,'bind:loadsuccess',1,'id',2,'ignorScroll',3,'options',4,'ppmsKey',5],[],e,s,gg)
_(bOV,oPV)
}
bOV.wxXCkey=1
bOV.wxXCkey=3
}
else{eNV.wxVkey=2
}
eNV.wxXCkey=1
eNV.wxXCkey=3
_(aLV,tMV)
var xQV=_v()
_(aLV,xQV)
var oRV=function(cTV,fSV,hUV,gg){
var cWV=_v()
_(hUV,cWV)
if(_oz(z,13,cTV,fSV,gg)){cWV.wxVkey=1
var lYV=_v()
_(cWV,lYV)
var aZV=function(e2V,t1V,b3V,gg){
var x5V=_v()
_(b3V,x5V)
var o6V=function(c8V,f7V,h9V,gg){
var cAW=_v()
_(h9V,cAW)
if(_oz(z,22,c8V,f7V,gg)){cAW.wxVkey=1
var oBW=_mz(z,'view',['bind:tap',23,'class',1,'data-index',2],[],c8V,f7V,gg)
var lCW=_v()
_(oBW,lCW)
var aDW=_oz(z,27,c8V,f7V,gg)
var tEW=_gd(x[80],aDW,e_,d_)
if(tEW){
var eFW=_1z(z,26,c8V,f7V,gg) || {}
var cur_globalf=gg.f
lCW.wxXCkey=3
tEW(eFW,eFW,lCW,gg)
gg.f=cur_globalf
}
else _w(aDW,x[80],142,42)
_(cAW,oBW)
}
cAW.wxXCkey=1
return h9V
}
x5V.wxXCkey=2
_2z(z,20,o6V,e2V,t1V,gg,x5V,'item_item','item_index','title')
return b3V
}
lYV.wxXCkey=2
_2z(z,16,aZV,cTV,fSV,gg,lYV,'list_item','list_index','')
var oXV=_v()
_(cWV,oXV)
if(_oz(z,28,cTV,fSV,gg)){oXV.wxVkey=1
}
oXV.wxXCkey=1
}
cWV.wxXCkey=1
return hUV
}
xQV.wxXCkey=2
_2z(z,11,oRV,e,s,gg,xQV,'item','index','list')
}
aLV.wxXCkey=1
aLV.wxXCkey=3
return r
}
e_[x[80]]={f:m73,j:[],i:[],ti:[],ic:[]}
d_[x[81]]={}
var m74=function(e,s,r,gg){
var z=gz$gwx_75()
return r
}
e_[x[81]]={f:m74,j:[],i:[],ti:[],ic:[]}
d_[x[82]]={}
var m75=function(e,s,r,gg){
var z=gz$gwx_76()
return r
}
e_[x[82]]={f:m75,j:[],i:[],ti:[],ic:[]}
d_[x[83]]={}
var m76=function(e,s,r,gg){
var z=gz$gwx_77()
return r
}
e_[x[83]]={f:m76,j:[],i:[],ti:[],ic:[]}
d_[x[84]]={}
var m77=function(e,s,r,gg){
var z=gz$gwx_78()
var fKW=_v()
_(r,fKW)
if(_oz(z,0,e,s,gg)){fKW.wxVkey=1
}
else{fKW.wxVkey=2
var cLW=_n('view')
_rz(z,cLW,'style',1,e,s,gg)
var oNW=_mz(z,'view',['class',2,'style',1],[],e,s,gg)
var cOW=_v()
_(oNW,cOW)
if(_oz(z,4,e,s,gg)){cOW.wxVkey=1
var oPW=_mz(z,'nav-bar',['bindgetnavinfo',5,'navBarData',1],[],e,s,gg)
_(cOW,oPW)
}
var lQW=_mz(z,'search-bar',['shakePayload',7,'showSkeleton',1],[],e,s,gg)
_(oNW,lQW)
var aRW=_mz(z,'cate-bar',['fixedbarHeight',9,'hasSubHome',1,'showSkeleton',2],[],e,s,gg)
_(oNW,aRW)
cOW.wxXCkey=1
cOW.wxXCkey=3
_(cLW,oNW)
var tSW=_mz(z,'view',['class',12,'hidden',1,'style',2],[],e,s,gg)
var eTW=_v()
_(tSW,eTW)
if(_oz(z,15,e,s,gg)){eTW.wxVkey=1
}
else if(_oz(z,16,e,s,gg)){eTW.wxVkey=2
var bUW=_n('cate-channel')
_rz(z,bUW,'channelData',17,e,s,gg)
_(eTW,bUW)
var oVW=_mz(z,'cate-goods',['channelData',18,'reachBottom',1],[],e,s,gg)
_(eTW,oVW)
}
else if(_oz(z,20,e,s,gg)){eTW.wxVkey=3
}
eTW.wxXCkey=1
eTW.wxXCkey=3
_(cLW,tSW)
var xWW=_mz(z,'view',['class',21,'hidden',1],[],e,s,gg)
var fYW=_mz(z,'view',['class',23,'style',1],[],e,s,gg)
var cZW=_n('view')
_rz(z,cZW,'class',25,e,s,gg)
var h1W=_mz(z,'hot-word',['bind:componentLoad',26,'hasSubHome',1,'showSkeleton',2],[],e,s,gg)
_(cZW,h1W)
var o2W=_mz(z,'carousel',['bind:componentLoad',29,'pageType',1,'showSkeleton',2],[],e,s,gg)
_(cZW,o2W)
var c3W=_n('sale-banner-1')
_rz(z,c3W,'stage',32,e,s,gg)
_(cZW,c3W)
var o4W=_n('sale-banner-2')
_rz(z,o4W,'stage',33,e,s,gg)
_(cZW,o4W)
var l5W=_mz(z,'promote-banner',['bind:componentLoad',34,'field',1],[],e,s,gg)
_(cZW,l5W)
var a6W=_n('app-lauch-btn')
_(cZW,a6W)
var t7W=_mz(z,'channel-nav',['bind:componentLoad',36,'showSkeleton',1],[],e,s,gg)
_(cZW,t7W)
var e8W=_n('sale-banner-1')
_rz(z,e8W,'stage',38,e,s,gg)
_(cZW,e8W)
var b9W=_n('sale-banner-2')
_rz(z,b9W,'stage',39,e,s,gg)
_(cZW,b9W)
var o0W=_n('sale-timeaxis-1')
_(cZW,o0W)
var xAX=_mz(z,'promote-banner',['bind:componentLoad',40,'field',1,'showSkeleton',2],[],e,s,gg)
_(cZW,xAX)
var oBX=_n('newuser-floor')
_rz(z,oBX,'bind:componentLoad',43,e,s,gg)
_(cZW,oBX)
var fCX=_mz(z,'one-yuan',['bind:componentLoad',44,'pageType',1],[],e,s,gg)
_(cZW,fCX)
var cDX=_mz(z,'guide-bar',['bind:componentLoad',46,'curtainFinish',1],[],e,s,gg)
_(cZW,cDX)
_(fYW,cZW)
var hEX=_mz(z,'curtain',['bind:curtainFinish',48,'fixedbarHeight',1,'hasSubHome',2,'showTime',3],[],e,s,gg)
_(fYW,hEX)
_(xWW,fYW)
var oFX=_mz(z,'view',['class',52,'style',1],[],e,s,gg)
var cGX=_mz(z,'wallet-group',['bind:componentLoad',54,'showSkeleton',1],[],e,s,gg)
_(oFX,cGX)
var oHX=_n('sale-featured-1')
_(oFX,oHX)
var lIX=_n('sale-featured-2')
_(oFX,lIX)
var aJX=_n('wallet-selected')
_rz(z,aJX,'hasSubHome',56,e,s,gg)
_(oFX,aJX)
var tKX=_n('yard')
_(oFX,tKX)
var eLX=_n('promote-banner')
_rz(z,eLX,'field',57,e,s,gg)
_(oFX,eLX)
var bMX=_n('group-banner')
_(oFX,bMX)
_(xWW,oFX)
var oXW=_v()
_(xWW,oXW)
if(_oz(z,58,e,s,gg)){oXW.wxVkey=1
var oNX=_mz(z,'goods',['channelStatus',59,'fixedbarHeight',1,'hasSubHome',2,'id',3,'reachBottom',4,'scrollTop',5,'tabBanner',6],[],e,s,gg)
_(oXW,oNX)
}
oXW.wxXCkey=1
oXW.wxXCkey=3
_(cLW,xWW)
var xOX=_n('floating')
_rz(z,xOX,'scrollTop',66,e,s,gg)
_(cLW,xOX)
var hMW=_v()
_(cLW,hMW)
if(_oz(z,67,e,s,gg)){hMW.wxVkey=1
}
var oPX=_mz(z,'shake',['bind:shakeAnimLoaded',68,'config',1,'curtainFinish',2],[],e,s,gg)
_(cLW,oPX)
hMW.wxXCkey=1
_(fKW,cLW)
}
fKW.wxXCkey=1
fKW.wxXCkey=3
return r
}
e_[x[84]]={f:m77,j:[],i:[],ti:[],ic:[]}
d_[x[85]]={}
var m78=function(e,s,r,gg){
var z=gz$gwx_79()
return r
}
e_[x[85]]={f:m78,j:[],i:[],ti:[],ic:[]}
d_[x[86]]={}
var m79=function(e,s,r,gg){
var z=gz$gwx_80()
return r
}
e_[x[86]]={f:m79,j:[],i:[],ti:[],ic:[]}
d_[x[87]]={}
var m80=function(e,s,r,gg){
var z=gz$gwx_81()
return r
}
e_[x[87]]={f:m80,j:[],i:[],ti:[],ic:[]}
d_[x[88]]={}
var m81=function(e,s,r,gg){
var z=gz$gwx_82()
return r
}
e_[x[88]]={f:m81,j:[],i:[],ti:[],ic:[]}
d_[x[89]]={}
var m82=function(e,s,r,gg){
var z=gz$gwx_83()
var oVX=_mz(z,'view',['bindtap',0,'class',1,'data-path',1,'data-ptag',2],[],e,s,gg)
var lWX=_v()
_(oVX,lWX)
if(_oz(z,4,e,s,gg)){lWX.wxVkey=1
}
lWX.wxXCkey=1
_(r,oVX)
return r
}
e_[x[89]]={f:m82,j:[],i:[],ti:[],ic:[]}
d_[x[90]]={}
var m83=function(e,s,r,gg){
var z=gz$gwx_84()
return r
}
e_[x[90]]={f:m83,j:[],i:[],ti:[],ic:[]}
d_[x[91]]={}
var m84=function(e,s,r,gg){
var z=gz$gwx_85()
return r
}
e_[x[91]]={f:m84,j:[],i:[],ti:[],ic:[]}
d_[x[92]]={}
var m85=function(e,s,r,gg){
var z=gz$gwx_86()
return r
}
e_[x[92]]={f:m85,j:[],i:[],ti:[],ic:[]}
d_[x[93]]={}
var m86=function(e,s,r,gg){
var z=gz$gwx_87()
return r
}
e_[x[93]]={f:m86,j:[],i:[],ti:[],ic:[]}
d_[x[94]]={}
var m87=function(e,s,r,gg){
var z=gz$gwx_88()
return r
}
e_[x[94]]={f:m87,j:[],i:[],ti:[],ic:[]}
d_[x[95]]={}
var m88=function(e,s,r,gg){
var z=gz$gwx_89()
return r
}
e_[x[95]]={f:m88,j:[],i:[],ti:[],ic:[]}
d_[x[96]]={}
var m89=function(e,s,r,gg){
var z=gz$gwx_90()
var f5X=_v()
_(r,f5X)
if(_oz(z,0,e,s,gg)){f5X.wxVkey=1
}
f5X.wxXCkey=1
return r
}
e_[x[96]]={f:m89,j:[],i:[],ti:[],ic:[]}
d_[x[97]]={}
var m90=function(e,s,r,gg){
var z=gz$gwx_91()
var h7X=_v()
_(r,h7X)
if(_oz(z,0,e,s,gg)){h7X.wxVkey=1
}
h7X.wxXCkey=1
return r
}
e_[x[97]]={f:m90,j:[],i:[],ti:[],ic:[]}
d_[x[98]]={}
var m91=function(e,s,r,gg){
var z=gz$gwx_92()
var c9X=_v()
_(r,c9X)
if(_oz(z,0,e,s,gg)){c9X.wxVkey=1
}
c9X.wxXCkey=1
return r
}
e_[x[98]]={f:m91,j:[],i:[],ti:[],ic:[]}
d_[x[99]]={}
var m92=function(e,s,r,gg){
var z=gz$gwx_93()
var lAY=_n('view')
_rz(z,lAY,'class',0,e,s,gg)
var bEY=_mz(z,'view',['bindtap',1,'class',1],[],e,s,gg)
var oFY=_v()
_(bEY,oFY)
if(_oz(z,3,e,s,gg)){oFY.wxVkey=1
}
oFY.wxXCkey=1
_(lAY,bEY)
var aBY=_v()
_(lAY,aBY)
if(_oz(z,4,e,s,gg)){aBY.wxVkey=1
}
var tCY=_v()
_(lAY,tCY)
if(_oz(z,5,e,s,gg)){tCY.wxVkey=1
var xGY=_mz(z,'view',['bindtap',6,'class',1],[],e,s,gg)
var oHY=_v()
_(xGY,oHY)
if(_oz(z,8,e,s,gg)){oHY.wxVkey=1
}
var fIY=_n('view')
_rz(z,fIY,'class',9,e,s,gg)
var cJY=_v()
_(fIY,cJY)
if(_oz(z,10,e,s,gg)){cJY.wxVkey=1
}
else if(_oz(z,11,e,s,gg)){cJY.wxVkey=2
var hKY=_v()
_(cJY,hKY)
if(_oz(z,12,e,s,gg)){hKY.wxVkey=1
}
hKY.wxXCkey=1
}
cJY.wxXCkey=1
_(xGY,fIY)
oHY.wxXCkey=1
_(tCY,xGY)
}
var eDY=_v()
_(lAY,eDY)
if(_oz(z,13,e,s,gg)){eDY.wxVkey=1
}
aBY.wxXCkey=1
tCY.wxXCkey=1
eDY.wxXCkey=1
_(r,lAY)
return r
}
e_[x[99]]={f:m92,j:[],i:[],ti:[],ic:[]}
d_[x[100]]={}
var m93=function(e,s,r,gg){
var z=gz$gwx_94()
var cMY=_n('view')
_rz(z,cMY,'class',0,e,s,gg)
var oNY=_mz(z,'view',['bindtap',1,'class',1],[],e,s,gg)
var lOY=_n('view')
_rz(z,lOY,'class',3,e,s,gg)
var aPY=_v()
_(lOY,aPY)
if(_oz(z,4,e,s,gg)){aPY.wxVkey=1
}
else{aPY.wxVkey=2
var tQY=_v()
_(aPY,tQY)
if(_oz(z,5,e,s,gg)){tQY.wxVkey=1
}
tQY.wxXCkey=1
}
aPY.wxXCkey=1
_(oNY,lOY)
_(cMY,oNY)
var eRY=_mz(z,'view',['bindtap',6,'class',1],[],e,s,gg)
var bSY=_n('view')
_rz(z,bSY,'class',8,e,s,gg)
var oTY=_v()
_(bSY,oTY)
if(_oz(z,9,e,s,gg)){oTY.wxVkey=1
}
else{oTY.wxVkey=2
var xUY=_v()
_(oTY,xUY)
if(_oz(z,10,e,s,gg)){xUY.wxVkey=1
}
xUY.wxXCkey=1
}
oTY.wxXCkey=1
_(eRY,bSY)
_(cMY,eRY)
_(r,cMY)
return r
}
e_[x[100]]={f:m93,j:[],i:[],ti:[],ic:[]}
d_[x[101]]={}
var m94=function(e,s,r,gg){
var z=gz$gwx_95()
var fWY=_n('view')
_rz(z,fWY,'class',0,e,s,gg)
var oZY=_n('view')
_rz(z,oZY,'class',1,e,s,gg)
var c1Y=_n('view')
_rz(z,c1Y,'class',2,e,s,gg)
var l3Y=_mz(z,'view',['bindtap',3,'class',1],[],e,s,gg)
var a4Y=_v()
_(l3Y,a4Y)
if(_oz(z,5,e,s,gg)){a4Y.wxVkey=1
}
a4Y.wxXCkey=1
_(c1Y,l3Y)
var o2Y=_v()
_(c1Y,o2Y)
if(_oz(z,6,e,s,gg)){o2Y.wxVkey=1
var t5Y=_v()
_(o2Y,t5Y)
if(_oz(z,7,e,s,gg)){t5Y.wxVkey=1
}
t5Y.wxXCkey=1
}
o2Y.wxXCkey=1
_(oZY,c1Y)
var e6Y=_n('view')
_rz(z,e6Y,'class',8,e,s,gg)
var b7Y=_v()
_(e6Y,b7Y)
if(_oz(z,9,e,s,gg)){b7Y.wxVkey=1
}
else if(_oz(z,10,e,s,gg)){b7Y.wxVkey=2
}
else if(_oz(z,11,e,s,gg)){b7Y.wxVkey=3
var x9Y=_n('view')
_rz(z,x9Y,'class',12,e,s,gg)
var o0Y=_v()
_(x9Y,o0Y)
if(_oz(z,13,e,s,gg)){o0Y.wxVkey=1
}
var fAZ=_v()
_(x9Y,fAZ)
if(_oz(z,14,e,s,gg)){fAZ.wxVkey=1
}
o0Y.wxXCkey=1
fAZ.wxXCkey=1
_(b7Y,x9Y)
var o8Y=_v()
_(b7Y,o8Y)
if(_oz(z,15,e,s,gg)){o8Y.wxVkey=1
var cBZ=_n('view')
_rz(z,cBZ,'class',16,e,s,gg)
var hCZ=_v()
_(cBZ,hCZ)
if(_oz(z,17,e,s,gg)){hCZ.wxVkey=1
}
var oDZ=_v()
_(cBZ,oDZ)
if(_oz(z,18,e,s,gg)){oDZ.wxVkey=1
}
var cEZ=_v()
_(cBZ,cEZ)
if(_oz(z,19,e,s,gg)){cEZ.wxVkey=1
var oFZ=_mz(z,'view',['bindtap',20,'class',1],[],e,s,gg)
var lGZ=_v()
_(oFZ,lGZ)
if(_oz(z,22,e,s,gg)){lGZ.wxVkey=1
}
lGZ.wxXCkey=1
_(cEZ,oFZ)
}
hCZ.wxXCkey=1
oDZ.wxXCkey=1
cEZ.wxXCkey=1
_(o8Y,cBZ)
}
o8Y.wxXCkey=1
}
b7Y.wxXCkey=1
_(oZY,e6Y)
_(fWY,oZY)
var cXY=_v()
_(fWY,cXY)
if(_oz(z,23,e,s,gg)){cXY.wxVkey=1
var aHZ=_v()
_(cXY,aHZ)
if(_oz(z,24,e,s,gg)){aHZ.wxVkey=1
}
aHZ.wxXCkey=1
}
var hYY=_v()
_(fWY,hYY)
if(_oz(z,25,e,s,gg)){hYY.wxVkey=1
}
cXY.wxXCkey=1
hYY.wxXCkey=1
_(r,fWY)
return r
}
e_[x[101]]={f:m94,j:[],i:[],ti:[],ic:[]}
d_[x[102]]={}
var m95=function(e,s,r,gg){
var z=gz$gwx_96()
var eJZ=_mz(z,'swiper',['autoplay',0,'bindanimationfinish',1,'bindchange',1,'childLength',2,'circular',3,'class',4,'current',5,'indicatorDots',6,'interval',7,'vertical',8],[],e,s,gg)
var bKZ=_v()
_(eJZ,bKZ)
var oLZ=function(oNZ,xMZ,fOZ,gg){
var hQZ=_mz(z,'view',['bindtap',12,'class',1,'data-idx',2],[],oNZ,xMZ,gg)
var oRZ=_v()
_(hQZ,oRZ)
if(_oz(z,15,oNZ,xMZ,gg)){oRZ.wxVkey=1
}
oRZ.wxXCkey=1
_(fOZ,hQZ)
return fOZ
}
bKZ.wxXCkey=2
_2z(z,10,oLZ,e,s,gg,bKZ,'item','index','createTime')
_(r,eJZ)
return r
}
e_[x[102]]={f:m95,j:[],i:[],ti:[],ic:[]}
d_[x[103]]={}
var m96=function(e,s,r,gg){
var z=gz$gwx_97()
var oTZ=_n('view')
_rz(z,oTZ,'class',0,e,s,gg)
var aVZ=_n('view')
_rz(z,aVZ,'class',1,e,s,gg)
var eXZ=_mz(z,'view',['bindtap',2,'class',1,'data-ptag',2,'data-type',3],[],e,s,gg)
var bYZ=_v()
_(eXZ,bYZ)
if(_oz(z,6,e,s,gg)){bYZ.wxVkey=1
}
bYZ.wxXCkey=1
_(aVZ,eXZ)
var oZZ=_mz(z,'view',['bindtap',7,'class',1,'data-ptag',2,'data-type',3],[],e,s,gg)
var x1Z=_v()
_(oZZ,x1Z)
if(_oz(z,11,e,s,gg)){x1Z.wxVkey=1
}
x1Z.wxXCkey=1
_(aVZ,oZZ)
var tWZ=_v()
_(aVZ,tWZ)
if(_oz(z,12,e,s,gg)){tWZ.wxVkey=1
}
var o2Z=_mz(z,'view',['bindtap',13,'class',1,'data-ptag',2,'data-type',3],[],e,s,gg)
var f3Z=_v()
_(o2Z,f3Z)
if(_oz(z,17,e,s,gg)){f3Z.wxVkey=1
}
f3Z.wxXCkey=1
_(aVZ,o2Z)
tWZ.wxXCkey=1
_(oTZ,aVZ)
var lUZ=_v()
_(oTZ,lUZ)
if(_oz(z,18,e,s,gg)){lUZ.wxVkey=1
var c4Z=_n('my-logistics')
_rz(z,c4Z,'dealLogList',19,e,s,gg)
_(lUZ,c4Z)
}
lUZ.wxXCkey=1
lUZ.wxXCkey=3
_(r,oTZ)
return r
}
e_[x[103]]={f:m96,j:[],i:[],ti:[],ic:[]}
d_[x[104]]={}
var m97=function(e,s,r,gg){
var z=gz$gwx_98()
var o6Z=_v()
_(r,o6Z)
if(_oz(z,0,e,s,gg)){o6Z.wxVkey=1
}
o6Z.wxXCkey=1
return r
}
e_[x[104]]={f:m97,j:[],i:[],ti:[],ic:[]}
d_[x[105]]={}
var m98=function(e,s,r,gg){
var z=gz$gwx_99()
var o8Z=_v()
_(r,o8Z)
if(_oz(z,0,e,s,gg)){o8Z.wxVkey=1
}
o8Z.wxXCkey=1
return r
}
e_[x[105]]={f:m98,j:[],i:[],ti:[],ic:[]}
d_[x[106]]={}
var m99=function(e,s,r,gg){
var z=gz$gwx_100()
var a0Z=_v()
_(r,a0Z)
if(_oz(z,0,e,s,gg)){a0Z.wxVkey=1
}
a0Z.wxXCkey=1
return r
}
e_[x[106]]={f:m99,j:[],i:[],ti:[],ic:[]}
d_[x[107]]={}
var m100=function(e,s,r,gg){
var z=gz$gwx_101()
var eB1=e_[x[107]].i
var bC1=_n('view')
_rz(z,bC1,'class',0,e,s,gg)
var hI1=_mz(z,'view',['class',1,'style',1],[],e,s,gg)
var bQ1=_mz(z,'my-header',['bindemitEvent',3,'id',1,'newBindConfig',2,'plusText',3,'userInfo',4],[],e,s,gg)
_(hI1,bQ1)
var oR1=_mz(z,'my-order',['orderInfo',8,'userInfo',1],[],e,s,gg)
_(hI1,oR1)
var oJ1=_v()
_(hI1,oJ1)
if(_oz(z,10,e,s,gg)){oJ1.wxVkey=1
var xS1=_mz(z,'bind-floor',['newBindConfig',11,'userInfo',1],[],e,s,gg)
_(oJ1,xS1)
}
var cK1=_v()
_(hI1,cK1)
if(_oz(z,13,e,s,gg)){cK1.wxVkey=1
var oT1=_mz(z,'my-asset',['assetInfo',14,'bindchangeAccount',1,'userInfo',2],[],e,s,gg)
_(cK1,oT1)
}
var oL1=_v()
_(hI1,oL1)
if(_oz(z,17,e,s,gg)){oL1.wxVkey=1
}
var lM1=_v()
_(hI1,lM1)
if(_oz(z,18,e,s,gg)){lM1.wxVkey=1
var fU1=_mz(z,'my-fav',['favInfo',19,'userInfo',1],[],e,s,gg)
_(lM1,fU1)
}
var aN1=_v()
_(hI1,aN1)
if(_oz(z,21,e,s,gg)){aN1.wxVkey=1
var cV1=_n('promote-floor')
_(aN1,cV1)
}
var tO1=_v()
_(hI1,tO1)
if(_oz(z,22,e,s,gg)){tO1.wxVkey=1
var hW1=_mz(z,'my-activity',['bindchangeAccount',23,'userInfo',1],[],e,s,gg)
_(tO1,hW1)
}
var eP1=_v()
_(hI1,eP1)
if(_oz(z,25,e,s,gg)){eP1.wxVkey=1
var oX1=_n('view')
var cY1=_v()
_(oX1,cY1)
if(_oz(z,26,e,s,gg)){cY1.wxVkey=1
}
var oZ1=_v()
_(oX1,oZ1)
if(_oz(z,27,e,s,gg)){oZ1.wxVkey=1
}
var l11=_v()
_(oX1,l11)
if(_oz(z,28,e,s,gg)){l11.wxVkey=1
var t31=_mz(z,'add-wxapp-entry',['onShowTimestamp',29,'type',1],[],e,s,gg)
_(l11,t31)
}
var a21=_v()
_(oX1,a21)
if(_oz(z,31,e,s,gg)){a21.wxVkey=1
var e41=_mz(z,'jxapp-dl-entry',['id',32,'marginTop',1],[],e,s,gg)
_(a21,e41)
}
cY1.wxXCkey=1
oZ1.wxXCkey=1
l11.wxXCkey=1
l11.wxXCkey=3
a21.wxXCkey=1
a21.wxXCkey=3
_(eP1,oX1)
}
oJ1.wxXCkey=1
oJ1.wxXCkey=3
cK1.wxXCkey=1
cK1.wxXCkey=3
oL1.wxXCkey=1
lM1.wxXCkey=1
lM1.wxXCkey=3
aN1.wxXCkey=1
aN1.wxXCkey=3
tO1.wxXCkey=1
tO1.wxXCkey=3
eP1.wxXCkey=1
eP1.wxXCkey=3
_(bC1,hI1)
var oD1=_v()
_(bC1,oD1)
if(_oz(z,34,e,s,gg)){oD1.wxVkey=1
var b51=_v()
_(oD1,b51)
if(_oz(z,35,e,s,gg)){b51.wxVkey=1
var o61=_mz(z,'recommend',['id',36,'isPosition',1,'recKey',2,'title',3],[],e,s,gg)
_(b51,o61)
}
b51.wxXCkey=1
b51.wxXCkey=3
}
var xE1=_v()
_(bC1,xE1)
if(_oz(z,40,e,s,gg)){xE1.wxVkey=1
var x71=_mz(z,'bind-curtain',['newBindConfig',41,'userInfo',1],[],e,s,gg)
_(xE1,x71)
}
var oF1=_v()
_(bC1,oF1)
if(_oz(z,43,e,s,gg)){oF1.wxVkey=1
var o81=_mz(z,'new-curtain',['newBindConfig',44,'userInfo',1],[],e,s,gg)
_(oF1,o81)
}
var fG1=_v()
_(bC1,fG1)
if(_oz(z,46,e,s,gg)){fG1.wxVkey=1
var f91=_mz(z,'plus-curtain',['plusPinBaseInfo',47,'userInfo',1],[],e,s,gg)
_(fG1,f91)
}
var cH1=_v()
_(bC1,cH1)
if(_oz(z,49,e,s,gg)){cH1.wxVkey=1
}
oD1.wxXCkey=1
oD1.wxXCkey=3
xE1.wxXCkey=1
xE1.wxXCkey=3
oF1.wxXCkey=1
oF1.wxXCkey=3
fG1.wxXCkey=1
fG1.wxXCkey=3
cH1.wxXCkey=1
_(r,bC1)
_ai(eB1,x[34],e_,x[107],83,2)
var c01=_v()
_(r,c01)
var hA2=_oz(z,51,e,s,gg)
var oB2=_gd(x[107],hA2,e_,d_)
if(oB2){
var cC2=_1z(z,50,e,s,gg) || {}
var cur_globalf=gg.f
c01.wxXCkey=3
oB2(cC2,cC2,c01,gg)
gg.f=cur_globalf
}
else _w(hA2,x[107],84,14)
_ai(eB1,x[35],e_,x[107],85,2)
var oD2=_v()
_(r,oD2)
var lE2=_oz(z,53,e,s,gg)
var aF2=_gd(x[107],lE2,e_,d_)
if(aF2){
var tG2=_1z(z,52,e,s,gg) || {}
var cur_globalf=gg.f
oD2.wxXCkey=3
aF2(tG2,tG2,oD2,gg)
gg.f=cur_globalf
}
else _w(lE2,x[107],86,14)
var eH2=_n('login-layer')
_rz(z,eH2,'loginLayerData',54,e,s,gg)
_(r,eH2)
eB1.pop()
eB1.pop()
return r
}
e_[x[107]]={f:m100,j:[],i:[],ti:[x[34],x[35]],ic:[]}
d_[x[108]]={}
d_[x[108]]["goods"]=function(e,s,r,gg){
var z=gz$gwx_102()
var b=x[108]+':goods'
r.wxVkey=b
gg.f=$gdc(f_["./pages/recommend/components/goods/goods.wxml"],"",1)
if(p_[b]){_wl(b,x[108]);return}
p_[b]=true
try{
}catch(err){
p_[b]=false
throw err
}
p_[b]=false
return r
}
var m101=function(e,s,r,gg){
var z=gz$gwx_102()
var oJ2=_n('view')
_rz(z,oJ2,'hidden',1,e,s,gg)
var xK2=_v()
_(oJ2,xK2)
if(_oz(z,2,e,s,gg)){xK2.wxVkey=1
var oL2=_mz(z,'recommend',['bind:loaderror',3,'id',1,'options',2],[],e,s,gg)
_(xK2,oL2)
}
else{xK2.wxVkey=2
}
xK2.wxXCkey=1
xK2.wxXCkey=3
_(r,oJ2)
var fM2=_v()
_(r,fM2)
var cN2=function(oP2,hO2,cQ2,gg){
var lS2=_v()
_(cQ2,lS2)
if(_oz(z,8,oP2,hO2,gg)){lS2.wxVkey=1
var aT2=_v()
_(lS2,aT2)
var tU2=function(bW2,eV2,oX2,gg){
var oZ2=_v()
_(oX2,oZ2)
var f12=function(h32,c22,o42,gg){
var o62=_v()
_(o42,o62)
if(_oz(z,17,h32,c22,gg)){o62.wxVkey=1
var l72=_mz(z,'view',['bind:tap',18,'class',1,'data-index',2],[],h32,c22,gg)
var a82=_v()
_(l72,a82)
var t92=_oz(z,22,h32,c22,gg)
var e02=_gd(x[108],t92,e_,d_)
if(e02){
var bA3=_1z(z,21,h32,c22,gg) || {}
var cur_globalf=gg.f
a82.wxXCkey=3
e02(bA3,bA3,a82,gg)
gg.f=cur_globalf
}
else _w(t92,x[108],137,34)
_(o62,l72)
}
o62.wxXCkey=1
return o42
}
oZ2.wxXCkey=2
_2z(z,15,f12,bW2,eV2,gg,oZ2,'item_item','item_index','title')
return oX2
}
aT2.wxXCkey=2
_2z(z,11,tU2,oP2,hO2,gg,aT2,'list_item','list_index','')
}
lS2.wxXCkey=1
return cQ2
}
fM2.wxXCkey=2
_2z(z,6,cN2,e,s,gg,fM2,'item','index','list')
return r
}
e_[x[108]]={f:m101,j:[],i:[],ti:[],ic:[]}
d_[x[109]]={}
var m102=function(e,s,r,gg){
var z=gz$gwx_103()
var oD3=_mz(z,'goods',['reachBottom',0,'refreshTime',1,'scrollTop',1],[],e,s,gg)
_(r,oD3)
var xC3=_v()
_(r,xC3)
if(_oz(z,3,e,s,gg)){xC3.wxVkey=1
}
xC3.wxXCkey=1
return r
}
e_[x[109]]={f:m102,j:[],i:[],ti:[],ic:[]}
d_[x[110]]={}
var m103=function(e,s,r,gg){
var z=gz$gwx_104()
var cF3=_v()
_(r,cF3)
if(_oz(z,0,e,s,gg)){cF3.wxVkey=1
var hG3=_v()
_(cF3,hG3)
if(_oz(z,1,e,s,gg)){hG3.wxVkey=1
}
hG3.wxXCkey=1
}
cF3.wxXCkey=1
return r
}
e_[x[110]]={f:m103,j:[],i:[],ti:[],ic:[]}
d_[x[111]]={}
var m104=function(e,s,r,gg){
var z=gz$gwx_105()
var cI3=_v()
_(r,cI3)
if(_oz(z,0,e,s,gg)){cI3.wxVkey=1
}
cI3.wxXCkey=1
return r
}
e_[x[111]]={f:m104,j:[],i:[],ti:[],ic:[]}
d_[x[112]]={}
var m105=function(e,s,r,gg){
var z=gz$gwx_106()
var lK3=_v()
_(r,lK3)
if(_oz(z,0,e,s,gg)){lK3.wxVkey=1
}
lK3.wxXCkey=1
return r
}
e_[x[112]]={f:m105,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
return root;
}
}
}
	__wxAppCode__['common/dialog/dialog.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['common/dialog/dialog.wxml'] = [$gwx, './common/dialog/dialog.wxml'];else __wxAppCode__['common/dialog/dialog.wxml'] = $gwx( './common/dialog/dialog.wxml' );
		__wxAppCode__['components/add-wxapp-entry/add-wxapp-entry.json'] = {"component":true,"usingComponents":{"add-wxapp":"../add-wxapp/add-wxapp"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/add-wxapp-entry/add-wxapp-entry.wxml'] = [$gwx, './components/add-wxapp-entry/add-wxapp-entry.wxml'];else __wxAppCode__['components/add-wxapp-entry/add-wxapp-entry.wxml'] = $gwx( './components/add-wxapp-entry/add-wxapp-entry.wxml' );
		__wxAppCode__['components/add-wxapp/add-wxapp.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/add-wxapp/add-wxapp.wxml'] = [$gwx, './components/add-wxapp/add-wxapp.wxml'];else __wxAppCode__['components/add-wxapp/add-wxapp.wxml'] = $gwx( './components/add-wxapp/add-wxapp.wxml' );
		__wxAppCode__['components/address-layer/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/address-layer/index.wxml'] = [$gwx, './components/address-layer/index.wxml'];else __wxAppCode__['components/address-layer/index.wxml'] = $gwx( './components/address-layer/index.wxml' );
		__wxAppCode__['components/bonus-header-down/index.json'] = {"component":true,"usingComponents":{"launch-pgapp":"../launch-pgapp/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/bonus-header-down/index.wxml'] = [$gwx, './components/bonus-header-down/index.wxml'];else __wxAppCode__['components/bonus-header-down/index.wxml'] = $gwx( './components/bonus-header-down/index.wxml' );
		__wxAppCode__['components/bottom-widget/bottom-widget.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/bottom-widget/bottom-widget.wxml'] = [$gwx, './components/bottom-widget/bottom-widget.wxml'];else __wxAppCode__['components/bottom-widget/bottom-widget.wxml'] = $gwx( './components/bottom-widget/bottom-widget.wxml' );
		__wxAppCode__['components/bubble-message/bubble-message.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/bubble-message/bubble-message.wxml'] = [$gwx, './components/bubble-message/bubble-message.wxml'];else __wxAppCode__['components/bubble-message/bubble-message.wxml'] = $gwx( './components/bubble-message/bubble-message.wxml' );
		__wxAppCode__['components/canvas-share/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/canvas-share/index.wxml'] = [$gwx, './components/canvas-share/index.wxml'];else __wxAppCode__['components/canvas-share/index.wxml'] = $gwx( './components/canvas-share/index.wxml' );
		__wxAppCode__['components/horn/horn.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/horn/horn.wxml'] = [$gwx, './components/horn/horn.wxml'];else __wxAppCode__['components/horn/horn.wxml'] = $gwx( './components/horn/horn.wxml' );
		__wxAppCode__['components/jxapp-dl-entry/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/jxapp-dl-entry/index.wxml'] = [$gwx, './components/jxapp-dl-entry/index.wxml'];else __wxAppCode__['components/jxapp-dl-entry/index.wxml'] = $gwx( './components/jxapp-dl-entry/index.wxml' );
		__wxAppCode__['components/launch-jdapp/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/launch-jdapp/index.wxml'] = [$gwx, './components/launch-jdapp/index.wxml'];else __wxAppCode__['components/launch-jdapp/index.wxml'] = $gwx( './components/launch-jdapp/index.wxml' );
		__wxAppCode__['components/launch-pgapp/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/launch-pgapp/index.wxml'] = [$gwx, './components/launch-pgapp/index.wxml'];else __wxAppCode__['components/launch-pgapp/index.wxml'] = $gwx( './components/launch-pgapp/index.wxml' );
		__wxAppCode__['components/login-layer/login-layer.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/login-layer/login-layer.wxml'] = [$gwx, './components/login-layer/login-layer.wxml'];else __wxAppCode__['components/login-layer/login-layer.wxml'] = $gwx( './components/login-layer/login-layer.wxml' );
		__wxAppCode__['components/mp-behavior/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/mp-behavior/index.wxml'] = [$gwx, './components/mp-behavior/index.wxml'];else __wxAppCode__['components/mp-behavior/index.wxml'] = $gwx( './components/mp-behavior/index.wxml' );
		__wxAppCode__['components/nav-bar/nav-bar.json'] = {"component":true,"usingComponents":{"horn":"../horn/horn","bubble-message":"/components/bubble-message/bubble-message"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/nav-bar/nav-bar.wxml'] = [$gwx, './components/nav-bar/nav-bar.wxml'];else __wxAppCode__['components/nav-bar/nav-bar.wxml'] = $gwx( './components/nav-bar/nav-bar.wxml' );
		__wxAppCode__['components/quick-clear/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/quick-clear/index.wxml'] = [$gwx, './components/quick-clear/index.wxml'];else __wxAppCode__['components/quick-clear/index.wxml'] = $gwx( './components/quick-clear/index.wxml' );
		__wxAppCode__['components/quick-nav/quick-nav.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/quick-nav/quick-nav.wxml'] = [$gwx, './components/quick-nav/quick-nav.wxml'];else __wxAppCode__['components/quick-nav/quick-nav.wxml'] = $gwx( './components/quick-nav/quick-nav.wxml' );
		__wxAppCode__['components/recommend/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/recommend/index.wxml'] = [$gwx, './components/recommend/index.wxml'];else __wxAppCode__['components/recommend/index.wxml'] = $gwx( './components/recommend/index.wxml' );
		__wxAppCode__['components/return-wxapp/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/return-wxapp/index.wxml'] = [$gwx, './components/return-wxapp/index.wxml'];else __wxAppCode__['components/return-wxapp/index.wxml'] = $gwx( './components/return-wxapp/index.wxml' );
		__wxAppCode__['components/search-bar/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/search-bar/index.wxml'] = [$gwx, './components/search-bar/index.wxml'];else __wxAppCode__['components/search-bar/index.wxml'] = $gwx( './components/search-bar/index.wxml' );
		__wxAppCode__['components/sku-layer/index.json'] = {"component":true,"usingComponents":{"sku-added-service":"./sku-added-service/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/sku-layer/index.wxml'] = [$gwx, './components/sku-layer/index.wxml'];else __wxAppCode__['components/sku-layer/index.wxml'] = $gwx( './components/sku-layer/index.wxml' );
		__wxAppCode__['components/sku-layer/sku-added-service/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/sku-layer/sku-added-service/index.wxml'] = [$gwx, './components/sku-layer/sku-added-service/index.wxml'];else __wxAppCode__['components/sku-layer/sku-added-service/index.wxml'] = $gwx( './components/sku-layer/sku-added-service/index.wxml' );
		__wxAppCode__['components/slider-view/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/slider-view/index.wxml'] = [$gwx, './components/slider-view/index.wxml'];else __wxAppCode__['components/slider-view/index.wxml'] = $gwx( './components/slider-view/index.wxml' );
		__wxAppCode__['components/subscribe-guider/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/subscribe-guider/index.wxml'] = [$gwx, './components/subscribe-guider/index.wxml'];else __wxAppCode__['components/subscribe-guider/index.wxml'] = $gwx( './components/subscribe-guider/index.wxml' );
		__wxAppCode__['components/watermarker/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['components/watermarker/index.wxml'] = [$gwx, './components/watermarker/index.wxml'];else __wxAppCode__['components/watermarker/index.wxml'] = $gwx( './components/watermarker/index.wxml' );
		__wxAppCode__['pages/cart/cart/cart.json'] = {"navigationBarTitleText":"购物车","enablePullDownRefresh":false,"usingComponents":{"nav-bar":"/components/nav-bar/nav-bar","address-layer":"/components/address-layer/index","login-layer":"/components/login-layer/login-layer","top-bar":"/pages/cart/components/top-bar/index","bottom-bar":"/pages/cart/components/bottom-bar/index","popup-coupons":"/pages/cart/components/popup-coupons/index","switch-price":"/pages/cart/components/switch-price/index","popup-promotion":"/pages/cart/components/switch-promotions/index","sku-layer":"/components/sku-layer/index","sku-infos":"/pages/cart/components/sku-infos/index","product":"/pages/cart/components/product/index","suit":"/pages/cart/components/suit/index","main-sku-gift":"/pages/cart/components/main-sku-gift/index","pullrefresh":"/pages/cart/components/pullrefresh/index","quick-nav":"/components/quick-nav/quick-nav","option-promotions":"/pages/cart/components/option-promotions/index","banner":"/pages/cart/components/banner/index","watermarker":"/components/watermarker/index","quick-clear":"/components/quick-clear/index","recommend":"/components/recommend/index"},"navigationStyle":"custom"};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/cart/cart.wxml'] = [$gwx, './pages/cart/cart/cart.wxml'];else __wxAppCode__['pages/cart/cart/cart.wxml'] = $gwx( './pages/cart/cart/cart.wxml' );
		__wxAppCode__['pages/cart/cart/index.json'] = {"navigationBarTitleText":"购物车","enablePullDownRefresh":false,"usingComponents":{"nav-bar":"/components/nav-bar/nav-bar","address-layer":"/components/address-layer/index","login-layer":"/components/login-layer/login-layer","top-bar":"/pages/cart/components/top-bar/index","bottom-bar":"/pages/cart/components/bottom-bar/index","popup-coupons":"/pages/cart/components/popup-coupons/index","switch-price":"/pages/cart/components/switch-price/index","popup-promotion":"/pages/cart/components/switch-promotions/index","sku-layer":"/components/sku-layer/index","sku-infos":"/pages/cart/components/sku-infos/index","product":"/pages/cart/components/product/index","suit":"/pages/cart/components/suit/index","main-sku-gift":"/pages/cart/components/main-sku-gift/index","pullrefresh":"/pages/cart/components/pullrefresh/index","option-promotions":"/pages/cart/components/option-promotions/index","banner":"/pages/cart/components/banner/index","watermarker":"/components/watermarker/index","quick-clear":"/components/quick-clear/index","recommend":"/components/recommend/index"},"navigationStyle":"custom"};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/cart/index.wxml'] = [$gwx, './pages/cart/cart/index.wxml'];else __wxAppCode__['pages/cart/cart/index.wxml'] = $gwx( './pages/cart/cart/index.wxml' );
		__wxAppCode__['pages/cart/components/banner/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/banner/index.wxml'] = [$gwx, './pages/cart/components/banner/index.wxml'];else __wxAppCode__['pages/cart/components/banner/index.wxml'] = $gwx( './pages/cart/components/banner/index.wxml' );
		__wxAppCode__['pages/cart/components/bottom-bar/index.json'] = {"component":true,"styleIsolation":"apply-shared","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/bottom-bar/index.wxml'] = [$gwx, './pages/cart/components/bottom-bar/index.wxml'];else __wxAppCode__['pages/cart/components/bottom-bar/index.wxml'] = $gwx( './pages/cart/components/bottom-bar/index.wxml' );
		__wxAppCode__['pages/cart/components/main-sku-gift/index.json'] = {"component":true,"styleIsolation":"apply-shared","usingComponents":{"slider-view":"/components/slider-view/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/main-sku-gift/index.wxml'] = [$gwx, './pages/cart/components/main-sku-gift/index.wxml'];else __wxAppCode__['pages/cart/components/main-sku-gift/index.wxml'] = $gwx( './pages/cart/components/main-sku-gift/index.wxml' );
		__wxAppCode__['pages/cart/components/number-picker/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/number-picker/index.wxml'] = [$gwx, './pages/cart/components/number-picker/index.wxml'];else __wxAppCode__['pages/cart/components/number-picker/index.wxml'] = $gwx( './pages/cart/components/number-picker/index.wxml' );
		__wxAppCode__['pages/cart/components/option-promotions/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/option-promotions/index.wxml'] = [$gwx, './pages/cart/components/option-promotions/index.wxml'];else __wxAppCode__['pages/cart/components/option-promotions/index.wxml'] = $gwx( './pages/cart/components/option-promotions/index.wxml' );
		__wxAppCode__['pages/cart/components/popup-coupons/index.json'] = {"component":true,"styleIsolation":"apply-shared","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/popup-coupons/index.wxml'] = [$gwx, './pages/cart/components/popup-coupons/index.wxml'];else __wxAppCode__['pages/cart/components/popup-coupons/index.wxml'] = $gwx( './pages/cart/components/popup-coupons/index.wxml' );
		__wxAppCode__['pages/cart/components/product/index.json'] = {"component":true,"styleIsolation":"apply-shared","usingComponents":{"slider-view":"/components/slider-view/index","number-picker":"/pages/cart/components/number-picker/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/product/index.wxml'] = [$gwx, './pages/cart/components/product/index.wxml'];else __wxAppCode__['pages/cart/components/product/index.wxml'] = $gwx( './pages/cart/components/product/index.wxml' );
		__wxAppCode__['pages/cart/components/pullrefresh/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/pullrefresh/index.wxml'] = [$gwx, './pages/cart/components/pullrefresh/index.wxml'];else __wxAppCode__['pages/cart/components/pullrefresh/index.wxml'] = $gwx( './pages/cart/components/pullrefresh/index.wxml' );
		__wxAppCode__['pages/cart/components/sku-infos/index.json'] = {"component":true,"styleIsolation":"apply-shared","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/sku-infos/index.wxml'] = [$gwx, './pages/cart/components/sku-infos/index.wxml'];else __wxAppCode__['pages/cart/components/sku-infos/index.wxml'] = $gwx( './pages/cart/components/sku-infos/index.wxml' );
		__wxAppCode__['pages/cart/components/suit/index.json'] = {"component":true,"styleIsolation":"apply-shared","usingComponents":{"product":"/pages/cart/components/product/index","number-picker":"/pages/cart/components/number-picker/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/suit/index.wxml'] = [$gwx, './pages/cart/components/suit/index.wxml'];else __wxAppCode__['pages/cart/components/suit/index.wxml'] = $gwx( './pages/cart/components/suit/index.wxml' );
		__wxAppCode__['pages/cart/components/switch-price/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/switch-price/index.wxml'] = [$gwx, './pages/cart/components/switch-price/index.wxml'];else __wxAppCode__['pages/cart/components/switch-price/index.wxml'] = $gwx( './pages/cart/components/switch-price/index.wxml' );
		__wxAppCode__['pages/cart/components/switch-promotions/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/switch-promotions/index.wxml'] = [$gwx, './pages/cart/components/switch-promotions/index.wxml'];else __wxAppCode__['pages/cart/components/switch-promotions/index.wxml'] = $gwx( './pages/cart/components/switch-promotions/index.wxml' );
		__wxAppCode__['pages/cart/components/top-bar/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cart/components/top-bar/index.wxml'] = [$gwx, './pages/cart/components/top-bar/index.wxml'];else __wxAppCode__['pages/cart/components/top-bar/index.wxml'] = $gwx( './pages/cart/components/top-bar/index.wxml' );
		__wxAppCode__['pages/cate/cate.json'] = {"usingComponents":{"banner":"./components/banner/index","promotion-entry":"./components/promotion-entry/index","promotion":"./components/promotion/index","cate-list":"./components/cate-list/index","channel":"./components/channel/index","tab-nav":"./components/tab-nav/index"},"navigationBarTitleText":"商品分类"};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/cate.wxml'] = [$gwx, './pages/cate/cate.wxml'];else __wxAppCode__['pages/cate/cate.wxml'] = $gwx( './pages/cate/cate.wxml' );
		__wxAppCode__['pages/cate/components/banner/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/components/banner/index.wxml'] = [$gwx, './pages/cate/components/banner/index.wxml'];else __wxAppCode__['pages/cate/components/banner/index.wxml'] = $gwx( './pages/cate/components/banner/index.wxml' );
		__wxAppCode__['pages/cate/components/cate-list/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/components/cate-list/index.wxml'] = [$gwx, './pages/cate/components/cate-list/index.wxml'];else __wxAppCode__['pages/cate/components/cate-list/index.wxml'] = $gwx( './pages/cate/components/cate-list/index.wxml' );
		__wxAppCode__['pages/cate/components/channel/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/components/channel/index.wxml'] = [$gwx, './pages/cate/components/channel/index.wxml'];else __wxAppCode__['pages/cate/components/channel/index.wxml'] = $gwx( './pages/cate/components/channel/index.wxml' );
		__wxAppCode__['pages/cate/components/promotion-entry/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/components/promotion-entry/index.wxml'] = [$gwx, './pages/cate/components/promotion-entry/index.wxml'];else __wxAppCode__['pages/cate/components/promotion-entry/index.wxml'] = $gwx( './pages/cate/components/promotion-entry/index.wxml' );
		__wxAppCode__['pages/cate/components/promotion/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/components/promotion/index.wxml'] = [$gwx, './pages/cate/components/promotion/index.wxml'];else __wxAppCode__['pages/cate/components/promotion/index.wxml'] = $gwx( './pages/cate/components/promotion/index.wxml' );
		__wxAppCode__['pages/cate/components/tab-nav/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/cate/components/tab-nav/index.wxml'] = [$gwx, './pages/cate/components/tab-nav/index.wxml'];else __wxAppCode__['pages/cate/components/tab-nav/index.wxml'] = $gwx( './pages/cate/components/tab-nav/index.wxml' );
		__wxAppCode__['pages/common/update/index.json'] = {"navigationBarTitleText":"版本过低","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/common/update/index.wxml'] = [$gwx, './pages/common/update/index.wxml'];else __wxAppCode__['pages/common/update/index.wxml'] = $gwx( './pages/common/update/index.wxml' );
		__wxAppCode__['pages/gwq/index.json'] = {"navigationBarTitleText":"购物圈","navigationBarBackgroundColor":"#FFFFFF","navigationBarTextStyle":"black","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/gwq/index.wxml'] = [$gwx, './pages/gwq/index.wxml'];else __wxAppCode__['pages/gwq/index.wxml'] = $gwx( './pages/gwq/index.wxml' );
		__wxAppCode__['pages/h5/index.json'] = {"navigationBarBackgroundColor":"#FFFFFF","navigationBarTextStyle":"black","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/h5/index.wxml'] = [$gwx, './pages/h5/index.wxml'];else __wxAppCode__['pages/h5/index.wxml'] = $gwx( './pages/h5/index.wxml' );
		__wxAppCode__['pages/index/compoments-sale/banner-1/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/compoments-sale/banner-1/index.wxml'] = [$gwx, './pages/index/compoments-sale/banner-1/index.wxml'];else __wxAppCode__['pages/index/compoments-sale/banner-1/index.wxml'] = $gwx( './pages/index/compoments-sale/banner-1/index.wxml' );
		__wxAppCode__['pages/index/compoments-sale/banner-2/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/compoments-sale/banner-2/index.wxml'] = [$gwx, './pages/index/compoments-sale/banner-2/index.wxml'];else __wxAppCode__['pages/index/compoments-sale/banner-2/index.wxml'] = $gwx( './pages/index/compoments-sale/banner-2/index.wxml' );
		__wxAppCode__['pages/index/compoments-sale/featured-1/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/compoments-sale/featured-1/index.wxml'] = [$gwx, './pages/index/compoments-sale/featured-1/index.wxml'];else __wxAppCode__['pages/index/compoments-sale/featured-1/index.wxml'] = $gwx( './pages/index/compoments-sale/featured-1/index.wxml' );
		__wxAppCode__['pages/index/compoments-sale/featured-2/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/compoments-sale/featured-2/index.wxml'] = [$gwx, './pages/index/compoments-sale/featured-2/index.wxml'];else __wxAppCode__['pages/index/compoments-sale/featured-2/index.wxml'] = $gwx( './pages/index/compoments-sale/featured-2/index.wxml' );
		__wxAppCode__['pages/index/compoments-sale/timeaxis-1/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/compoments-sale/timeaxis-1/index.wxml'] = [$gwx, './pages/index/compoments-sale/timeaxis-1/index.wxml'];else __wxAppCode__['pages/index/compoments-sale/timeaxis-1/index.wxml'] = $gwx( './pages/index/compoments-sale/timeaxis-1/index.wxml' );
		__wxAppCode__['pages/index/components-cate/catebar/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components-cate/catebar/index.wxml'] = [$gwx, './pages/index/components-cate/catebar/index.wxml'];else __wxAppCode__['pages/index/components-cate/catebar/index.wxml'] = $gwx( './pages/index/components-cate/catebar/index.wxml' );
		__wxAppCode__['pages/index/components-cate/channel/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components-cate/channel/index.wxml'] = [$gwx, './pages/index/components-cate/channel/index.wxml'];else __wxAppCode__['pages/index/components-cate/channel/index.wxml'] = $gwx( './pages/index/components-cate/channel/index.wxml' );
		__wxAppCode__['pages/index/components-cate/goods/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components-cate/goods/index.wxml'] = [$gwx, './pages/index/components-cate/goods/index.wxml'];else __wxAppCode__['pages/index/components-cate/goods/index.wxml'] = $gwx( './pages/index/components-cate/goods/index.wxml' );
		__wxAppCode__['pages/index/components/app-lauch-btn/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components/app-lauch-btn/index.wxml'] = [$gwx, './pages/index/components/app-lauch-btn/index.wxml'];else __wxAppCode__['pages/index/components/app-lauch-btn/index.wxml'] = $gwx( './pages/index/components/app-lauch-btn/index.wxml' );
		__wxAppCode__['pages/index/components/shake/shake.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/components/shake/shake.wxml'] = [$gwx, './pages/index/components/shake/shake.wxml'];else __wxAppCode__['pages/index/components/shake/shake.wxml'] = $gwx( './pages/index/components/shake/shake.wxml' );
		__wxAppCode__['pages/index/index.json'] = {"navigationBarTitleText":"京东购物","enablePullDownRefresh":true,"onReachBottomDistance":400,"navigationStyle":"custom","usingComponents":{"mallv2":"./mallv2/index/index","recommend":"../../components/recommend/index","login-layer":"../../components/login-layer/login-layer","add-wxapp-entry":"../../components/add-wxapp-entry/add-wxapp-entry","subscribe-guider":"../../components/subscribe-guider/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/index.wxml'] = [$gwx, './pages/index/index.wxml'];else __wxAppCode__['pages/index/index.wxml'] = $gwx( './pages/index/index.wxml' );
		__wxAppCode__['pages/index/mallv2/carousel/carousel.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/carousel/carousel.wxml'] = [$gwx, './pages/index/mallv2/carousel/carousel.wxml'];else __wxAppCode__['pages/index/mallv2/carousel/carousel.wxml'] = $gwx( './pages/index/mallv2/carousel/carousel.wxml' );
		__wxAppCode__['pages/index/mallv2/channel-nav/channel-nav.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/channel-nav/channel-nav.wxml'] = [$gwx, './pages/index/mallv2/channel-nav/channel-nav.wxml'];else __wxAppCode__['pages/index/mallv2/channel-nav/channel-nav.wxml'] = $gwx( './pages/index/mallv2/channel-nav/channel-nav.wxml' );
		__wxAppCode__['pages/index/mallv2/curtain/curtain.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/curtain/curtain.wxml'] = [$gwx, './pages/index/mallv2/curtain/curtain.wxml'];else __wxAppCode__['pages/index/mallv2/curtain/curtain.wxml'] = $gwx( './pages/index/mallv2/curtain/curtain.wxml' );
		__wxAppCode__['pages/index/mallv2/floating/floating.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/floating/floating.wxml'] = [$gwx, './pages/index/mallv2/floating/floating.wxml'];else __wxAppCode__['pages/index/mallv2/floating/floating.wxml'] = $gwx( './pages/index/mallv2/floating/floating.wxml' );
		__wxAppCode__['pages/index/mallv2/goods/goods.json'] = {"component":true,"usingComponents":{"recommend":"../../../../components/recommend/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/goods/goods.wxml'] = [$gwx, './pages/index/mallv2/goods/goods.wxml'];else __wxAppCode__['pages/index/mallv2/goods/goods.wxml'] = $gwx( './pages/index/mallv2/goods/goods.wxml' );
		__wxAppCode__['pages/index/mallv2/group-banner/group-banner.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/group-banner/group-banner.wxml'] = [$gwx, './pages/index/mallv2/group-banner/group-banner.wxml'];else __wxAppCode__['pages/index/mallv2/group-banner/group-banner.wxml'] = $gwx( './pages/index/mallv2/group-banner/group-banner.wxml' );
		__wxAppCode__['pages/index/mallv2/guide-bar/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/guide-bar/index.wxml'] = [$gwx, './pages/index/mallv2/guide-bar/index.wxml'];else __wxAppCode__['pages/index/mallv2/guide-bar/index.wxml'] = $gwx( './pages/index/mallv2/guide-bar/index.wxml' );
		__wxAppCode__['pages/index/mallv2/hot-word/hot-word.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/hot-word/hot-word.wxml'] = [$gwx, './pages/index/mallv2/hot-word/hot-word.wxml'];else __wxAppCode__['pages/index/mallv2/hot-word/hot-word.wxml'] = $gwx( './pages/index/mallv2/hot-word/hot-word.wxml' );
		__wxAppCode__['pages/index/mallv2/index/index.json'] = {"component":true,"usingComponents":{"search-bar":"../search-bar/search-bar","hot-word":"../hot-word/hot-word","carousel":"../carousel/carousel","channel-nav":"../channel-nav/channel-nav","promote-banner":"../promote-banner/promote-banner","curtain":"../curtain/curtain","floating":"../floating/floating","shake":"../../components/shake/shake","one-yuan":"../one-yuan/one-yuan","goods":"../goods/goods","yard":"../yard/index","newuser-floor":"../newuser-floor/index","group-banner":"../group-banner/group-banner","wallet-group":"../wallet-group/index","wallet-selected":"../wallet-selected/index","guide-bar":"../guide-bar/index","app-lauch-btn":"../../components/app-lauch-btn/index","nav-bar":"../../../../components/nav-bar/nav-bar","cate-channel":"../../components-cate/channel/index","cate-bar":"../../components-cate/catebar/index","cate-goods":"../../components-cate/goods/index","sale-featured-1":"../../compoments-sale/featured-1/index","sale-featured-2":"../../compoments-sale/featured-2/index","sale-banner-1":"../../compoments-sale/banner-1/index","sale-banner-2":"../../compoments-sale/banner-2/index","sale-timeaxis-1":"../../compoments-sale/timeaxis-1/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/index/index.wxml'] = [$gwx, './pages/index/mallv2/index/index.wxml'];else __wxAppCode__['pages/index/mallv2/index/index.wxml'] = $gwx( './pages/index/mallv2/index/index.wxml' );
		__wxAppCode__['pages/index/mallv2/newuser-floor/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/newuser-floor/index.wxml'] = [$gwx, './pages/index/mallv2/newuser-floor/index.wxml'];else __wxAppCode__['pages/index/mallv2/newuser-floor/index.wxml'] = $gwx( './pages/index/mallv2/newuser-floor/index.wxml' );
		__wxAppCode__['pages/index/mallv2/one-yuan/one-yuan.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/one-yuan/one-yuan.wxml'] = [$gwx, './pages/index/mallv2/one-yuan/one-yuan.wxml'];else __wxAppCode__['pages/index/mallv2/one-yuan/one-yuan.wxml'] = $gwx( './pages/index/mallv2/one-yuan/one-yuan.wxml' );
		__wxAppCode__['pages/index/mallv2/promote-banner/promote-banner.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/promote-banner/promote-banner.wxml'] = [$gwx, './pages/index/mallv2/promote-banner/promote-banner.wxml'];else __wxAppCode__['pages/index/mallv2/promote-banner/promote-banner.wxml'] = $gwx( './pages/index/mallv2/promote-banner/promote-banner.wxml' );
		__wxAppCode__['pages/index/mallv2/search-bar/search-bar.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/search-bar/search-bar.wxml'] = [$gwx, './pages/index/mallv2/search-bar/search-bar.wxml'];else __wxAppCode__['pages/index/mallv2/search-bar/search-bar.wxml'] = $gwx( './pages/index/mallv2/search-bar/search-bar.wxml' );
		__wxAppCode__['pages/index/mallv2/wallet-group/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/wallet-group/index.wxml'] = [$gwx, './pages/index/mallv2/wallet-group/index.wxml'];else __wxAppCode__['pages/index/mallv2/wallet-group/index.wxml'] = $gwx( './pages/index/mallv2/wallet-group/index.wxml' );
		__wxAppCode__['pages/index/mallv2/wallet-selected/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/wallet-selected/index.wxml'] = [$gwx, './pages/index/mallv2/wallet-selected/index.wxml'];else __wxAppCode__['pages/index/mallv2/wallet-selected/index.wxml'] = $gwx( './pages/index/mallv2/wallet-selected/index.wxml' );
		__wxAppCode__['pages/index/mallv2/yard/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/index/mallv2/yard/index.wxml'] = [$gwx, './pages/index/mallv2/yard/index.wxml'];else __wxAppCode__['pages/index/mallv2/yard/index.wxml'] = $gwx( './pages/index/mallv2/yard/index.wxml' );
		__wxAppCode__['pages/my/account/account.json'] = {"navigationBarTitleText":"登录京东账号","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/account/account.wxml'] = [$gwx, './pages/my/account/account.wxml'];else __wxAppCode__['pages/my/account/account.wxml'] = $gwx( './pages/my/account/account.wxml' );
		__wxAppCode__['pages/my/coupon/coupon.json'] = {"navigationBarTitleText":"京东券","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/coupon/coupon.wxml'] = [$gwx, './pages/my/coupon/coupon.wxml'];else __wxAppCode__['pages/my/coupon/coupon.wxml'] = $gwx( './pages/my/coupon/coupon.wxml' );
		__wxAppCode__['pages/my/ecard/bind/bind.json'] = {"navigationBarTitleText":"绑定礼品卡","usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/ecard/bind/bind.wxml'] = [$gwx, './pages/my/ecard/bind/bind.wxml'];else __wxAppCode__['pages/my/ecard/bind/bind.wxml'] = $gwx( './pages/my/ecard/bind/bind.wxml' );
		__wxAppCode__['pages/my/ecard/index/index.json'] = {"navigationBarTitleText":"礼品卡","usingComponents":{"quick-nav":"/components/quick-nav/quick-nav"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/ecard/index/index.wxml'] = [$gwx, './pages/my/ecard/index/index.wxml'];else __wxAppCode__['pages/my/ecard/index/index.wxml'] = $gwx( './pages/my/ecard/index/index.wxml' );
		__wxAppCode__['pages/my/index/components/bind-curtain/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/bind-curtain/index.wxml'] = [$gwx, './pages/my/index/components/bind-curtain/index.wxml'];else __wxAppCode__['pages/my/index/components/bind-curtain/index.wxml'] = $gwx( './pages/my/index/components/bind-curtain/index.wxml' );
		__wxAppCode__['pages/my/index/components/bind-floor/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/bind-floor/index.wxml'] = [$gwx, './pages/my/index/components/bind-floor/index.wxml'];else __wxAppCode__['pages/my/index/components/bind-floor/index.wxml'] = $gwx( './pages/my/index/components/bind-floor/index.wxml' );
		__wxAppCode__['pages/my/index/components/my-activity/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/my-activity/index.wxml'] = [$gwx, './pages/my/index/components/my-activity/index.wxml'];else __wxAppCode__['pages/my/index/components/my-activity/index.wxml'] = $gwx( './pages/my/index/components/my-activity/index.wxml' );
		__wxAppCode__['pages/my/index/components/my-asset/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/my-asset/index.wxml'] = [$gwx, './pages/my/index/components/my-asset/index.wxml'];else __wxAppCode__['pages/my/index/components/my-asset/index.wxml'] = $gwx( './pages/my/index/components/my-asset/index.wxml' );
		__wxAppCode__['pages/my/index/components/my-fav/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/my-fav/index.wxml'] = [$gwx, './pages/my/index/components/my-fav/index.wxml'];else __wxAppCode__['pages/my/index/components/my-fav/index.wxml'] = $gwx( './pages/my/index/components/my-fav/index.wxml' );
		__wxAppCode__['pages/my/index/components/my-header/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/my-header/index.wxml'] = [$gwx, './pages/my/index/components/my-header/index.wxml'];else __wxAppCode__['pages/my/index/components/my-header/index.wxml'] = $gwx( './pages/my/index/components/my-header/index.wxml' );
		__wxAppCode__['pages/my/index/components/my-logistics/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/my-logistics/index.wxml'] = [$gwx, './pages/my/index/components/my-logistics/index.wxml'];else __wxAppCode__['pages/my/index/components/my-logistics/index.wxml'] = $gwx( './pages/my/index/components/my-logistics/index.wxml' );
		__wxAppCode__['pages/my/index/components/my-order/index.json'] = {"component":true,"usingComponents":{"my-logistics":"../my-logistics/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/my-order/index.wxml'] = [$gwx, './pages/my/index/components/my-order/index.wxml'];else __wxAppCode__['pages/my/index/components/my-order/index.wxml'] = $gwx( './pages/my/index/components/my-order/index.wxml' );
		__wxAppCode__['pages/my/index/components/new-curtain/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/new-curtain/index.wxml'] = [$gwx, './pages/my/index/components/new-curtain/index.wxml'];else __wxAppCode__['pages/my/index/components/new-curtain/index.wxml'] = $gwx( './pages/my/index/components/new-curtain/index.wxml' );
		__wxAppCode__['pages/my/index/components/plus-curtain/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/plus-curtain/index.wxml'] = [$gwx, './pages/my/index/components/plus-curtain/index.wxml'];else __wxAppCode__['pages/my/index/components/plus-curtain/index.wxml'] = $gwx( './pages/my/index/components/plus-curtain/index.wxml' );
		__wxAppCode__['pages/my/index/components/promote-floor/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/components/promote-floor/index.wxml'] = [$gwx, './pages/my/index/components/promote-floor/index.wxml'];else __wxAppCode__['pages/my/index/components/promote-floor/index.wxml'] = $gwx( './pages/my/index/components/promote-floor/index.wxml' );
		__wxAppCode__['pages/my/index/index.json'] = {"navigationBarTitleText":"我的","usingComponents":{"login-layer":"/components/login-layer/login-layer","jxapp-dl-entry":"/components/jxapp-dl-entry/index","my-header":"./components/my-header/index","bind-floor":"./components/bind-floor/index","my-order":"./components/my-order/index","my-asset":"./components/my-asset/index","my-fav":"./components/my-fav/index","my-activity":"./components/my-activity/index","promote-floor":"./components/promote-floor/index","bind-curtain":"./components/bind-curtain/index","new-curtain":"./components/new-curtain/index","plus-curtain":"./components/plus-curtain/index","recommend":"../../../components/recommend/index","add-wxapp-entry":"/components/add-wxapp-entry/add-wxapp-entry"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/my/index/index.wxml'] = [$gwx, './pages/my/index/index.wxml'];else __wxAppCode__['pages/my/index/index.wxml'] = $gwx( './pages/my/index/index.wxml' );
		__wxAppCode__['pages/recommend/components/goods/goods.json'] = {"component":true,"usingComponents":{"recommend":"../../../../components/recommend/index"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/recommend/components/goods/goods.wxml'] = [$gwx, './pages/recommend/components/goods/goods.wxml'];else __wxAppCode__['pages/recommend/components/goods/goods.wxml'] = $gwx( './pages/recommend/components/goods/goods.wxml' );
		__wxAppCode__['pages/recommend/index.json'] = {"navigationBarTitleText":"推荐","enablePullDownRefresh":true,"onReachBottomDistance":400,"usingComponents":{"goods":"./components/goods/goods"}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/recommend/index.wxml'] = [$gwx, './pages/recommend/index.wxml'];else __wxAppCode__['pages/recommend/index.wxml'] = $gwx( './pages/recommend/index.wxml' );
		__wxAppCode__['pages/taro/components/fanxian-tag/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/taro/components/fanxian-tag/index.wxml'] = [$gwx, './pages/taro/components/fanxian-tag/index.wxml'];else __wxAppCode__['pages/taro/components/fanxian-tag/index.wxml'] = $gwx( './pages/taro/components/fanxian-tag/index.wxml' );
		__wxAppCode__['pages/taro/components/loading/index.json'] = {"component":true,"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/taro/components/loading/index.wxml'] = [$gwx, './pages/taro/components/loading/index.wxml'];else __wxAppCode__['pages/taro/components/loading/index.wxml'] = $gwx( './pages/taro/components/loading/index.wxml' );
		__wxAppCode__['pages/wechatpay/index.json'] = {"usingComponents":{}};
		if (__vd_version_info__.delayedGwx) __wxAppCode__['pages/wechatpay/index.wxml'] = [$gwx, './pages/wechatpay/index.wxml'];else __wxAppCode__['pages/wechatpay/index.wxml'] = $gwx( './pages/wechatpay/index.wxml' );
	
	define("api/APIs.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.API_GATEWAY_DOMAIN="wxa.jd.com",exports.PTAG_URL="https://hermes.jd.com/log.gif",exports.WXSQLoginUrl="https://wq.jd.com/mlogin/wxapp/login",exports.HTTP_CFG_URL="https://wxa.jd.com/config.php",exports.WS_CFG_URL="/wxa/config.php",exports.GUESS_YOU_LIKE_URL="https://knicks.jd.com/log/server",exports.USER_RES_FEEDBACK_URL="https://mercury.jd.com/log.gif"; 
 			}); 
		define("api/JDReport/JDReport.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t,r){var o={};return t&&(0,a.isObject)(t)&&(o=t),r&&(o.ext?Object.assign(o.ext,r):o.ext=r),o}Object.defineProperty(exports,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(require("./weixinAppReport.js")),i=e(require("../../common/user_info")),n=e(require("../../common/cookie-v2/cookie.js")),a=require("../../common/utils");exports.default=r({},o.default,{init:function(){var e=o.default.init(),r=0,a="",p=getCurrentPages().length,u=getCurrentPages()[p-1]||null,c={chan_type:5,wxapp_type:n.getCookie("wxapp_type")||""};if(u){var l=u&&u.pvTime||null;l&&(l.loadTime?r=l.loadTime/1e3:(l.end=Date.now(),l.loadTime=l.end-l.start,r=l.loadTime/1e3)),u.route&&(a=2==n.getCookie("wxapp_type")?"jingxi_"+u.route.replace(/\//g,"_"):"jd_"+u.route.replace(/\//g,"_"))}return e.set({pageId:a,siteId:2==n.getCookie("wxapp_type")?"JA2019_5112436":"JA2019_5112348",account:i.gUserData().pin||"",loadtime:r,openid:i.gUserData().open_id||"",unionid:i.gUserData().unionid||"",appid:getApp().appId||""}),e._click=e.click,e.click=function(r){var o=t(0,r,c);e._click(o)},e._exposure=e.exposure,e.exposure=function(r){var o=t(0,r,c);e._exposure(o)},e._pv=e.pv,e.pv=function(r){var o=t(0,r,c);e._pv(o)},e}}); 
 			}); 
		define("api/JDReport/unifyStore.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&n[e]||null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setUnifyReport=function(e,t){e&&(0,r.isObject)(t)&&(n[e]=t)},exports.getUnifyReport=t,exports.deleteUnifyReport=function(e){e&&n[e]&&delete n[e]},exports.unifyReport=function(e,r,n){try{var u="",c=r&&r.split(".")||[];3==c.length&&(u=2==o.getCookie("wxapp_type")?"jingxi_"+c[0]+"_"+c[1]+"_"+c[2]:"jd_"+c[0]+"_"+c[1]+"_"+c[2]);var s={eid:u};n&&Object.assign(s,n);var l=i.getPageUrl();if(s.eid&&l&&l.route){var p=t(l.route);p&&p[e](s)}}catch(e){}};var r=require("../../common/utils"),o=e(require("../../common/cookie-v2/cookie")),i=e(require("../../common/utils.js")),n={}; 
 			}); 
		define("api/JDReport/weixinAppReport.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";!function(){function e(t){t=t||"tr-"+u++,this.name=t,this.logCache=[],this.env=[],this.ext={},this.isReady=e.isWxDataReady,e.loggerList&&e.loggerList instanceof Array&&e.loggerList.push(this),e.isInitJda||(e.initJda(),e.isInitJda=!0)}var t={1e3:["direct","t_1000578828_xcx_1000_wxtd","xcx",""],1001:["direct","t_1000578828_xcx_1001_fxrk","xcx",""],1005:["weixin","t_1000578826_xcx_1005_fxss","xcx",""],1006:["weixin","t_1000578826_xcx_1006_fxss","xcx",""],1007:["weixin","t_1000578832_xcx_1007_drxxkp","xcx",""],1008:["weixin","t_1000578832_xcx_1008_qlxxkp","xcx",""],1011:["weixin","t_1000578833_xcx_1011_smewm","xcx",""],1012:["weixin","t_1000578833_xcx_1012_tpsm","xcx",""],1013:["weixin","t_1000578833_xcx_1013_xcsm","xcx",""],1014:["weixin","t_1000578827_xcx_1014_xcxmbxx","xcx",""],1017:["weixin","t_1000578829_xcx_1017_tyb","xcx",""],1019:["direct","t_1000578830_xcx_1019_qb","xcx",""],1020:["weixin","t_1000072662_xcx_1020_gzhjs","xcx",""],1022:["direct","t_1000578828_xcx_1022_zdrk","xcx",""],1023:["direct","t_1000578828_xcx_1023_zmtb","xcx",""],1024:["direct","t_1000578828_xcx_1024_xcxjs","xcx",""],1025:["weixin","t_1000578833_xcx_1025_smywm","xcx",""],1026:["weixin","t_1000578829_xcx_1026_fjxcx","xcx",""],1027:["weixin","t_1000578826_xcx_1027_dbss","xcx",""],1028:["direct","t_1000578836_xcx_1028_kqkb","xcx",""],1029:["direct","t_1000578836_xcx_1029_kqxq","xcx",""],1030:["weixin","t_1000578829_xcx_1030_zdhcs","xcx",""],1031:["weixin","t_1000578833_xcx_1031_tpsm","xcx",""],1032:["weixin","t_1000578833_xcx_1032_xcsm","xcx",""],1034:["weixin","t_1000578827_xcx_1034_zfwcxx","xcx",""],1035:["weixin","t_1000072662_xcx_1035_cdl","xcx",""],1036:["weixin","t_335139774_xcx_1036_appfxxx","xcx",""],1037:["weixin","t_1000578834_xcx_1037_xcxtz","xcx",""],1038:["weixin","t_1000578834_xcx_1038_xcxtz","xcx",""],1039:["weixin","t_1000578829_xcx_1039_yds","xcx",""],1042:["weixin","t_1000578826_xcx_1042_tjss","xcx",""],1043:["weixin","t_1000072662_xcx_1043_gzhxx","xcx",""],1044:["weixin","t_1000578832_xcx_1044_fxxxkp","xcx",""],1045:["weixin","t_1000578835_xcx_1045_pyq","xcx",""],1046:["weixin","t_1000578835_xcx_1046_xqy","xcx",""],1047:["weixin","t_1000578833_xcx_1047_smxcxm","xcx",""],1048:["weixin","t_1000578833_xcx_1048_tpsm","xcx",""],1049:["weixin","t_1000578833_xcx_1049_xcsm","xcx",""],1052:["direct","t_1000578836_xcx_1052_kqmdlb","xcx",""],1053:["weixin","t_1000578826_xcx_1053_sys","xcx",""],1054:["direct","t_1000578828_xcx_1054_dbss","xcx",""],1055:["weixin","t_1000578829_xcx_1055_h5hq","xcx",""],1056:["weixin","t_1000578829_xcx_1056_ylbf","xcx",""],1057:["direct","t_1000578830_xcx_1057_yxkxqy","xcx",""],1058:["weixin","t_1000072663_xcx_1058_gzhwz","xcx",""],1059:["weixin","t_1000578829_xcx_1059_yqy","xcx",""],1064:["weixin","t_1000578829_xcx_1064_wifilj","xcx",""],1067:["weixin","t_1000578835_xcx_1067_gzh","xcx",""],1068:["weixin","t_1000578835_xcx_1068_fjxcx","xcx",""],1069:["weixin","t_1000578829_xcx_1069_ydyy","xcx",""],1071:["direct","t_1000578830_xcx_1071_yxklby","xcx",""],1072:["weixin","t_1000578833_xcx_1072_ewmsk","xcx",""],1073:["weixin","t_1000578829_xcx_1073_kfxx","xcx",""],1074:["weixin","t_1000072663_xcx_1074_gzhxx","xcx",""],1077:["weixin","t_1000578829_xcx_1077_yzb","xcx",""],1078:["weixin","t_1000578829_xcx_1078_wifilj","xcx",""],1079:["weixin","t_1000578829_xcx_1079_yxzx","xcx",""],1081:["weixin","t_1000578829_xcx_1081_kfwzl","xcx",""],1082:["weixin","t_1000072663_xcx_1082_hhwzl","xcx",""],1084:["weixin","t_1000578835_xcx_1084_ysy","xcx",""],1089:["direct","t_1000578828_xcx_1089_ltkxl","xcx",""],1090:["direct","t_1000578828_xcx_1090_xcxcd","xcx",""],1091:["weixin","t_1000072663_xcx_1091_wzspkp","xcx",""],1092:["direct","t_1000578829_xcx_1092_csfwrk","xcx",""],1095:["weixin","t_1000578835_xcx_1095_xcxzj","xcx",""],1096:["direct","t_1000578828_xcx_1096_ltjl","xcx",""],1097:["weixin","t_1000578829_xcx_1097_zfqy","xcx",""],1099:["direct","t_1000578829_xcx_1099_cj","xcx",""],1102:["weixin","t_1000072663_xcx_1102_fwyl","xcx",""],1103:["direct","t_1000578829_xcx_1103_fxwd","xcx",""],1104:["direct","t_1000578829_xcx_1104_xlwd","xcx",""],1129:["weixin","t_1000578829_xcx_11129_pc","xcx",""]},n=function(e){var t="";try{t=wx.getStorageSync(e)}catch(e){}return t},i=function(e,t){try{wx.setStorageSync(e,t)}catch(e){}},x=wx.request,a=wx.getSystemInfo,r=wx.getNetworkType,c="__jda",_="__jdd",s="__jdv",o="union_customerinfo",p="__refer",d=function(){var e="https://neptune.jd.com/log/m";try{var t=getApp({allowDefault:!0});t&&t.globalRequestUrl&&(e=t.globalRequestUrl.replace(/\/*$/,"/neptune/log/m"))}catch(e){}return e},u=0;e.loggerList=[],e.dependList={sysinfo:0,netType:0},e.isWxDataReady=!1,e.dataReady=function(t){if(!e.isWxDataReady){e.dependList[t]=1;for(var n in e.dependList)if(!e.dependList[n])return;e.isWxDataReady=!0,n=0;for(var i=e.loggerList.length;n<i;n++)e.loggerList[n].ready();delete e.loggerList}},e.pr=e.prototype,e.pr.ready=function(){this.isReady=!0;for(var e=this.logCache.length,t=0;t<e;t++)this.sendData.apply(this,this.logCache[t])},e.pr.sendData=function(t,n,i){var x;(x="pv"==n?this.initPvData(i):"cl"==n?this.initClickData(i):"cd"==n?this.initShoppingData(i):"od"==n?this.initOrderData(i):"sr"==n?this.initPageUnloadData(i):"ep"==n?this.initExposureData(i):i).tpc=t,x.report_ts=l()/1e3,x.token=e.md5(x.report_ts+"5YT%aC89$22OI@pQ"),x.data[0].typ=n,this.request(x,"sr"==n||"cl"==n)},e.pr.send=function(e,t,n){this.isReady?this.sendData.apply(this,arguments):this.logCache.push(arguments)},e.pr.request=function(e,t){var n=!1;if(x({url:d()+"?std="+e.std,data:e,method:"POST",header:{"content-type":"application/json"},success:function(t){console.log("requestDone",e),n=!0}}),t)for(var i=l()+100;l()<i||n;);},e.pr.exports=function(){var e=this;return{set:function(t){e.setData(t)},pv:function(t){e.lastPvTime&&l()-e.lastPvTime<100||(e.lastPvTime=l(),e.env[R]||(e.setupPageview(),e.env[R]=!0),e.send("wx_app.000000","pv",t),e.env[R]=!1)},click:function(t){e.send("wx_app.000001","cl",t)},exposure:function(t){e.send("wx_app.000005","ep",t)},autoClick:function(t){var n,i=t.target.dataset,x=t.currentTarget.dataset;if(i&&i.eid?n=i:x&&x.eid&&(n=x),n){var a={eid:n.eid,elevel:n.elevel,eparam:n.eparam,pname:n.pname,pparam:n.pparam,target:n.target,event:t};e.send("wx_app.000001","cl",a)}},addToCart:function(t){e.send("wx_app.000002","cd",t)},order:function(t){e.send("wx_app.000003","od",t)},pageUnload:function(t){e.send("wx_app.000004","sr",t)},getSeries:function(){return e.env[R]||(e.setupPageview(),e.env[R]=!0),JSON.stringify(e.getSeriesData())},urlAddSeries:function(e){var t=(e||"").indexOf("#"),n="wxappSeries="+encodeURIComponent(this.getSeries());return t>-1?t===e.length-1?e+n:e+"&"+n:e+"#"+n},setMParam:function(t){return e.setMParam(t)}}},function(t){function n(e){return r(c(a(e),8*e.length))}function i(e){for(var t,n=l?"0123456789ABCDEF":"0123456789abcdef",i="",x=0;x<e.length;x++)t=e.charCodeAt(x),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function x(e){for(var t,n,i="",x=-1;++x<e.length;)t=e.charCodeAt(x),n=x+1<e.length?e.charCodeAt(x+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),x++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function a(e){var t,n=Array(e.length>>2);for(t=0;t<n.length;t++)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function r(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,x=-1732584194,a=271733878,r=0;r<e.length;r+=16){var c=n,_=i,l=x,v=a;i=d(i=d(i=d(i=d(i=p(i=p(i=p(i=p(i=o(i=o(i=o(i=o(i=s(i=s(i=s(i=s(i,x=s(x,a=s(a,n=s(n,i,x,a,e[r+0],7,-680876936),i,x,e[r+1],12,-389564586),n,i,e[r+2],17,606105819),a,n,e[r+3],22,-1044525330),x=s(x,a=s(a,n=s(n,i,x,a,e[r+4],7,-176418897),i,x,e[r+5],12,1200080426),n,i,e[r+6],17,-1473231341),a,n,e[r+7],22,-45705983),x=s(x,a=s(a,n=s(n,i,x,a,e[r+8],7,1770035416),i,x,e[r+9],12,-1958414417),n,i,e[r+10],17,-42063),a,n,e[r+11],22,-1990404162),x=s(x,a=s(a,n=s(n,i,x,a,e[r+12],7,1804603682),i,x,e[r+13],12,-40341101),n,i,e[r+14],17,-1502002290),a,n,e[r+15],22,1236535329),x=o(x,a=o(a,n=o(n,i,x,a,e[r+1],5,-165796510),i,x,e[r+6],9,-1069501632),n,i,e[r+11],14,643717713),a,n,e[r+0],20,-373897302),x=o(x,a=o(a,n=o(n,i,x,a,e[r+5],5,-701558691),i,x,e[r+10],9,38016083),n,i,e[r+15],14,-660478335),a,n,e[r+4],20,-405537848),x=o(x,a=o(a,n=o(n,i,x,a,e[r+9],5,568446438),i,x,e[r+14],9,-1019803690),n,i,e[r+3],14,-187363961),a,n,e[r+8],20,1163531501),x=o(x,a=o(a,n=o(n,i,x,a,e[r+13],5,-1444681467),i,x,e[r+2],9,-51403784),n,i,e[r+7],14,1735328473),a,n,e[r+12],20,-1926607734),x=p(x,a=p(a,n=p(n,i,x,a,e[r+5],4,-378558),i,x,e[r+8],11,-2022574463),n,i,e[r+11],16,1839030562),a,n,e[r+14],23,-35309556),x=p(x,a=p(a,n=p(n,i,x,a,e[r+1],4,-1530992060),i,x,e[r+4],11,1272893353),n,i,e[r+7],16,-155497632),a,n,e[r+10],23,-1094730640),x=p(x,a=p(a,n=p(n,i,x,a,e[r+13],4,681279174),i,x,e[r+0],11,-358537222),n,i,e[r+3],16,-722521979),a,n,e[r+6],23,76029189),x=p(x,a=p(a,n=p(n,i,x,a,e[r+9],4,-640364487),i,x,e[r+12],11,-421815835),n,i,e[r+15],16,530742520),a,n,e[r+2],23,-995338651),x=d(x,a=d(a,n=d(n,i,x,a,e[r+0],6,-198630844),i,x,e[r+7],10,1126891415),n,i,e[r+14],15,-1416354905),a,n,e[r+5],21,-57434055),x=d(x,a=d(a,n=d(n,i,x,a,e[r+12],6,1700485571),i,x,e[r+3],10,-1894986606),n,i,e[r+10],15,-1051523),a,n,e[r+1],21,-2054922799),x=d(x,a=d(a,n=d(n,i,x,a,e[r+8],6,1873313359),i,x,e[r+15],10,-30611744),n,i,e[r+6],15,-1560198380),a,n,e[r+13],21,1309151649),x=d(x,a=d(a,n=d(n,i,x,a,e[r+4],6,-145523070),i,x,e[r+11],10,-1120210379),n,i,e[r+2],15,718787259),a,n,e[r+9],21,-343485551),n=u(n,c),i=u(i,_),x=u(x,l),a=u(a,v)}return Array(n,i,x,a)}function _(e,t,n,i,x,a){return u((r=u(u(t,e),u(i,a)))<<(c=x)|r>>>32-c,n);var r,c}function s(e,t,n,i,x,a,r){return _(t&n|~t&i,e,t,x,a,r)}function o(e,t,n,i,x,a,r){return _(t&i|n&~i,e,t,x,a,r)}function p(e,t,n,i,x,a,r){return _(t^n^i,e,t,x,a,r)}function d(e,t,n,i,x,a,r){return _(n^(t|~i),e,t,x,a,r)}function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var l=0;e.md5=function(e){return i(n(x(e)))}}();var l=function(){return(new Date).getTime()},v=function(){return l()+""+parseInt(2147483647*Math.random())},h=function(e){return"[object Object]"=={}.toString.call(e)},f=function(e,t){if(h(e)&&h(t))for(var n in t)e[n]=t[n]},g=function(e){if(h(e)){var t=[];for(var n in e)"m_param"!==n&&t.push(n+"="+e[n]);return t.join("&")}},m=0,w=m++,y=m++,D=m++,k=m++,C=m++,S=m++,j=m++,I=m++,P=m++,R=m++,b=m++,q=m++,z=m++,A=m++,L=m++,T=m++,U=m++,J=m++,O=m++,E=m++,W=m++,M=m++,N=m++,X=m++,F=m++,Y=m++,$=m++,B=m++,H=m++,K=m++;e.pr.getData=function(e){for(var t={},n=0,i=e.length;n<i;n++){var x=e[n];t[x[0]]=this.env[x[1]]||""}return t};var Q=null;e.pr.setupPageview=function(){var e,x,a,r=this.env,d=l(),u=parseInt(d/1e3),h=n(c),f=n(_),g=n(s);r[P]=!1,e=u,x=r,(a=(f||"").split(".")).length>1?x[P]=x[P]||1*a[1]+1800<e:x[P]=!0;var m,w,R,b,L,T,U,E,W,M,Y,$,B,V=function(e,n,i){var x=(g||"").split("|"),a="",r="",c="",_="",s=!1;x.length>=6&&(n-x[5]<=864e5?(a=x[1],r=x[2],c=x[3],_=x[4]):s=!0);var o=i[A],p=[];if(Q&&t[Q]){var d=t[Q];p[0]=d[0],p[1]=encodeURIComponent(d[1]),p[2]=encodeURIComponent(d[2])||"none",p[3]=encodeURIComponent(d[3])||"-",Q=null}o&&o.utm_source&&(p[0]=encodeURIComponent(o.utm_source),p[1]=encodeURIComponent(o.utm_campaign||"")||r,p[2]=encodeURIComponent(o.utm_medium||"")||c,p[3]=encodeURIComponent(o.utm_term||"")||_,s=!0);var u=!1;p.length>0&&"direct"!=p[0]?u=(p[0]!==a||p[1]!==r||p[2]!==c)&&"referral"!==p[2]:p.length>0&&"direct"==p[0]&&("direct"===a||!a)&&(u=p[1]!==r||p[2]!==c||p[3]!==_);var l="";return(i[P]||u)&&(a=p[0]||a,r=p[1]||r,c=p[2]||c,_=p[3]||_),(s||u||x.length<5)&&(l=[1,a||"direct",r||"-",c||"none",_||"-",n].join("|")),i[P]=i[P]||u,l}(0,d,r),G=(M=u,Y=r,$=(f||"").split("."),B=1,$.length>1?(Y[P]=Y[P]||1*$[1]+1800<M,B=(Y[P]?1:1*$[0]+1)||1):Y[P]=!0,Y[S]=B),Z=(m=u,w=r,U=(h||"").split("."),E=1,W=1,U.length>5?(E=U[0]||E,R=U[1]||v(),b=U[2]||m,w[P]?(L=U[4]||m,T=m,W=1*U[5]+1||1):(L=U[3]||m,T=U[4]||m,W=1*U[5]||1)):(R=v(),b=L=T=m,W=1),w[H]=E,w[y]=R,w[D]=b,w[k]=L,w[C]=T,w[j]=W,[E,R,b,L,T,W].join("."));!function(e){if(e[K]&&e[K].pv_sid&&e[K].pv_seq){var t=1*e[K].pv_sid,n=1*e[K].pv_seq;t>99999999||(t>e[j]||t==e[j]&&n>=e[S])&&(e[j]=t,e[S]=n+1)}}(r),V&&i(s,V),G=[r[S],u].join("."),Z=[r[H],r[y],r[D],r[k],r[C],r[j]].join("."),i(_,G),i(c,Z);var ee,te,ne=function(e,t,n){var i=n[A],x="",a="";if(i&&i.customerinfo)x=i.customerinfo,a=t;else{var r=e instanceof Array?e:[];2==r.length&&t-r[1]<86400&&(x=r[0],a=r[1])}return n[F]=x,x?[x,a]:[]}(n(o),u,r);if(i(o,ne),r[I]=V||g,ee=this.env,(te=n("jdwcx")||n("jdzdm"))&&(te.unionid&&(ee[N]=te.unionid),te.wxversion&&(ee[X]=te.wxversion)),!r[q])try{var ie=getCurrentPages(),xe=ie[ie.length-1];xe.__route__?r[q]=xe.__route__:xe.route&&(r[q]=xe.route)}catch(e){}if(r[P])r[J]="",r[O]="";else{var ae=n(p);r[J]=ae[0],r[O]=ae[1]}i(p,[r[q],r[z]])},e.pr.initPvData=function(e){this.pageLoadTime=l(),this.maxClickDeep=0,e=e||{};var t=this.baseEnv(),n=[["sku",Y],["shp",$],["tit",b],["ldt",B]],i=this.getData(n);return i.page_id=e.pageId||this.env[L]||"",i.pname=e.pname||this.env[T]||this.env[q]||"",i.pparam=e.pparam||this.env[U]||this.env[z]||"",f(t.data[0],i),f(t.data[0].ext,e.ext),t},e.pr.initClickData=function(e){var t,n=this.baseEnv(),i=n.data[0];if(i.eid=e.eid||"",i.eparam=e.eparam||"",i.elevel=e.elevel||"",i.page_id=e.pageId||this.env[L]||"",i.pname=e.pname||this.env[T]||this.env[q]||"",i.pparam=e.pparam||this.env[U]||this.env[z]||"",i.tar=e.target||"",i.x=0,i.y=0,t=e.event,h(t)&&t.type&&t.target){var x=e.event,a=x.touches;if((!a||a.length<1)&&(a=x.changedTouches),a&&a.length>0){i.x=parseInt(a[0].pageX);var r=parseInt(a[0].pageY);i.y=r,r>this.maxClickDeep&&(this.maxClickDeep=r)}}return f(i.ext,e.ext),n},e.pr.initExposureData=e.pr.initClickData,e.pr.initShoppingData=function(e){var t=this.baseEnv(),n=t.data[0];return n.eid=e.eid||"",n.eparam=e.eparam||"",n.elevel=e.elevel||"",n.page_id=e.pageId||this.env[L]||"",n.pname=e.pname||this.env[T]||this.env[q]||"",n.pparam=e.pparam||this.env[U]||this.env[z]||"",n.sku_list=e.shoppingList?JSON.stringify(e.shoppingList):"",f(n.ext,e.ext),t},e.pr.initOrderData=function(e){var t=this.baseEnv(),n=t.data[0];return n.eid=e.eid||"",n.eparam=e.eparam||"",n.elevel=e.elevel||"",n.page_id=e.pageId||this.env[L]||"",n.pname=e.pname||this.env[T]||this.env[q]||"",n.pparam=e.pparam||this.env[U]||this.env[z]||"",n.sku_list=e.orderList?JSON.stringify(e.orderList):"",n.order_total_fee=e.total||0,n.sale_ord_id=e.orderid||"",f(n.ext,e.ext),t},e.pr.initPageUnloadData=function(e){var t=((l()-this.pageLoadTime)/1e3).toFixed(3),n=this.baseEnv(),i=n.data[0];return e=e||{},i.page_id=e.pageId||this.env[L]||"",i.pname=e.pname||this.env[T]||this.env[q]||"",i.pparam=e.pparam||this.env[U]||this.env[z]||"",i.alive_seconds=t,i.click_deep=this.maxClickDeep,f(i.ext,e.ext),n},function(){e.wxDat={};var t=e.wxDat;a({success:function(e){e&&(t.dvc=e.model,t.pixelRatio=(e.pixelRatio||"")+"",t.scr=parseInt(e.windowWidth)+"x"+parseInt(e.windowHeight),t.lang=e.language,t.wxver=e.version,t.sdkver=e.SDKVersion||"")},complete:function(){e.dataReady("sysinfo")}}),r({success:function(e){e&&(t.net=e.networkType)},complete:function(){e.dataReady("netType")}})}(),e.pr.setData=function(e){if(h(e)){var t={account:[E],siteId:[w],skuid:[Y],shopid:[$],title:[b],loadtime:[B],url:[q],urlParam:[z,g],pageId:[L],pname:[T],pparam:[U],appid:[W],openid:[M],unionid:[N]};for(var i in e){var x=t[i];x?this.env[x[0]]=x[1]?x[1](e[i]):e[i]:this.ext[i]=e[i]}this.env[A]=e.urlParam||{},e&&h(e.urlParam)&&e.urlParam.m_param&&this.setMParam(e.urlParam.m_param),this.env[W]||(this.env[W]=n("appid"))}},e.appDat={},e.setAppData=function(t){for(var n in t)e.appDat[n]=t[n]},e.scene=null,e.setScene=function(t){e.scene=t,Q=t},e.pr.setMParam=function(e){try{this.env[K]=JSON.parse(e)||{}}catch(e){}},e.pr.baseEnv=function(){var t=this.env,i=e.wxDat,x={cli:"wx-app",std:t[w]||"WXAPP-JA2016-1",uuid:t[y]||"",scr:i.scr||"",dvc:i.dvc||"",lang:i.lang||"",appkey:t[X]||"",appid:t[W]||"",openid:t[M]||"",unionid:t[N]||"",gender:i.gender||"",city:i.city||"",province:i.province||"",country:i.country||"",wxver:i.wxver||"",data:[]},a=[["ctp",q],["par",z],["ref",J],["rpr",O],["seq",S],["vts",j],["pin",E],["fst",D],["pst",k],["vct",C]],r=this.getData(a);return r.jsver="WX1.0.0",r.net=i.net||"",r.lat=i.lat||"",r.lon=i.lon||"",r.speed=i.speed||"",r.accuracy=i.accuracy||"",r.pixelRatio=i.pixelRatio||"",r.jdv=t[I]||"",r.customerInfo=t[F]||"",r.unpl=n("unpl")||"",r.scene=e.scene||"",r.sdkver=i.sdkver||"",r.ext={},f(r.ext,this.ext),f(r.ext,e.appDat),x.data.push(r),x},e.pr.getSeriesData=function(){var e=this.env,t={uuid:e[y]||"",std:e[w]||"WXAPP-JA2016-1",seq:e[S],vts:e[j]};return e[X]&&(t.appkey=e[X]),e[W]&&(t.appid=e[W]),t},e.initJda=function(){var e=n(c);if(!e){var t=(new Date).getTime();e=[1,t+""+parseInt(2147483647*Math.random()),t,t,t,0].join("."),i(c,e)}return e},module.exports={init:function(t){return new e(t).exports()},setAppData:function(t){e.setAppData(t)},setScene:function(t){e.setScene(t)}}}(); 
 			}); 
		define("api/Ptag/Ptag_constants.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PAGE_HOME="wqs.jd.com/xcx/index.shtml",exports.PAGE_URL_CART="wqs.jd.com/xcx/my/cart/jdshopcart.shtml",exports.PAGE_SEARCH_RESULT="wqsou.jd.com/xcx/search/search_result.shtml",exports.PAGE_VIEW="wqitem.jd.com/xcx/item/view",exports.PAGE_CONFIRM="wqs.jd.com/xcx/order/wq.confirm.shtml",exports.PAGE_COMMENT_DETAIL="wqs.jd.com/xcx/ProductEvaluation.shtml?ptag=7418.8.2",exports.PAGE_JD_COUPON="wqs.jd.com/xcx/my/coupon.shtml",exports.PAGE_LOGISTICS_DETAIL="wqs.jd.com/xcx/logistics.shtml?ptag=7416.1.1",exports.PAGE_FILTER="wqsou.jd.com/xcx/filter_type.shtml",exports.PAGE_SHOP="wqs.jd.com/xcx/shop/homeindex.shtml",exports.PAGE_AUTH="wqs.jd.com/xcx/auth_failed.shtml",exports.PAGE_COUPON_CENTER="wqs.jd.com/xcx/coupon_center.shtml",exports.PAGE_MART="wqs.jd.com/xcx/mart.shtml",exports.PAGE_OFFLINE_STORE="wqs.jd.com/xcx/yysshop/homeindex.shtml",exports.PAGE_RUNNING="wqs.jd.com/xcx/jdrun.shtml",exports.PAGE_SECKILL="sale.jd.com/act/4i2ak7RSP1O.html",exports.PAGE_ACCOUNTBIND="wqs.jd.com/xcx/my/accountbind.shtml",exports.PAGE_ASSETS_TRANSFER="wqs.jd.com/xcx/assets_transfer.shtml",exports.PAGE_ACCOUNT_MANAGE="wqs.jd.com/xcx/account_manage.shtml",exports.INDEX_SEARCH_CLICK="7428.1.1",exports.INDEX_COUPON_CLICK="7428.2.1",exports.INDEX_ENTRANCE_COUPON="7428.7.1",exports.INDEX_ENTRANCE_SCAN="7428.7.2",exports.INDEX_ENTRANCE_LOGISTICS="7428.7.3",exports.INDEX_ENTRANCE_CATE="7428.7.4",exports.INDEX_TIPS_SHOW="7486.3.1",exports.INDEX_TIPS_CLICK="7486.3.2",exports.INDEX_TIPS_CLOSE="7486.3.3",exports.SECKILL_CLICK_STAGE_ONSALE="7428.4.1",exports.SECKILL_CLICK_STAGE_PRESALE="7428.4.2",exports.SECKILL_VIEW_ITEM_ONSALE="7428.5.1",exports.SECKILL_VIEW_ITEM_PRESALE="7428.5.2",exports.SECKILL_CLICK_ORDER="7428.6.1",exports.SECKILL_CANCEL_ORDER="7428.6.2",exports.MY_ALL_ORDERS_CLICK="7414.2.1",exports.MY_UNPAY_ORDERS_CLICK="7414.2.2",exports.MY_UNTAKE_ORDERS_CLICK="7414.2.3",exports.MY_AFTER_SELL_CLICK="7414.2.4",exports.MY_COUPON_CLICK="7414.3.1",exports.MY_REGIST_LOGIN_CLICK="7414.1.2",exports.MY_BEAN="7414.3.2",exports.MY_BALANCE_CLICK="7414.3.3",exports.MY_ECARD="7414.3.4",exports.MY_WAIT_COMMENT="7414.2.5",exports.MY_BIND_WINDOW="7414.11.1",exports.MY_BIND_FLOOR="7414.11.2",exports.MY_REAL_NAME="7414.8.14",exports.MY_BIND_FLOORGARY_CLICK="7414.11.4",exports.MY_BIND_WINDOWGARY_CLICK="7414.11.3",exports.MY_LOGISTICS_PROGRESS_CLICK="7414.2.6",exports.MY_LOGISTICS_PROGRESS_EXPROSURE="7414.2.7",exports.MY_FREE_TASK_CLICK="7414.4.5",exports.MY_FREE_TASK_EXPROSURE="7414.4.4",exports.BINDRESULT_BACK_CLICK="7414.6.8",exports.BINDPOPUP_BIND_TEL="7414.12.10",exports.TRANSFER_SURE_TRANSFER_CLICK="7414.8.9",exports.TRANSFER_CANCEL_TRANSFER_CLICK="7414.8.10",exports.CATE_SEARCH_BAR="7458.1.1",exports.CATE_TAB="7458.2.x",exports.CATE_ITEM="7458.10+x.y",exports.OFFLINE_STORE_SEARCH="7486.1.1",exports.OFFLINE_STORE_MORE="7486.1.2",exports.OFFLINE_STORE_NAME_TIP="7486.1.3",exports.OFFLINE_STORE_INFO_TIP="7486.1.4",exports.OFFLINE_STORE_SELECTION="7486.1.5",exports.OFFLINE_STORE_GOODS="7486.1.6",exports.OFFLINE_STORE_BUTTON="7486.1.7",exports.OFFLINE_STORE_FININAL_OTHER="7486.2.2",exports.SHOP_SORT_BUTTOM="7463.1.1",exports.SHOP_COMPOSITE_BUTTON="7463.1.2",exports.SHOP_SALE_SORT_BUTTON="7463.1.3",exports.SHOP_PRICE_SORT_BUTTON="7463.1.4",exports.SHOP_ALL_PRODUCTION_TAB="7463.1.5",exports.SHOP_NEW_ARRIVAL_PRODUCTION_TAB="7463.1.6",exports.SHOP_PROMOTION_PRODUCTION_TAB="7463.1.7",exports.CONFIRM_LOGIN_BUTTON="17067.14.3",exports.SELECT_SCHOOL="17067.14.4",exports.ACTIVITY_ENTRY="17067.14.5",exports.ACTIVITY_RULES="17067.14.6",exports.MAP_SIGN_1="17067.14.7",exports.MAP_SIGN_2="17067.14.8",exports.MAP_SIGN_3="17067.14.9",exports.MAP_SIGN_4="17067.14.10",exports.MAP_SIGN_5="17067.14.11",exports.COLLECTION_BUTTON="17067.14.12",exports.CONSTELLATION_1="17067.14.13",exports.CONSTELLATION_2="17067.14.14",exports.CONSTELLATION_3="17067.14.15",exports.CONSTELLATION_4="17067.14.16",exports.CONSTELLATION_5="17067.14.17",exports.CONSTELLATION_6="17067.14.18",exports.CONSTELLATION_7="17067.14.19",exports.CONSTELLATION_8="17067.14.20",exports.CONSTELLATION_9="17067.14.21",exports.CONSTELLATION_10="17067.14.22",exports.CONSTELLATION_11="17067.14.23",exports.CONSTELLATION_12="17067.14.24",exports.AWARD_BUTTON="17067.14.25",exports.RANK_BUTTON="17067.14.26",exports.BACK_HOME_BUTTON="17067.14.27",exports.RANK_TAB_1="17067.14.28",exports.RANK_TAB_2="17067.14.29",exports.RANK_TAB_3="17067.14.30",exports.MODAL_CONFIRM_BUTTON="17067.14.31",exports.SUBMIT_INFO_BUTTON="17067.14.32",exports.COMPLETE_TAB="7414.6.1",exports.BIND_TAB="7414.6.2",exports.COMPLETE_CHECKTEL="7414.6.3",exports.BIND_CHECKTEL="7414.6.4",exports.COMPLETE_SUREBUTTON="7414.6.5",exports.BIND_SUREBUTTON="7414.6.6",exports.BIND_FORGET_PW="7414.6.7",exports.ECARD_USABLE_TAB="7414.7.1.1",exports.ECARD_INVALID_TAB="7414.7.1.2",exports.ECARD_USEHELP="7414.7.1.3",exports.ECARD_BINDCARD="7414.7.1.4",exports.EXP_CART="7014.18.13",exports.EXP_CART_EMPTY="7014.18.14",exports.EXP_SEARCH_RELATED_KWD="7429.7.1",exports.SEARCH_RELATED_KWD="7429.7.2",exports.EXP_SHOP_ALL_PRODUCTION="137603.1.1",exports.EXP_SHOP_NEW_ARRIVAL_PRODUCTION="137603.1.2",exports.EXP_SHOP_PROMOTION_PRODUCTION="137603.1.3",exports.EXP_SHOP_RECOMMENDATION_PRODUCTION="137603.1.4",exports.EXP_AUTH_FAILED="137619.1.1",exports.EXP_COUPON_CENTER="7482.1.1",exports.EXP_DARENTUAN="138112.3.10",exports.MY_COUPON_TAB0="7211.6.1",exports.MY_COUPON_TAB1="7211.6.2",exports.MY_COUPON_TAB2="7211.6.3",exports.MY_COUPON_TAB3="7211.6.4",exports.MY_COUPON_TO_USE="7211.6.5",exports.MY_COUPON_TICKET_EXPOSURE="7211.6.6",exports.MY_COUPON_TICKET_CLICK="7211.6.7",exports.MY_COUPON_TO_DETAIL="7211.6.8",exports.MY_COUPON_DETAIL_TICKET_EXPOSURE="7211.6.9",exports.MY_COUPON_DETAIL_TICKET_CLICK="7211.6.10",exports.MY_COUPON_DETAIL_TICKET_GOODS_EXPOSURE="7211.6.11",exports.MY_COUPON_DETAIL_TICKET_GOODS_CLICK="7211.6.12",exports.EXP_PINGOU_INDEX="137898.1.1",exports.EXP_PINGOU_MY="137898.1.4",exports.EXP_PINGOU_TUAN="137898.1.2",exports.EXP_PINGOU_ZIYING="137898.1.3",exports.EXP_DISCOUNT_COUPON="7418.7.3",exports.EXP_STORE_COUPON_AREA="7463.2.1",exports.EXP_STORE_DISCOUNT_COUPON="7463.2.3",exports.STORE_COUPON="7463.2.2",exports.STORE_DISCOUNT_SUCC="7463.2.4",exports.STORE_COUPON_SUCC="7418.7.7",exports.STORE_COUPON_FAIL="7418.7.8",exports.SCENE_PTAG_MAP={1e3:"17078.71.1",1001:"17078.1.1",1005:"17078.2.1",1006:"17078.3.1",1007:"17078.4.1",1008:"17078.5.1",1011:"17078.6.1",1012:"17078.7.1",1013:"17078.8.1",1014:"17078.9.1",1017:"17078.10.1",1019:"17078.11.1",1020:"17078.12.1",1022:"17078.13.1",1023:"17078.14.1",1024:"17078.15.1",1025:"17078.16.1",1026:"17078.17.1",1027:"17078.18.1",1028:"17078.19.1",1029:"17078.20.1",1030:"17078.21.1",1031:"17078.22.1",1032:"17078.23.1",1034:"17078.24.1",1035:"17078.25.1",1036:"17078.26.1",1037:"17078.27.1",1038:"17078.28.1",1039:"17078.29.1",1042:"17078.30.1",1043:"17078.31.1",1044:"17078.32.1",1045:"17078.61.1",1046:"17078.74.1",1047:"17078.33.1",1048:"17078.34.1",1049:"17078.35.1",1052:"17078.36.1",1053:"17078.37.1",1054:"17078.38.1",1055:"17078.72.1",1056:"17078.39.1",1058:"17078.40.1",1059:"17078.41.1",1064:"17078.42.1",1067:"17078.43.1",1068:"17078.44.1",1069:"17078.62.1",1072:"17078.45.1",1073:"17078.46.1",1074:"17078.47.1",1077:"17078.63.1",1078:"17078.48.1",1079:"17078.64.1",1081:"17078.65.1",1082:"17078.66.1",1084:"17078.75.1",1089:"17078.49.1",1090:"17078.50.1",1091:"17078.67.1",1092:"17078.51.1",1095:"17078.68.1",1096:"17078.69.1",1097:"17078.70.1",1099:"17078.76.1",1057:"17078.58.1",1071:"17078.59.1",1102:"17078.73.1",1103:"17078.77.1",1104:"17078.78.1",1112:"17078.79.1",1129:"17078.81.1",1106:"17078.377.1",1131:"17078.378.1",1124:"17078.379.1",1125:"17078.380.1",1126:"17078.381.1",1088:"17078.384.1",1107:"17078.385.1",1113:"17078.386.1",1114:"17078.387.1",1150:"17078.389.1",1153:"17078.390.1",1135:"17078.392.1"},exports.SCENE_PTAG_MULTIP_MAP={1011:["17078.6.1","17078.7.1","17078.8.1"],1012:["17078.6.1","17078.7.1","17078.8.1"],1013:["17078.6.1","17078.7.1","17078.8.1"],1025:["17078.16.1","17078.22.1","17078.23.1"],1031:["17078.16.1","17078.22.1","17078.23.1"],1032:["17078.16.1","17078.22.1","17078.23.1"],1047:["17078.33.1","17078.34.1","17078.35.1"],1048:["17078.33.1","17078.34.1","17078.35.1"],1049:["17078.33.1","17078.34.1","17078.35.1"],1007:["17078.4.1","17078.5.1","17078.32.1","17078.69.1"],1008:["17078.4.1","17078.5.1","17078.32.1","17078.69.1"],1044:["17078.4.1","17078.5.1","17078.32.1","17078.69.1"],1096:["17078.4.1","17078.5.1","17078.32.1","17078.69.1"]},exports.defaultEAPTAG="17078.999.1",exports.appSceneMap={1020:["17078.12.2","17078.52.1","17078.53.1","17078.12.1"],1035:["17078.25.2","17078.54.1","17078.55.1","17078.25.1"],1043:["17078.31.2","17078.56.1","17078.57.1","17078.31.1"]},exports.appidMap={wxdzh:"wxae3e8056daea8727",wxxzh:"wxbb46510af80cea38",app:"wx91d27dbf599dff74"},exports.shareCardRDList=["17078.26.1","17078.26.2","17078.26.3"],exports.AD_ITEM_BUY_TOP="7419.10.1",exports.AD_ITEM_BUY_FIXED="7419.10.2",exports.AD_ITEM_DD_TOP="7419.10.3",exports.AD_ITEM_DD_FIXED="7419.10.4",exports.AD_ITEM_PV="7419.10.5",exports.AD_ITEM_UV="7419.10.6",exports.AD_ITEM_CODE_BTN="7419.10.7",exports.AD_ITEM_PAY_WX_PAY="7419.10.8",exports.AD_ITEM_PAY_WX_NOTINFO="7419.10.9",exports.AD_ITEM_PAY_WX_INFOERR="7419.10.10",exports.AD_ITEM_PAY_WX_PINERR="7419.10.11",exports.AD_ITEM_PAY_WX_FKERR="7419.10.12",exports.AD_ITEM_PAY_WX_CODEERR="7419.10.13",exports.AD_ITEM_PAY_WX_OTHEERR="7419.10.14",exports.AD_ITEM_PAY_WX_ORDER="7419.10.15",exports.AD_ITEM_PAY_HF_PAY="7419.10.16",exports.AD_ITEM_PAY_HF_NOTINFO="7419.10.17",exports.AD_ITEM_PAY_HF_INFOERR="7419.10.18",exports.AD_ITEM_PAY_HF_PINERR="7419.10.19",exports.AD_ITEM_PAY_HF_FKERR="7419.10.20",exports.AD_ITEM_PAY_HF_CODEERR="7419.10.21",exports.AD_ITEM_PAY_HF_OTHEERR="7419.10.22",exports.AD_ITEM_PAY_HF_ORDER="7419.10.23",exports.AD_ITEM_MAIN_VIDEO_START="7419.10.24",exports.AD_ITEM_INFO_VIDEO_START="7419.10.25",exports.AD_ITEM_VENDERLINK="7419.10.26",exports.CLICK_ALL_COMMENT="",exports.DEATIL_SHARE_SAVE_SUCCESS="",exports.DETAIL_APP_SHARE="",exports.DETAIL_SHARE_BTN_SAVE="",exports.DETAIL_SHARE_PIC_FAIL="",exports.DETAIL_SHARE_PIC_SUCCESS="",exports.EXP_COMMENT_FLOOR="",exports.EXP_ORDER_DETAIL_SMALL_MAP="",exports.EXP_ORDER_DETAIL_STAFF_PHONE="",exports.EXP_ORDER_WULIU_ORDER="",exports.ORDER_DETAIL_SMALL_MAP="",exports.ORDER_DETAIL_STAFF_PHONE="",exports.ORDER_DETAIL_STAFF_PHOTO="",exports.ORDER_FOLLOW_TEMPERATURE_CLICK="",exports.ORDER_WULIU_ORDER="",exports.PINGGOU_INDEX_XXX="",exports.PINGOU_APP_ACOUNT_ITEMCLICK="",exports.PINGOU_ITEM_GOAPPDETAIL="",exports.VIEW_COMMENT=""; 
 			}); 
		define("api/Ptag/Ptag_utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PtagUtils=void 0;var t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=require("./hermes"),i=e(require("../APIs")),u=e(require("../../common/url_utils")),c=require("./report_manager"),s=require("./v"),l=e(require("./Ptag_constants")),f=require("../JDReport/unifyStore");exports.PtagUtils=function(){function e(){r(this,e)}return a(e,null,[{key:"addPtag",value:function(e,r,t){(0,s.initAppReport)().then(function(t){r&&"object"==(void 0===r?"undefined":n(r))?Object.assign(r,t):r=t;var a=c.ReportManager.getCurrentPageUrl(),l=c.ReportManager.getRerrerUrl(),f=new s.ClickV(u.wxaProxy(i.PTAG_URL),a,e,r);o.Hermes.reportPtag(f,a,l)}),(0,f.unifyReport)("click",e,t)}},{key:"addSearchPageRelatedKWDPtag",value:function(r,n,a,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{index:-1,ss_mtest:"",ss_hccid1s:"",ss_hccid2s:"",ss_hccid3s:""},u=t({search_kwd:r,relatedkey:n,relatednum:a,relatedver:o},i);e.addPtag(l.SEARCH_RELATED_KWD,u)}},{key:"tabbarReport",value:function(){var r=c.ReportManager.getCurrentPageUrl(),t=c.ReportManager.getRerrerUrl(),n=!1,a=!1,o="",i={"/pages/index/index":"7574.1.1","/pages/cate/cate":"7574.1.2","/pages/gwq/index":"7574.1.3","/pages/recommend/index":"7574.1.3","/pages/cart/cart/index":"7574.1.4","/pages/my/index/index":"7574.1.5"};for(var u in i)-1!==r.indexOf(u)&&(n=!0,o=i[u]),-1!==t.indexOf(u)&&(a=!0);n&&a&&o&&e.addPtag(o)}}]),e}(); 
 			}); 
		define("api/Ptag/Pv_utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PvUtils=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=require("./v"),a=r(require("../../common/url_utils")),i=require("./hermes"),u=e(require("./mercury")),s=e(require("./knicks")),p=r(require("../APIs")),c=r(require("../../common/fe_report/usability"));exports.PvUtils=function(){function e(){t(this,e)}return n(e,null,[{key:"addPv",value:function(e,r,t){var n=a.wxaProxy(p.PTAG_URL);(0,o.initAppReport)().then(function(u){var s=new o.PageV(n,e,"",u);if(t){for(var p in t)t.hasOwnProperty(p)&&(s[p]=t[p]);t.isItem&&t.sku_id&&(e=a.addUrlParam(e,{sku:t.sku_id}))}i.Hermes.reportPv(s,e,r)})}},{key:"addSearchExposure",value:function(e,r,t){(0,o.initAppReport)().then(function(n){t.sf_url="http://wq.jd.com/wxapp/pages/index/index";var u=a.wxaProxy(p.PTAG_URL);Object.assign(t,n);var s=new o.SearchExposureV(u,e,t);s.cookie_ptag&&"[object Object]"===Object.prototype.toString.call(s.v)&&(s.v.cookie_ptag=s.cookie_ptag),i.Hermes.reportSearchExposure(s,e,r)})}},{key:"addPtagExposure",value:function(e,r,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,o.initAppReport)().then(function(u){var s=a.wxaProxy(p.PTAG_URL);Object.assign(n,u);var c=new o.ItemExposureV(s,e,t,n);i.Hermes.reportPtagExposure(c,e,r)})}},{key:"addGuessyouLikeReport",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.initAppReport)().then(function(n){var i=a.wxaProxy(p.GUESS_YOU_LIKE_URL),u=t.source;Object.assign(t,n);var c=t.insteadRef,f=new o.GuessyouLikeV(i,e,t);s.default.reportGuessyouLike(f,u,r,c,t)}),t.clk&&1==t.source&&c.umpBiz({bizid:749,operation:t.operation||1,result:0,message:""})}},{key:"addUserShareReport",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.wxaProxy(p.PTAG_URL);(0,o.initAppReport)().then(function(a){var u=new o.UserShareV(n,e,a);if(t)for(var s in t)t.hasOwnProperty(s)&&(u[s]=t[s]);u.report_type="user_share",i.Hermes.reportUserShare(u,e,r)})}},{key:"addUserRecFbReport",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.initAppReport)().then(function(n){Object.assign(t,n);var i=a.wxaProxy(p.USER_RES_FEEDBACK_URL),s=new o.UserRecFeedbackV(i,e,t),c=t.insteadRef;c&&(r=c),u.default.reportUserRecFeedback(s,e,r,t)})}},{key:"appHideReport",value:function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.wxaProxy(p.PTAG_URL);(0,o.initAppReport)().then(function(a){var u=new o.UserShareV(n,e,a);if(t)for(var s in t)t.hasOwnProperty(s)&&(u[s]=t[s]);u.report_type="onHide",i.Hermes.reportUserShare(u,e,r)})}}]),e}(); 
 			}); 
		define("api/Ptag/Utm_constants.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SCENE_UTM_MAP={1e3:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1000_wxtd",utm_term:"-"},1096:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1096_ltjl",utm_term:"-"},1007:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578832_xcx_1007_drxxkp",utm_term:"-"},1008:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578832_xcx_1008_qlxxkp",utm_term:"-"},1044:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578832_xcx_1044_fxxxkp",utm_term:"-"},1028:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578836_xcx_1028_kqkb",utm_term:"-"},1029:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578836_xcx_1029_kqxq",utm_term:"-"},1052:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578836_xcx_1052_kqmdlb",utm_term:"-"},1001:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1001_fxrk",utm_term:"-"},1022:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1022_zdrk",utm_term:"-"},1023:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1023_zmtb",utm_term:"-"},1024:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1024_xcxjs",utm_term:"-"},1054:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1054_dbss",utm_term:"-"},1089:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1089_ltkxl",utm_term:"-"},1090:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578828_xcx_1090_xcxcd",utm_term:"-"},1014:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578827_xcx_1014_xcxmbxx",utm_term:"-"},1034:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578827_xcx_1034_zfwcxx",utm_term:"-"},1005:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578826_xcx_1005_fxss",utm_term:"-"},1006:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578826_xcx_1006_fxss",utm_term:"-"},1027:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578826_xcx_1027_dbss",utm_term:"-"},1042:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578826_xcx_1042_tjss",utm_term:"-"},1053:{type:"A",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578826_xcx_1053_sys",utm_term:"-"},1019:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578830_xcx_1019_qb",utm_term:"-"},1057:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578830_xcx_1057_yxkxqy",utm_term:"-"},1071:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578830_xcx_1071_yxklby",utm_term:"-"},1103:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1103_fxwd",utm_term:"-"},1104:{type:"A",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1104_xlwd",utm_term:"-"},1045:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578835_xcx_1045_pyq",utm_term:"-"},1055:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1055_h5hq",utm_term:"-"},1069:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1069_ydyy",utm_term:"-"},1077:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1077_yzb",utm_term:"-"},1079:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1079_yxzx",utm_term:"-"},1081:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1081_kfwzl",utm_term:"-"},1082:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072663_xcx_1082_hhwzl",utm_term:"-"},1091:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072663_xcx_1091_wzspkp",utm_term:"-"},1095:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578835_xcx_1095_xcxzj",utm_term:"-"},1097:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1097_zfqy",utm_term:"-"},1036:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_335139774_xcx_1036_appfxxx",utm_term:"-"},1020:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072662_xcx_1020_gzhjs",utm_term:"-"},1035:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072662_xcx_1035_cdl",utm_term:"-"},1043:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072662_xcx_1043_gzhxx",utm_term:"-"},1058:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072663_xcx_1058_gzhwz",utm_term:"-"},1074:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072663_xcx_1074_gzhxx",utm_term:"-"},1067:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578835_xcx_1067_gzh",utm_term:"-"},1068:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578835_xcx_1068_fjxcx",utm_term:"-"},1017:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1017_tyb",utm_term:"-"},1026:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1026_fjxcx",utm_term:"-"},1030:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1030_zdhcs",utm_term:"-"},1039:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1039_yds",utm_term:"-"},1056:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1056_ylbf",utm_term:"-"},1059:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1059_yqy",utm_term:"-"},1064:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1064_wifilj",utm_term:"-"},1073:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1073_kfxx",utm_term:"-"},1078:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1078_wifilj",utm_term:"-"},1092:{type:"B",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1092_csfwrk",utm_term:"-"},1011:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1011_smewm",utm_term:"-"},1012:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1012_tpsm",utm_term:"-"},1013:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1013_xcsm",utm_term:"-"},1025:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1025_smywm",utm_term:"-"},1031:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1031_tpsm",utm_term:"-"},1032:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1032_xcsm",utm_term:"-"},1047:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1047_smxcxm",utm_term:"-"},1048:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1048_tpsm",utm_term:"-"},1049:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1049_xcsm",utm_term:"-"},1072:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578833_xcx_1072_ewmsk",utm_term:"-"},1037:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578834_xcx_1037_xcxtz",utm_term:"-"},1038:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578834_xcx_1038_xcxtz",utm_term:"-"},1102:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000072663_xcx_1102_fwyl",utm_term:"-"},1046:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578835_xcx_1046_xqy",utm_term:"-"},1084:{type:"B",utm_source:"weixin",utm_medium:"xcx",utm_campaign:"t_1000578835_xcx_1084_ysy",utm_term:"-"},1099:{type:"B",utm_source:"direct",utm_medium:"xcx",utm_campaign:"t_1000578829_xcx_1099_cj",utm_term:"-"}}; 
 			}); 
		define("api/Ptag/dislikeReport.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var r=i(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),n=g.wxaProxy(h.PTAG_URL);(0,c.initAppReport)().then(function(i){var o=new c.UserShareV(n,e,i);if(r)for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);y.Hermes.reportUserShare(o,e,t)})}function i(e){var t={};return e&&(t={report_type:"feedback",source:e.source||"",ad_sid:e.sid||e.ad_sid||"",reqsig:e.reqsig||"",ad_type:e.ad_type||3,skuid:e.skuid||"",id:0,page:e.page||0,index:e.index||0,broker_info:e.broker_info||"",recpos:e.recpos||"",user_layer:e.user_layer||"",skus:e.skus||"",target:e.ptag||"",pps:e.pps||"",fbr:e.fbr||"",fbt:1,dt:0,service_type:e.service_type||""},(0,b.isObject)(e.ext)&&Object.assign(t,e.ext)),t}function n(e,t,r){var i=o(t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),n=l.getCookie("pin"),u=((l.getCookie("__wga")||"").split(".")[5],{t:"recfb.000000",m:"JX-J2019-2",uid:f.gUserData().unionid||"",pin:n||"-",sid:(l.getCookie("__wga")||"").split(".")[5]||"",v:s.call(i)}),p=new a;d.request.get({url:k,data:u,dataType:"text",priority:"REPORT"}).then(function(e){var t=e.body,r=e.header;p.success(t,r)},p.fail)}function o(e,t,r){return{ref:e,rm:Date.now(),src:2==l.getCookie("wxapp_type")?"jx":"jd",uuid:"",vk:t,fbt:1,dt:0,p:r.recpos||"",openid:f.gUserData().wxapp_openid||"",id:r.skuid||"",fbr:r.fbr||""}}function s(){var e=new q;for(var t in this)if(this.hasOwnProperty(t)){if("function"==typeof this[t])continue;e.append(t),e.append("="),(this[t]||0===this[t])&&e.append(this[t]),e.append("$")}var r=e.toString();return r.substring(0,r.length-1)}function a(){this.success=function(e,t){},this.fail=function(e){}}function u(e){var t={type:e.type||"click2",pps:e.pps},r=new a;d.request.get({url:m,data:t,dataType:"text",priority:"REPORT"}).then(function(e){var t=e.body,i=e.header;r.success(t,i)},r.fail)}Object.defineProperty(exports,"__esModule",{value:!0});var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();exports.dislikeReport=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(e,t,(0,_.checkVisitKey)(),i),r(e,t,i),i&&i.ptag&&v.PtagUtils.addPtag(i.ptag),i&&i.pps&&u(i)};var c=require("./v"),f=e(require("../../common/user_info")),d=require("../../common/request/request.js"),l=e(require("../../common/cookie-v2/cookie.js")),g=e(require("../../common/url_utils")),h=e(require("../APIs.js")),v=require("./Ptag_utils"),y=require("./hermes"),_=require("../../common/visitkey"),b=require("../../common/utils"),k="https://mercury.jd.com/log.gif",m="https://wq.jd.com/mcoss/rpds/report",q=function(){function e(){t(this,e),this._strings_=[]}return p(e,[{key:"append",value:function(e){this._strings_.push(e)}},{key:"toString",value:function(){return this._strings_.join("")}}]),e}(); 
 			}); 
		define("api/Ptag/hermes.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,r,i,o){n((0,c.checkVisitKey)(),e,t,r,i,o)}function n(e,t,r,n,o,c){var p=a.getCookie("pin"),v={t:r,m:"MO_J2011-2",pin:p||"-",sid:e+"|"+t.visit_times,url:n,ref:o,rm:Date.now(),v:c?JSON.stringify(t):t.toString()},y=new i;u.request.get({url:s.PTAG_URL,data:v,dataType:"text",priority:"REPORT",channel:"http-direct"}).then(function(e){var t=e.body,r=e.header;y.success(t,r)},function(e){if(r==l){var t=a.getCookie("wxapp_type");1==t&&f.umpBiz({bizid:318,operation:28,result:1,message:e}),2==t&&f.umpBiz({bizid:318,operation:29,result:1,message:e})}})}function i(){this.success=function(e,t){},this.fail=function(e){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hermes=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=require("../../common/request/request.js"),a=e(require("../../common/cookie-v2/cookie.js")),s=e(require("../APIs.js")),c=require("../../common/visitkey"),f=e(require("../../common/fe_report/usability")),l="wg_wx.000000";exports.Hermes=function(){function e(){t(this,e)}return o(e,null,[{key:"reportPtag",value:function(e,t,n){r(e,"wg_wx.000001",t,n)}},{key:"reportPv",value:function(e,t,n){r(e,l,t,n)}},{key:"reportSearchExposure",value:function(e,t,n){r(e,"wg_wx.000002",t,n,!0)}},{key:"reportPtagExposure",value:function(e,t,n){r(e,"wg_wx.000003",t,n)}},{key:"reportUserShare",value:function(e,t,n){r(e,"wg_wx.000007",t,n)}}]),e}(); 
 			}); 
		define("api/Ptag/knicks.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n,t,o,s){r((0,i.checkVisitKey)(),e,n,t,o,s)}function r(e,n,r,o,i,u){if(n.impr||n.clk){i&&(o=i);var c={m:"MO_J2011-2",url:encodeURIComponent(n.vurl||""),ref:encodeURIComponent(o||""),sid:e+"|"+n.visit_times,hitType:6},a="";for(var l in c)a+=l+"="+c[l]+"$";a="$"+a;var f="";f=n.impr?n.impr:n.clk;var p=new t;n.source&&1==n.source?(f=f.replace(/http\b/,"https"),wx.request({url:f})):(f+=a,s.request.get({url:f,dataType:"text",priority:"REPORT"}).then(function(e){var n=e.body,r=e.header;p.success(n,r)},p.fail))}}function t(){this.success=function(e,n){console.log("#####################################response: [knicks success]-----------\x3e",e,n)},this.fail=function(e){console.log("#####################################response: [knicks error]-----------\x3e",e)}}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),i=require("../../common/visitkey"),s=require("../../common/request/request.js"),u=function(){function r(){e(this,r)}return o(r,null,[{key:"reportGuessyouLike",value:function(e,r,t,o,i){n(e,r,t,o,i)}}]),r}();exports.default=u; 
 			}); 
		define("api/Ptag/mercury.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r}function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r,n,t,i){var a={m:"MO_J2011-2",t:"recfb.000000",pin:i.pin||c.getCookie("pin"),sid:e+"|"+r.visit_times,uid:r.openid||"",rm:Date.now(),ref:t,v:""},f=["p","id","fbt","fbr","dt","src"],l="",p=0;for(var d in r)-1!==f.indexOf(d)&&(p++,l+=d+"="+r[d]+(p===f.length?"":"$"));a.v=l;var v=new o;u.request.get({url:s.USER_RES_FEEDBACK_URL,data:a,dataType:"text",priority:"REPORT"}).then(function(e){var r=e.body,n=e.header;v.success(r,n)},v.fail)}function t(e,r,t,o){n((0,a.checkVisitKey)(),e,r,t,o)}function o(){this.success=function(e,r){console.log("#####################################response: [mercury success]-----------\x3e",e,r)},this.fail=function(e){console.log("#####################################response: [mercury error]-----------\x3e",e)}}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),u=require("../../common/request/request.js"),c=e(require("../../common/cookie-v2/cookie.js")),s=e(require("../APIs.js")),a=require("../../common/visitkey"),f=function(){function e(){r(this,e)}return i(e,null,[{key:"reportUserRecFeedback",value:function(e,r,n,o){t(e,r,n,o)}}]),e}();exports.default=f; 
 			}); 
		define("api/Ptag/pinLikeReport.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){var r=[];Array.isArray(e)?e.forEach(function(e){e.report_url&&r.push(e.report_url)}):e.report_url&&r.push(e.report_url);var t=new a;r.length>0&&r.forEach(function(e){c.request.get({url:e,dataType:"text",priority:"REPORT"}).then(function(e){var r=e.body,o=e.header;t.success(r,o)},t.fail)})}function t(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];if(Array.isArray(t))t.forEach(function(t){var i=s(t,n);o(e,r,i)});else{var i=s(t,n);o(e,r,i)}}function o(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=p.wxaProxy(f.PTAG_URL);(0,u.initAppReport)().then(function(n){var s=new u.UserShareV(o,e,n);if(t)for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);d.Hermes.reportUserShare(s,e,r)})}function n(e,r,t){var o="";if(Array.isArray(r)){var n=[];r.forEach(function(r){n.push(i(r,e))}),"EXPOSURE"==e&&(o=n.join("|")),"CLICK"==e&&(o=n.join(","))}else o=i(r,e);var s={};"CLICK"==e&&(s.type="click2",s.pps=encodeURIComponent(o)),"EXPOSURE"==e&&(s.refer=encodeURIComponent(t),s.val=encodeURIComponent(o));var u=new a;c.request.get({url:h[e],data:s,dataType:"text",priority:"REPORT"}).then(function(e){var r=e.body,t=e.header;u.success(r,t)},u.fail)}function s(e,r){var t={};return e&&(t={report_type:v[r]||"",source:e.source||"",ad_sid:e.sid||e.ad_sid||"",reqsig:e.reqsig||"",ad_type:e.ad_type||3,skuid:e.skuid||"",id:e.id||0,page:e.page||0,index:e.index||0,broker_info:e.broker_info||"",recpos:e.recpos||"",user_layer:e.user_layer||"",skus:e.skus||"",service_type:e.service_type||""},(0,l.isObject)(e.ext)&&Object.assign(t,e.ext)),t}function i(e,r){var t="";return e&&e.pps&&("EXPOSURE"==r&&(t=(e.pps||"")+","+(e.ptag||"")),"CLICK"==r&&(t=""+(e.pps||""))),t}function a(){this.success=function(e,r){},this.fail=function(e){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pinLikeReport=function(e,o,s,i){r(s),n(i,s,o),t(e,o,s,i)};var u=require("./v"),c=require("../../common/request/request.js"),p=e(require("../../common/url_utils")),f=e(require("../APIs.js")),d=require("./hermes"),l=require("../../common/utils"),v={EXPOSURE:"ad_expose",CLICK:"ad_click"},h={EXPOSURE:"https://wq.jd.com/mcoss/rpds/batchrp",CLICK:"https://wq.jd.com/mcoss/rpds/report"}; 
 			}); 
		define("api/Ptag/report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function t(e,t){var o=t||"",u=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=o.substring(o.indexOf("?")+1,o.length).match(u);return null!=i?i[2]:""}function o(e){var t=_.getCookie("__wga"),o=t?t.split("."):[],u={},i=o[0]&&Date.now()-o[0]<=18e5;u.now=Date.now(),u.now_session_time=i&&o[1]?o[1]:u.now,u.prev_session_time=o[2]?i?o[2]:o[1]?o[1]:u.now:u.now,u.first_session_time=o[3]?o[3]:u.now,u.page_seq=i&&o[4]?1*o[4]+1:1,u.session_seq=o[5]?i?o[5]:1*o[5]+1:1,o=u.now+"."+u.now_session_time+"."+u.prev_session_time+"."+u.first_session_time+"."+u.page_seq+"."+u.session_seq,_.setCookie({data:{__wga:{value:o,maxAge:3153e3,decode:!0}}})}function u(e,t){var o=void 0,u=void 0,i="",m=/PTAG[=,](\d+)\.(\d+)\.(\d+)\D?/gim.exec(e&&"ptag="+e||t);if(!(null==m||4!=m.length||m[1]<0||m[2]<0||m[3]<0)){switch(o=m[1]%1e5,u=m[1]+"."+m[2]+"."+m[3],!0){case o>=17001&&o<2e4:i="EA";break;case o>=27001&&o<3e4:i="IA";break;case o>=37001&&o<4e4:i="CT";break;case o>=47001&&o<5e4:i="PD";break;default:i=""}i&&a(i,u)}}function i(){var e=getApp().scene||"",t=getApp().EA_PTAG||"",o=void 0,u=getApp().referrerInfo||{};if([1020,1035,1043,"1020","1035","1043"].indexOf(e)>-1){var i=u.appId,r=void 0;r=i===c.appidMap.wxdzh?1:i===c.appidMap.wxxzh?2:i&&i!==c.appidMap.wxdzh&&i!==c.appidMap.wxxzh?3:0,o=c.appSceneMap[e][r]}else if([1036,"1036"].indexOf(e)>-1){var n=u.appId,s=void 0;s=n===c.appidMap.app?1:n&&n!==c.appidMap.app?2:0,o=c.shareCardRDList[s]}else{var _=c.SCENE_PTAG_MULTIP_MAP[e]||null;if(_){var p=!1;_.some(function(e){if(t==m(t,e))return o=t,p=!0,!0}),p||(o=c.SCENE_PTAG_MAP[e])}else o=e&&c.SCENE_PTAG_MAP[e]||c.defaultEAPTAG}t&&o&&e&&(o=m(t,o)),e&&o&&a("EA",o)}function m(e,t){var o=e.split("."),u=t.split(".");return o.length>=3&&u.length>=3&&o[0]===u[0]&&o[1]===u[1]?e:t}function a(e,t){function o(e,t){var o=e+"."+t,u={EA:/EA\.(\d+)\.(\d+)\.(\d+)(\D?)/gim,IA:/IA\.(\d+)\.(\d+)\.(\d+)(\D?)/gim,CT:/CT\.(\d+)\.(\d+)\.(\d+)(\D?)/gim,PD:/PD\.(\d+)\.(\d+)\.(\d+)(\D?)/gim,DAP:/DAP\.([^-]*)(-?)/gim,FOCUS:/FOCUS\.([^-]*)(-?)/gim,MART:/MART\.([^-]*)(-?)/gim,QZGDT:/QZGDT\.([^\.\-]+)(-?)/gim,QZZTC:/QZZTC\.([^\.\-]+)(-?)/gim,ADKEY:/ADKEY\.([^\.\-]+)(-?)/gim,UUID:/UUID\.([^\.\-]+)(-?)/gim,WDSTAG:/WDSTAG\.([^-]*)(-?)/gim,WQVERSION:/WQVERSION\.([^\.\-]+)(-?)/gim,GROUP:/GROUP\.([^\.\-]+)(-?)/gim,LOGID:/LOGID\.([^-]*)(-?)/gim,WQLOGID:/WQLOGID\.([^-]*)(-?)/gim}[e];u.test(m)?m="EA"==e||"IA"==e||"CT"==e||"PD"==e?m.replace(u,o+"$4"):m.replace(u,o+"$2"):m+=0==m.length?o:"-"+o}function u(){m=m.replace(/-?UUID\.-/g,"-").replace(/^-|-UUID\.$/g,"").replace(/-+/g,"-")}var i="object"==(void 0===e?"undefined":s(e)),m=_.getCookie("PPRD_P")||"";if(i){for(var a in e)e.hasOwnProperty(a)&&o(a,e[a]);u(),_.setCookie({data:{PPRD_P:{value:m,decode:!0,maxAge:259200}}})}else o(e,t),u(),_.setCookie({data:{PPRD_P:{value:m,decode:!0,maxAge:259200}}})}function r(e,o){function u(e){var t=1,o=0,u=void 0;if(e)for(t=0,u=e.length-1;u>=0;u--)t=0!==(o=266338304&(t=(t<<6&268435455)+(o=e.charCodeAt(u))+(o<<14)))?t^o>>21:t;return t}function i(){return u(m.replace(/.*?(\w+\.\w+)$/,"$1"))}var m=p.getDomain(e),a=getApp().scene,r=getApp().utmJdvProps||{},s=d.SCENE_UTM_MAP[a]||{},c=getApp().unionJdv,g=!("B"!==s.type||t("utm_source",e)||t("utm_campaign",e)||t("utm_medium",e)||t("utm_term",e)),l="B"===s.type&&r.platform&&r.utm_source,f="direct",h=void 0,q=(_.getCookie("__jdv")||"").split("|"),v=m.replace(/.*?(\w+\.\w+)$/,"$1"),w=o,A=void 0,y=86400,P=1*new Date,x=!1;q.length<4?(A=[h=i(),"direct","-","none","-",P].join("|"),_.setCookie({data:{__jdv:{value:A,decode:!0,maxAge:y}}}),q=[h,"direct","-","none","-"]):q.length>4&&(h=q[0],f=q[1],q[2],q[3],q[4],"direct"!=f&&("direct"==("A"===s.type?s.utm_source:l?r.utm_source:g?s.utm_source:t("utm_source",e)||n("utm_source"))&&(x=!0),c&&("A"===s.type||"A"!==s.type&&!l&&g)&&(x=!0)),g&&r&&(r.utm_source||r.utm_campaign||r.utm_medium||r.utm_term)&&!r.platform&&(x=!0));var D=[],b=!1,k="A"===s.type?s.utm_source:l?r.utm_source:g?s.utm_source:t("utm_source",e)||n("utm_source");if(!x)if(k){var C="A"===s.type?s.utm_campaign:l?r.utm_campaign:g?s.utm_campaign:t("utm_campaign",e)||n("utm_campaign"),O="A"===s.type?s.utm_medium:l?r.utm_medium:g?s.utm_medium:t("utm_medium",e)||n("utm_medium"),I="A"===s.type?s.utm_term:l?r.utm_term:g?s.utm_term:t("utm_term",e)||n("utm_term");D.push(k),D.push(C||"-"),D.push(O||"none"),D.push(I||"-"),b=!0}else{var T="baidu:wd,baidu:word,so.com:q,so.360.cn:q,360so.com:q,360sou.com:q,baidu:q1,m.baidu:word,m.baidu:w,wap.soso:key,m.so:q,page.yicha:key,sz.roboo:q,i.easou:q,wap.sogou:keyword,google:q,soso:w,sogou:query,youdao:q,ucweb:keyword,ucweb:word,114so:kw,yahoo:p,yahoo:q,live:q,msn:q,bing:q,aol:query,aol:q,daum:q,eniro:search_word,naver:query,pchome:q,images.google:q,lycos:query,ask:q,netscape:query,cnn:query,about:terms,mamma:q,voila:rdata,virgilio:qs,alice:qs,yandex:text,najdi:q,seznam:q,search:q,wp:szukaj,onet:qt,szukacz:q,yam:k,kvasir:q,ozu:q,terra:query,rambler:query".split(","),E=!0,G=w&&w.split("/")[2];if(G&&G.indexOf(v)<0){for(var M=0;M<T.length;M++){var S=T[M].split(":");if(G.indexOf(S[0].toLowerCase())>-1&&w.indexOf((S[1]+"=").toLowerCase())>-1){var R=t(S[1],w);D.push(S[0]),D.push("-"),D.push("organic"),D.push(R||"not set"),E=!1;break}}E&&(G.indexOf("zol.com.cn")>-1?(D.push("zol.com.cn"),D.push("-"),D.push("cpc"),D.push("not set")):(D.push(G),D.push("-"),D.push("referral"),D.push("-")))}b=D.length>0&&q.length>4&&(D[0]!==q[1]||D[1]!==q[2]||D[2]!==q[3])&&"referral"!==D[2]}b&&(A=[h=q[0]?q[0]:i(),D[0]||"direct",D[1]||"-",D[2]||"none",D[3]||"-",P].join("|"),_.setCookie({data:{__jdv:{value:A,decode:!0,maxAge:y}}}))}function n(e,o){var u={17007:{utm_source:"direct",utm_medium:"weixin",utm_campaign:"t_1000072660_17007_001"},17003:{utm_source:"direct",utm_medium:"weixin",utm_campaign:"t_1000072661_17003_001"},17020:{utm_source:"direct",utm_medium:"weixin",utm_campaign:"t_1000072661_17003_001"},17005:{utm_source:"weixin",utm_medium:"weixin",utm_campaign:"t_1000072662_17005_001"},17048:{utm_source:"weixin",utm_medium:"weixin",utm_campaign:"t_1000072663_17048_001"},17012:{utm_source:"direct",utm_medium:"shouq",utm_campaign:"t_1000072675_17012_001"},17008:{utm_source:"direct",utm_medium:"shouq",utm_campaign:"t_1000072676_17008_001"},17006:{utm_source:"shouq",utm_medium:"shouq",utm_campaign:"t_1000072677_17006_001"},17064:{utm_source:"shouq",utm_medium:"shouq",utm_campaign:"t_1000072647_17064_001"},17036:{utm_source:"weixin",utm_medium:"weixin",utm_campaign:"t_1000072670_17036_001"},17060:{utm_source:"weixin",utm_medium:"weixin",utm_campaign:"t_1000072670_17036_001"},17027:{utm_source:"shouq",utm_medium:"shouq",utm_campaign:"t_1000072641_17027_001"},17050:{utm_source:"shouq",utm_medium:"shouq",utm_campaign:"t_1000072643_17050_001"}},i=t("ptag",o)||t("PTAG",o),m=t("mp_channel",o),a=t("mp_sourceid",o),r=/(\d+)\.(\d+)\.(\d+)/gi,n="";if(i){var s=r.exec(i);s&&s[1]&&u[s[1]]&&(n=u[s[1]][e]||"")}else(m||a)&&(n=u[17064][e]||"");return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addPPRD_PWithLOGID=exports.setReportCookies=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=e(require("../../common/cookie-v2/cookie.js")),p=e(require("../../common/url_utils")),c=e(require("./Ptag_constants.js")),d=e(require("./Utm_constants"));exports.setReportCookies=function(e,t){o(),r(e,t),u(null,e),i()},exports.addPPRD_PWithLOGID=function(){a("LOGID",Date.now()+"."+Math.round(2147483647*Math.random()))}; 
 			}); 
		define("api/Ptag/report_manager.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function t(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReportManager=void 0;var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}(),i=e(require("../../common/localStorage")),s=require("./Pv_utils"),u=e(require("./report")),l=e(require("../../common/utils.js")),g=e(require("../../common/cookie-v2/cookie")),p=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/md5")),d=e(require("../../common/url_utils")),c=require("./pinLikeReport"),f=require("./dislikeReport"),v=require("../JDReport/unifyStore"),h=function(){function e(t){r(this,e),this.url=t}return o(e,[{key:"setUrl",value:function(e){this.url=e}},{key:"getUrl",value:function(){return this.url?this.url:""}},{key:"cleanUp",value:function(){for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)}}]),e}(),P=function(){function e(){r(this,e),this.lastPage=new h,this.currentPage=new h,this.referrerPage=new h,this.changeRef=!1,this.pps=""}return o(e,null,[{key:"getCurrentPageUrl",value:function(){return this.currentPage?this.currentPage.getUrl():""}},{key:"setCurrentPageUrl",value:function(e){this.currentPage=new h(e)}},{key:"getLastPageUrl",value:function(){return this.lastPage?this.lastPage.getUrl():""}},{key:"getRerrerUrl",value:function(){return this.referrerPage?this.referrerPage.getUrl():e.getLastPageUrl()}},{key:"cleanUpLastPageInfo",value:function(){this.lastPage?this.lastPage.cleanUp():this.lastPage=new h}},{key:"swapLastAndCurrentPageInfo",value:function(){var e=this.lastPage;this.lastPage=this.currentPage,this.currentPage=e,this.referrerPage=null}},{key:"setChangeRef",value:function(e){this.changeRef=e}},{key:"setPPS",value:function(e){this.pps=e}},{key:"clearPPS",value:function(){this.pps=""}},{key:"isItemView",value:function(e){return e&&1==e.isItem}},{key:"setReportArgs",value:function(){u.setReportCookies(e.getCurrentPageUrl(),e.getRerrerUrl())}},{key:"setJda",value:function(e){var r=g.getCookie("__jda");if(!r){var t=Date.now(),a=g.getCookie("visitkey")||"",n=e;r=["122270672",p.default.hexMD5(a+t+n),t,t,t,1].join("."),g.setCookie({data:{__jda:{value:r,maxAge:259200}}})}}},{key:"setCurrentPageAndAddPv",value:function(r,a){"object"==(void 0===r?"undefined":n(r))&&(a=r,r="");var o=getCurrentPages();if(!o||!o.length)return!1;var u=o.length,g=l.getPageUrl().vurl,p=getApp().pr,c=o[u-1]&&o[u-1].data&&o[u-1].data.__report_props__,f=o[u-1]&&o[u-1].data&&o[u-1].data.ptag,v=this;if(r=r||g,p&&(r=d.addUrlParam(r,{pr:p}),delete getApp().pr),this.pps&&!d.getUrlParam("pps",r)&&(r=d.addUrlParam(r,{pps:this.pps}),this.clearPPS()),f&&(r=d.addUrlParam(r,{ptag:f})),c){var P={};for(var y in c)"cookie"!==y&&"wdref"!==y&&null!==c[y]&&void 0!==c[y]&&!d.getUrlParam(y,r)&&t(c[y])&&(P[y]=c[y]);r=d.addUrlParam(r,P)}return/http(s)?:\/\/wq\.jd\.com\/wxapp/.test(r)||(a&&a.ignoreUrlFormat?delete a.ignoreUrlFormat:console.error("pv上报url参数有误，请尽快改为新参数格式-http://wq.jd.com/wxapp/youRouter")),v.currentPage?(v.currentPage.getUrl()!=r||v.changeRef)&&(e.cleanUpLastPageInfo(),e.swapLastAndCurrentPageInfo(),v.currentPage.setUrl(r),v.changeRef=!1):v.currentPage=new h(r),i.get("wdref",e.getLastPageUrl()).then(function(r){v.referrerPage=new h(r),e.setReportArgs(),s.PvUtils.addPv(e.getCurrentPageUrl(),e.getRerrerUrl(),a),i.remove("wdref").then(function(e){console.log("删除wdref成功"+e)})}),e.setJda(r),this.currentPage}},{key:"addSearchPagePv",value:function(r,t,a,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",g=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"",d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"",c=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};"object"===(void 0===t?"undefined":n(t))&&(t=(c=t||{}).kwd||"",a=c.kwd_result||0,o=c.sf);var f={kwd:t,kwd_result:a,ss_hccid1s:i||c.ss_hccid1s||"",ss_hccid2s:s||c.ss_hccid2s||"",ss_hccid3s:u||c.ss_hccid3s||"",ss_mtest:l||c.ss_mtest||"",projectid:g||c.projectid||"",filt_type:p||c.filt_type||"",sort_type:d||c.sort_type||"",actid:c.as||0,ss_mtest_act:c.ss_mtest_act||"",ss_recword:c.ss_recword||2,expression_key:c.expression_key||"",ss_tab_type:c.ss_tab_type||1,live_video_area:c.live_video_area||0,video_area:c.video_area||0,add_area:c.hasBklist?"1":"0",result_num:c.result_num||0};o&&(f.sf=o),c.hasBklist?(f.search_result=a,f.add_area_type=c.add_area_type||""):f.search_result="0"==a?"0":"2",r=r+"?key="+t,e.setCurrentPageAndAddPv(r,f)}},{key:"addDetailPagePv",value:function(r,t,n,o,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=a({isItem:1,sku_id:t,vender_id:n,isQianggou:i?1:0,ptag:o},s);e.setCurrentPageAndAddPv(r,u)}},{key:"addOfflinePagePv",value:function(r,t){var a={shopId:t};e.setCurrentPageAndAddPv(r,a)}},{key:"addSearchPageExposure",value:function(r){r&&(e.setReportArgs(),s.PvUtils.addSearchExposure(e.getCurrentPageUrl(),e.getRerrerUrl(),r))}},{key:"getSearchExposureArgs",value:function(e,r,t){if(!r||!r[0])return null;for(var a=r[0].wareid,n=1;n<r.length;n++)a=a+"_"+r[n].wareid;return{exp_sku_qtty:r.length,search_kwd:t,intenid:r[0].catid,ss_page:e,exp_sku_list:a||"",actid:1}}},{key:"addPtagExposure",value:function(r,t,a){s.PvUtils.addPtagExposure(e.getCurrentPageUrl(),e.getRerrerUrl(),r,t),(0,v.unifyReport)("exposure",r,a)}},{key:"guessyouLikeReport",value:function(r){s.PvUtils.addGuessyouLikeReport(e.getCurrentPageUrl(),e.getRerrerUrl(),r)}},{key:"userRecFeedbackReport",value:function(r){s.PvUtils.addUserRecFbReport(e.getCurrentPageUrl(),e.getRerrerUrl(),r)}},{key:"userShareReport",value:function(r){s.PvUtils.addUserShareReport(e.getCurrentPageUrl(),e.getRerrerUrl(),r)}},{key:"exitAppReport",value:function(){i.set("lastSplash",Date.now())}},{key:"pinLikeExposure",value:function(r){(0,c.pinLikeReport)(e.getCurrentPageUrl(),e.getRerrerUrl(),r,"EXPOSURE")}},{key:"pinLikeClick",value:function(r){(0,c.pinLikeReport)(e.getCurrentPageUrl(),e.getRerrerUrl(),r,"CLICK")}},{key:"dislikeReport",value:function(r){(0,f.dislikeReport)(e.getCurrentPageUrl(),e.getRerrerUrl(),r)}},{key:"getMonitorInfo",value:function(e){var r=getApp().monitorInfo||{},t=r.appLaunch,a=r.appShow,n=r.appHide,o=e||{},i=o.pageHide,s=o.pageLoad,u=o.pageShow;return{app_onLaunch:t||"",app_onShow:a||"",app_onHide:n||"",page_onShow:u||"",page_onLoad:s||"",page_onHide:i||""}}},{key:"appHideReport",value:function(r){s.PvUtils.appHideReport(e.getCurrentPageUrl(),e.getRerrerUrl(),r)}}]),e}();exports.ReportManager=P; 
 			}); 
		define("api/Ptag/report_manager_wqvue.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0});var a=require("./report_manager"),r=require("./Ptag_utils"),t={getCurrentPageUrl:function(){return a.ReportManager.getCurrentPageUrl()},setCurrentPageUrl:function(){a.ReportManager.setCurrentPageUrl.apply(a.ReportManager,arguments)},getRerrerUrl:function(){a.ReportManager.getRerrerUrl.apply(a.ReportManager,arguments)},setCurrentPageAndAddPv:function(){a.ReportManager.setCurrentPageAndAddPv.apply(a.ReportManager,arguments)},addPtag:function(){r.PtagUtils.addPtag.apply(r.PtagUtils,arguments)},setPPS:function(){a.ReportManager.setPPS.apply(a.ReportManager,arguments)},clearPPS:function(){a.ReportManager.clearPPS.apply(a.ReportManager,arguments)},setChangeRef:function(){a.ReportManager.setChangeRef.apply(a.ReportManager,arguments)},addSearchPageExposure:function(){a.ReportManager.addSearchPageExposure.apply(a.ReportManager,arguments)},addPtagExposure:function(){a.ReportManager.addPtagExposure.apply(a.ReportManager,arguments)},guessyouLike:function(){a.ReportManager.guessyouLikeReport.apply(a.ReportManager,arguments)},addSearchPagePv:function(){a.ReportManager.addSearchPagePv.apply(a.ReportManager,arguments)},addDetailPagePv:function(){a.ReportManager.addDetailPagePv.apply(a.ReportManager,arguments)},addOfflinePagePv:function(){a.ReportManager.addOfflinePagePv.apply(a.ReportManager,arguments)},addSearchPageRelatedKWDPtag:function(){r.PtagUtils.addSearchPageRelatedKWDPtag.apply(r.PtagUtils,arguments)},addUserRecFbReport:function(){r.PtagUtils.addUserRecFbReport.apply(r.PtagUtils,arguments)},pinLikeExposure:function(){a.ReportManager.pinLikeExposure.apply(a.ReportManager,arguments)},pinLikeClick:function(){a.ReportManager.pinLikeClick.apply(a.ReportManager,arguments)},dislikeReport:function(){a.ReportManager.dislikeReport.apply(a.ReportManager,arguments)},appHideReport:function(){a.ReportManager.appHideReport.apply(a.ReportManager,arguments)},getMonitorInfo:function(){return a.ReportManager.getMonitorInfo.apply(a.ReportManager,arguments)},isWxapp:!0,getSource:function(e){return[a.ReportManager,r.PtagUtils][e]}};["tencentPv","tencentClick","shopSearch","biRank","eventClick","userShare","shDeviceId"].forEach(function(a){t[a]=e}),exports.default=t; 
 			}); 
		define("api/Ptag/v.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){switch(t){case"wifi":h=1;break;case"2g":case"3g":h=2;break;default:h=3}}function r(t,e){for(var o=a.getCookie("PPRD_P")||"",i="",n=o.split("-"),r=0;r<n.length;r++)0!=n[r].length&&(i.length>0&&(i+="-"),"LOGID."==n[r].substr(0,6)?i+="LOGID."+t.logid:i+=n[r]);o.match(/LOGID\.(\d+\.\d+)/)||(i.length>0&&(i+="-"),i+="LOGID."+t.logid),a.setCookie({data:{PPRD_P:{value:i,decode:!0}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserRecFeedbackV=exports.UserShareV=exports.GuessyouLikeV=exports.ItemExposureV=exports.SearchExposureV=exports.PageV=exports.ClickV=void 0;var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();exports.initAppReport=function(){var t=new p.default(function(t,e){wx.getNetworkType({success:function(e){t(e.networkType)},fail:function(e){t("2g")}})});return f?l?p.default.resolve(l):f:f=new p.default(function(e,o){var i=u.get("fristSplash",Date.now()),n=u.get("thisSplash",Date.now()),r=u.get("splashCount",0),s=u.get("lastSplash",Date.now());p.default.all([i,n,s,r,t]).then(function(t){l={firstSplash:t[0],thisSplash:t[1],lastSplash:t[2],splashCount:++t[3],networkType:t[4]},u.set("fristSplash",l.firstSplash),u.set("splashCount",l.splashCount),e(l)})})};var a=t(require("../../common/cookie-v2/cookie.js")),p=function(t){return t&&t.__esModule?t:{default:t}}(require("../../libs/promise.min.js")),c=t(require("../../common/user_info")),u=t(require("../../common/localStorage")),h=3,l=null,f=null,d=function(){function t(){i(this,t),this._strings_=[]}return s(t,[{key:"append",value:function(t){this._strings_.push(t)}},{key:"toString",value:function(){return this._strings_.join("")}}]),t}(),g=function(){function t(e,o,r){i(this,t),n(r.networkType||"wifi"),this.vurl=o,this.chan_type=5,this.wid=c.gUserData().wid,this.openid=c.gUserData().open_id,this.wxapp_openid=c.gUserData().wxapp_openid||"";var s=c.gUserData().pin;this.pinid=s||"-",this.wq_unionid=c.gUserData().unionid,this.unpl=a.getCookie("unpl"),this.net_type=h,this.wxapp_type=a.getCookie("wxapp_type")||"1";var p=(a.getCookie("__wga")||"").split(".");p.length>=6?(this.fst=p[3],this.pst=p[2],this.vct=p[1],this.visit_times=p[5]):(this.fst=r.firstSplash||Date.now(),this.pst=r.lastSplash||Date.now(),this.vct=r.thisSplash||Date.now(),this.visit_times=r.splashCount||1);var u=a.getCookie("PPRD_P")||"",l=u.match(/LOGID\.(\d+\.\d+)/);l&&(this.logid=l[1]),this.cookie_ptag="";for(var f=["EA","IA","CT","PD"],d=0;d<f.length;d++){var g=u.match(f[d]+"\\.(\\d+)\\.(\\d+)\\.(\\d+)");g&&(this.cookie_ptag&&(this.cookie_ptag+="-"),this.cookie_ptag+=g[0])}this.jdv=a.getCookie("__jdv"),this.wq_uits=a.getCookie("wq_uits")||"",this.pin_status=a.getCookie("pinStatus")||"",this.wxNickName=a.getCookie("wxNickName")||"",this.wxAvatarUrl=a.getCookie("wxAvatarUrl")||"",this.wxuser_info=(a.getCookie("gender")||"")+"_"+(a.getCookie("city")||"")+"_"+(a.getCookie("country")||"")+"_"+(a.getCookie("province")||"")}return s(t,[{key:"toString",value:function(){var t=new d;for(var e in this)if(this.hasOwnProperty(e)){if("function"==typeof this[e])continue;t.append(e),t.append("="),(this[e]||0===this[e])&&t.append(this[e]),t.append("$")}var o=t.toString();return o.substring(0,o.length-1)}}]),t}();exports.ClickV=function(t){function n(t,o,r,s){i(this,n);var p=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,s)),c=wx.getSystemInfoSync();p.screen=c.windowWidth+"x"+c.windowHeight,p.color="32-bit",p.os="weixin_"+c.version,p.device_type=c.model;var u=a.getCookie("PPRD_P")||"",h=["firstSplash","lastSplash","thisSplash","splashCount","networkType"];p.cookie_ptag="";for(var l=["EA","IA","CT","PD"],f=0;f<l.length;f++){var d=u.match(l[f]+"\\.(\\d+)\\.(\\d+)\\.(\\d+)");d&&(p.cookie_ptag&&(p.cookie_ptag+="-"),p.cookie_ptag+=d[0])}var g=p.jdv.split("|");if(g.length>4?(p.usc=g[1],p.ucp=g[2],p.umd=g[3],p.uct=g[4]):(p.usc="direct",p.ucp="-",p.umd="none",p.uct="-"),p.target=r,s)for(var _ in s)-1==h.indexOf(_)&&(p[_]=s[_]);return p}return o(n,g),n}(),exports.PageV=function(t){function n(t,o,s,p){i(this,n);var c=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,p)),u=getCurrentPages().length,h=getCurrentPages()[u-1].pvTime||{};h.end=Date.now(),h.loadTime?c.load_sec=h.loadTime:(h.loadTime=h.end-h.start,c.load_sec=h.loadTime,h.needRefresh=!0);var l=wx.getSystemInfoSync();c.screen=l.windowWidth+"x"+l.windowHeight,c.color="32-bit",c.os="weixin_"+l.version,c.logid=Date.now()+"."+Math.round(2147483647*Math.random()),c.device_type=l.model;var f=a.getCookie("PPRD_P")||"",d=["firstSplash","lastSplash","thisSplash","splashCount","networkType"];c.cookie_ptag="";for(var g=["EA","IA","CT","PD"],_=0;_<g.length;_++){var v=f.match(g[_]+"\\.(\\d+)\\.(\\d+)\\.(\\d+)");v&&(c.cookie_ptag&&(c.cookie_ptag+="-"),c.cookie_ptag+=v[0])}var w=c.jdv.split("|");if(w.length>4?(c.usc=w[1],c.ucp=w[2],c.umd=w[3],c.uct=w[4]):(c.usc="direct",c.ucp="-",c.umd="none",c.uct="-"),c.target=s,r(c),p)for(var y in p)-1==d.indexOf(y)&&(c[y]=p[y]);return c}return o(n,g),n}(),exports.SearchExposureV=function(t){function n(t,o,r){i(this,n);var s=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,r));return r=r||{},s.v=r,s}return o(n,g),n}(),exports.ItemExposureV=function(t){function n(t,o,r,s){i(this,n);var a=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,s)),p=wx.getSystemInfoSync();a.screen=p.windowWidth+"x"+p.windowHeight,a.color="32-bit",a.os="weixin_"+p.version,a.device_type=p.model,a.target=r;var c=["firstSplash","lastSplash","thisSplash","splashCount","networkType"];if(s)for(var u in s)-1==c.indexOf(u)&&(a[u]=s[u]);return a}return o(n,g),n}(),exports.GuessyouLikeV=function(t){function n(t,o,r){i(this,n);var s=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,r)),a=wx.getSystemInfoSync(),p=["firstSplash","lastSplash","thisSplash","splashCount","networkType"];if(s.os="weixin_"+a.version,s.user_type="-"!==s.pinid?1:0,s.chan_type=6,r)for(var c in r)-1===p.indexOf(c)&&(s[c]=r[c]);return s}return o(n,g),n}(),exports.UserShareV=function(t){function n(t,o,r){i(this,n);var s=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,r)),p=wx.getSystemInfoSync();s.cookie_ptag="";for(var c=a.getCookie("PPRD_P")||"",u=["EA","IA","CT","PD"],h=0;h<u.length;h++){var l=c.match(u[h]+"\\.(\\d+)\\.(\\d+)\\.(\\d+)");l&&(s.cookie_ptag&&(s.cookie_ptag+="-"),s.cookie_ptag+=l[0])}s.device_type=p.model;var f=["firstSplash","lastSplash","thisSplash","splashCount","networkType"];if(r)for(var d in r)-1===f.indexOf(d)&&(s[d]=r[d]);return s}return o(n,g),n}(),exports.UserRecFeedbackV=function(t){function n(t,o,r){i(this,n);var s=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,o,r)),a=["firstSplash","lastSplash","thisSplash","splashCount","networkType"];if(r)for(var p in r)-1==a.indexOf(p)&&(s[p]=r[p]);return s.src="wx",s}return o(n,g),n}(); 
 			}); 
		define("api/reportGDT.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(r){return r+"="+(null==e[r]?"":e[r])}).join("&")}function o(e){var r=t(),o="",n=Date.now(),u=a.getCookie("visitkey")||"",i=e;return o=r.hex_md5(u+n+i),["122270672",o,n,n,n,1].join(".")}function t(){function e(e){for(var r=d.hexcase?"0123456789ABCDEF":"0123456789abcdef",o="",t=0;t<4*e.length;t++)o+=r.charAt(e[t>>2]>>t%4*8+4&15)+r.charAt(e[t>>2]>>t%4*8&15);return o}function r(e,r){e[r>>5]|=128<<r%32,e[14+(r+64>>>9<<4)]=r;for(var o=1732584193,s=-271733879,c=-1732584194,d=271733878,l=0;l<e.length;l+=16){var m=o,h=s,g=c,p=d;s=a(s=a(s=a(s=a(s=u(s=u(s=u(s=u(s=n(s=n(s=n(s=n(s=t(s=t(s=t(s=t(s,c=t(c,d=t(d,o=t(o,s,c,d,e[l+0],7,-680876936),s,c,e[l+1],12,-389564586),o,s,e[l+2],17,606105819),d,o,e[l+3],22,-1044525330),c=t(c,d=t(d,o=t(o,s,c,d,e[l+4],7,-176418897),s,c,e[l+5],12,1200080426),o,s,e[l+6],17,-1473231341),d,o,e[l+7],22,-45705983),c=t(c,d=t(d,o=t(o,s,c,d,e[l+8],7,1770035416),s,c,e[l+9],12,-1958414417),o,s,e[l+10],17,-42063),d,o,e[l+11],22,-1990404162),c=t(c,d=t(d,o=t(o,s,c,d,e[l+12],7,1804603682),s,c,e[l+13],12,-40341101),o,s,e[l+14],17,-1502002290),d,o,e[l+15],22,1236535329),c=n(c,d=n(d,o=n(o,s,c,d,e[l+1],5,-165796510),s,c,e[l+6],9,-1069501632),o,s,e[l+11],14,643717713),d,o,e[l+0],20,-373897302),c=n(c,d=n(d,o=n(o,s,c,d,e[l+5],5,-701558691),s,c,e[l+10],9,38016083),o,s,e[l+15],14,-660478335),d,o,e[l+4],20,-405537848),c=n(c,d=n(d,o=n(o,s,c,d,e[l+9],5,568446438),s,c,e[l+14],9,-1019803690),o,s,e[l+3],14,-187363961),d,o,e[l+8],20,1163531501),c=n(c,d=n(d,o=n(o,s,c,d,e[l+13],5,-1444681467),s,c,e[l+2],9,-51403784),o,s,e[l+7],14,1735328473),d,o,e[l+12],20,-1926607734),c=u(c,d=u(d,o=u(o,s,c,d,e[l+5],4,-378558),s,c,e[l+8],11,-2022574463),o,s,e[l+11],16,1839030562),d,o,e[l+14],23,-35309556),c=u(c,d=u(d,o=u(o,s,c,d,e[l+1],4,-1530992060),s,c,e[l+4],11,1272893353),o,s,e[l+7],16,-155497632),d,o,e[l+10],23,-1094730640),c=u(c,d=u(d,o=u(o,s,c,d,e[l+13],4,681279174),s,c,e[l+0],11,-358537222),o,s,e[l+3],16,-722521979),d,o,e[l+6],23,76029189),c=u(c,d=u(d,o=u(o,s,c,d,e[l+9],4,-640364487),s,c,e[l+12],11,-421815835),o,s,e[l+15],16,530742520),d,o,e[l+2],23,-995338651),c=a(c,d=a(d,o=a(o,s,c,d,e[l+0],6,-198630844),s,c,e[l+7],10,1126891415),o,s,e[l+14],15,-1416354905),d,o,e[l+5],21,-57434055),c=a(c,d=a(d,o=a(o,s,c,d,e[l+12],6,1700485571),s,c,e[l+3],10,-1894986606),o,s,e[l+10],15,-1051523),d,o,e[l+1],21,-2054922799),c=a(c,d=a(d,o=a(o,s,c,d,e[l+8],6,1873313359),s,c,e[l+15],10,-30611744),o,s,e[l+6],15,-1560198380),d,o,e[l+13],21,1309151649),c=a(c,d=a(d,o=a(o,s,c,d,e[l+4],6,-145523070),s,c,e[l+11],10,-1120210379),o,s,e[l+2],15,718787259),d,o,e[l+9],21,-343485551),o=i(o,m),s=i(s,h),c=i(c,g),d=i(d,p)}return Array(o,s,c,d)}function o(e,r,o,t,n,u){return i(s(i(i(r,e),i(t,u)),n),o)}function t(e,r,t,n,u,a,i){return o(r&t|~r&n,e,r,u,a,i)}function n(e,r,t,n,u,a,i){return o(r&n|t&~n,e,r,u,a,i)}function u(e,r,t,n,u,a,i){return o(r^t^n,e,r,u,a,i)}function a(e,r,t,n,u,a,i){return o(t^(r|~n),e,r,u,a,i)}function i(e,r){var o=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(o>>16)<<16|65535&o}function s(e,r){return e<<r|e>>>32-r}function c(e){for(var r=Array(),o=(1<<d.chrsz)-1,t=0;t<e.length*d.chrsz;t+=d.chrsz)r[t>>5]|=(e.charCodeAt(t/d.chrsz)&o)<<t%32;return r}var d={};return d.hexcase=0,d.b64pad="",d.chrsz=8,d.hex_md5=function(o){return e(r(c(o),o.length*d.chrsz))},d.binl2hex=e,d.core_md5=r,d}function n(e,r,o){function t(e){var r,o=1,t=0;if(e)for(o=0,r=e.length-1;r>=0;r--)o=0!==(t=266338304&(o=(o<<6&268435455)+(t=e.charCodeAt(r))+(t<<14)))?o^t>>21:o;return o}function n(){return t(d.replace(/.*?(\w+\.\w+)$/,"$1"))}var i,c,d=s.getDomain(e),l="direct",m=(a.getCookie("__jdv")||"").split("|"),h=d.replace(/.*?(\w+\.\w+)$/,"$1"),g=r,p=86400,_=1*new Date,f=!1;m.length<4?(c=[i=n(),"direct","-","none","-",_].join("|"),a.setCookie({data:{__jdv:{value:c,decode:!0,maxAge:p}}}),m=[i,"direct","-","none","-"]):m.length>4&&(i=m[0],l=m[1],m[2],m[3],m[4],"direct"!=l&&"direct"==(u("utm_source",e)||o.utm_source)&&(f=!0));var q=[],v=!1,w=u("utm_source",e)||o.utm_source;if(!f)if(w){var y=u("utm_campaign",e)||o.utm_campaign,k=u("utm_medium",e)||o.utm_medium,x=u("utm_term",e)||o.utm_term;q.push(w),q.push(y||"-"),q.push(k||"none"),q.push(x||"-"),v=!0}else{var b="baidu:wd,baidu:word,so.com:q,so.360.cn:q,360so.com:q,360sou.com:q,baidu:q1,m.baidu:word,m.baidu:w,wap.soso:key,m.so:q,page.yicha:key,sz.roboo:q,i.easou:q,wap.sogou:keyword,google:q,soso:w,sogou:query,youdao:q,ucweb:keyword,ucweb:word,114so:kw,yahoo:p,yahoo:q,live:q,msn:q,bing:q,aol:query,aol:q,daum:q,eniro:search_word,naver:query,pchome:q,images.google:q,lycos:query,ask:q,netscape:query,cnn:query,about:terms,mamma:q,voila:rdata,virgilio:qs,alice:qs,yandex:text,najdi:q,seznam:q,search:q,wp:szukaj,onet:qt,szukacz:q,yam:k,kvasir:q,ozu:q,terra:query,rambler:query".split(","),j=!0,z=g&&g.split("/")[2];if(z&&z.indexOf(h)<0){for(var C=0;C<b.length;C++){var A=b[C].split(":");if(z.indexOf(A[0].toLowerCase())>-1&&g.indexOf((A[1]+"=").toLowerCase())>-1){var O=u(A[1],g);q.push(A[0]),q.push("-"),q.push("organic"),q.push(O||"not set"),j=!1;break}}j&&(z.indexOf("zol.com.cn")>-1?(q.push("zol.com.cn"),q.push("-"),q.push("cpc"),q.push("not set")):(q.push(z),q.push("-"),q.push("referral"),q.push("-")))}v=q.length>0&&m.length>4&&(q[0]!==m[1]||q[1]!==m[2]||q[2]!==m[3])&&"referral"!==q[2]}v&&(c=[i=m[0]?m[0]:n(),q[0]||"direct",q[1]||"-",q[2]||"none",q[3]||"-",_].join("|"),a.setCookie({data:{__jdv:{value:c,decode:!0,maxAge:p}}}))}function u(e,r){var o=r||"",t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=o.substring(o.indexOf("?")+1,o.length).match(t);return null!=n?n[2]:""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.reportGDT=void 0;var a=e(require("../common/cookie-v2/cookie.js")),i=require("../common/request/request.js"),s=e(require("../common/url_utils"));exports.reportGDT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.gdt_vid,s=t.gaid,c=t.gsid;if(e){var d=getCurrentPages(),l="";if(d&&!(d.length<1)){l=d[d.length-1].route||d[d.length-1].__route__;var m={utm_source:"jdzt_wxsq_refer_null",utm_medium:"weixin_shouq",utm_campaign:1==e?"t_256716187_1":"t_1000072653_1",utm_term:u||"",gaid:s||"",gsid:c||""},h=l+"?"+r(m),g=h,p=a.getCookie("__jda"),_=a.getCookie("open_id"),f=a.getCookie("pin");p||(p=o(l),a.setCookie({data:{__jda:{value:p,maxAge:259200}}}));var q="";d.length>=2&&(q=d[d.length-2].__route__),n(h,q,m),i.request.get({url:"https://addata.jd.com/fcgi-bin/rpttraceinfo",data:{turl:g,gdt_vid:u||"",__jda:p,wxoid:_,upin:f,t:+new Date},dataType:"text",priority:"REPORT"}).then(function(e){var r=e.body;console.log("reportGDT return json: "),console.log(r)},function(e){var r=e.code,o=e.message;console.log("reportGDT error: "),console.log(r,o)})}}}; 
 			}); 
		define("api/unifyReport.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){var t="",i=e&&e.split(".")||[];return 3==i.length&&(t=2==l.getCookie("wxapp_type")?"jingxi_"+i[0]+"_"+i[1]+"_"+i[2]:"jd_"+i[0]+"_"+i[1]+"_"+i[2]),t}function n(e,t,i){var n=/[0-9]+\.[0-9]+\.[0-9]+/,a=e.vurl||"",p=n.test(e.ptag||"")&&e.ptag||"",u=e.ptagExt||{};p&&delete e.ptag,u&&delete e.ptagExt,a&&delete e.vurl;var s=o(e,{chan_type:5,wxapp_type:l.getCookie("wxapp_type")||""});if(4==t){var g={};"pv"==i&&(g=new c.PageV("",d.default.getCurrentPageUrl(),"",u)),"click"==i&&(g=new c.ClickV("",d.default.getCurrentPageUrl(),"",u)),"exposure"==i&&(g=new c.ItemExposureV("",d.default.getCurrentPageUrl(),"",u)),s.eid=p&&!s.eid?r(p):s.eid,s.ext=Object.assign(e.ext,g)}return{vurl:a,ptag:p,ptagExt:u,meridian:s}}function a(){var e=s.default.init(),t=0,i="",r=getCurrentPages().length,n=getCurrentPages()[r-1]||null;if(n){var a=n&&n.pvTime||null;a&&(a.loadTime?t=a.loadTime/1e3:(a.end=Date.now(),a.loadTime=a.end-a.start,t=a.loadTime/1e3)),n.route&&(i=2==l.getCookie("wxapp_type")?"jingxi_"+n.route.replace(/\//g,"_"):"jd_"+n.route.replace(/\//g,"_"))}return e.set({pageId:i,siteId:2==l.getCookie("wxapp_type")?"JA2019_5112436":"JA2019_5112348",account:u.gUserData().pin||"",loadtime:t,openid:u.gUserData().open_id||"",unionid:u.gUserData().unionid||"",appid:getApp().appId||""}),e}function o(e,t){var i={};return e&&(0,g.isObject)(e)&&(i=e),t&&(i.ext?Object.assign(i.ext,t):i.ext=t),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnifyReport=void 0;var p=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),u=t(require("../common/user_info")),s=e(require("./JDReport/weixinAppReport.js")),d=e(require("./Ptag/report_manager_wqvue.js")),l=t(require("../common/cookie-v2/cookie.js")),g=require("../common/utils"),c=require("./Ptag/v");exports.UnifyReport=function(){function e(t){i(this,e),this._config={manual:!1,channel:4,meridian:{base:{},pv:{}}},(0,g.isObject)(t)&&Object.assign(this._config,t),[2,4].indexOf(this._config.channel)&&(this._meridianReport=a(),this._config.meridian.base&&this._meridianReport.set(this._config.meridian.base)),[1,4].indexOf(this._config.channel)&&(this._ptagReport=d.default)}return p(e,[{key:"pv",value:function(){var e=n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this._config.channel,"pv");this._ptagReport&&this._ptagReport.setCurrentPageAndAddPv(e.vurl,e.ptagExt),this._meridianReport&&this._meridianReport.pv(e.meridian)}},{key:"click",value:function(){var e=n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this._config.channel,"click");this._ptagReport&&e.ptag&&this._ptagReport.addPtag(e.ptag,e.ptagExt),this._meridianReport&&this._meridianReport.click(e.meridian)}},{key:"exposure",value:function(){var e=n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},this._config.channel,"exposure");this._ptagReport&&e.ptag&&this._ptagReport.addPtagExposure(e.ptag,e.ptagExt),this._meridianReport&&this._meridianReport.exposure(e.meridian)}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._meridianReport&&this._meridianReport.set(e)}},{key:"addToCart",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._meridianReport&&this._meridianReport.addToCart(e)}},{key:"order",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._meridianReport&&this._meridianReport.order(e)}},{key:"urlAddSeries",value:function(e){return this._meridianReport&&this._meridianReport.urlAddSeries(e)}},{key:"autoClick",value:function(e){this._meridianReport&&this._meridianReport.autoClick(e)}},{key:"getSeries",value:function(e){this._meridianReport&&this._meridianReport.getSeries(e)}},{key:"pageUnload",value:function(e){this._meridianReport&&this._meridianReport.pageUnload(e)}},{key:"setMParam",value:function(e){this._meridianReport&&this._meridianReport.setMParam(e)}}]),e}(); 
 			}); 
		define("bases/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base=void 0;var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),o=e(require("../api/Ptag/Ptag_constants")),n=require("../api/Ptag/Ptag_utils"),a=require("../api/Ptag/report_manager"),i=require("../common/wqvue/core/util/index"),s=require("../common/wqvue/core/util/diff"),u=e(require("../common/navigator.js")),p=e(require("../common/biz.js")),c=e(require("../common/toast/toast.js")),d=require("../common/fe_report/speed.js"),l=e(require("../common/fe_report/usability.js")),g=e(require("../common/utils.js")),f=require("../common/pretreatment"),h=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.object=r}return r(e,[{key:"plugins",value:function(){return{utils:g,helper:g,biz:p,toast:c,us:l,Speed:d.Speed}}},{key:"methods",value:function(){return{$goto:u.goto,$gotoItem:u.gotoItem,$setData:this.$setData,$report:this.$report,$setReportPage:this.$setReportPage,$preload:f.Pretreatment.preload,speedMark:this.speedMark,speedInit:this.speedInit,speedReport:this.speedReport}}},{key:"$setData",value:function(e,t){(0,i.isPlainObject)(e)||(console.error("$setData参数类型错误"),e={});var r=(0,s.diff)(e,(0,s.getOldData)(e,this.data,this));(0,i.isPlainObject)(r)&&(0,i.isNotEmptyObject)(r)&&this.setData(r,t)}},{key:"$report",value:function(e,t,r){r=r||{},2==arguments.length&&"[object Object]"==Object.prototype.toString.call(t)&&(r=t,t=!1),t&&(e=/[?&]?ptag=([\d.]+)&?/i.exec(t)[1]||e),/^[\d.]+$/.test(e)||(this.PtagMap&&(e=this.PtagMap[e]),e=(this.PtagConstants||o)[e]),e&&n.PtagUtils.addPtag(e,r)}},{key:"$setReportPage",value:function(e,t){var r=(this.PtagConstants||o)[e];if(!r)return console.warn("无效的PV上报！");a.ReportManager.setCurrentPageAndAddPv(r,t)}},{key:"__getRandomID",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(36).substring(2,15)}},{key:"speedInit",value:function(e,t){this._speed=new d.Speed(e,t),t&&this._speed.mark(1,t)}},{key:"speedMark",value:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).override,o=void 0===r||r;return!this._speed||!o&&this._speed.get(e)||this._speed.mark(e,t),this}},{key:"speedReport",value:function(e){var t=this;setTimeout(function(){try{t._speed&&(t._speed.report(e),delete t._speed)}catch(e){console.warn("speedReport",e)}},0)}}]),e}();exports.Base=h; 
 			}); 
		define("bases/behavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JDBehavior=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=function e(t,r,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,o)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(o)},i=require("./base.js"),a=function(a){function c(r){e(this,c);var o=t(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments));return o.object=r,o.lifeCircle(),o.attachMethods(),o.behavior=Behavior(r),o}return r(c,i.Base),o(c,[{key:"lifeCircle",value:function(){var e=this,t=this,r=["created","attached","ready","moved","detached"],o=!0,n=!1,i=void 0;try{for(var a,c=r[Symbol.iterator]();!(o=(a=c.next()).done);o=!0)!function(){var r=a.value,o=e.object[r];e.object[r]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t[r]&&(n=t[r].apply(this,n)||n),o&&o.apply(this,n)}}()}catch(e){n=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(n)throw i}}}},{key:"created",value:function(){}},{key:"attachMethods",value:function(){var e=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"methods",this).call(this);for(var t in e){if("methods"in this.object){if(this.object.methods[t])throw new Error("Method "+t+" is already exists")}else this.object.methods={};this.object.methods[t]=e[t]}}}]),c}();exports.JDBehavior=a; 
 			}); 
		define("bases/component.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JDComponent=void 0;var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),n=function t(e,o,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},i=require("./base.js"),a=function(a){function c(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,c);var r=e(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments));return r.object=o,r.attachMethods(),r.attachActions(),r.mergeModel(),r.lifeCircle(),Component(o),r}return o(c,i.Base),r(c,[{key:"lifeCircle",value:function(){var t=this,e=this,o=["created","attached","ready","moved","detached"],r=!0,n=!1,i=void 0;try{for(var a,c=o[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)!function(){var o=a.value,r=t.object[o];t.object[o]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e[o]&&(n=e[o].apply(this,n)||n),r&&r.apply(this,n)}}()}catch(t){n=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(n)throw i}}}},{key:"mergeModel",value:function(){if(this.object.hasOwnProperty("model")){var t=this.object.model();for(var e in t)void 0===this.object.data[e]&&(this.object.data[e]=t[e])}}},{key:"created",value:function(){var t=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"plugins",this).call(this);for(var e in t){if(this[e])throw new Error("Prop "+e+" is already exists");this[e]=t[e]}}},{key:"attachMethods",value:function(){this.object.methods||(this.object.methods={});var t=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"methods",this).call(this);for(var e in t){if(this.object.methods[e])throw new Error("Method "+e+" is already exists");this.object.methods[e]=t[e]}}},{key:"attachActions",value:function(){if(this.object.hasOwnProperty("actions")){var t=this.object.actions;for(var e in t){if(this.object.methods[e])throw new Error("Method "+e+" is already exists");this.object.methods[e]=t[e]}}}}]),c}();exports.JDComponent=a; 
 			}); 
		define("bases/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JDPage=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),n=function e(t,a,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,a,i)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(i)},o=require("./base.js"),s=e(require("../common/navigator.js")),p=e(require("../common/h5jump.js")),u=e(require("../common/cookie-v2/cookie.js")),g=e(require("../common/pr.js")),d=e(require("../common/utils.js")),l=e(require("../common/wdref.js")),c=function(e){return e&&e.__esModule?e:{default:e}}(require("../common/report/pps.js")),m=e(require("../api/reportGDT.js")),h=require("../common/login/login"),y=require("../api/Ptag/Ptag_utils.js"),f=require("../api/Ptag/report_manager.js"),v=require("../common/jdwebm.js"),_=require("../common/pretreatment"),x=require("../common/timer-manage"),b=e(require("../common/localStorage.js")),P=require("../api/JDReport/unifyStore"),j=require("../api/unifyReport"),w=require("../common/fe_report/usability.js"),R=require("../common/url_utils"),k={},O=function(e){function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(this,O);var r=a(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments));return r.object=e,r.object.pageId=n(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"__getRandomID",r).call(r),r.attachPlugins(),r.attachMethods(),r.attachActions(),r.mergeModel(),r.lifeCircle(),i?Component(e):Page(e),_.Pretreatment.register(e),r}return i(O,o.Base),r(O,[{key:"lifeCircle",value:function(){var e=this,t=this,a=["Load","Ready","Show","Hide","Unload"],i=!0,r=!1,n=void 0;try{for(var o,s=a[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)!function(){var a=o.value,i=e.object["on"+a];e.object["on"+a]=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t["on"+a]&&(r=t["on"+a].apply(this,r)||r),i&&i.apply(this,r)}}()}catch(e){r=!0,n=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}}},{key:"mergeModel",value:function(){if(this.object.hasOwnProperty("model")){var e=this.object.model();for(var t in e)void 0===this.object.data[t]&&(this.object.data[t]=e[t])}}},{key:"attachActions",value:function(){if(this.object.hasOwnProperty("actions")){var e=this.object.actions;for(var t in e){if(this.object[t])throw new Error("Prop "+t+" is already exists");this.object[t]=e[t]}}}},{key:"attachPlugins",value:function(){var e=n(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"plugins",this).call(this);for(var t in e){if(this.object[t])throw new Error("Prop "+t+" is already exists");this.object[t]=e[t]}}},{key:"attachMethods",value:function(){var e=n(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"methods",this).call(this);for(var t in e){if(this.object[t])throw new Error(t+" is already exists");this.object[t]=e[t]}}},{key:"onLoad",value:function(e){this.pvTime={start:Date.now(),end:0,loadTime:0,needRefresh:!1,pageLoad:Date.now(),pageShow:0,pageHide:0},this.isPingouApp=2==u.getCookie("wxapp_type");var t=new Date,a=s.getParams(e)||{},i=d.getPageUrl();this.isPingouApp&&("pages/pingou/index/index"!==i.route&&b.remove("PINGOU_URL_HISTORY").then(function(){}).catch(function(){}),a.originUrl?this.urlCache={url:a.originUrl,params:a.originParams,options:a.originOpts,enterTime:+new Date}:this.urlCache={url:"/"+i.route+"?"+d.querystring(Object.assign({},e)),notGoto:!0});var r=k[this.route];r&&(this.speedInit(r,a.navStart),this.speedMark(2,t)),d.handleQueryScene(e);var n=a.platform,o=a.gdt_vid,h=a.gaid,v=a.gsid;n&&m.reportGDT(n,{gdt_vid:o,gaid:h,gsid:v}),a.pps&&(f.ReportManager.setPPS(a.pps),(0,c.default)(a.pps));var _=a.utm_campaign,x=a.utm_source,P=a.utm_medium,O=a.utm_term;(_||x||P||O||n)&&(getApp().utmJdvProps={utm_campaign:n?1==n?"t_256716187_1":"t_1000072653_1":_||"",utm_source:n?"jdzt_wxsq_refer_null":x||"",utm_medium:n?"weixin_shouq":P||"",utm_term:n?o||"":O||"",platform:n});var q={manual:!1,channel:4,meridian:{base:{urlParam:a,pparam:d.querystr(Object.assign({},a))},pv:{}}};if(this.data&&this.data.unifyConfig&&Object.assign(q,this.data.unifyConfig),this.unifyReport=new j.UnifyReport(q),"pages/h5/index"==i.route){var U=a.encode_url||a.su;if(U&&(a.url=d.decode(U),delete a.encode_url,delete a.su),a.url){var C=d.getUrlParam("ptag",a.url);C&&y.PtagUtils.addPtag(C,{vs:"auto"});var S=getCurrentPages(),T=S.length>1?S[S.length-2].route:"";if(a.url=a.url.replace(/^(https?:)?\/\//,"https://"),console.log("[Webview 原始 URL] ",a.url),/wqitem.jd.com/.test(a.url)){var D=u.getCookie("wxsearch_token");getApp()&&getApp().isWXSearchScene&&D&&(a.url=(0,R.setUrlParamByObject)(a.url,{sosomark:1}))}"pages/h5/index"==T||"pages/gwq/index"==T||-1!=a.url.indexOf("//union-click.jd.com")||a.omitH5Params||d.getUrlParam("omitH5Params",a.url)?((0,w.umpBiz)({bizid:777,operation:112,result:0,message:a.url}),/(\/\/an-sns.jd.com)|(\/\/anmp.jd.com)/i.test(a.url)&&(a.url=(0,R.setUrlParamByObject)(a.url,{cookie:JSON.stringify({wq_uin:u.getCookie("wq_uin"),wq_skey:u.getCookie("wq_skey"),wxapp_type:u.getCookie("wxapp_type")})}))):(a.url=p.addParamsToH5Url(a.url,a.referer),this.unifyReport&&(a.url=this.unifyReport.urlAddSeries(a.url))),g.addPrToH5(a.url,a.pr),delete a.pr}}var M=a.ptag,A=a.PTAG,I=a.Ptag,H=M||A||I;H&&"string"==typeof H&&(y.PtagUtils.addPtag(H,{vs:"auto"}),this.setData({ptag:H})),this.setData({__report_props__:a});var z=a.pr||"";z&&(getApp().pr=z),l.addUrlParams(this.pageId,a),l.onLoadSet(this.pageId),p.updateCookie(a);for(var L=arguments.length,E=Array(L>1?L-1:0),J=1;J<L;J++)E[J-1]=arguments[J];return[a].concat(E)}},{key:"onUnload",value:function(){var e=l.getUrlParams(this.pageId,!0);"pages/h5/index"==d.getPageUrl().route&&e&&(e=p.removeH5Params(e),console.log("back: h5 to wxa",e),l.backSet(e)),(0,P.deleteUnifyReport)(d.getPageUrl().route),(0,x.destroy)(),(0,h.resetLoginMark)()}},{key:"onReady",value:function(){this.speedMark(3)}},{key:"onShow",value:function(){this.pvTime&&this.pvTime.needRefresh&&(this.pvTime.start=Date.now(),this.pvTime.loadTime=0),this.pvTime.pageShow=Date.now();var e=!this.data.unifyConfig,t=this.unifyReport._config,a=f.ReportManager.getMonitorInfo(this.pvTime);if(e){if(this.manualReportPV?f.ReportManager.clearPPS():(f.ReportManager.setCurrentPageAndAddPv("",a),y.PtagUtils.tabbarReport()),!this.manualJDReportPV&&this.unifyReport){this.unifyReport._meridianReport.pv();var i=d.getPageUrl();i&&(0,P.setUnifyReport)(i.route,this.unifyReport._meridianReport)}}else if(t.manual?f.ReportManager.clearPPS():(this.unifyReport.pv({ptagExt:a}),y.PtagUtils.tabbarReport()),!this.manualJDReportPV&&this.unifyReport._meridianReport){var r=d.getPageUrl();r&&(0,P.setUnifyReport)(r.route,this.unifyReport._meridianReport)}(0,v.Jdwebm)(),(0,x.resume)()}},{key:"onHide",value:function(){var e=this;this.isPingouApp&&"pages/h5/index"!==d.getPageUrl().route&&this.urlCache&&(this.urlCache.leaveTime=+new Date,b.set("PINGOU_URL_HISTORY",this.urlCache).then(function(e){(0,w.umpBiz)({bizid:"1387",operation:1,result:"0",message:e?e.errMsg:"存储成功"})},function(t){(0,w.umpBiz)({bizid:"1387",operation:1,result:"1",message:t?t.errMsg:"存储失败"}),b.checkAndClearExpired(function(){b.set("PINGOU_URL_HISTORY",e.urlCache)})})),(0,x.stopAll)(),(0,h.resetLoginMark)(),this.pvTime.pageHide=Date.now()}}]),O}();k={"pages/search/list/list":1742,"pages/search_pg/index/index":1947,"pages/cart/cart/index":600,"pages/cart/cart/cart":1035,"pages/item/detail/detail":1677,"pages/shop/index/index":602,"pages/pay/index/index":603,"pages/coupon/index":604,"pages/cate/cate":605,"pages/my_pages/coupon/coupon":606,"pages/my_pages/coupon_detail/coupon_detail":900,"pages/my_pages/ecard/index/index":775,"pages/my_pages/ecard/bind/bind":776,"pages/my_pages/account/account":786,"pages/pingou/item/item":851,"pages/pingou/ziying/ziying":854,"pages/pingou/tuan99/tuan99":855,"pages/pingou/my/my":856,"pages/pingou/index/index":853,"pages/pingou/detail/index":867,"pages/pingou/account/index":1485,"pages/pingou_second/darentuan/darentuan":1123,"pages/pingou/brand/index":1092,"pages/pingou/brand/detail":1093,"pages/penny/index/index":1053,"pages/penny/item/item":1054,"pages/penny/pay/pay":1055,"pages/penny/detail/detail":1056,"pages/my/index/index":1102,"pages/aditem/index":1390,"pages/adpage/item/item":1132,"pages/adpage/lp/lp":1133,"pages/search/subPackages/coupon/coupon":1250,"pages/search/subPackages/sales/sales":1251,"pages/events/sportshb/index/index":1214,"pages/couponv4/index/index":1260,"pages/pingou/cate/cate":1280,"pages/pingou_second/search/search":1285,"pages/market/index/index":1156,"pages/item/featured/featured":1328,"pages/events/qsq/qsq":1350,"pages/order/list/list":1404,"pages/order/detail/detail":1405,"pages/events/kj_sksm/index/index":1408,"pages/events/kj_sksm/my/my":1412,"pages/events/pjdsyh/index/index":1491,"pages/events/pjdsyh/index_start/index_start":1495,"pages/events/pjdsyh/my/my":1499,"pages/events/chb_jd/index/index":1520,"pages/events/divide_bean/index/index":1514,"pages/events/divide_bean/my/my":1515,"pages/events/laxin_jd/index/index":1539,"pages/events/ddplf/index/index":1543,"pages/activity/rebate/my/index":1747,"pages/activity/rebate/index/index":1722,"pages/events/topic_quiz/index/index":1757,"pages/activity/task_rebate/index/index":1773,"pages/activity/task_rebate/detail/index":1774,"pages/events/new_user_gift/index/index":1783,"pages/events/yyzcv5/index/index":1803,"pages/events/new_user_gift/jhy/jhy":1822,"pages/events/creategroup_jd_pgapp/index/index":1867,"pages/events/creategroup_jd_pgapp/my/my":1874,"pages/events/fuliji/index/index":1902,"pages/events/divide_bean_pingou/index/index":1953,"pages/pingou/dream_factory/index/index":1910,"pages/fortune_island/index/index":1919,"pages/fortune_island/tiger/tiger":1932,"pages/fortune_island/my/my":1927,"pages/fortune_island/exchange/exchange":1926,"pages/fortune_island/cash/cash":1937,"pages/city_player/index/index":1982,"pages/pingou/subsidy/index":1957,"pages/activity/jdnc/detail/detail":1956,"pages/pingou/task_center/index":1955,"pages/recharge/pingou/pingou":1975,"pages/activity/beanlb/index/index":1701},exports.JDPage=O; 
 			}); 
		define("bases/page.taro.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JDPage=void 0;var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),n=function t(e,o,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,r)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(r)},i=require("./page.js"),a=function(a){function c(){return t(this,c),e(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return o(c,i.JDPage),r(c,[{key:"lifeCircle",value:function(){var t=this,e=this,o=["Load","Ready","Show","Hide","Unload"];this.object.methods||(this.object.methods={});var r=!0,n=!1,i=void 0;try{for(var a,c=o[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)!function(){var o=a.value,r=t.object.methods["on"+o];t.object.methods["on"+o]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e["on"+o]&&(n=e["on"+o].apply(this,n)||n),r&&r.apply(this,n)}}()}catch(t){n=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(n)throw i}}}},{key:"attachMethods",value:function(){this.object.methods||(this.object.methods={});var t=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"methods",this).call(this);for(var e in t){if(this.object.methods[e])throw new Error("Method "+e+" is already exists");this.object.methods[e]=t[e]}}}]),c}();exports.JDPage=a; 
 			}); 
		define("behaviors/attributes.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=getApp();exports.default=Behavior({properties:{hidden:{type:Boolean,value:!1,observer:"_toogleVisiable"}},methods:{_toogleVisiable:function(e,t){this.setData({hidden:!!e})},_showLoading:function(){var t="",a=(e||{}).systemInfo.platform,n=/android/i;a&&n.test(a)&&(t="处理中"),wx.showLoading({title:t,mask:!0}),(this._getCurrentPageObj()||{}).wxLoadingFlag=!0},_hideLoading:function(){wx.hideLoading(),(this._getCurrentPageObj()||{}).wxLoadingFlag=!1},_getCurrentPageObj:function(){var e=getCurrentPages();return e&&e.length?e[e.length-1]:""},_getPageId:function(){var e=this._getCurrentPageObj();return e?e._pageId:""}}}); 
 			}); 
		define("common/JD.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e){throw new Error("注意，"+e+"函数在小程序并不支持，请检查代码！")}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./request/request"),a=e(require("./fe_report/usability")),o=require("./logger.js"),i=e(require("./cookie-v2/cookie")),g=e(require("./fe_helper")),u=require("../api/Ptag/report_manager"),c=require("../api/Ptag/Ptag_utils"),p=e(require("./url_utils")),s=e(require("./navigator")),l=null,f=null,d=null,m={},y={},v={},x={},w={},h={},k={},P={};l=function(e,t){(0,r.request)({url:e,method:"GET",success:function(){t.onLoad.apply(t,arguments)},fail:function(){t.onLoad.apply(t,arguments)}})},f=function(){n("sendJs")},d=function(){n("sendJsByDomain")},function(){var e={};try{e=wx.getSystemInfoSync()}catch(t){e={}}m.retina=e.pixelRatio>=1.5,m.sticky=e.system&&-1!==e.system.indexOf("iOS"),m.scene="wxapp",m.webp=!!getApp().webpSupport,m.getNetwork=function(e){var t=i.getCookie("network");t&&-1!=="2g,3g,4g,wifi".indexOf(t.toLowerCase())?e&&e(t):wx.getNetworkType({success:function(t){i.setCookie({data:{network:{value:t.networkType,maxAge:3600}}}),e&&e(t.networkType)},fail:function(){e&&e("unknown")}})},m.getNetwork()}(),y.useScaleImg=function(){var e=w.getCookie("network"),t=m.retina;return"wifi"!==e||!t},y.getScaleImg=g.getImg,v.useScaleImg=y.useScaleImg,v.getScaleImg=y.getScaleImg,v.getImgUrl=y.getScaleImg,x.itil=!1,x.rd=function(e){e&&(e="[object Object]"===Object.prototype.toString.call(e)?e:{ptag:e},c.PtagUtils.addPtag(e.ptag))},x.badJs=function(){n("badJs")},x.umpBiz=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.umpBiz.apply(a,t)},x.umpStart=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.start.apply(a,t)},x.umpReport=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.umpReport.apply(a,t)},x.imageLoadError=function(e){console.error("imageLoadError已经过期")},x.pv=u.ReportManager.setCurrentPageAndAddPv,w.get=function(e){return i.getCookie(e)},w.set=function(e,n,r,a,o,g){i.setCookie({data:t({},e,{value:n,maxAge:60*r})})},w.del=function(e,t,n,r){i.removeCookie([e])},h.setHash=function(){n("setHash")},h.getHash=function(){n("getHash")},h.getHashParam=function(){n("getHashParam")},h.getUrlParam=p.getUrlParam,h.parseUrl=p.parseURL,h.addUrlParam=function(e,t){for(var n in t){var r=new RegExp("([?&])"+n+"=[^&]*(&|$)","i");r.test(e)?(e=e.replace(r,"$1"+n+"="+t[n]+"$2"),delete t[n]):e=p.addUrlParam(e,t)}return e},h.addRd=function(e,t){return h.addUrlParam(e,{PTAG:t})},h.getValidImageDomain=function(){n("getValidImageDomain")},h.getPageUrl=function(e){return e},h.getImageUrl=function(){n("getImageUrl")},h.getCgiUrl=function(){n("getCgiUrl")},h.getStaticDisRec=function(){n("getStaticDisRec")},k.listen=function(e,t){getApp().event.on(e,t)},k.one=function(e,t){getApp().event.once(e,t)},k.trigger=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=getApp().event).emit.apply(t,[e].concat(r))},k.remove=function(e){getApp().event.off(e)},function(){var e={index:"/pages/index/index",detail:"/pages/item/detail/detail",my:"/pages/my/index/index",cart:"/pages/cart/cart/cart",search:"/pages/search/list/list",buy:"/pages/pay/index/index",account:"/pages/my_pages/account/account",pgitem:"/pages/pingou/item/item",pgdetail:"/pages/pingou/detail/index",shop:"/pages/shop/index/index",gwqpage:"/pages/gwq/index",category:"/pages/cate/cate",coupon:"/pages/my_pages/coupon/coupon",proxy:"/pages/union/proxy/proxy"};P.urls=e,P.isWxapp=function(e){e(!0)},P.goto=function(e,t){s.goto(e,{},{method:t})}}(),exports.default={send:l,sendJs:f,sendJsByDomain:d,device:m,performance:y,img:v,report:x,cookie:w,url:h,events:k,wxapp:P,log:o.Logger}; 
 			}); 
		define("common/address_api/address_api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function t(e,t){this.success=e,this.fail=t}function i(e){for(var t=[],i=[],n=0;n<e.length;n++){var r=e[n];t.push(r.id),i.push(r.name)}return{idList:t,nameList:i}}function n(e){e(null,a)}function r(e,i){var n="https://wq.jd.com/deal/recvaddr/getprovince?provinceid="+e;s.get(n,[],new t(function(e){i(null,e)},function(e){i("error")}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAddr2Redis=exports.setDisplayHwAddr=exports.getUserDefaultDeliveryAddress=exports.getTownList=exports.getDistrictList=exports.getCityList=exports.getProvinceList=void 0;var s=e(require("../../common/http_json.js")),d=e(require("../../common/request/request.js")),a=[{name:"北京",id:1},{name:"上海",id:2},{name:"天津",id:3},{name:"重庆",id:4},{name:"河北",id:5},{name:"山西",id:6},{name:"河南",id:7},{name:"辽宁",id:8},{name:"吉林",id:9},{name:"黑龙江",id:10},{name:"内蒙古",id:11},{name:"江苏",id:12},{name:"山东",id:13},{name:"安徽",id:14},{name:"浙江",id:15},{name:"福建",id:16},{name:"湖北",id:17},{name:"湖南",id:18},{name:"广东",id:19},{name:"广西",id:20},{name:"江西",id:21},{name:"四川",id:22},{name:"海南",id:23},{name:"贵州",id:24},{name:"云南",id:25},{name:"西藏",id:26},{name:"陕西",id:27},{name:"甘肃",id:28},{name:"青海",id:29},{name:"宁夏",id:30},{name:"新疆",id:31},{name:"台湾",id:32},{name:"钓鱼岛",id:84},{name:"港澳地区",id:52993},{name:"海外",id:53283}],o={},u={},p={},m=!0;exports.getProvinceList=function(e){n(function(t,i){for(var n=[],r=[],s=i.length-1;s>=0;s--){var d=i[s];(53283!=d.id||m)&&(n.splice(0,0,d.id),r.splice(0,0,d.name))}e(t,{idList:n,nameList:r})})},exports.getCityList=function(e,t){o.hasOwnProperty(e)?t(null,o[e]):r(e,function(i,n){var r=i||!n||-1==n.errCode;r&&(n={});var s=[],d=[],a=[],m=[],l=[],c=[];for(var f in n){var h=n[f];if("string"==typeof h)53283!=e?(s.push(~~f),d.push(h)):c.push(~~f+"_"+h);else{53283!=e?(s.push(~~f),d.push(h[0])):c.push(~~f+"_"+h[0]);var v=[],g=[],L=h[1];for(var y in L){var j=L[y];if(v.push(~~y),"string"==typeof j)g.push(j);else{g.push(j[0]);var x=[],w=[],_=j[1];for(var q in _)x.push(~~q),w.push(_[q]);p[y]={idList:x,nameList:w}}}u[f]={idList:v,nameList:g}}}var P=void 0;if(53283!=e)P={idList:s,nameList:d};else{if(c.length)try{c[0].split("_").length>4&&(c=c.sort(function(e,t){var i=e.split("_"),n=t.split("_");return n[4]<i[4]?1:n[4]>i[4]?-1:0}))}catch(e){console.error(e)}finally{c.forEach(function(e){var t=e.split("_");s.push(~~t[0]),d.push(t[1]),a.push(t[2]),m.push(t[3]),t.length>4&&t[4]&&l.push(t[4])})}P={idList:s,nameList:d,areaCodeList:a,nameCodeList:m},l.length==m.length&&(P.initialList=l)}r||(o[e]=P),t(i,P)})},exports.getDistrictList=function(e,t,n){u.hasOwnProperty(t)?n(null,u[t]):n(null,i([]))},exports.getTownList=function(e,t,n,r){0!=n&&p.hasOwnProperty(n)?r(null,p[n]):r(null,i([]))},exports.getUserDefaultDeliveryAddress=function(e){var t="https://wq.jd.com/deal/recvaddr/getrecvaddrV3?r="+Math.round(2147483647*Math.random())+"&adid=0&reg=1&type=1";s.get(t,{},{success:function(t){0==t.retCode&&t.jdaddrid&&t.jdaddrname&&require("../user_info.js").updateAddress({jdaddrid:t.jdaddrid,jdaddrname:t.jdaddrname}),"function"==typeof e&&e(t.retCode||0,t)},fail:function(t){"function"==typeof e&&e(-1,t)}})},exports.setDisplayHwAddr=function(e){m=e},exports.setAddr2Redis=function(e,t){var i={url:"https://wq.jd.com/deal/recvaddr/SetRedis",data:{key:"wq_addr",value:e}};return t&&Object.assign(i,{ump:t}),d.get(i).then(function(e){var t=e?e.body:"",i=t&&0==t.errCode;return Promise.resolve(i)},function(e){return Promise.resolve(!1)})}; 
 			}); 
		define("common/address_picker/address_picker.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=void 0;var e=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(require("../address_api/address_api.js")),t=function(){return{_addrData:{align:"",showHwAddr:!0,entries:[{idList:[],range:[],selected:-1,pickerVal:0,name:""},{idList:[],range:[],areaCodeList:[],nameCodeList:[],selected:-1,pickerVal:0,name:""},{idList:[],range:[],selected:-1,pickerVal:0,name:""},{idList:[],range:[],selected:-1,pickerVal:0,name:""}]},onLoad:function(e){var t=this;this._resetPicker(0,function(){t._realOnLoad&&t._realOnLoad(e)})},getAddrData:function(){var e={idList:[],nameList:[],complete:!0};return this._addrData.entries.forEach(function(t,a){-1!=t.selected&&(e.idList.push(t.idList[t.selected]),e.nameList.push(t.range[t.selected]),1==a&&(e.areaCode=t.areaCodeList[t.selected]||"",e.nameCode=t.nameCodeList[t.selected]||"")),-1==t.selected&&t.range.length>0&&(e.complete=!1)}),e},setAddrData:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._addrData.showHwAddr=void 0===a.showHwAddr||a.showHwAddr;var d=function(a,d){var i=t._addrData.entries[a],r=~~e[a];return i.idList=d.idList,i.range=d.nameList,1==a&&(i.areaCodeList=d.areaCodeList||[],i.nameCodeList=d.nameCodeList||[]),r?(i.selected=d.idList.indexOf(r),i.pickerVal=i.selected,i.name=d.nameList[i.selected]):(i.selected=-1,i.pickerVal=0,i.name="-- 请选择 --"),t._syncUI(),!!r};this._getData(0).then(function(e){if(e&&d(0,e))return t._getData(1)}).then(function(e){if(e&&d(1,e))return t._getData(2)}).then(function(e){if(e&&d(2,e))return t._getData(3)}).then(function(e){e&&d(3,e),t.onAddrChange(t.getAddrData(),"setData")})},resetAddrData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._addrData.showHwAddr=void 0===e.showHwAddr||e.showHwAddr,this._resetPicker(0)},onAddrChange:function(e,t){console.log("###### 地址选择器-onAddrChange（方法未覆盖！）",e,t)},_getData:function(t){for(var a=this,d=["getProvinceList","getCityList","getDistrictList","getTownList"],i=[],r=0;r<t;r++){var n=this._addrData.entries[r];i.push(n.idList[n.selected])}return e.setDisplayHwAddr(this._addrData.showHwAddr),new Promise(function(r,n){i.push(function(e,i){console.log("###### 地址选择器-",d[t],e,i),e?n(e):(i=a.preHandleAddrPickerData&&a.preHandleAddrPickerData({entries:a._addrData.entries,data:i,level:t})||i,r(i))}),e[d[t]].apply(e,i)})},_resetPicker:function(e,t){var a=this;this._getData(e).then(function(d){var i=a._addrData.entries[e];i.idList=d.idList,i.range=d.nameList,1==e&&(i.areaCodeList=d.areaCodeList||[],i.nameCodeList=d.nameCodeList||[]),i.selected=-1,i.pickerVal=0,i.name="-- 请选择 --";for(var r=e+1;r<a._addrData.entries.length;r++){var n=a._addrData.entries[r];n.idList=[],n.range=[],1==r&&(n.areaCodeList=[],n.nameCodeList=[]),n.selected=-1,n.pickerVal=0,n.name=""}t&&t(),a._syncUI(),a.onAddrChange(a.getAddrData(),"picker")},function(e){t&&t(e)})},_syncUI:function(){this.setData({addrPicker:this._addrData})},_pickerDidChange:function(e){var t=+e.target.dataset.level,a=this._addrData.entries[t],d=e.detail.value;(d="null"==d?a.pickerVal:+d)!=a.selected&&(a.selected=d,a.pickerVal=d,a.name=a.range[d],this._syncUI(),t+1<this._addrData.entries.length?this._resetPicker(t+1):this.onAddrChange(this.getAddrData(),"picker"))}}};exports.init=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=t();a.align&&(d._addrData.align=a.align),e.data=e.data||{},e.data.addrPicker=d._addrData,e._addrData=d._addrData,e._realOnLoad=e.onLoad,Object.keys(d).forEach(function(t){"function"!=typeof d[t]||"onAddrChange"==t&&e[t]||(e[t]=d[t])})}; 
 			}); 
		define("common/base64/base64.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";exports.base64encode=function(r){var t,a,o,h,c,d;for(o=r.length,a=0,t="";a<o;){if(h=255&r.charCodeAt(a++),a==o){t+=e.charAt(h>>2),t+=e.charAt((3&h)<<4),t+="==";break}if(c=r.charCodeAt(a++),a==o){t+=e.charAt(h>>2),t+=e.charAt((3&h)<<4|(240&c)>>4),t+=e.charAt((15&c)<<2),t+="=";break}d=r.charCodeAt(a++),t+=e.charAt(h>>2),t+=e.charAt((3&h)<<4|(240&c)>>4),t+=e.charAt((15&c)<<2|(192&d)>>6),t+=e.charAt(63&d)}return t},exports.base64decode=function(e){var t,a,o,h,c,d,i;for(d=e.length,c=0,i="";c<d;){do{t=r[255&e.charCodeAt(c++)]}while(c<d&&-1==t);if(-1==t)break;do{a=r[255&e.charCodeAt(c++)]}while(c<d&&-1==a);if(-1==a)break;i+=String.fromCharCode(t<<2|(48&a)>>4);do{if(61==(o=255&e.charCodeAt(c++)))return i;o=r[o]}while(c<d&&-1==o);if(-1==o)break;i+=String.fromCharCode((15&a)<<4|(60&o)>>2);do{if(61==(h=255&e.charCodeAt(c++)))return i;h=r[h]}while(c<d&&-1==h);if(-1==h)break;i+=String.fromCharCode((3&o)<<6|h)}return i}; 
 			}); 
		define("common/biz.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=[];e.length>0;)t.push(e.splice(0,10));return t.forEach(function(e){r.push(new Promise(function(t,r){y.request.get("https://wq.jd.com/activeapi/queryjdshopfreecouponstatus",{rolekeys:e.join("|"),_t:new Date}).then(function(e){var o=e.body,n=(e.header,o.errorCode),a=o.errMsg,i=o.data;return 0==n?t({code:n,msg:a,data:i}):r({code:n,msg:a,data:i})}).catch(function(e){e.code,e.message;return r({msg:"网络错误"})})}))}),Promise.all(r).then(function(e){var t={};return e.forEach(function(e){t=Object.assign(t,e.data)}),t})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0==e.length)return console.log("activeId为空"),Promise.resolve(null);var t={},r=[],o=[];e.forEach(function(e){e in t||!e||(r.push(e),t[e]=1)});for(var n=Math.min(r.length,30),a=Math.ceil(r.length/30),i=0;i<a;i++){var s=r.splice(0,n);o.push(y.request.get("https://wq.jd.com/active/queryprizesstatuslist",{activelist:s.join(",")}))}return new Promise(function(e,t){Promise.all(o).then(function(r){var o={};r.forEach(function(r){0==r.body.retcode?(r.body.result.forEach(function(e){o[e.active]=e,e._prizes={},e.prizes.forEach(function(t){e._prizes["level_"+t.Level]=t}),delete e.active}),e(o)):t({message:"获取优惠券信息失败",from:"queryprizesstatuslist"})})}).catch(function(e){t(e)})})}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0==e.length)return console.log("activelist为空"),Promise.resolve(null);var t={},r=[],o=[];e.forEach(function(e){e in t||!e||(r.push(e),t[e]=1)});for(var n=Math.min(r.length,20),a=Math.ceil(r.length/20),i=0;i<a;i++){var s=r.splice(0,n);o.push(y.request.get("https://wq.jd.com/active/querybingolist",{activelist:s.join(",")}))}var c=function e(t,r){Promise.all(o).then(function(o){var n={};o.forEach(function(o){0==o.body.errorCode?(o.body.result.forEach(function(e){n[e.active]=e,e._bingos={},e.bingos.forEach(function(t){e._bingos["level_"+t.level]=t}),delete e.active}),t(n)):2==o.body.errorCode?C.querybingolist||(C.querybingolist=1,g.doLogin().then(function(){e(t,r)}).catch(function(e){r({message:"登录失败",from:"querybingolist"})})):r(o.body)})}).catch(function(e){r(e)})};return g.getLoginPromise().then(function(){return new Promise(c)})}function a(e){return i(e)}function i(e){return new Promise(function(r,o){var n=[e.skuId,"",e.buyNum||1,e.skuId,"1,0,0"],a=u().jdaddrid.split("_").slice(0,3).join("-"),i={scene:2,reg:1,type:0,commlist:n.join(","),areaid:a,t:Math.random()};b.get("3c_shop","").then(function(e){var n=e.id||"";n&&(i.shopid=n),y.request.get("https://wq.jd.com/deal/mshopcart/addcmdy",i).then(function(e){var t=e.body;e.heder;r(t)}).catch(function(e){var r,n=e.code,a=(e.message,r={},t(r,""+E.default.RET_HTTP_RESPONSE_ERROR,E.default.Text_RET_HTTP_RESPONSE_ERROR),t(r,""+E.default.RET_HTTP_NETWORK_ERROR,E.default.Text_RET_HTTP_NETWORK_ERROR),t(r,""+E.default.RET_WS_CONNECT_ERROR,E.default.Text_RET_WS_CONNECT_ERROR),t(r,""+E.default.RET_WS_REQUEST_TIMEOUT,E.default.Text_RET_WS_REQUEST_TIMEOUT),r);o(x(a[n]||"Network Error",n))})})}).then(function(t){var r=t.errId,o=void 0;if("0"===r){var n=1*t.cart.mainSkuNum;return T.setUnpl(t.unplInfo),Promise.resolve(n)}if("8968"===r)o="商品数量最大超过200";else if("8969"===r)o="添加商品失败，已超出购物车最大容量！";else{if("13"===r)return g.doLogin().then(function(){return a(e)}).catch(function(e,t){return Promise.reject(x(t,e))});o="添加失败，请稍后再试"}if(o)return Promise.reject(x(o,r))})}function s(e){return c(e)}function c(e){return new Promise(function(r,o){var n=[e.skuId,"",e.buyNum||1,e.skuId,"1,0,0"],a=u().jdaddrid.split("_").slice(0,3).join("-"),i={scene:2,reg:1,type:0,commlist:n.join(","),areaid:a,t:Math.random()};b.get("3c_shop","").then(function(e){var n=e.id||"";n&&(i.shopid=n),y.request.get("https://wqdeal.jd.com/deal/mshopcart/addcmdy",i).then(function(e){var t=e.body;e.heder;r(t)}).catch(function(e){var r,n=e.code,a=(e.message,r={},t(r,""+E.default.RET_HTTP_RESPONSE_ERROR,E.default.Text_RET_HTTP_RESPONSE_ERROR),t(r,""+E.default.RET_HTTP_NETWORK_ERROR,E.default.Text_RET_HTTP_NETWORK_ERROR),t(r,""+E.default.RET_WS_CONNECT_ERROR,E.default.Text_RET_WS_CONNECT_ERROR),t(r,""+E.default.RET_WS_REQUEST_TIMEOUT,E.default.Text_RET_WS_REQUEST_TIMEOUT),r);o(x(a[n]||"Network Error",n))})})}).then(function(t){var r=t.errId,o=void 0;if("0"===r){var n=1*t.cart.mainSkuNum;return T.setUnpl(t.unplInfo),Promise.resolve(n)}if("8968"===r)o="商品数量最大超过200";else if("8969"===r)o="添加商品失败，已超出购物车最大容量！";else{if("13"===r)return g.doLogin().then(function(){return s(e)}).catch(function(e,t){return Promise.reject(x(t,e))});o="添加失败，请稍后再试"}if(o)return Promise.reject(x(o,r))})}function u(){return _.getUserAddressDes().length>0&&_.getUserAddressID().length>0?{jdaddrname:_.getUserAddressDes(),jdaddrid:_.getUserAddressID()}:{jdaddrid:"1_72_4137_0",jdaddrname:"北京_朝阳区_管庄_"}}function d(e){function t(){var t={url:"https://wq.jd.com/fav/shop/AddShopFav",data:{venderId:e,callback:"addShopFav",t:Math.random()+""}};return new Promise(function(r,o){g.getLoginPromise().then(function(n){y.request.get(t).then(function(t){var n=t.body;if(0==n.iRet||2==n.iRet)r(!0);else if(9999==n.iRet)return g.doLogin().then(function(){d(e).then(r,o)}).catch(function(e){o(e)});o(!1)}).catch(function(e){var t=e.code,r=e.message;o({code:t,message:r})})}).catch(function(e){console.log(e)})})}return g.isLogin()?t():g.afterLogin(t)}function l(e,t){return new Promise(function(r,o){g.getLoginPromise().then(function(){(0,y.request)({url:"https://wq.jd.com/user/info/AddFormIdInfo",data:{formId:e,appId:getApp().appId,businessType:t||"1",callback:"jsonpCBKB"}}).then(function(e){r(e.body&&e.body.errcode)}).catch(function(e){var t=e.code,r=e.message;return o({code:t,message:r})})}).catch(function(e,t){return o({errcode:e,errMsg:t})})})}function f(e,t){return new Promise(function(r,o){l(e,t).then(function(n){0===n&&r(),13===n&&g.doLogin().then(function(){f(e,t).then(r,o)}).catch(function(e,t){o({errcode:e,errMsg:t})})}).catch(function(e,t){o({errcode:e,errMsg:t})})})}function p(e){if(0==e.length)return"";var t=e.replace(/&amp;/g,"&");return t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'),t=t.replace(/&hellip;/g,"..."),t=t.replace(/&ldquo;/g,'"'),t=t.replace(/&rdquo;/g,'"'),t=t.replace(/&cap;/g,"∩")}function m(e,t){var r="";switch(t=t||'"Network Error"',e){case E.default.RET_HTTP_RESPONSE_ERROR:r=E.default.Text_RET_HTTP_RESPONSE_ERROR;break;case E.default.RET_WS_CONNECT_ERROR:r=E.default.Text_RET_WS_CONNECT_ERROR;break;case E.default.RET_WS_REQUEST_TIMEOUT:r=E.default.Text_RET_WS_REQUEST_TIMEOUT;break;default:r=t}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setWxappSubscriBeauth=exports.notifyCartRefresh=exports.setFormIdWithSession=exports.setFormId=exports.foldComment=exports.getComment=exports.getAddressList=exports.shopDelFav=exports.shopCheckFav=exports.shopAddFav=exports.drawCoupon=exports.queryActiveCouponStatus=exports.getMultiPPMS=exports.getPPMS=exports.getCoupon=exports.queryCouponStatus=exports.genErrMsg=exports.URL_TYPE=exports.couponAddCart=exports.addCart=exports.parseUrl=void 0;var h=function(){function e(e,t){var r=[],o=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=e(require("./login/login.js")),v=e(require("../models/coupon/coupon_model.js")),_=e(require("./user_info.js")),E=function(e){return e&&e.__esModule?e:{default:e}}(require("./http_constant.js")),R=e(require("./utils.js")),T=e(require("./pay_util/payUtil.js")),y=require("./request/request"),b=e(require("./localStorage.js")),P=e(require("./fe_report/usability.js")),j=require("./fe_helper.js"),S=require("./cookie-v2/cookie.js"),x=R.genErrMsg,C={},q={ANCHOR:"I",SEARCH:"CAN",SHOP:"DO",ITEM:"ALL",PROMOTE:"THINGS"};exports.parseUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=void 0,r={},o={ptag:/[\?&#]ptag=([\d\.]+)/i,sku:/[\?&#]sku=([\d\.]+)/i,anchor:/^#([^\?&=#]*)/,search:/(?:\.com)?\/search\/searchn\?.*?key=([^&#]+)/i,shop:/(?:\.com)?\/mshop\/gethomepage\?.*?venderId=(\d+)/i,item:/(?:\.com)?\/item\/view\?.*?sku=(\d+)/i};if(e.match(o.anchor))t=e.match(o.anchor),r={type:q.ANCHOR,id:t[1]};else if(e.match(o.search)){var n=(t=e.match(o.search))[1];try{n=decodeURIComponent(n)}catch(e){console.error(e)}r={type:q.SEARCH,keywords:n}}else e.match(o.shop)?(t=e.match(o.shop),r={type:q.SHOP,vid:t[1]}):e.match(o.item)&&(t=e.match(o.item),r={type:q.ITEM,sku:t[1]});return e.match(o.ptag)&&(t=e.match(o.ptag),r.ptag=t[1]),e.match(o.sku)&&(t=e.match(o.sku),r.sku=t[1]),r},exports.addCart=a,exports.couponAddCart=s,exports.URL_TYPE=q,exports.genErrMsg=x,exports.queryCouponStatus=function(e,t){if(e.length){var o=e.filter(function(e){return e.roleid&&e.key}).map(function(e){return e.roleid+":"+e.key});g.afterLogin(r,o).then(function(r){e.forEach(function(e){var t=r[e.roleid];if(!t)return!1;999==t.resultCode?e.status=0:14==t.resultCode||15==t.resultCode?e.status=1:e.status=2}),t(null,e)}).catch(function(r){var o={errId:r.code,errMsg:r.msg};1==r.code&&(o.errId=-1001,o.errMsg="未登录或登录失败"),t(o,e)})}else t(null,[])},exports.getCoupon=function(e,t){return new Promise(function(r,o){v.getcoupon(e,t,function(e,t){e?o(e):r(t)})})},exports.getPPMS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.expire,o=void 0===r?"":r,n=t.v,a="https://wq.360buyimg.com/data/ppms/js/ppms.page"+(void 0===n||n?"v":"")+e+".jsonp",i=o?"ppms_"+e:"";return new Promise(function(e,t){y.request.get({url:a,expire:o,cacheKey:i}).then(function(t){var r=t.body;e(r.data)},function(e){t(e)})})},exports.getMultiPPMS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e)||!e.length)return Promise.resolve({});var t={},r="https://wqs.jd.com/j/="+e.map(function(e){var r="/data/ppms/js/ppms.pagev"+e+".json";return t[r]=e,r}).join(",");return new Promise(function(o,n){y.request.get({url:r}).then(function(n){var a={};(n.body.files||[]).forEach(function(e){var r=t[e.filename];r&&(a[r]=e.content&&e.content.data||[])});var i=[];e.forEach(function(e){a[e]||(a[e]=[],i.push(e))}),i.length?P.umpBiz({bizid:777,operation:1,result:404,message:"msg="+i.join("+")+"&url="+r.replace(/,/g,"+")}):P.umpBiz({bizid:777,operation:1,result:0,message:""}),o(a)},function(e){var t=e.code,o=e.detail;P.umpBiz({bizid:777,operation:1,result:~~t,message:"msg="+o+"&url="+r.replace(/,/g,"+")}),n(e)})})},exports.queryActiveCouponStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach(function(e){t.push(e.activeId)}),new Promise(function(r,a){Promise.all([o(t),n(t)]).then(function(t){var o=h(t,2),n=o[0],a=o[1];e.forEach(function(e){var t=n[e.activeId]._prizes["level_"+e.activeLevel],r=R.canGetActiveCoupon(t)?0:2;r=a[e.activeId]._bingos["level_"+e.activeLevel]?1:r,e.status=r}),r(e)}).catch(function(e){a(e)})})},exports.drawCoupon=function(e,t){var r={ext:"hj:x",active:e,level:t,t:(new Date).getTime()},o=function e(t,o){y.request.get({url:"https://wq.jd.com/active/active_draw",data:r}).then(function(r){var n=r.body;r.header,0==n.ret?t(n):2==n.ret?C.active_draw?o({message:"登录失败",form:"active_draw"}):(C.active_draw=1,g.doLogin().then(function(){e(t,o)}).catch(function(e){o({message:"登录失败",form:"active_draw"})})):t(n)}).catch(function(e){o(e)})};return g.getLoginPromise().then(function(){return new Promise(o)})},exports.shopAddFav=d,exports.shopCheckFav=function(e){if(!e||"0"==e)return Promise.resolve(!1);var t={url:"https://wq.jd.com/fav/shop/QueryOneShopFav",data:{venderId:e,callback:"checkFavShop",t:Math.random()+""}};return y.request.get(t).then(function(e){var t=e.body;return 0==t.iRet&&1==t.state}).catch(function(e){var t=e.code,r=e.message;return Promise.reject({code:t,message:r})})},exports.shopDelFav=function(e){var t={url:"https://wq.jd.com/fav/shop/DelShopFav",data:{venderId:e,callback:"delShopFav",t:Math.random()+""}};return y.request.get(t).then(function(e){var t=e.body;return 0!=t.iRet&&20!=t.iRet}).catch(function(e){var t=e.code,r=e.message;return Promise.reject({code:t,message:r})})},exports.getAddressList=function(){var e={url:"https://wq.jd.com/deal/recvaddr/getrecvaddrlistV3",data:{callback:"detailAddressCallback"},ump:{bizId:760,opId:11}};return new Promise(function(t,r){(0,y.request)(e).then(function(e){var o=e.body;0!=o.errCode?r({code:o.errCode,message:o.msg}):t(o)}).catch(function(e){Promise.reject(e)})})},exports.getComment=function(e,t,r,o,n){return new Promise(function(a,i){var s={sku:r,page:t+1,pagesize:10,sorttype:9==e?6:5};void 0!==e&&9!=e&&Object.assign(s,{score:e}),o&&Object.assign(s,{rid:o}),n&&Object.assign(s,{skucomment:1});var c={url:"https://wq.jd.com/commodity/comment/getcommentlist",data:s};y.request.get(c).then(function(e){var t=e.body;if("0"===t.errcode){var r={};if((t=t.result).productCommentSummary&&t.comments){r.productCommentSummary=t.productCommentSummary;for(var o=[],n=0,s=t.comments.length;n<s;++n){var c=t.comments[n];c.content=p(c.content),o.push(c)}r.comments=o,t.hotCommentTagStatistics&&(r.hotCommentTagStatistics=t.hotCommentTagStatistics),a(r)}else console.log("commentCallback Error:"+t),i("评论拉取失败")}else console.log("commentCallback Error:"+t),i("评论拉取失败")}).catch(function(e){var t=m(e.code,e.message);i(t)})})},exports.foldComment=function(e,t,r){var o={url:"https://wq.jd.com/commodity/comment/getfoldcommentlist",data:{sku:r,page:t+1,pagesize:10,score:e}};return y.request.get(o).then(function(e){return e.body.result}).catch(function(e){var t=m(e.code,e.message);return Promise.reject(t)})},exports.setFormId=l,exports.setFormIdWithSession=f,exports.notifyCartRefresh=function(){var e=(0,j.getServerTime)();(0,S.setCookie)({data:{cartLastOpTime:(e/1e3).toFixed()},defaultExpires:!0})},exports.setWxappSubscriBeauth=function(e,t,r){return new Promise(function(o,n){g.getLoginPromise().then(function(){(0,y.request)({url:"https://wq.jd.com/bases/yuyue/wxappsubscribeauth",data:{action:e,activeid:t,type:r||"1",callback:"jsonpCBKB"}}).then(function(e){o(e.body&&e.body.retCode)}).catch(function(e){var t=e.code,r=e.message;return n({code:t,message:r})})}).catch(function(e,t){return n({errcode:e,errMsg:t})})})}; 
 			}); 
		define("common/buildVersion.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.VERSION_BUILD_TIME=20200531,exports.WXAPP_TYPE="1"; 
 			}); 
		define("common/canvas.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,o){var i=o.content,r=void 0===i?"":i,a=o.left,d=void 0===a?0:a,n=o.top,l=void 0===n?0:n,v=o.color,f=void 0===v?"black":v,c=o.fontSize,s=void 0===c?20:c,u=o.textDecoration,h=void 0===u?"":u;"underline"===h?t(e,{top:l+2,left:d-1,width:e.measureText(r).width+3,height:1,background:f}):"line-through"===h&&t(e,{top:l-.4*s,left:d-1,width:e.measureText(r).width+3,height:1,background:f})}function t(e,t){var o=t.top,i=void 0===o?0:o,r=t.left,a=void 0===r?0:r,d=t.width,n=void 0===d?0:d,l=t.height,v=void 0===l?0:l,f=t.background,c=void 0===f?"#ffffff":f;e.save(),e.setFillStyle(c),e.fillRect(a,i,n,v),e.fill(),e.restore()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawText=function(t,o){var i=o.width,r=void 0===i?750:i,a=o.content,d=void 0===a?"":a,n=o.top,l=void 0===n?0:n,v=o.left,f=void 0===v?0:v,c=o.color,s=void 0===c?"black":c,u=o.fontSize,h=void 0===u?20:u,T=o.fontWeight,x=void 0===T?"normal":T,g=o.fontFamily,p=void 0===g?'"Helvetica Neue", Helvetica, Arial, sans-serif':g,w=o.lineHeight,m=void 0===w?30:w,b=o.textIndent,S=void 0===b?0:b,k=o.textAlign,q=void 0===k?"left":k,C=o.textDecoration,z=void 0===C?"none":C,D=o.baseline,I=void 0===D?"normal":D,P=o.maxLineNum,y=void 0===P?2:P,W=o.noBreakWord,R=void 0!==W&&W,A=0;if(t.save(),t.beginPath(),t.font=x+" "+h+"px/"+m+"px "+p,t.setTextBaseline(I),t.setFillStyle(s),t.setTextAlign(q),R)t.fillText(d,f+S,l),A=t.measureText(d).width,e(t,{content:d,left:f,top:l,color:s,fontSize:h,textDecoration:z});else{for(var F="",H=l,L=1,M=0;M<d.length;M++){F+=d[M];var B=t.measureText(F).width;if(1===L&&(B+=S),B>r){var N=1===L?S+f:f;if(L===y&&M!==d.length){F=F.substring(0,F.length-2)+"...",t.fillText(F,N,H),e(t,{content:F,left:N,top:H,color:s,fontSize:h,textDecoration:z}),F="";break}var _=F.substr(-1,1);F=F.substring(0,F.length-1),t.fillText(F,N,H),e(t,{content:F,left:N,top:H,color:s,fontSize:h,textDecoration:z}),F=_,H+=m,L++}}var j=1===L?S+f:f;t.fillText(F,j,H),e(t,{content:F,left:j,top:H,color:s,fontSize:h,textDecoration:z})}return t.restore(),A},exports.drawTextLine=e,exports.drawRect=t,exports.drawRoundRect=function(e,t){var o=t.top,i=void 0===o?0:o,r=t.left,a=void 0===r?0:r,d=t.width,n=void 0===d?0:d,l=t.height,v=void 0===l?0:l,f=t.color,c=void 0===f?"#333333":f,s=t.lineWidth,u=void 0===s?1:s,h=t.radius,T=void 0===h?0:h;e.save(),e.beginPath(),e.moveTo(a+T,i),e.lineTo(a+n-T,i),e.quadraticCurveTo(a+n,i,a+n,i+T),e.lineTo(a+n,i+v-T),e.quadraticCurveTo(a+n,i+v,a+n-T,i+v),e.lineTo(a+T,i+v),e.quadraticCurveTo(a,i+v,a,i+v-T),e.lineTo(a,i+T),e.quadraticCurveTo(a,i,a+T,i),e.closePath(),e.setLineWidth(u),e.setStrokeStyle(c),e.stroke(),e.restore()},exports.drawImage=function(e,t){var o=t.url,i=t.top,r=void 0===i?0:i,a=t.left,d=void 0===a?0:a,n=t.width,l=void 0===n?200:n,v=t.height,f=void 0===v?200:v,c=t.radius,s=void 0===c?0:c,u=t.fit,h=void 0!==u&&u,T=t.imgWidth,x=void 0===T?750:T;if(e.save(),s)if(e.beginPath(),e.moveTo(d,r+s),e.lineTo(d,r+f-s),e.quadraticCurveTo(d,r+f,d+s,r+f),e.lineTo(d+l-s,r+f),e.quadraticCurveTo(d+l,r+f,d+l,r+f-s),e.lineTo(d+l,r+s),e.quadraticCurveTo(d+l,r,d+l-s,r),e.lineTo(d+s,r),e.quadraticCurveTo(d,r,d,r+s),e.closePath(),e.clip(),h){var g=Math.floor(246*x/420);e.drawImage(o,d,r,x,g,d,r,l,f)}else e.drawImage(o,d,r,l,f);else if(h){var p=Math.floor(246*x/420);e.drawImage(o,d,r,x,p,d,r,l,f)}else e.drawImage(o,d,r,l,f);e.restore()}; 
 			}); 
		define("common/canvas2d.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,e){var o=e.top,i=void 0===o?0:o,r=e.left,n=void 0===r?0:r,a=e.width,d=void 0===a?0:a,l=e.height,c=void 0===l?0:l,f=e.background,s=void 0===f?"#ffffff":f;t.save(),t.fillStyle=s,t.fillRect(n,i,d,c),t.restore()}function e(t,e){var i=e.width,r=void 0===i?750:i,n=e.content,a=void 0===n?"":n,d=e.top,l=void 0===d?0:d,c=e.left,f=void 0===c?0:c,s=e.color,u=void 0===s?"black":s,v=e.fontSize,h=void 0===v?20:v,x=e.fontWeight,w=void 0===x?"normal":x,p=e.fontFamily,T=void 0===p?"sans-serif":p,g=e.lineHeight,S=void 0===g?30:g,b=e.textIndent,m=void 0===b?0:b,y=e.textAlign,P=void 0===y?"left":y,R=e.textDecoration,I=void 0===R?"none":R,k=e.baseline,M=void 0===k?"alphabetic":k,z=e.maxLineNum,D=void 0===z?2:z,q=e.noBreakWord,C=void 0!==q&&q,L=0;if(t.save(),t.beginPath(),t.font=w+" "+h+"px/"+S+"px "+T,t.textBaseline=M,t.fillStyle=u,t.textAlign=P,C)t.fillText(a,f+m,l),L=t.measureText(a).width,o(t,{content:a,left:f,top:l,color:u,fontSize:h,textDecoration:I});else{for(var W="",_=l,B=1,O=0;O<a.length;O++){W+=a[O];var j=t.measureText(W).width;if(1===B&&(j+=m),j>r){var A=1===B?m+f:f;if(B===D&&O!==a.length){W=W.substring(0,W.length-2)+"...",t.fillText(W,A,_),o(t,{content:W,left:A,top:_,color:u,fontSize:h,textDecoration:I}),W="";break}var F=W.substr(-1,1);W=W.substring(0,W.length-1),t.fillText(W,A,_),o(t,{content:W,left:A,top:_,color:u,fontSize:h,textDecoration:I}),W=F,_+=S,B++}}var H=1===B?m+f:f;t.fillText(W,H,_),o(t,{content:W,left:H,top:_,color:u,fontSize:h,textDecoration:I})}return t.restore(),L}function o(e,o){var i=o.content,r=void 0===i?"":i,n=o.left,a=void 0===n?0:n,d=o.top,l=void 0===d?0:d,c=o.color,f=void 0===c?"black":c,s=o.fontSize,u=void 0===s?20:s,v=o.textDecoration,h=void 0===v?"":v;"underline"===h?t(e,{top:l+2,left:a-1,width:e.measureText(r).width+3,height:1,background:f}):"line-through"===h&&t(e,{top:l-.4*u,left:a-1,width:e.measureText(r).width+3,height:1,background:f})}function i(t,e){var o=e.top,i=void 0===o?0:o,r=e.left,n=void 0===r?0:r,a=e.width,d=void 0===a?0:a,l=e.height,c=void 0===l?0:l,f=e.color,s=void 0===f?"#333333":f,u=e.background,v=void 0===u?"#ffffff":u,h=e.lineWidth,x=void 0===h?1:h,w=e.fill,p=void 0!==w&&w,T=e.shadow,g=void 0===T?[]:T,S=e.radius,b=void 0===S?[0,0,0,0]:S;t.save(),t.beginPath(),t.arc(n+b[0],i+b[0],b[0],Math.PI,1.5*Math.PI),t.moveTo(n+b[0],i),t.lineTo(n+d-b[1],i),t.arc(n+d-b[1],i+b[1],b[1],1.5*Math.PI,2*Math.PI),t.lineTo(n+d,i+c-b[2]),t.arc(n+d-b[2],i+c-b[2],b[2],0,.5*Math.PI),t.lineTo(n+b[3],i+c),t.arc(n+b[3],i+c-b[3],b[3],.5*Math.PI,Math.PI),t.lineTo(n,i+b[0]),g.length>0&&(t.shadowOffsetX=g[0],t.shadowOffsetY=g[1],t.shadowBlur=g[2],t.shadowColor=g[3]),p?(t.fillStyle=v,t.fill()):(t.lineWidth=x,t.strokeStyle=s,t.stroke()),t.closePath(),t.clip(),t.restore()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawImage=exports.drawRoundRectSync=exports.drawRoundRect=exports.drawRectSync=exports.drawRect=exports.drawTextLineSync=exports.drawTextLine=exports.drawTextSync=exports.drawText=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(require("../libs/promise.min.js"));exports.drawText=function(t,o){return new r.default(function(i,r){i(e(t,o))})},exports.drawTextSync=e,exports.drawTextLine=function(t,e){return new r.default(function(i,r){o(t,e),i()})},exports.drawTextLineSync=o,exports.drawRect=function(e,o){return new r.default(function(i,r){t(e,o),i()})},exports.drawRectSync=t,exports.drawRoundRect=function(t,e){return new r.default(function(o,r){i(t,e),o()})},exports.drawRoundRectSync=i,exports.drawImage=function(t,e,o){var i=o.url,n=o.top,a=void 0===n?0:n,d=o.left,l=void 0===d?0:d,c=o.width,f=void 0===c?200:c,s=o.height,u=void 0===s?200:s,v=o.radius,h=void 0===v?[0,0,0,0]:v;return new r.default(function(o,r){t.save(),t.beginPath(),t.moveTo(l,a+h[0]),t.lineTo(l,a+u-h[3]),t.quadraticCurveTo(l,a+u,l+h[3],a+u),t.lineTo(l+f-h[2],a+u),t.quadraticCurveTo(l+f,a+u,l+f,a+u-h[2]),t.lineTo(l+f,a+h[1]),t.quadraticCurveTo(l+f,a,l+f-h[1],a),t.lineTo(l+h[0],a),t.quadraticCurveTo(l,a,l,a+h[0]),t.closePath(),t.clip();try{var n=e.createImage();n.onload=function(){t.drawImage(n,l,a,f,u),t.restore(),o()},n.onerror=function(){t.restore(),r()},n.src=i}catch(t){r()}})}; 
 			}); 
		define("common/checkForUpdate.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var t=e.split(".");return 1e4*t[0]+100*t[1]+1*t[2]}function t(){var e="/pages/common/update/index",t={};if(n){if(s)t.system=s;else{if(!d)return;t.sdkVersion=d}try{(0,r.goto)(e,t,{method:"reLaunch"})}catch(o){(0,r.goto)(e,t,{method:"redirectTo"})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){if(n)return t();!1!==n&&wx.getSystemInfo({success:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=r.system||"",a=u.match(/^iOS (\d{1,2})\.\d{1,2}(?:\.\d{1,2})?$/);if(a&&+a[1]<o)return s=u,n=!0,t();var c=r.SDKVersion||"";return/^\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(c)?e(c)<e(i)?(d=c,n=!0,t()):void(n=!1):void 0}})};var r=require("./navigator"),o=9,i="1.7.0",n=void 0,s="",d=""; 
 			}); 
		define("common/commonReq.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.baseRequest=void 0;var i=require("./request/request"),t=e(require("../libs/promise.min")),o=e(require("./wxcontext")),n=require("./base64/base64"),r=function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new t.default(function(t,r){try{var d={appId:e};Object.assign(o,{__jda:window.JD.cookie.get("__jda"),__jdv:window.JD.cookie.get("__jdv"),PPRD_P:window.JD.cookie.get("PPRD_P"),clientid:window.JD.cookie.get("clientid"),unpl:window.JD.cookie.get("unpl"),ua:window.navigator.userAgent});var s=("CB"+(0,n.base64encode)(i+JSON.stringify(o))).slice(0,100).replace(/[+=\/]/g,"");window[s]=function(e){t({body:e})},window.PGJsSdk.color(i,JSON.stringify(o),"{}",JSON.stringify(d),s)}catch(e){r(e)}})};exports.baseRequest=function(e,t,n,d){if(o.default.isXCX)return i.request.get({url:e,data:t});var s=window.JD?window.JD.device.scene:"";return n&&d&&window.PGJsSdk&&window.PGJsSdk.color&&"jdpingou"===s?r(n,d,t):i.request.get({url:e,data:t,dataType:"jsonp"})}; 
 			}); 
		define("common/config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";module.exports={directHosts:[]}; 
 			}); 
		define("common/cookie-v2/cookie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){this.key=e.key,this.value=e.value,this.expires=e.expires||s()}function o(o){p[o.key]=JSON.parse(JSON.stringify(new e(o)))}function t(e){Object.keys(e).forEach(function(t){o(e[t])})}function r(e){if(p[e])return n(e),p[e]}function n(e){i(p[e].expires)&&(console.log("发现过期的key",e),delete p[e],a(p))}function i(e){return"session"!==e&&(new Date(e)<=new Date||void 0)}function a(e,o){v.set("cookies",e).then(function(e){o&&o(null,e)},function(e){console.error("保存cookie出错",e),o&&o(e)})}function c(e){var o=!1;if(Object.keys(e).forEach(function(e){e.match(/\./)&&(o=!0)}),!o)return e;var t={};return Object.keys(e).forEach(function(o){Object.keys(e[o]).forEach(function(r){var n=e[o][r];"Invalid Date"==new Date(n.date)&&console.warn("cookie convert warning--\x3e",o,r,n),t[r]={key:r,expires:n.date,value:n.value}})}),console.log("转换后的新版本cookie",t),t}function s(e){var o=e||31536e6;return new Date((new Date).getTime()+o).toGMTString()}function u(e){function o(e){r=!0,console.error(e)}var t={},r=!1;if(Object.keys(e).forEach(function(r){var n=e[r];if(r.match(/\./))return o("cookie字段名不合法:"+r);if(void 0===n.value)return o("cookie值为undefined:"+r);if(n.decode&&(n.value=decodeURIComponent(n.value)),n.expires||(n.expires=s()),"Invalid Date"==new Date(n.expires))return o("cookie的过期时间格式错误:"+r);n.maxAge&&("number"==typeof n.maxAge||n.maxAge.match(/\d+/))&&(n.expires=s(1e3*n.maxAge));var i={};i.key=r,i.value=n.value,i.expires=new Date(n.expires).toGMTString(),t[r]=i}),!r)return t}function f(e){var o=[];return Object.keys(e).forEach(function(t){o.push(t+"="+encodeURIComponent(e[t].value))}),o.join(";")}function l(e){var o={};return Object.keys(e).forEach(function(t){var r=e[t];if("string"!=typeof r&&"number"!=typeof r)console.warn("setCookie fastFormat error 非法value",r);else{var n={};n.key=t,n.value=r,n.expires=s(),o[t]=n}}),o}function k(e){if(!e||!e.data)return console.error("setCookie 参数错误:没有数据");return(e.defaultExpires?l(e.data):u(e.data))||console.error("setCookie数据错误,数据不合法")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setCookieInHeader=exports.removeCookie=exports.setCookies=exports.setCookie=exports.getCookie=void 0;var v=function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}(require("../localStorage.js")),p=function(){console.info("初始化cookie，应只在启动应用时执行一次");var e;try{e=v.getSync("cookies")}catch(e){console.error("cookie初始化读取失败:",e)}return e&&a(e=c(e),function(e,o){console.log("toLocal",e,o)}),e||{}}(),d={};d.getCookie=function(e){if(!e)return f(p);if("string"==typeof e){var o=r(e);return o?o.value:(console.info("获取的cookie字段不存在或已过期:",e),"")}},d.setCookies=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("[object Object]"===Object.prototype.toString.call(e))return d.setCookie(Object.assign(e,{cb:o}));if(Array.isArray(e)){var r=0;e.forEach(function(e){(e=k(e))&&(t(e),r++)}),r&&a(p,o)}},d.setCookie=function(e){var o=k(e);o&&(t(o),a(p,e.cb))},d.setCookieInHeader=function(e){if(e.header&&e.header["set-cookie"]&&e.header["set-cookie"].length){var o={};e.header["set-cookie"].forEach(function(e){var t=e.split(";"),r={};r.kvs=t.shift();var n=r.kvs.split("=");if(2!=n.length)return console.error("cookie value error ",r.kvs);t.forEach(function(e){return e.match(/^\s*Expires=/i)?r.expires=new Date(e.split("=")[1]):e.match(/^\s*Max-age=/i)?r.maxAge=e.split("=")[1]:void 0}),o[n[0]]={key:n[0],value:n[1],expires:r.expires,maxAge:r.maxAge},["pin","jdpin"].indexOf(n[0])>-1&&(o[n[0]].value=decodeURIComponent(n[1].replace(/%u([A-F0-9]{2})([A-F0-9]{2})/g,"%$1%$2")))}),d.setCookie({data:o,cb:e.cb})}},d.removeCookie=function(e){e.forEach(function(e){delete p[e]}),a(p)};exports.getCookie=d.getCookie,exports.setCookie=d.setCookie,exports.setCookies=d.setCookies,exports.removeCookie=d.removeCookie,exports.setCookieInHeader=d.setCookieInHeader;exports.default=d; 
 			}); 
		define("common/debug.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}Object.defineProperty(exports,"__esModule",{value:!0});var t="~!@#$%^&*-+=|:<>?/".split(""),r=__wxConfig||{},n=0;exports.debug=function(o){var i=e(t[n++%t.length],10);return function(){var e;if(r.debug){var t=new Error,n=new Date,s=n.toTimeString().split(" ")[0]+" "+n.getMilliseconds();console.debug(i+"【"+o+"】["+s+"]: "),(e=console).debug.apply(e,arguments),console.debug(t.stack.split("\n")[2].replace("    at",""))}}}; 
 			}); 
		define("common/errorlog_config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={"wxapp/login":{codeField:"retCode",ignoreCode:["0","100"]},"vipplus/GetPlusVerifyStatusInfo":{codeField:"retcode",ignoreCode:["0","2","4"]},"seckill/show":{codeField:"errCode",ignoreCode:["0"]}};exports.errorLogWhiteList=e; 
 			}); 
		define("common/fe_helper.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.datatime=exports.filterInTime=exports.getUrlParam=exports.getServerTimeAsnyc=exports.getServerTime=exports.isMobile=exports.decode=exports.debounce=exports.throttle=exports.querystring=exports.getImg=void 0;var t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("./utils.js")),r=require("./request/request"),o=e(require("./wxcontext")),s=e(require("../libs/promise.min.js")),i=0;try{r.request.get("https://wq.jd.com/mcoss/servertime/getservertime",{callback:"cb",dataType:o.default.isXCX?"":"jsonp"}).then(function(e){var t=e.body;0==t.errCode&&t.data&&t.data.length&&(i=new Date(t.data[0].serverTime)-Date.now())})}catch(e){console.error(e)}var n=["01","02","03","04","05","06","07","08","09","10","11","12"],a=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],m=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","04","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],u={parseStampToFormat:function(e,t){var r=void 0,o=(r=e?new Date(e):new Date).getFullYear(),s=n[r.getMonth()],i=a[r.getDate()-1],u=m[r.getHours()],c=m[r.getMinutes()],p=m[r.getSeconds()];return t=t||"YYYY/MM/DD/hh/mm/ss",t.replace("YYYY",o).replace("MM",s).replace("DD",i).replace("hh",u).replace("mm",c).replace("ss",p)},getNowDatetime:function(){var e=(new Date).getTime();return this.parseStampToFormat(e)}},c=t.getImg,p=t.querystring,l=t.throttle,g=t.debounce,d=t.decode,x=t.getUrlParam,v=t.isMobile;exports.getImg=c,exports.querystring=p,exports.throttle=l,exports.debounce=g,exports.decode=d,exports.isMobile=v,exports.getServerTime=function(){return Date.now()+i},exports.getServerTimeAsnyc=function(){return new s.default(function(e,t){wx.$.request.get("https://wq.jd.com/mcoss/servertime/getservertime",{callback:"GTSTime"}).then(function(t){var r=t.body;"0"===r.errCode&&e(r.data[0].serverTime)})})},exports.getUrlParam=x,exports.filterInTime=function(e,t){if("[object Array]"!==Object.prototype.toString.call(e))return e;var r={stime:"stime",etime:"etime",now:(new Date).getTime()},o=t||{};for(var s in o)r[s]&&(r[s]=o[s]);var i=[];return e.forEach(function(e){10===String(e[r.stime]).length&&(e[r.stime]=1e3*parseInt(e[r.stime])),10===String(e[r.etime]).length&&(e[r.etime]=1e3*parseInt(e[r.etime]));var t=new Date(e[r.stime]).getTime(),o=new Date(e[r.etime]).getTime();t<r.now&&o>r.now&&i.push(e)}),i},exports.datatime=u; 
 			}); 
		define("common/fe_report/speed.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(){d||wx.getSystemInfo({success:function(e){d=e.platform},fail:function(e){d="others"}}),n()}function n(){return new Promise(function(e,t){wx.getNetworkType({success:function(t){l=t.networkType,e()},fail:function(t){l=l||"unknown",e()}})})}function r(e,t){void 0===g[e]?(0,p.globalConfigGet)("speed").then(function(n){if(g[e]=!1,n&&n.sampling&&n.sampling.list){var r=[];try{r=JSON.parse(n.sampling.list)}catch(e){r=[]}var i=r.length;if(i>0)for(var a=(new Date).getTime(),o=0;o<i;o++){var s=r[o];if(s.start&&s.end){var u=new Date(s.start).getTime(),p=new Date(s.end).getTime();if(a>=u&&a<p&&(s.pid=s.pid||"",!s.pid||-1!=s.pid.split(",").indexOf(""+e))){var c="0"===s.rate?0:parseInt(s.rate||100)||100;g[e]=!(Math.ceil(100*Math.random())<=c);break}}}}t&&t()}).catch(function(n){g[e]=!1,t&&t()}):t&&t()}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isIgnoreCrawler:!1,isReportPerformance:!1},a=i.isIgnoreCrawler,s=i.isReportPerformance;r(e,function(){if(!(g[e]||a&&(0,u.isCrawler)())){var r={};if(s){var i=getCurrentPages().pop().route;h[i]={pid:e},v[i]&&(r=Object.assign(v[i]),v[i]={}),h[i].reported=!0}n().then(function(){var n=Object.assign({pid:e,os:d,apn:l},t,r);c(n),(0,o.request)({channel:"http-direct",method:"GET",url:f,data:n,priority:"REPORT"}).then(function(e){return e.body}).catch(function(e){return e})})}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Speed=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=require("../request/request.js"),s=require("../debug.js"),u=require("../utils"),p=require("../global_config.js"),c=(0,s.debug)("Speed 前端测速上报"),f="https://fd.3.cn/cesu/r",d="",l="",g={},v={},h={},y=function(){function n(r,i){e(this,n),this.pid=r,this.initTime=i||new Date,this.points=[],t()}return a(n,[{key:"mark",value:function(e,t){var n=+(t||new Date)-this.initTime;return this.points[e-1]=Math.max(n,1),this}},{key:"get",value:function(e){return this.points[e-1]}},{key:"report",value:function(e){var t={};this.points.forEach(function(e,n){void 0!==e&&(t["s"+(n+1)]=e)}),i(this.pid,t,e)}}],[{key:"reportAlone",value:function(e,t,n){i(e,t,n)}}]),n}();var m={main:"s2","/pages/pay/":"s3","/pages/search/":"s4","/pages/order/":"s5","/pages/item/":"s6"};wx.getPerformance&&wx.getPerformance().createObserver(function(e){var t={};e.getEntries().forEach(function(e,n){if("navigation"==e.entryType&&"appLaunch"==e.name&&e.duration&&(t.s1=e.duration),"script"==e.entryType&&"evaluateScript"==e.name&&e.duration){var r=m[e.moduleName];r&&(t[r]=e.duration)}var i=e.path;i&&e.duration&&(v[i]=v[i]||{},"render"==e.entryType&&"firstRender"==e.name?v[i].p31=e.duration:"navigation"==e.entryType&&"route"==e.name&&("navigateTo"==e.navigationType?v[i].p32=e.duration:"redirectTo"==e.navigationType?v[i].p33=e.duration:"switchTab"==e.navigationType&&(v[i].p34=e.duration)))}),Object.keys(t).length>0&&y.reportAlone(1991,t);for(var n in v)v[n]&&Object.keys(v[n]).length>0&&h[n]&&h[n].reported&&(y.reportAlone(h[n].pid,v[n]),h[n].reported=!1,v[n]={})}).observe({entryTypes:["navigation","render","script"]}),exports.Speed=y; 
 			}); 
		define("common/fe_report/usability.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startWebMonitorRequest=exports.umpReport=exports.start=exports.prepare=exports.umpBiz=exports.report=exports._reset=exports.OP_COUPON_STATUS=exports.OP_COUPON_GUESS=exports.OP_SECKILL_CATEGORYPPMS=exports.OP_SECKILL_CATEGORYLIST=exports.OP_SECKILL_DETAILBRAND=exports.OP_SECKILL_DETAILLIST=exports.OP_SECKILL_BRANDCATE=exports.OP_3C_SHOP_GOODS=exports.OP_3C_SHOP_INFO=exports.OP_ORDER_TRACE=exports.OP_SECKILL_UNSUBSCRIBE=exports.OP_SECKILL_SUBSCRIBE=exports.OP_ITEM_ADD_CART=exports.OP_COUPON_DRAW=exports.OP_COUPON_GOODS=exports.OP_COUPON_FIND=exports.OP_COUPON_MORE=exports.OP_COUPON_RECOMMEND=exports.OP_COUPON_TODAY=exports.OP_SHOP_PROMOTE=exports.OP_SHOP_NEW=exports.OP_SHOP_ALL=exports.OP_SHOP_INFO=exports.OP_MY_COUPON_2=exports.OP_ORDER_DETAIL=exports.OP_ORDER_LIST=exports.OP_USER_INFO=exports.OP_CATE=exports.OP_PAY=exports.OP_SEARCH=exports.OP_ITEM_ALL=exports.OP_ITEM_MAIN=exports.OP_CART=exports.OP_SECKILL=void 0;var e=require("../request/request.js"),t=require("../global_config"),r=require("../utils"),o={},s={},O=[],_=(exports.OP_SECKILL=1,exports.OP_CART=2,exports.OP_ITEM_MAIN=3,exports.OP_ITEM_ALL=4,exports.OP_SEARCH=5,exports.OP_PAY=6,exports.OP_CATE=7,exports.OP_USER_INFO=8,exports.OP_ORDER_LIST=9,exports.OP_ORDER_DETAIL=10,exports.OP_MY_COUPON_2=12,exports.OP_SHOP_INFO=13,exports.OP_SHOP_ALL=14,exports.OP_SHOP_NEW=15,exports.OP_SHOP_PROMOTE=16,exports.OP_COUPON_TODAY=17,exports.OP_COUPON_RECOMMEND=18,exports.OP_COUPON_MORE=19,exports.OP_COUPON_FIND=20,exports.OP_COUPON_GOODS=21,exports.OP_COUPON_DRAW=22,exports.OP_ITEM_ADD_CART=23,exports.OP_SECKILL_SUBSCRIBE=24,exports.OP_SECKILL_UNSUBSCRIBE=25,exports.OP_ORDER_TRACE=26,exports.OP_3C_SHOP_INFO=27,exports.OP_3C_SHOP_GOODS=28,exports.OP_SECKILL_BRANDCATE=31,exports.OP_SECKILL_DETAILLIST=32,exports.OP_SECKILL_DETAILBRAND=33,exports.OP_SECKILL_CATEGORYLIST=34,exports.OP_SECKILL_CATEGORYPPMS=35,exports.OP_COUPON_GUESS=39,exports.OP_COUPON_STATUS=40,{isIgnoreReport:function(){return(0,t.getCustomGlobalConfig)().isIgnoreUsabilityReport},needStop:function(){var e=(0,t.getCustomGlobalConfig)().usabilityReportStartTimestamp;return e&&new Date-new Date(e)<0},_reset:function(e){var t=o[e];return!!t&&(clearTimeout(t),delete o[e],!0)},report:function(e,t,r,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],O=arguments[5],p=arguments[6],P=arguments[7];if((!s||_._reset(e))&&(r=r||"",r+="",e=parseInt(e),!isNaN(e))){if(t=parseInt(t),isNaN(t)&&(t=1),1==t&&r){var i=r.match(/[(（](\d+)[)）]/);i&&(t=~~i[1]||1)}var n=[o||441,e,t,0,r];O&&n.push(O),_.startWebMonitorRequest(n.join("|"),{isInstant:p,isIgnoreCrawler:P})}},startWebMonitorRequest:function(o){function s(){var r={contents:O.join(","),t:Math.random()};O=[],(0,e.request)({method:"POST",url:"https://wq.jd.com/webmonitor/collect/biz.json",data:r,priority:"REPORT",channel:"http-direct"}).then(function(e){var r=e.body;r&&1==r.status&&(0,t.updateCustomGlobalConfig)({updateUsabilityStatus:!0})})}var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isInstant:!1,isIgnoreCrawler:!1},P=p.isInstant,i=p.isIgnoreCrawler;if(_.isIgnoreReport())return!1;if(i&&(0,r.isCrawler)())return!1;if(_.needStop())return console.warn("当前webmonitor服务负载过重，biz上报中止"),!1;if((0,r.isType)(o,"String"))O.push(o);else{if(!(0,r.isType)(o,"Array"))return console.error("[可用率上报]输入不合法：",o),!1;O=O.concat(o)}clearTimeout(_.debounce),P?s():_.debounce=setTimeout(s,1e3)},umpBiz:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==(t=t||10)&&Math.floor(10*Math.random())>t)return!1;_.report(e.operation,e.result,e.message,e.bizid,r,e.traceid,e.isInstant,e.isIgnoreCrawler)},prepare:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15e3;_._reset(e),o[e]=setTimeout(function(){_.report(e,408,"REQUEST_TIMEOUT")},t)},start:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8e3;if(!e||!t||!r)throw new Error("参数不合法");return s[e]={bizid:t,operation:r,rid:setTimeout(function(){s[e]&&(delete s[e],_.report(r,408,"REQUEST_TIMEOUT",t))},o)},function(o,O,p){s[e]&&(clearTimeout(s[e].rid),delete s[e],_.umpBiz({operation:r,result:o,message:O,bizid:t},p))}},umpReport:function(e,t,r,o){if(!e)throw new Error("参数不合法");var O=s[e];O&&(clearTimeout(O.rid),delete s[e],O.result=t,O.message=r,_.umpBiz(O,o))}});exports._reset=_._reset,exports.report=_.report,exports.umpBiz=_.umpBiz,exports.prepare=_.prepare,exports.start=_.start,exports.umpReport=_.umpReport,exports.startWebMonitorRequest=_.startWebMonitorRequest; 
 			}); 
		define("common/finger-report/fm.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(){e(),n(),i(),a(),c(),r(),o(),f()}function e(){try{A._getSystemInfo=!1,wx.getSystemInfo({success:function(t){s({vlv:t.SDKVersion,ve:t.version||"",fs:t.fontSizeSetting||-1,la:t.language||"",br:t.brand||"",mo:t.model||"",pr:t.pixelRatio||-1,pl:t.platform||"",sh:t.screenHeight||"",sw:t.screenWidth||"",sbh:t.statusBarHeight||"",sy:t.system||"",wh:t.windowHeight||"",ww:t.windowWidth||"",bl:t.benchmarkLevel||""})},complete:function(t){A._getSystemInfo=!0}})}catch(t){A._getSystemInfo=!0}}function n(){try{A._getNetworkType=!1,wx.getNetworkType({success:function(t){s({nt:t.networkType||""})},complete:function(t){A._getNetworkType=!0}})}catch(t){A._getNetworkType=!0}}function i(){try{A._getWifiInfo=!1,wx.getConnectedWifi({success:function(t){if(t.wifi)for(var e in t.wifi){var n={};n.bs=t.wifi.BSSID,n.ss=t.wifi.SSID,n.aj=t.wifi.autoJoined,n.jj=t.wifi.justJoined,n.sc=t.wifi.secure,n.sgs=t.wifi.signalStrength,s({wi:n})}},complete:function(t){A._getWifiInfo=!0}})}catch(t){A._getWifiInfo=!0}}function a(){try{A._getHCEState=!1,wx.getHCEState({success:function(t){s(t&&0==t.errCode?{hh:0}:t.errCode?{hh:t.errCode}:{hh:1})},fail:function(t){s({hh:1})},complete:function(){A._getHCEState=!0}})}catch(t){s({hh:-1}),A._getHCEState=!0}}function c(){try{A._getScreenBrightness=!1,wx.getScreenBrightness({success:function(t){s({sbr:t.value})},complete:function(t){A._getScreenBrightness=!0}})}catch(t){A._getScreenBrightness=!0}}function r(){try{var t=wx.getAccountInfoSync();t&&t.miniProgram&&s({vid:t.miniProgram.appId})}catch(t){}}function o(){function t(){try{A._getLocation=!1,wx.getLocation({success:function(t){s({lat:t.latitude,lon:t.longitude,sp:t.speed,ac:t.accuracy,al:t.altitude,va:t.verticalAccuracy,ha:t.horizontalAccuracy})},complete:function(t){A._getLocation=!0}})}catch(t){A._getLocation=!0}}try{wx.getSetting({success:function(e){e.authSetting["scope.userLocation"]&&t()}})}catch(t){}}function f(){function t(){try{A._getUserInfo=!1,wx.getUserInfo({success:function(t){t.userInfo&&s({au:t.userInfo.avatarUrl,ge:t.userInfo.gender,nn:t.userInfo.nickName,city:t.userInfo.city,province:t.userInfo.province,country:t.userInfo.country})},complete:function(t){A._getUserInfo=!0}})}catch(t){A._getUserInfo=!0}}try{wx.getSetting({success:function(e){e.authSetting["scope.userInfo"]&&t()}})}catch(t){}}function s(t){if(t)for(var e in t)"errMsg"!=e&&(T[e]=t[e])}function u(t){var e=0,n=null;p(wx.getSystemInfoSync().SDKVersion,"1.9.9")>=0&&!x.canvasOff?n=setInterval(function(){var i=!0;for(var a in A)A[a]||(i=!1);(i||e>=20)&&(clearInterval(n),h(T,function(e){s({ci:e}),t&&t()})),e++},I):t&&t()}function l(t){m=!1;var e=wx.getStorageSync("tk");T.bk=_,T.cpi&&delete T.cpi,T.unionid&&delete T.unionid,T.cliet=(new Date).getTime();var n=d(T);wx.request({url:v+"/stone/1/"+(void 0==e||null==e||""==e?"L64RTJ562VJEYNEQN67XMUWSR4UFLOIQHJYZ3MWERRIKJGP24SDSBDS4I4AMVU24Y3Y7A4UPDICN2":e),method:"POST",data:n,header:y,success:function(t){t.data&&0==t.data.code&&t.data.data&&wx.setStorageSync("tk",t.data.data.tk)},fail:function(t){},complete:function(e){g&&g(t,e),m=!0}})}function g(t,e){var n=wx.getStorageSync("tk");e.data?0==e.data.code?(e.data.data&&e.data.data.tk&&(n=e.data.data.tk),t({tk:e.data.data.tk})):t({errMsg:e.data.msg,tk:n}):t({errMsg:e.errMsg,tk:n})}function h(t,e,n,i){var a={st:(new Date).getTime()},c=wx.createCanvasContext(P,this);if(c){var r=t.pl||"";c.globalCompositeOperation="android"==r?"xor":"multiply",c.rect(0,0,10,10),c.rect(2,2,6,6),c.textBaseline="alphabetic",c.fillStyle="#f60",c.fillRect(32,1,62,20),c.fillStyle="#069",c.fillText("Cwwm aa fjorddbank glbyphs veext qtuiz, 😃",2,15),c.fillStyle="rgba(102, 204, 0, 0.2)",c.font="18pt Arial",c.fillText("Cwwm aa fjorddbank glbyphs veext qtuiz, 😃",4,45),c.fillStyle="rgb(255,0,255)",a.txts=(new Date).getTime();var o=16,f=16;c.beginPath(),c.arc(o,f,16,0,2*Math.PI,!0),c.closePath(),c.fill(),o=32,f=16,c.fillStyle="rgb(0,255,255)",c.beginPath(),c.arc(o,f,16,0,2*Math.PI,!0),c.closePath(),c.fill(),o=24,f=32,c.fillStyle="rgb(255,255,0)",c.beginPath(),c.arc(o,f,16,0,2*Math.PI,!0),c.closePath(),c.fill(),o=24,f=24,c.fillStyle="rgb(255,0,255)",c.arc(o,f,24,0,2*Math.PI,!0),c.arc(o,f,8,0,2*Math.PI,!0),c.fill(),a.circlet=(new Date).getTime(),c.beginPath(),c.textBaseline="top",c.font="14px Arial",c.fillStyle="#000",c.closePath();for(var s="",u=["cpi","br","mo","pr","pl","sh","sw","hh"],l=0;l<u.length;l++)s=t[u[l]]||"",c.fillText(s,0,15*(l+1));a.fixedt=(new Date).getTime();var g="";c.draw(!1,function(){wx.canvasToTempFilePath({canvasId:P,x:0,y:0,width:100,height:100,destWidth:100,destHeight:100,fileType:"png",success:function(n){n.tempFilePath;try{a.drawt=(new Date).getTime();var i=wx.getFileSystemManager().readFileSync(n.tempFilePath,"base64");g=w.hexMD5(i),a.md5t=(new Date).getTime(),t.cavt=a,e&&e(g)}catch(t){e&&e("")}},fail:function(t){e&&e("")},complete:function(t){i&&i(t)}})})}else n&&n instanceof Function&&n({errMsg:"Canvas creation failed,Please check if canvasId is consistent"})}function d(t){var e=JSON.stringify(t);t=encodeURIComponent(e);var n,i,a,c,r,o="",f="",s="",u=0;do{a=(n=t.charCodeAt(u++))>>2,c=(3&n)<<4|(i=t.charCodeAt(u++))>>4,r=(15&i)<<2|(f=t.charCodeAt(u++))>>6,s=63&f,isNaN(i)?r=s=64:isNaN(f)&&(s=64),o=o+C.charAt(a)+C.charAt(c)+C.charAt(r)+C.charAt(s),n=i=f="",a=c=r=s=""}while(u<t.length);return o+"/"}function p(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var a=parseInt(t[i]),c=parseInt(e[i]);if(a>c)return 1;if(a<c)return-1}return 0}var w=function(){function t(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function e(t,e){return t<<e|t>>>32-e}function n(n,i,a,c,r,o){return t(e(t(t(i,n),t(c,o)),r),a)}function i(t,e,i,a,c,r,o){return n(e&i|~e&a,t,e,c,r,o)}function a(t,e,i,a,c,r,o){return n(e&a|i&~a,t,e,c,r,o)}function c(t,e,i,a,c,r,o){return n(e^i^a,t,e,c,r,o)}function r(t,e,i,a,c,r,o){return n(i^(e|~a),t,e,c,r,o)}function o(e){for(var n=1732584193,o=-271733879,f=-1732584194,s=271733878,u=0;u<e.length;u+=16){var l=n,g=o,h=f,d=s;o=r(o=r(o=r(o=r(o=c(o=c(o=c(o=c(o=a(o=a(o=a(o=a(o=i(o=i(o=i(o=i(o,f=i(f,s=i(s,n=i(n,o,f,s,e[u+0],7,-680876936),o,f,e[u+1],12,-389564586),n,o,e[u+2],17,606105819),s,n,e[u+3],22,-1044525330),f=i(f,s=i(s,n=i(n,o,f,s,e[u+4],7,-176418897),o,f,e[u+5],12,1200080426),n,o,e[u+6],17,-1473231341),s,n,e[u+7],22,-45705983),f=i(f,s=i(s,n=i(n,o,f,s,e[u+8],7,1770035416),o,f,e[u+9],12,-1958414417),n,o,e[u+10],17,-42063),s,n,e[u+11],22,-1990404162),f=i(f,s=i(s,n=i(n,o,f,s,e[u+12],7,1804603682),o,f,e[u+13],12,-40341101),n,o,e[u+14],17,-1502002290),s,n,e[u+15],22,1236535329),f=a(f,s=a(s,n=a(n,o,f,s,e[u+1],5,-165796510),o,f,e[u+6],9,-1069501632),n,o,e[u+11],14,643717713),s,n,e[u+0],20,-373897302),f=a(f,s=a(s,n=a(n,o,f,s,e[u+5],5,-701558691),o,f,e[u+10],9,38016083),n,o,e[u+15],14,-660478335),s,n,e[u+4],20,-405537848),f=a(f,s=a(s,n=a(n,o,f,s,e[u+9],5,568446438),o,f,e[u+14],9,-1019803690),n,o,e[u+3],14,-187363961),s,n,e[u+8],20,1163531501),f=a(f,s=a(s,n=a(n,o,f,s,e[u+13],5,-1444681467),o,f,e[u+2],9,-51403784),n,o,e[u+7],14,1735328473),s,n,e[u+12],20,-1926607734),f=c(f,s=c(s,n=c(n,o,f,s,e[u+5],4,-378558),o,f,e[u+8],11,-2022574463),n,o,e[u+11],16,1839030562),s,n,e[u+14],23,-35309556),f=c(f,s=c(s,n=c(n,o,f,s,e[u+1],4,-1530992060),o,f,e[u+4],11,1272893353),n,o,e[u+7],16,-155497632),s,n,e[u+10],23,-1094730640),f=c(f,s=c(s,n=c(n,o,f,s,e[u+13],4,681279174),o,f,e[u+0],11,-358537222),n,o,e[u+3],16,-722521979),s,n,e[u+6],23,76029189),f=c(f,s=c(s,n=c(n,o,f,s,e[u+9],4,-640364487),o,f,e[u+12],11,-421815835),n,o,e[u+15],16,530742520),s,n,e[u+2],23,-995338651),f=r(f,s=r(s,n=r(n,o,f,s,e[u+0],6,-198630844),o,f,e[u+7],10,1126891415),n,o,e[u+14],15,-1416354905),s,n,e[u+5],21,-57434055),f=r(f,s=r(s,n=r(n,o,f,s,e[u+12],6,1700485571),o,f,e[u+3],10,-1894986606),n,o,e[u+10],15,-1051523),s,n,e[u+1],21,-2054922799),f=r(f,s=r(s,n=r(n,o,f,s,e[u+8],6,1873313359),o,f,e[u+15],10,-30611744),n,o,e[u+6],15,-1560198380),s,n,e[u+13],21,1309151649),f=r(f,s=r(s,n=r(n,o,f,s,e[u+4],6,-145523070),o,f,e[u+11],10,-1120210379),n,o,e[u+2],15,718787259),s,n,e[u+9],21,-343485551),n=t(n,l),o=t(o,g),f=t(f,h),s=t(s,d)}return[n,o,f,s]}function f(t){for(var e="",n=0;n<4*t.length;n++)e+="0123456789abcdef".charAt(t[n>>2]>>n%4*8+4&15)+"0123456789abcdef".charAt(t[n>>2]>>n%4*8&15);return e}function s(t){for(var e=1+(t.length+8>>6),n=new Array(16*e),i=0;i<16*e;i++)n[i]=0;for(i=0;i<t.length;i++)n[i>>2]|=(255&t.charCodeAt(i))<<i%4*8;return n[i>>2]|=128<<i%4*8,n[16*e-2]=8*t.length,n}return{hexMD5:function(t){return f(o(s(t)))}}}(),y={"content-type":"application/json"},v="https://we.jd.com",S=!1,m=!0,I=100,x=null,b=null,_="",k="",P="fbfd3ec3c4ab4213b9a09b5c5e769ceb",T={sv:"1.0.3.4",clist:(new Date).getTime()},C="23IL<N01c7KvwZO56RSTAfghiFyzWJqVabGH4PQdopUrsCuX*xeBjkltDEmn89.-",A={_getSystemInfo:!0,_getNetworkType:!0,_getWifiInfo:!0,_getSoterAuthentication:!0,_getHCEState:!0,_getScreenBrightness:!0,_getLocation:!0,_getUserInfo:!0},D=function(e){if(t(),e&&"function"==typeof e){var n=null,i=0;n=setInterval(function(){i++;var t=x.retry||20;(m||i>t)&&(clearInterval(n),"plugin"!=k?u(function(t){l(e)}):l(e))},I)}};module.exports={config:function(t,e){x=e,b=t,_=e.bizKey,k=e.bizSource,S=!0},init:function(t){t&&t.openid&&s({oid:t.openid}),t&&t.unionid&&s({unionid:t.unionid})},getEid:function(t){D(t)}}; 
 			}); 
		define("common/finger-report/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=e(require("../wxcontext")),i=e(require("./fm.min")),f=require("../request/request"),u=Symbol("judgeOption"),s=Symbol("getSystemInfo"),a=Symbol("getFm"),c=Symbol("userOprInfoReport"),p=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.option=n,this.fmInfo={},this.systemInfo={},this[u]()}return o(e,[{key:"report",value:function(){var e=this;return this[s](),new Promise(function(t){e[a]().then(function(){e[c]().then(function(){t(n({},e.systemInfo,e.fmInfo))})})})}},{key:u,value:function(){var e={from:"",channel:{weixin:"wx",wxapp:2==(r.default.JD.wxapp.wxappType||r.default.JD.cookie.get("wxapp_type"))?"jxprogram":"jdprogram",qq:"sq",jdpingou:"jx"}[r.default.JD.device.scene]||"m",appId:getApp().appId||"",sceneval:""},t=this.option.from;this.option=Object.assign(e,this.option),t||console.error("from参数未传递")}},{key:s,value:function(){var e=wx.getSystemInfoSync();this.systemInfo={deviceName:e.model||"",deviceVersion:e.SDKVersion||"",deviceOS:e.system.split(/\s/)[0]||"",deviceOSVersion:e.system.split(/\s/)[1]||""}}},{key:a,value:function(){var e=this;return Promise.race([new Promise(function(t){"function"==typeof i.default.config&&"function"==typeof i.default.init?(i.default.config(e,{bizKey:"c68b3c68639ae2d76f00dfb51e463e08f251bf09",canvasOff:!0}),i.default.init({openid:r.default.JD.cookie.get("open_id")||""}),e.fmInfo.fp="c68b3c68639ae2d76f00dfb51e463e08f251bf09",i.default.getEid(function(n){e.fmInfo.eid=n&&n.tk||"",t()})):(e.fmInfo.eid="",e.fmInfo.fp="",t())}),new Promise(function(e){setTimeout(function(){e()},2e3)})])}},{key:c,value:function(){var e=this;return new Promise(function(t){var o=n({},e.option,e.systemInfo,e.fmInfo);f.request.get({url:"https://wq.jd.com/pinbind/manage/UserOprInfoReport",data:o,ump:{key:"wq.webmonitor.mjgj.finger_report.UserOprInfoReport",bizId:"1432",opId:"1",errBizId:"1432",errOpId:"2",reportHook:function(e){return 0==e.errcode?{code:0}:{code:e.errcode,message:e.msg}}}}).then(function(e){var n=e.body;n&&0==n.errcode?t():(r.default.JD.report.umpBiz({bizid:1432,operation:4,result:1,message:"未登录"}),t())}).catch(function(){t()})})}}]),e}();exports.default=p; 
 			}); 
		define("common/global_config.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p||{};for(var o in t)if("time"!==o){"object"!==n(p[o])&&(p[o]={}),e[o]=Object.assign({},p[o]);for(var i in t[o])e[o][i]=Object.assign({},p[o][i],t[o][i])}return e}function e(){return l||(l=o()),l}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(u=0),new Promise(function(o,n){(0,r.request)({url:"https://wq.jd.com/wxappconf/GetConf",data:{UseScope:0,Business:e,UpTime:u}}).then(function(e){var n=e.body;console.log("[GLOBAL CONFIG] 配置文件更新成功",n),u=n.time,p=t(n),(0,s.umpBiz)({bizid:777,operation:104,result:0}),o(),i(p)}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.code,i=t.message,n=t.detail;console.warn("[GLOBAL CONFIG] 配置文件拉取失败",t),(0,s.umpBiz)({bizid:777,operation:104,result:e||1,message:JSON.stringify(n||i)}),o()})})}function i(t){var e=t.usability,o=t.updateUsabilityStatus;e&&e.sampling&&e.sampling.start&&e.sampling.end&&0===(0,a.checkTime)(e.sampling.start,e.sampling.end)?f.isIgnoreUsabilityReport=!0:f.isIgnoreUsabilityReport=!1;var i=(p.usability||{}).recovery;o&&i&&i.stopTimestamp&&(f.usabilityReportStartTimestamp=(new Date).getTime()+1*i.stopTimestamp)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateCustomGlobalConfig=exports.getCustomGlobalConfig=exports.globalConfigGet=exports.globalConfigUpdate=exports.globalConfigInit=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=require("./request/request.js"),s=require("./fe_report/usability.js"),a=require("./utils"),l=void 0,u=0,p={},f={isIgnoreUsabilityReport:!1,usabilityReportStartTimestamp:0};exports.globalConfigInit=e,exports.globalConfigUpdate=o,exports.globalConfigGet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e().then(function(){if(!Object.keys(p).length)return o(t)}).then(function(){return t?p[t]||{}:p})},exports.getCustomGlobalConfig=function(){return f},exports.updateCustomGlobalConfig=i; 
 			}); 
		define("common/h5jump.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a.default=e,a}function a(e){if(Array.isArray(e)){for(var a=0,t=Array(e.length);a<e.length;a++)t[a]=e[a];return t}return Array.from(e)}function t(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).v,t="https://wq.360buyimg.com/data/ppms/js/ppms.page"+(void 0===a||a?"v":"")+e+".jsonp";return new Promise(function(e,a){(0,l.request)({url:t,retry:1}).then(function(a){var t=a.body;e(t.data)},function(e){a(e)})})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.indexOf("?")===e.lastIndexOf("?")&&e.indexOf("#")===e.lastIndexOf("#")&&(e.indexOf("?")<=e.indexOf("#")||-1===e.indexOf("#"))}function n(e){var a=e.split("?");if(-1!=a[0].indexOf("//pro.m.jd.com")||-1!=a[0].indexOf("//prodev.m.jd.com")||-1!=a[0].indexOf("//h5.m.jd.com")||-1!=a[0].indexOf("//h5static.m.jd.com")||-1!=a[0].indexOf("//sale.jd.com")){a[0]=a[0].replace(/^(https?:)?\/\/(pro|prodev)\.m\.jd\.com\/(wq|mall)/i,function(e,a,t,r){return e.replace(t,"pro").replace(r,"mini")});var t=void 0,r=void 0,p=void 0;p=(t=(e=a.join("?")).split("#"))[1]||"",-1!=(r=(t=t[0].split("?"))[1]||"").indexOf("wxAppName=")?r=r.replace(/wxAppName=[^&]*/,"wxAppName=jd"):r+=(r&&"&"!=r.substr(-1)?"&":"")+"wxAppName=jd",e=t[0]+"?"+r+(p?"#"+p:"")}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addParamsToH5Url=exports.switchUrl=exports.updateCookie=exports.removeH5Params=exports.getWxaUrl=void 0;var s=function(){function e(e,a){var t=[],r=!0,p=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(t.push(s.value),!a||t.length!==a);r=!0);}catch(e){p=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(p)throw n}}return t}return function(a,t){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=e(require("./utils.js")),u=e(require("./cookie-v2/cookie.js")),l=require("./request/request.js"),d=require("./url_utils"),c=["ptag","pps"],g=2==u.getCookie("wxapp_type"),m={"wqitem.jd.com/item/view":{params:{sku:"sku",ptag:"ptag",channelkey:"channelkey",channelvalue:"channelvalue"},url:"/pages/item/detail/detail"},"wq.jd.com/mcoss/wxportal/mainentry":{params:{ptag:"ptag"},url:"/pages/index/index"},"wqs.jd.com/portal/wx/seckill_v2/index.shtml":{params:{ptag:"ptag"},url:"/pages/seckill/index/index"},"wqs.jd.com/portal/wx/seckill_v3/index.shtml":{params:{ptag:"ptag"},url:"/pages/seckill/index/index"},"wqdeal.jd.com/deal/mshopcart/mycart":{params:{ptag:"ptag"},url:"/pages/cart/cart/index"},"wqs.jd.com/portal/wx/category_m.shtml":{params:{ptag:"ptag"},url:"/pages/cate/cate"},"wqs.jd.com/my/coupon/coupon_center_v3_wx.shtml":{params:{ptag:"ptag"},url:"/pages/couponv4/index/index"},"wqsou.jd.com/search/searchn":{params:{key:"key",ptag:"ptag"},url:"/pages/search/list/list"},"wq.jd.com/search/searchco":{params:{coupon_batch:"batch",coupon_kind:"kind",ptag:"ptag"},url:"/pages/search/subPackages/coupon/coupon"},"wqs.jd.com/my/indexv2.shtml":{params:{ptag:"ptag"},url:"/pages/my/index/index"},"wqs.jd.com/order/orderlist_merge.shtml":{params:{ptag:"ptag"},url:"/pages/order/list/list"},"wqs.jd.com/my/coupon/index.shtml":{params:{ptag:"ptag"},url:"/pages/my_pages/coupon/coupon"},"wqsh.jd.com/promote/201801/bean/index.html":{params:{ptag:"ptag",sid:"sid"},url:"/pages/bean/index/index"},"wqsd.jd.com/promote/201801/bean/index.html":{params:{ptag:"ptag",sid:"sid"},url:"/pages/bean/index/index"},"wi.jd.com/fcgi-bin/goods_view":{params:{sku:"sku"},url:"/pages/adpage/item/item"},"wqdeal.jd.com/deal/confirmorder/adview":{params:{sku:"sku"},url:"/pages/aditem/index"}},h={"/pages/store/index/index":{params:{venderId:"venderId",ptag:"ptag"},url:"https://wqshop.jd.com/mshop/gethomepage"}},v={"/pages/pingou/index/index":{params:{ptag:"ptag",cateid:"cateid"},url:"https://wqs.jd.com/portal/wx/tuan/pingouv3.shtml"},"/pages/pingou/rule/index":{params:{ptag:"ptag",skuid:"skuid"},url:"https://wqs.jd.com/pingou/rule.shtml"},"/pages/pingou/cate/cate":{params:{ptag:"ptag"},url:"https://wqs.jd.com/wxsq_project/wqvue/pingou_cate/cate.html"},"/pages/pingou_second/search/search":{params:{ptag:"ptag"},url:"https://wqs.jd.com/wxsq_project/wqvue/pingou_search/search.html"},"/pages/pingou/my/my":{params:{ptag:"ptag"},url:"https://wqs.jd.com/pingou/my.shtml"},"/pages/pingou/brand/index":{params:{ptag:"ptag"},url:"https://wqs.jd.com/portal/wx/tuan/pinggou_pinpaituanV2.shtml"},"/pages/pingou_second/brand/index":{params:{ptag:"ptag"},url:"https://wqs.jd.com/portal/wx/tuan/pinggou_pinpaituanV2.shtml"},"/pages/pingou/brand/detail":{params:{ptag:"ptag",sku:"sku",pps:"pps"},url:"https://wqs.jd.com/portal/wx/tuan/pingou_branddetail.shtml"},"/pages/pingou_second/brand/detail":{params:{ptag:"ptag",sku:"sku",pps:"pps"},url:"https://wqs.jd.com/portal/wx/tuan/pingou_branddetail.shtml"},"/pages/pingou_second/index_sectab/index_sectab":{params:{ptag:"ptag",sku:"sku",pps:"pps"},url:"https://wqs.jd.com/wxsq_project/wqvue/index_sectab/index_sectab.html"},"/pages/pingou_second/promote/index":{params:{ptag:"ptag",sku:"sku",pps:"pps"},url:"https://wqs.jd.com/portal/wx/tuan/pingou_active.shtml"},"/pages/pingou_second/bipin/index":{params:{ptag:"ptag",sku:"sku"},url:"https://wqs.jd.com/portal/wx/tuan/pingou_list.shtml"},"/pages/pingou/ziying/ziying":{params:{ptag:"ptag",sku:"sku"},url:"https://wqs.jd.com/portal/wx/tuan/ziyingtuan.shtml"},"/pages/pingou_second/ziying/ziying":{params:{ptag:"ptag",sku:"sku"},url:"https://wqs.jd.com/portal/wx/tuan/ziyingtuan.shtml"}},x=function(e){for(var a in e){var t=e[a].params,r=!0,p=!1,n=void 0;try{for(var s,o=c[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var i=s.value;i in t||(t[i]=i)}}catch(e){p=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(p)throw n}}}};x(m);r(34566).then(function(e){var r=u.getCookie("visitkey").substr(-2);if(0!==(e=e.filter(function(e){var a=Number(e.visitPercent);return 0!==a&&(100===a||!!r&&Number(r)<a)})).length){var p={},n=[];e.forEach(function(e){var r=e.url,s=void 0===r?"":r,o=e.key,u=void 0===o?"":o,l=e.wxappUrl,c=void 0===l?"":l;u=u.toLowerCase();var g=(0,d.parseURL)(s),m=i.querystr(g.query||"").query;for(var h in m)h=h.toLowerCase(),n.includes(h)||n.push(h);var v=u?u.split("|").map(function(e){var a=e.split(":");return t({},a[0],a[1])}):[{}],x=n.length?n.map(function(e){return t({},e,e)}):[{}];p[g.host+"/"+g.path]={params:Object.assign.apply(Object,a(x).concat(a(v))),url:c}}),x(p),Object.assign(m,p)}}).catch(function(e){console.error("ppms 34566: ",e)});var f=function(e){return e.replace(/^(http:|https:)?\/\//,"")},w=function(e){return e.match(/[^?#]+/)[0]},_=function(e){return e.replace(/\/$/,"")},y=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};if(e&&a.params){var r=e.match(/([^?]*)\??(.*)/)[2],p=i.querystr(r,null,!0).query;for(var n in a.params)p[n]&&(t[a.params[n]]=p[n]||"")}if(e&&a.wxaPrams)for(var s in a.wxaPrams)t[s]=a.wxaPrams[s];return t},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],t={};if(e&&e.params)for(var r in e.params)r in a&&(t[e.params[r]]=a[r]);return t},k=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("?")[1]||"";return i.querystr(e).query},q=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("?")[0]||""},b=exports.getWxaUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return null;var a=_(w(f(e)));if(m[a]){var t=y(e,m[a]),r=k(m[a].url);return{params:Object.assign(t,r),url:q(m[a].url)}}return null};exports.removeH5Params=function(e){return e&&e.url&&["cookie","wdref","wxa_level"].forEach(function(a){e.url=(0,d.removeUrlParam)(e.url,a)}),e},exports.updateCookie=function(e){var a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dataType;if(e&&e.cookie){var t=void 0,r={visitkey:{},__wga:{maxAge:3153e3},PPRD_P:{maxAge:259200},__jda:{maxAge:259200},__jdv:{maxAge:86400},unpl:{maxAge:1296e3},wq_addr:{},wxapp_type:{},cd_eid:{},pinStatus:{maxAge:2592e3},ORIGIN_ID:{maxAge:86400},STORE_ID:{maxAge:86400},SALES_PIN:{maxAge:86400}};try{t="json"==a?e.cookie:JSON.parse(decodeURIComponent(e.cookie));var p=[];for(var n in t)if(""!=t[n]&&r[n]){var s={};s[n]=Object.assign(r[n],{value:t[n]}),p.push({data:s})}u.setCookies(p)}catch(e){console.log("解析url的cookie参数出错",e)}console.log("parse cookies: ",u)}},exports.switchUrl=function(e,a){var t=void 0,r=void 0;if(g||(h=o({},h,v)),"/pages/h5/index"==e)if(/^(https?:)?\/\/union-click\.jd\.com/.test(a.url))e="/pages/union/proxy/proxy",t={spreadUrl:encodeURIComponent(a.url)};else if(r=/^(?:https?:)?\/\/lp\.jd\.com\/page\/(\d+)\/([^.]+)\.html/.exec(a.url)){var p=s(r,3),n=(p[0],p[1]),u=p[2];if(!u.startsWith("lp_")){var l=i.getUrlParam("lppage",a.url);if(!l)return{url:e,params:a};u="lp_"+l}e="/pages/adpage/lp/lp",t={lppage:encodeURIComponent(n+"/"+u)}}else{var d=b(a.url);d&&(e=d.url,delete a.url,t=Object.assign({},a,d.params))}else if(h[e]){var c=e;e="/pages/h5/index",t={};var m=i.querystr(j(h[c],a));t.url=h[c].url+"?"+m}return{url:e,params:t||a}},exports.addParamsToH5Url=function(e,a){if(!e)return"https://wqs.jd.com/error.shtml?ngx_static_err=44";var t=[u.getCookie("visitkey"),u.getCookie("__wga"),u.getCookie("PPRD_P"),u.getCookie("__jda"),u.getCookie("__jdv"),u.getCookie("unpl"),u.getCookie("wxapp_type"),u.getCookie("wq_addr"),u.getCookie("cd_eid"),u.getCookie("pinStatus"),u.getCookie("wxapp_openid"),u.getCookie("buildtime")],r=t[0],s=t[1],o=t[2],l=t[3],c=t[4],g=t[5],m=t[6],h=t[7],v=t[8],x=t[9],f=t[10],w=t[11],_=JSON.stringify({visitkey:r,__wga:s,PPRD_P:o,__jda:l,__jdv:c,unpl:g,wxapp_type:m,cd_eid:v,pinStatus:x,wxapp_openid:f,buildtime:w});return e=e.replace(/^(https?:)?\/\//,"https://"),p(e)?(e=(0,d.setUrlParamByObject)(e,{cookie:_}),e=(0,d.setUrlHashParamByObject)(e,{wdref:a||i.getPageUrl().vurl,wxa_level:""+(getCurrentPages().length+1),sens:JSON.stringify({wq_addr:h})}),n(e)):e}; 
 			}); 
		define("common/http_access.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e.uniqueKey){var o=e.uniqueKey;if(c[o]&&c[o].length){var r=c[o].indexOf(e);if(-1===r)console.info("已被清除的请求",e);else if(0===r)c[o].shift();else if(r>0){for(var n=0;n<r;n++)c[o][n].cancel=!0;c[o]=c[o].slice(r,c[o].length)}}}}function o(e){var o="[none]";if(e.match(/^https:\/\/[^\/]+\/([^\?]*)/))o=e.match(/^https:\/\/[^\/]+\/([^\?]*)/)[1];else if(e.match(/^\/[^\/]+\//)){var r=e.split("/");r.shift(),r.shift(),o=r.join("/")}else o="[raw]"+e;return o}function r(e,o){if(!e||!o||!o.url)return!1;console.log("[errorLog 白名单检查]",o.url);return Object.keys(n.errorLogWhiteList).forEach(function(r){if(-1!=o.url.indexOf(r)){var c=n.errorLogWhiteList[r].codeField.toLocaleLowerCase();Object.keys(e).forEach(function(o){if(o.toLocaleLowerCase()==c){var t=e[o];Object.keys(n.errorLogWhiteList[r].ignoreCode).forEach(function(n){t==n&&(console.log("[errorLog 白名单检查命中]",r,o,t),e=!0)})}})}}),!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.access=exports.errorLog=void 0;var n=require("./errorlog_config.js"),c={},t={};t.url="https://wq.jd.com/webmonitor/collect/biz.json",t.deviceurl="https://wq.jd.com/webmonitor/collect/device.json",t.getData=function(e){console.log("[errorLog getData]",e.url),e.errMsg=(e.errMsg||"").replace(/[,|]/g," ");var r=o(e.url)||e.url;return console.log("[errorLog formatUrl]",r),{contents:[355,1,encodeURIComponent(e.errCode||"null"),0,encodeURIComponent(e.page||"unrealized"),encodeURIComponent(r),encodeURIComponent(e.errMsg||""),encodeURIComponent(e.responseTime||NaN),encodeURIComponent(e.env)].join("|")}},t.callback={success:function(e){console.log("errorLog")},fail:function(e){console.error("errorLog fail",e)}},t.ignoreList=[/biz\.json/,/log\.gif/,/fd\.3\.cn\/cesu/],t.needReport=function(e){var o=!0;return t.ignoreList.forEach(function(r){e.match(r)&&(o=!1)}),o},t.checkRes=function(e,o){if(!r(e,o)){var n,c;for(var t in e){var i=t.toLocaleLowerCase();if("errcode"==i||"ret"==i||"retcode"==i||"errid"==i||"ret_code"==i||"iret"==i){var l=e[t];0!=l&&null!=l&&(n=l)}else"errmsg"!=i&&"msg"!=i||(c=e[t]);0!=e.errId&&void 0!==e.resultCode&&0!=e.resultCode&&(n=e.resultCode)}if(n)return console.log("errorLog检查:发现错误标志",n,c),{errCode:n,errMsg:c};console.log("errorLog检查:未发现错误标志")}},t.getPage=function(){var e=getCurrentPages();return e.length?e[e.length-1].__route__:"no page"},t.deviceInfo="",t.reportDevice=function(e){function o(e){var o=[];return Object.keys(e).forEach(function(r){o.push(encodeURIComponent(r)+":"+encodeURIComponent(e[r]))}),o.join("|")}var r;wx.getSystemInfo({success:function(n){console.log(n),r=n,wx.getNetworkType({success:function(n){r.networkType=n.networkType,delete r.errMsg,t.deviceInfo=o(r),console.log("上报设备信息",t.deviceInfo),e({url:t.deviceurl,callback:t.callback,data:{contents:t.deviceInfo}})},fail:function(e){console.error(e)}})},fail:function(e){console.error(e)}})},exports.errorLog=t,exports.access=function(o,r){if(console.log("--------------access----------------",o),o.uniqueKey){var n=o.uniqueKey;c[n]||(c[n]=[]),c[n].forEach(function(e){console.log("***************************************",e),e.cancel=!0}),c[n].push(o)}var t={success:function(r,n){if(e(o),o.cancel)return console.info("取消回调",o.url);o.callback.success(r,n)},fail:function(r){if(e(o),o.cancel)return console.info("取消回调",o.url);o.callback.fail(r)}};return r(o.type,o.url,o.data||{},t,o.priority,o.channel,o.opt)}; 
 			}); 
		define("common/http_constant.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={ENCODE_GBK:"GBK",ENCODE_UTF8:"UTF-8",SUCCESS:1,FAIL:0,RETRY:2,NORMAL_PRIORITY:20,HIGH_PRIORITY:10,LOW_PRIORITY:30,CHANNEL_HTTP:1,CHANNEL_WS:2,DEFAULT_HTTP_CONCURRENCY:5,DEFAULT_WS_CONCURRENCY:30,WS_REQUEST_TIMEOUT:6e3,RET_HTTP_RESPONSE_ERROR:-30,RET_HTTP_NETWORK_ERROR:-40,RET_WS_CONNECT_ERROR:-20,RET_WS_REQUEST_TIMEOUT:-10,Text_RET_HTTP_RESPONSE_ERROR:"系统有点问题，请稍后再试！",Text_RET_HTTP_NETWORK_ERROR:"请检查你的网络是否正常！",Text_RET_WS_CONNECT_ERROR:"请检查你的网络是否正常！",Text_RET_WS_REQUEST_TIMEOUT:"你的网络有点慢，请重试一遍！"}; 
 			}); 
		define("common/http_json.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var t=r.parseURL(e);return t?(t.protocol||(e="https:"+e),r.changeToHttps(e)):e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUniqueKey=exports.post=exports.get=exports.getByEncode=exports.ENCODE_UTF8=exports.ENCODE_GBK=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("./url_utils")),o=function(e){return e&&e.__esModule?e:{default:e}}(require("./http_constant")),u=require("./request/request.js"),n=function(e){return function(){return"http_uid_"+(new Date).getTime()+"_"+e++}}(0);exports.ENCODE_GBK=o.default.ENCODE_GBK,exports.ENCODE_UTF8=o.default.ENCODE_UTF8;exports.getByEncode=function(r,o,n,i,l,a){var s={method:"GET"};"object"===(void 0===r?"undefined":t(r))?(s.url=r.url,s.data=r.data,s.uniKey=r.uniqueKey,i=r.callback):(s.url=r,s.data=o),s.encoding="GBK",s.url=e(s.url),u.request.get(s).then(function(e){var t=e.body;return i.success(t)},i.fail)},exports.get=function(r,o,n,i,l){var a={method:"GET"};"object"===(void 0===r?"undefined":t(r))?(a.url=r.url,a.data=r.data,a.uniKey=r.uniqueKey,n=r.callback):(a.url=r,a.data=o),a.url=e(a.url),console.log("%%%%%%%%%%% url",a.url),30==i&&(a.priority="REPORT"),u.request.get(a).then(function(e){var t=e.body;return n.success(t)},n.fail)},exports.post=function(r,o,n,i,l){var a={method:"POST"};"object"===(void 0===r?"undefined":t(r))?(a.url=r.url,a.data=r.data,a.uniKey=r.uniqueKey,n=r.callback):(a.url=r,a.data=o),a.url=e(a.url),30==i&&(a.priority="REPORT"),u.request.post(a).then(function(e){var t=e.body;return n.success(t)},n.fail)},exports.getUniqueKey=n; 
 			}); 
		define("common/img_loader/img_loader.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,i){for(var a=0;a<i.length;a++){var e=i[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,a,e){return a&&t(i.prototype,a),e&&t(i,e),i}}(),a=function(){function a(i,e){t(this,a),this.page=i,this.defaultCallback=e||function(){},this.callbacks={},this.imgInfo={},this.page.data.imgLoadList=[],this.page._imgOnLoad=this._imgOnLoad.bind(this),this.page._imgOnLoadError=this._imgOnLoadError.bind(this)}return i(a,[{key:"load",value:function(t,i){var a=this;if(t){var e=this.page.data.imgLoadList,n=this.imgInfo[t];i&&(this.callbacks[t]=i),n?setTimeout(function(){a._runCallback(null,{src:t,width:n.width,height:n.height})},0):-1==e.indexOf(t)&&(e.push(t),this.page.setData({imgLoadList:e}))}}},{key:"_imgOnLoad",value:function(t){var i=t.currentTarget.dataset.src,a=t.detail.width,e=t.detail.height;this.imgInfo[i]={width:a,height:e},this._removeFromLoadList(i),this._runCallback(null,{src:i,width:a,height:e})}},{key:"_imgOnLoadError",value:function(t){var i=t.currentTarget.dataset.src;this._removeFromLoadList(i),this._runCallback("Loading failed",{src:i})}},{key:"_removeFromLoadList",value:function(t){if(this.page){var i=this.page.data.imgLoadList;i.splice(i.indexOf(t),1),this.page.setData({imgLoadList:i})}}},{key:"_runCallback",value:function(t,i){(this.callbacks[i.src]||this.defaultCallback)(t,i),delete this.callbacks[i.src]}}]),a}();exports.ImgLoader=a; 
 			}); 
		define("common/jdwebm.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(){for(var e="",t=1;t<=32;t++)e+=Math.floor(16*Math.random()).toString(16),8!=t&&12!=t&&16!=t&&20!=t||(e+="-");return e+="-"+Date.parse(new Date)/1e3}function o(e,o,n){return n?(n=n.split("_")[0],o=Number(o+1),n+"_"+o+"_"+e):(n=l.default.hexMD5(t()))+"_"+o+"_"+e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){var o=[];return t.forEach(function(t){var i=null;i=n(t)?{key:t[0],value:n(e[t[1]])?e[t[1]].join(";"):e[t[1]]||"unknown"}:{key:t,value:n(e[t])?e[t].join(";"):e[t]||"unknown"},o.push(i)}),o}function s(e){return new w.default(function(t,o){e.method({complete:function(o){var n=i(o,e.infos);t(n)}})})}function r(){return _.filter(function(e){return e.method}).map(function(e){return s(e)})}function a(e){var o=["brand","model","pixelRatio","screenWidth","screenHeight","system","platform"];b||(b=t(),d.setCookie({data:{shshshfpa:{value:b,maxAge:3153e3}}}));var n=e.reduce(function(e,t){return o.indexOf(t.key)>-1?e+t.value+",":e+""},"");j=l.default.hexMD5(n.substring(0,n.length-1)),d.setCookie({data:{shshshfp:{value:j,maxAge:3153e3}}})}function u(e){var t={browser_info:j,client_time:(new Date).getTime(),period:24,shshshfpa:b,whwswswws:x,msdk_version:"2.1.1",cookie_pin:y,visitkey:d.getCookie("visitkey"),wid:d.getCookie("wq_uin"),open_id:d.getCookie("open_id"),nickName:d.getCookie("nickName"),avatarUrl:d.getCookie("avatarUrl")};e.map(function(e){t[e.key]=e.value}),f({appname:"jdwebm_xcx",jdkey:"",whwswswws:x,businness:v,body:t},"hf")}function h(){if(C){var e=Number(C.split("_")[1]);C=o((new Date).getTime(),e,C),d.setCookie({data:{shshshsID:{value:escape(C),maxAge:1800}}})}else C=o((new Date).getTime(),1),d.setCookie({data:{shshshsID:{value:escape(C),maxAge:1800}}});var t="function"==typeof getCurrentPages?getCurrentPages():[],n=t&&t.length?t[t.length-1].route||t[t.length-1].__route__:"pages/index/index",i={sid:C.split("_")[0],squence:C.split("_")[1],create_time:C.split("_")[2],shshshfpa:b,whwswswws:x,browser_info:j||d.getCookie("shshshfp"),page_name:"http://wq.jd.com/"+k+"/"+n,msdk_version:"2.1.1",cookie_pin:y,wid:d.getCookie("wq_uin")};f({appname:"jdwebm_pv",jdkey:"",whwswswws:x,businness:v,body:i},"pv")}function c(e){a(e),u(e),h()}function f(e,t){var o=["成功","无效的接口名称","网络接收出错","数据出错","创建软指纹失败","无效的软指纹","空的软指纹"],n={url:"https://blackhole.m.jd.com/getinfo",data:{body:JSON.stringify(e)},method:"POST",priority:"REPORT"};(0,p.request)(n).then(function(e){var n=e.body;e.header;0==n.code&&("hf"==t&&d.setCookie({data:{shshshfpb:{value:n.whwswswws,maxAge:3153e3}}}),"hf"==t&&d.setCookie({data:{hf_time:{value:(new Date).getTime(),maxAge:3153e3}}})),g.info(o[n.code])},function(e){var t=e.code;e.message;g.error(t)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Jdwebm=void 0;var d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(require("./cookie-v2/cookie.js")),l=e(require("../libs/md5.js")),p=require("./request/request.js"),w=e(require("../libs/promise.min.js")),g=new(require("./logger.js").Logger)("jdwebm"),m=2==d.getCookie("wxapp_type"),v=m?"wechat_pgxcx":"wechat_xcx",k=m?"wxpgapp":"wxapp",_=[{method:wx.getScreenBrightness,infos:[["screenBrightness","value"]]},{method:wx.getSystemInfo,infos:["brand","model","pixelRatio","screenWidth","screenHeight","windowWidth","windowHeight","language","version","system","platform","fontSizeSetting","SDKVersion"]},{method:wx.getNetworkType,infos:["networkType"]}],b=d.getCookie("shshshfpa"),x=d.getCookie("shshshfpb"),y=d.getCookie("jdpin")||d.getCookie("pin"),C=d.getCookie("shshshsID"),j=void 0;exports.Jdwebm=function(){var e=new Date;if(e.setHours(0,0,0,0),e=e.getTime(),(d.getCookie("hf_time")||0)<e){var t=r();w.default.all(t).then(function(e){var t=[{key:"bluetooth",value:""}],o=[{key:"beacons",value:""}];c((e=e.concat(t,o)).reduce(function(e,t){return e.concat(t)},[]))}).catch(function(e){console.log(e)})}else h()}; 
 			}); 
		define("common/js_token.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.js_token=void 0;var t=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(require("./cookie-v2/cookie"));exports.js_token=function(){function r(){var r=getCurrentPages(),e="http://wq.jd.com/wxapp/"+r[r.length-1].route,n=t.getCookie("visitkey")||"";return[e,e.length,n,"","".length,"23FrfsYf274dafnUfa-2-4B24534K21V"]}function e(t){var r=[2,5],e=Math.floor(10*Math.random());return e<5&&(e+=5),{pick:r,divisor:e,remainder:Math.floor(Math.random()*e)%e}}function n(t,r,e){for(var n="",o=0,i=0;i<r.pick.length;i++){var u=r.pick[i];o+=Math.pow(2,u),n+=t[u]}n+=a[parseInt(e)-1];for(var s=r.divisor,l=r.remainder,h=[e,o.toString().length,o,s,l],c=l;c<n.length;c+=s)h.push(n[c]);return h.join("")}function o(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),e=[],n=void 0,o=0;o<t.length;o+=3)3===(n=t.substr(o,3).split("").map(function(t){return t.charCodeAt()})).length?e.push(r[63&n[0]>>>2],r[63&(n[0]<<4|n[1]>>>4)],r[63&(n[1]<<2|n[2]>>>6)],r[63&n[2]]):2===n.length?e.push(r[63&n[0]>>>2],r[63&(n[0]<<4|n[1]>>>4)],r[63&n[1]<<2],"="):1===n.length&&e.push(r[63&n[0]>>>2],r[63&n[0]<<4],"=","=");return e.join("")}var a=["QWYOREUOCDSIOHF)#U*HF&!(&)(H)RH)%","HWYOREF)#U*Q)(H)RCDSHF&!(&)%UOIOH"],i="01";try{var u=function(){var t=r();return o(n(t,e(t.length),i))}();t.setCookie({data:{wqmnx1:{value:u,maxAge:3600}}})}catch(t){console.log("js token err")}}; 
 			}); 
		define("common/json_parse.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function r(r){throw{name:"SyntaxError",message:r+" at position "+p,at:p,text:v}}function e(e){return e&&e!==d&&r("Expected '"+e+"' instead of '"+d+"'"),d=v.charAt(p),p+=1,d}function t(){var t,n="";for("-"===d&&(n="-",e("-"));d>="0"&&d<="9";)n+=d,e();if("."===d)for(n+=".";e()&&d>="0"&&d<="9";)n+=d;if("e"===d||"E"===d)for(n+=d,e(),"-"!==d&&"+"!==d||(n+=d,e());d>="0"&&d<="9";)n+=d,e();if(t=+n,isFinite(t))return t;r("作为数字解析时出错",t)}function n(){for(var r="";d&&(d<=" "||":"!=d);)r+=d,e();return r}function f(){var t,n,f,i="";if("'"===d)for(;e();){if("'"===d)return e(),i;if("\\"===d)if(e(),"u"===d){for(f=0,n=0;n<4&&(t=parseInt(e(),16),isFinite(t));n+=1)f=16*f+t;i+=String.fromCharCode(f)}else if("x"===d){var a=parseInt(e()+e(),16);i+=String.fromCharCode(a)}else{if("string"!=typeof h[d])break;i+=h[d]}else i+=d}r("Bad exstring")}function i(){var t,n,f,i="";if('"'===d)for(;e();){if('"'===d)return e(),i;if("\\"===d)if(e(),"u"===d){for(f=0,n=0;n<4&&(t=parseInt(e(),16),isFinite(t));n+=1)f=16*f+t;i+=String.fromCharCode(f)}else if("x"===d){var a=parseInt(e()+e(),16);i+=String.fromCharCode(a)}else{if("string"!=typeof h[d])break;i+=h[d]}else i+=d}r("Bad string")}function a(){for(;d&&d<=" ";)e()}function o(){switch(d){case"t":return e("t"),e("r"),e("u"),e("e"),!0;case"f":return e("f"),e("a"),e("l"),e("s"),e("e"),!1;case"n":return e("n"),e("u"),e("l"),e("l"),null}r("Unexpected '"+d+"'")}function u(){var t=[];if("["===d){if(e("["),a(),"]"===d)return e("]"),t;for(;d;){if(t.push(c()),a(),"]"===d)return e("]"),t;e(","),a()}}r("Bad array")}function s(){var t,f={};if("{"===d){if(e("{"),a(),"}"===d)return e("}"),f;for(;d;){if(t='"'!==d?n():i(),a(),e(":"),Object.hasOwnProperty.call(f,t)&&console.warn("Duplicate key '"+t+"'"),f[t]=c(),a(),"}"===d)return e("}"),f;if(e(","),a(),"}"===d)return e("}"),f}}r("Bad object")}function c(){switch(a(),d){case"{":return s();case"[":return u();case'"':return i();case"'":return f();case"-":return t();default:return d>="0"&&d<="9"?t():o()}}function l(){var r;if(a(),"{"===d||"["===d)return r=c();for(;d&&"("!==d;)e();if(e(),r=c(),a(),d&&")"===d)for(;d;)e();return r}Object.defineProperty(exports,"__esModule",{value:!0});var p,d,v,h={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};exports.JP=function(e){var t;return v=e.trim(),p=0,d=" ",t=l(),a(),d&&r("Syntax error"),t}; 
 			}); 
		define("common/localStorage.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function t(){var e=getCurrentPages(),t=e[e.length-1];return t?t.route:"app.js"}function r(){return Date.now()}function n(e){if(!e)return 0;var t=(""+e).match(/^(\d+(?:\.\d+)?)([smhd])$/),n=0;if(t){switch(t[2]){case"m":n=60*t[1]*1e3;break;case"h":n=60*t[1]*60*1e3;break;case"d":n=24*t[1]*60*60*1e3;break;case"s":default:n=1e3*t[1]}return r()+Math.round(n)}return 0}Object.defineProperty(exports,"__esModule",{value:!0});var o={key:"[localStorage.js]",print:function(t,r){var n;(n=console)[t].apply(n,[this.key].concat(e(r)))},debug:function(){this.print("debug",arguments)},log:function(){this.print("log",arguments)},info:function(){this.print("info",arguments)},warn:function(){this.print("warn",arguments)},error:function(){this.print("error",arguments)}},c=["cookies","gUserData"],a={__jda:1,__jdd:1,__jdv:1,__refer:1},i={set:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(a,i){var s={_expire:n(r.expire||"7d"),_data:t};-1!=c.findIndex(function(t){return t==e})&&(s._expire=987654321e4),wx.setStorage({key:e,data:s,success:function(e){a(e)},fail:function(t){o.log("本地缓存写入失败",e,t),i(t)}})})},get:function(e,t){return new Promise(function(n,c){e||(t?n(t):c({errMsg:"key is null"})),wx.getStorage({key:e,success:function(a){var i=a.data||{},s=i._expire,u=i._data;s>r()?n(u):wx.removeStorage({key:e,success:function(e){},complete:function(){o.log("本地缓存清除完毕",e),void 0!==t?n(t):c({errMsg:"Storage data expired :("})}})},fail:function(r){o.log("本地缓存获取失败",e),void 0!==t?n(t):c(r)}})})},remove:function(e){return new Promise(function(t,r){wx.removeStorage({key:e,success:function(e){t(e)},fail:function(e){r(e)}})})},setSync:function(e,r){var c={_expire:n((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).expire||"7d"),_data:r};try{wx.setStorageSync(e,c)}catch(e){o.warn("wx.setStorageSync failed")}o.warn("检测到使用同步接口设置本地缓存，请替换为异步的 set 接口！key: "+e+", page: "+t())},getSync:function(e){var n=void 0;try{n=wx.getStorageSync(e)}catch(e){o.warn("wx.getStorageSync failed")}if(o.warn("检测到使用同步接口获取本地缓存，请替换为异步的 get 接口！key: "+e+", page: "+t()),n){if(n._expire>r())return n._data;try{wx.removeStorageSync(e)}catch(e){o.warn("wx.removeStorageSync failed")}}},checkAndClearAllIfNeeded:function(){wx.getStorageInfo({success:function(e){e.currentSize>.9*e.limitSize&&(wx.clearStorage(),o.warn("清空本地缓存以防止溢出！",e.currentSize))}})},checkAndClearExpired:function(e){var t=this;wx.getStorageInfo({success:function(e){o.log("----- 开始清理过期的本地缓存 -----",e.keys),e.keys&&"function"==typeof e.keys.forEach&&e.keys.forEach(function(e){!a[e]&&t.get(e)})},complete:function(){e&&e()}})}};exports.set=i.set,exports.get=i.get,exports.remove=i.remove,exports.setSync=i.setSync,exports.getSync=i.getSync,exports.checkAndClearAllIfNeeded=i.checkAndClearAllIfNeeded,exports.checkAndClearExpired=i.checkAndClearExpired; 
 			}); 
		define("common/log.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function o(){if(!c.length)return!1;var o=c.concat([]);c=[],wx.request({url:"https://wq.jd.com/visit/addlog",data:t({id:(new Date).getTime(),log:o}),header:{"Content-Type":"text/plain;charset=UTF-8",Cookie:i.default.getCookie()},method:"POST",success:function(o){console.log(o),-2==o.data.retcode&&console.log("未登录"),void 0===o.data.retcode&&console.log("上报失败")},fail:function(o){console.log("上报失败",o)}})}function e(o){u=[],console.log("查询日志上报白名单"),wx.request({url:"https://wqs.jd.com/sinclude/update/wx/2017/1/xcxlogWhite.html",success:function(e){console.log(e);var n=e.data;-2==n.retcode&&console.log("未登录"),n&&"object"==(void 0===n?"undefined":r(n))&&(u=n),o()},fail:function(o){console.error("获取白名单失败")}})}function n(o){var e=i.default.getCookie("jdpin");for(var n in u){if("xcx_log_true"==u[n].jdpin)return!1;if(u[n]&&u[n].jdpin&&u[n].jdpin.split(",").indexOf(e)>=0)return o(),!0}return c.length>1e3&&(c.length=0),!1}function t(o){return Object.keys(o).map(function(e){var n=null==o[e]?"":o[e];return n instanceof Array?n.map(function(o){return encodeURIComponent(e)+"="+encodeURIComponent(o)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.log=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},i=function(o){return o&&o.__esModule?o:{default:o}}(require("./cookie-v2/cookie.js")),c=[],u=null,l=0;exports.log=function(){var t=[];clearTimeout(l);for(var i=arguments.length,s=Array(i),f=0;f<i;f++)s[f]=arguments[f];for(var a in s)"object"==r(s[a])?t.push(JSON.stringify(s[a])):t.push(s[a]);c.push(t.join(" ")),console.log("=====",s),t=null,u?n(function(){l=setTimeout(o,3e3)}):e(function(){n(function(){l=setTimeout(o,3e3)})})}; 
 			}); 
		define("common/logger.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Logger=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e(require("../libs/promise.min.js")),i=e(require("./cookie-v2/cookie.js")),a=require("./request/request.js"),u={},s={},c=[],f=0,p=!1,d=wx.getRealtimeLogManager&&wx.getRealtimeLogManager(),g=function(){function e(){n(this,e)}return r(e,null,[{key:"between",value:function(e,t,n){return t<=e&&e<=n}},{key:"buildParams",value:function(e){return Object.keys(e).map(function(t){var n=null==e[t]?"":e[t];return n instanceof Array?n.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(n)}).join("&")}}]),e}(),v=function(){function e(){n(this,e)}return r(e,null,[{key:"init",value:function(t){e.getConfig().then(function(n){p=!0;var o=i.default.getCookie("jdpin"),r=[];if(n){if(Object.keys(s).length>0)for(var l in s)if(Object.keys(s[l]).length>0)for(var a in s[l])e.isCanReport(o,l,y.levels[a])&&(r=r.concat(s[l][a]));r.length>0&&(e.report(r.concat([])),r=[]),e.start(t)}s={},f=0})}},{key:"start",value:function(t){if(!e.intervalId){t&&isNaN(t);e.intervalId=setInterval(function(){c.length>0&&(e.report(c.concat([])),c=[])},t)}}},{key:"stop",value:function(){e.intervalId&&(clearInterval(e.intervalId),e.intervalId=null)}},{key:"report",value:function(e){return new l.default(function(t,n){a.request.get({url:"https://wq.jd.com/visit/addlog",data:{id:(new Date).getTime(),log:e},header:{"Content-Type":"text/plain;charset=UTF-8"}}).then(function(e){var o=e.body;e.header;0==o.retcode?t(!0,o.msg):n(!1,o.msg)},function(e){var t=e.code,o=e.message;n(!1,"上报失败: code:"+t+" msg: "+o)})})}},{key:"getConfig",value:function(){return new l.default(function(e,t){a.request.get({url:"https://wqs.jd.com/sinclude/update/wx/2017/8/logConfig.html"}).then(function(t){var n=t.body;t.header;if(n.length>0){u.enable="true"==n[0].enable;for(var o=0;o<n[0].list.length;o++){var r=n[0].list[o];u[r.jdpin]={enable:"true"==r.enable},u[r.jdpin].noModuleCfg=0==r.modulesConfig.length;for(var l=0;l<r.modulesConfig.length;l++){var i=r.modulesConfig[l];u[r.jdpin][i.moduleName]={level:i.level,startTime:i.startTime,endTime:i.endTime}}}e(!0)}else e(!1)},function(t){t.code,t.message;e(!1)})})}},{key:"isCanReport",value:function(e,t,n){if(!u.enable||!e||!t||n==y.levels.OFF)return!1;if(u[e]&&u[e].enable){if(u[e].noModuleCfg)return!0;var o=u[e][t]?u[e][t]:null;if(o){var r=o.startTime?new Date(o.startTime):null,l=o.endTime?new Date(o.endTime):null,i=Date.now();if((!r&&l>i||!l&&r<i||r&&l&&g.between(i,r,l))&&o.level<=n)return!0}}return!1}}]),e}(),y=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{realtime:!1};n(this,e),this.moduleName=t||"_default",this.options=o}return r(e,[{key:"_formatPre",value:function(e,t){var n=new Date,o=n.toLocaleDateString()+" "+n.toTimeString().split(" ")[0]+" "+n.getMilliseconds();return"["+(this.moduleName||"")+"]<"+o+">("+e+")("+t+") "}},{key:"_printAndReport",value:function(n){var r=arguments;try{for(var l=this.options.realtime,a=void 0!==l&&l,u=__wxConfig||{},g=n.toUpperCase(),y=(new Error).stack.split("\n")[3],m=y.substring(y.indexOf("http")).replace(")",""),h=this._formatPre(g,m),b="",k=0;k<arguments.length;k++)arguments[k]!=n&&("object"==o(arguments[k])?function(){var e=[];b+=JSON.stringify(r[k],function(t,n){if("object"===(void 0===n?"undefined":o(n))&&null!==n){if(-1!==e.indexOf(n))return;e.push(n)}return n}),e=null}():b+=arguments[k]);if(b=h+b,a&&d&&d[n]&&d[n].apply(d,t(Array.prototype.slice.call(arguments,1))),u.debug&&e.globalLogLevel<=e.levels[g]){var A;console[n](">>>>>"+h),(A=console)[n].apply(A,t(Array.prototype.slice.call(arguments,1)))}p?v.isCanReport(i.default.getCookie("jdpin"),this.moduleName,e.levels[g])&&(c.join("").length+b.length>1048576&&(v.report(c.concat([])),c=[]),c.push(b)):(f+b.length>1048576?(s={},f=0):f+=b.length,s[this.moduleName]||(s[this.moduleName]={}),s[this.moduleName][g]||(s[this.moduleName][g]=[]),s[this.moduleName][g].push(b))}catch(e){console.error("logger.js _printAndReport method error: "+e)}}},{key:"debug",value:function(){this._printAndReport.apply(this,["debug"].concat(Array.prototype.slice.call(arguments)))}},{key:"log",value:function(){this._printAndReport.apply(this,["log"].concat(Array.prototype.slice.call(arguments)))}},{key:"info",value:function(){this._printAndReport.apply(this,["info"].concat(Array.prototype.slice.call(arguments)))}},{key:"warn",value:function(){this._printAndReport.apply(this,["warn"].concat(Array.prototype.slice.call(arguments)))}},{key:"error",value:function(){this._printAndReport.apply(this,["error"].concat(Array.prototype.slice.call(arguments)))}}],[{key:"setGlobalLogLevel",value:function(t){t&&t>=e.levels.ALL&&t<=e.levels.OFF&&(e.globalLogLevel=t)}},{key:"startReport",value:function(e){v.start(e)}},{key:"stopReport",value:function(){v.stop()}}]),e}();y.levels={ALL:0,DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5,OFF:6},y.globalLogLevel=y.levels.ALL,v.init(3e3),exports.Logger=y; 
 			}); 
		define("common/login/login.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o.default=e,o}function o(e,o,r){R.info("【getLoginPromise】开始",r,G),G||(W.getLoginPromise_startTime=Date.now()),L(e,"Undefined")||L(e,"Object")||O("调用getLoginPromise()/doLogin()时，请传入一个Object，其它类型的入参将不再维护"),"object"===(void 0===e?"undefined":x(e))&&(e=(r=e).forceLogin),"object"===(void 0===o?"undefined":x(o))&&(o=(r=o).ignoreTimeLimit),L(r,"Object")&&r.hasOwnProperty("forceLogin")&&O("入参forceLogin将不再维护，有强制登录诉求直接调用doLogin()即可～"),L(r,"Object")&&r.hasOwnProperty("indexAllJump")&&O("入参indexAllJump将不再维护"),L(r,"Object")&&r.hasOwnProperty("isNeedAccount")&&O("入参isNeedAccount将不再维护，建议使用更灵活的【静默登录】方案：getLoginPromise({ mode: 'silent' })"),L(r,"Object")&&r.hasOwnProperty("isIgnoreCookie")&&O("入参isIgnoreCookie将不再维护，请在业务逻辑外层getLoginPromise({ mode: 'silent' })，内层则按需doLogin"),r=Object.assign({},{mode:"common",isIgnoreCookie:!1,isNeedAccount:!0},r),M=Object.assign({},r);var a="forced"===r.mode;e&&(a=!0),Q++;var c=void 0;return 0===K?(K=Date.now(),c=0):c=Date.now()-K,console.info("【getLoginPromise】count:"+Q+"; first getLoginPromise time:"+K+"; time gap:"+c),c<=6e4&&Q>=20?(Q=0,K=0,exports.LOGIN_PROMISE=G=null,m(X,18,2,"login fail: 60s内调用getLoginPromise >= 20次"),m(X,5,z.BEYOND_MAX_GET_LOGIN_PROMISE_COUNT,"login fail: 60s内调用getLoginPromise >= 20次"),Promise.reject(z.BEYOND_MAX_GET_LOGIN_PROMISE_COUNT)):(c>6e4&&(K=Date.now(),Q=1),Date.now()-j<=3e3&&!o?(m(X,5,z.BEYOND_MAX_AUTH_DENY_COUNT,"login fail: 3秒内拒绝授权过"),Promise.reject(z.BEYOND_MAX_AUTH_DENY_COUNT)):a||r.isIgnoreCookie||!s(r)?(G||(exports.LOGIN_PROMISE=G=new Promise(function(e,o){R.info("小程序登录开始"),n().then(function(e){return d(e)}).then(function(e){return l(e.code,e.userInfo)}).then(function(e){return t(e.code,e.userInfo,e.ou)}).then(function(e){return i(e)}).then(function(o){W.getLoginPromise_endTime=Date.now(),exports.LOGIN_PROMISE=G=null,e(o),R.info("小程序登录成功: ",o),m(X,5,0,"login success"),(0,A.globalConfigUpdate)("",!0),v()}).catch(function(e){var n=e,t=e;L(e,"Object")&&(n=e.retCode||e.code||11111,t=e.message||e.retMsg||"未知错误"),m(X,5,n,"登录失败catch: "+t),R.error("小程序登录失败:",e),exports.LOGIN_PROMISE=G=null,o(e)})})),G):(R.info("is login"),Promise.resolve(z.SUCCESS)))}function n(){return W.wxLogin_startTime=Date.now(),new Promise(function(e,o){wx.login({success:function(o){m(X,1,0,""),W.wxLogin_endTime=Date.now(),R.info("wx.login 获取 code 成功"),e(o.code)},fail:function(e){R.error("wx.login 获取 code 失败: "+e.errMsg),e&&e.errMsg&&-1!==e.errMsg.indexOf("meet frequency limit")?(m(X,1,2,e.errMsg),o(z.WX_LOGIN_LIMIT)):e&&e.errMsg&&-1!==e.errMsg.indexOf("fail login no response")?(m(X,1,3,e.errMsg),o(z.WX_LOGIN_NO_RESPONSE)):e&&e.errMsg&&-1!==e.errMsg.indexOf("login:fail")?(m(X,1,4,e.errMsg),o(z.WX_LOGIN_WITH_LOGIN_FAIL)):(m(X,1,1,e.errMsg),o(z.WX_LOGIN_FAIL))}})})}function t(e,o,n){return W.wqLogin_startTime=Date.now(),R.info("微信手Q登录开始: "+e),new Promise(function(t,i){var a={code:e,ou:n||"",appid:getApp().appId,ACRJState:App.ACRJState||""};o&&(a.encrytData=o.encryptedData,a.signature=o.signature,a.rawData=o.rawData,a.iv=o.iv),M.loginRequestParam&&Object.assign(a,M.loginRequestParam),E.request.get({url:"https://wq.jd.com/mlogin/wxapp/login_lt",data:a}).then(function(e){var n=e.body;W.wqLogin_endTime=Date.now(),r({body:n,options:M,resolve:t,reject:i,userInfo:o})}).catch(function(e){var o=e.code,n=e.message;m(X,3,o,"wqLogin catch: "+n+" code: "+o),R.error(o+", "+n),i(z.WQ_LOGIN_FAIL)})})}function r(e){var o=e.body,n=void 0===o?{}:o,t=e.options,r=e.resolve,i=e.reject,s=e.userInfo,u="silent"===t.mode,g=n.info,d=getCurrentPages();if(!g)return m(X,3,z.WQ_LOGIN_EMPTY_RES,"wxsq login fail: info is emtpy"),void i(z.WQ_LOGIN_EMPTY_RES);d&&0!==d.length||(d=[{route:B?"pages/pingou/index/index":"pages/index/index",options:{},data:{}}]);var l=d[d.length-1],f=l.route,_=l.data,O=(_.loginLayerData||{}).hasImportLoginComponents,L=B?"pages/pingou/index/index":"pages/index/index",I="pages/h5/index"===f,v="pages/login/index"===f,P="pages/my_pages/accountv2/index"===f,x="pages/my_pages/frozenaccount/frozenaccount"===f,E={method:t.navigateType||"navigateTo"},w=_.__report_props__||l.options||{},T="";for(var h in w)w.hasOwnProperty(h)&&(T?T+="&":T="?",T+=h+"="+w[h]);var A=void 0;if(v){if(A=_.rurl,_.biz){var b=s&&s.userInfo||{};"family"===_.biz&&(A=A.split("#")[0],A=U.setUrlParamByObject(A,{wxNickName:b.nickName,wxAvatarUrl:b.avatarUrl,userInfoSign:g.userInfoSign})),A="/pages/h5/index?encode_url="+encodeURIComponent("https://wq.jd.com/pinbind/pintokenredirect?omitH5Params=1&biz="+_.biz+"&url="+encodeURIComponent(encodeURIComponent(A)))}}else A=x?"/"+L:t.returnUrl?t.returnUrl:0==f.indexOf("pages")?"/"+f+T:f+T;var k={wid:g.wid,wq_uin:g.wid,open_id:g.wxopenid,wxapp_openid:g.openid,unionid:g.unionid,wq_unionid:g.unionid,skey:g.skey,wq_skey:g.skey,pin:g.pin,jdpin:g.pin,pinStatus:g.pinStatus,cid:"5",ou:g.ou};if((-1===[200,201,202,203,204].indexOf(n.retCode)||P)&&c(k),C.set("wqLoginOu",k.ou,{expire:"365d"}).catch(function(){R.error("wqLogin Ou写 storage 失败")}),(0,require("../user_info.js").updateUserData)(k),App.ACRJState="",[0,100,101,102].indexOf(n.retCode)>=0){m(X,3,0,"");var M=t.isReturnObject?{retCode:n.retCode,loginData:k,returnUrl:A}:0;r(M)}else{if(I)return m(X,3,n.retCode,"H5页面不做处理 currentPageUrl: "+f),i(""+z.WX_LOGIN_NO_NEED+n.retCode),!1;if(u&&[28,200,201,202,203,204].indexOf(n.retCode)>=0)return m(X,3,n.retCode,"「静默登录」模式下"),void i(n.retCode);if(!u&&t.isNeedErrorToast&&-1===[28,200,201,202,203,204].indexOf(n.retCode)&&wx.showToast({title:t.errorToastText||"登录出错，请稍后再试~",icon:"none",duration:2e3}),200===n.retCode&&(t.indexAllJump||f!==L)){m(X,3,n.retCode,"当前pin已被冻结 currentPageUrl: "+f);var j=S.base64encode(encodeURIComponent(n.info.pin)),Y=n.info.isDefaultAssets,W=S.base64encode(encodeURIComponent(n.info.otherpin));return 2===Y?P||y.goto("/pages/my_pages/accountv2/index",{returnUrl:encodeURIComponent(encodeURIComponent(A)),sceneid:521192480,frozen:2,navBackType:t.navBackType||"redirectTo",loginData:k},E):"pages/my_pages/frozenaccount/frozenaccount"!==f&&(F||B)&&y.goto("/pages/my_pages/frozenaccount/frozenaccount",{name:j,rurl:A,isDefaultAssets:Y,otherPin:W,data:k},E),void i(200)}if(201===n.retCode&&(t.indexAllJump||f!==L)){m(X,3,n.retCode,"强制绑定 currentPageUrl: "+f),A=App.accountReturnUrl?App.accountReturnUrl:A;var J={returnUrl:encodeURIComponent(encodeURIComponent(A)),sceneid:521392590,force:1,navBackType:t.navBackType||"redirectTo",loginData:k};if(App.accountReturnUrl="",P||I||F||B)P||!F&&!B||y.goto("/pages/my_pages/accountv2/index",J,E);else{var Q="https://wqs.jd.com/my/bindpopupv2/index.shtml";Q=U.setUrlParamByObject(Q,{returnText:"",returnUrl:A,sceneid:721394559,ptag:"138268.2.35"}),y.goto("/pages/h5/index",{encode_url:encodeURIComponent(Q)},E)}return void i(201)}if(202===n.retCode&&(t.indexAllJump||f!==L)){m(X,3,n.retCode,"认证魔方 currentPageUrl: "+f),m(X,4,0,A),App.ACRJState=g.ACRJState||"";var K="https://wqs.jd.com/my/towxapp.shtml?rurl="+encodeURIComponent(A),V=U.setUrlParamByObject(g.ACRJUrl,{returnurl:K});return I||y.goto("/pages/h5/index",{url:V},E),void i(202)}if(203===n.retCode&&(t.indexAllJump||f!==L)){m(X,3,n.retCode,"密码验证 currentPageUrl: "+f);var Z=g&&g.pin||"";Z=S.base64encode(encodeURIComponent(Z));var $=g&&g.wid||"",ee=g&&g.PwdMdfToken||"",oe="https://wqs.jd.com/my/checkaccount.shtml?rurl="+encodeURIComponent(A)+"&wid="+$+"&sceneid=523394560&curpin="+Z+"&PwdMdfToken="+ee,ne={encode_url:encodeURIComponent(oe)};return I||y.goto("/pages/h5/index",ne,E),void i(203)}if(t.isNeedAccount&&204===n.retCode&&O)return m(X,3,n.retCode,"新的登录引导流程1 currentPageUrl: "+f),p("login",k).then(function(e){r(e)}).catch(function(e){i(e)});if(t.isNeedAccount&&204===n.retCode&&!O){m(X,3,n.retCode,"新的登录引导流程2 currentPageUrl: "+f),R.info("跳转登录页（新版）");var te=Date.now()-q>3e3;if(te&&(q=Date.now()),te&&!I&&!P){var re=C.getSync("_LAST_LOGIN_SUCCESS_TIME_");if(re){var ie=Date.now();m(X,14,0,"t: "+(ie-re)+" openId: "+N.getCookie("open_id")+" wxappOpenId: "+N.getCookie("wxapp_openid"))}D.ReportManager.addPtagExposure(H.NEW_PAGE.EXPOSE_ALL),y.goto("/pages/login/index",{rurl:A,pageType:"login",navBackType:t.navBackType||"redirectTo",loginData:k},E)}return void i(204)}if(t.isNeedAccount&&28===n.retCode&&O)return m(X,3,n.retCode,"未授权1 currentPageUrl: "+f),p("auth").then(function(){return exports.LOGIN_PROMISE=G=null,a(t)}).then(function(e){r(e)}).catch(function(e){i(e)});if(t.isNeedAccount&&28===n.retCode&&!O){m(X,3,n.retCode,"未授权2 currentPageUrl: "+f);var ae=Date.now(),se=ae-q>3e3,ce=C.getSync("_LAST_AUTH_USER_INFO_SUCCESS_TIME_");return ce&&ae-ce<36e5&&m(X,7,0,"重复授权1 currentPageUrl: "+f),se&&(q=ae),!se||I||v||(D.ReportManager.addPtagExposure(H.OLD_PAGE.EXPOSE_ALL),R.info("跳转登录页"),y.goto("/pages/login/index",{rurl:A,navBackType:t.navBackType||"redirectTo",pageType:"auth"},E)),void i(28)}t.isNeedAccount&&!u&&m(X,3,n.retCode,"其它错误 currentPageUrl: "+f),i(n.retCode)}}function i(e){var o=M,n={method:o.navigateType||"navigateTo"};if(!(o&&o.loginColor||o&&o.isNeedOfficialPin))return Promise.resolve(e);var t=getCurrentPages(),r=t[t.length-1].route;if(o&&o.loginColor){var i=o.loginColor;return i.biz=i.biz||"",i.dpin=i.dpin||0,new Promise(function(t,a){E.request.get({url:"https://wq.jd.com/pinbind/GetTokenForWxApp",data:i}).then(function(s){var c=s.body;if(0!=c.retcode)return m(X,12,c.retcode,"checkOfficialPin error currentPageUrl: "+r),a(""+z.GET_PIN_TOKEN_FAIL+c.retcode),!1;if(1!=i.dpin){if(0==c.action){var u=c.token;return N.setCookie({data:{wq_auth_token:u},defaultExpires:!0}),m(X,12,0,"checkOfficialPin success"),t(e),!0}y.goto("/pages/my_pages/accountv2/index",{sceneid:o.loginColor.sceneid||"721194798",ptag:o.loginColor.ptag||"7608.3.2",returnUrl:encodeURIComponent(o.loginColor.returnUrl||r),returnText:encodeURIComponent(o.loginColor.returnText||""),navBackType:o.navBackType||"redirectTo"},n)}else{if(0==c.action||1==c.action||2==c.action||3==c.action){var g=c.token;return N.setCookie({data:{wq_auth_token:g},defaultExpires:!0}),m(X,12,0),t(e),!0}y.goto("/pages/my_pages/accountv2/index",{sceneid:o.loginColor.sceneid||"721194798",ptag:o.loginColor.ptag||"7608.3.2",returnUrl:encodeURIComponent(o.loginColor.returnUrl||r),returnText:encodeURIComponent(o.loginColor.returnText||""),navBackType:o.navBackType||"redirectTo"},n)}m(X,12,1111,"currentPageUrl:"+r+" param.dpin:"+i.dpin+" body.action:"+c.action),a(""+z.GET_PIN_TOKEN_ACTION+c.action)}).catch(function(e){var o=e.code,n=e.message;m(X,12,o,"checkOfficialPin request fail: "+o+"|"+n),a(z.GET_PIN_TOKEN_FAIL)})})}return s(o)?Promise.resolve({code:0,message:"checkOfficialPin success"}):(y.goto("/pages/my_pages/accountv2/index",{sceneid:"721194798",ptag:"7608.3.2",returnUrl:encodeURIComponent(r),navBackType:o.navBackType||"redirectTo"},n),Promise.reject({code:-555,message:"checkOfficialPin fail"}))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(e,"Undefined")||L(e,"Object")||O("调用getLoginPromise()/doLogin()时，请传入一个Object，其它类型的入参将不再维护"),"[object Object]"!==Object.prototype.toString.call(e)&&(e={}),e.mode="forced",V++;var n=void 0;return 0===Z?(Z=Date.now(),n=0):n=Date.now()-Z,console.warn("【doLogin】count:"+V+"; first doLogin time:"+Z+"; time gap:"+n),n<=15e3&&V>=5?(V=0,Z=0,exports.LOGIN_PROMISE=G=null,m(X,18,1,"login fail: 15s内调用doLogin >= 5次"),Promise.reject(z.BEYOND_MAX_DO_LOGIN_COUNT)):(n>15e3&&(Z=Date.now(),V=1),o(e))}function s(e){var o=N.getCookie("wq_uin"),n=N.getCookie("wq_skey"),t=N.getCookie("wq_auth_token");return e&&e.loginColor?o&&n&&t&&I():e&&e.isNeedOfficialPin?o&&n&&I():o&&n}function c(e){var o=Object.assign({},e),n=o.maxAge||7200;for(var t in o)null!=o[t]&&""!==o[t]?o[t]="wq_skey"===t?{key:t,value:o[t],maxAge:n}:{key:t,value:o[t],maxAge:31104e3}:delete o[t];console.info("【登录基础库】更新登录态cookies",o),N.setCookie({data:o})}function u(){var e=getCurrentPages().pop();if(e){var o=Object.assign({},e.data.loginLayerData,{isShowLayer:!1});o.isHasTabBar&&wx.showTabBar({animation:!0}),getApp().event.emit("hideLoginLayer_"+(e._pageId||"")),e.setData({loginLayerData:o})}}function g(e,o){var n="auth"===e?H.OLD_LAYER.EXPOSE_ALL:"login"===e?H.NEW_LAYER.EXPOSE_ALL:"";D.ReportManager.addPtagExposure(n);var t=getCurrentPages().pop();if(t){var r=Object.assign({},t.data.loginLayerData,{isShowLayer:!0,layerType:e,loginData:o});r.isHasTabBar&&wx.hideTabBar({animation:!0}),getApp().event.emit("showLoginMask_"+(t._pageId||"")),t.setData({loginLayerData:r})}var i=Date.now(),a=C.getSync("_LAST_AUTH_USER_INFO_SUCCESS_TIME_");a&&i-a<36e5&&m(X,7,0,"");var s=C.getSync("_LAST_LOGIN_SUCCESS_TIME_");if(s){var c=Date.now();m(X,14,0,"t: "+(c-s)+" openId: "+N.getCookie("open_id")+" wxappOpenId: "+N.getCookie("wxapp_openid"))}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auth",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(e,o),new Promise(function(o,n){"auth"===e?(getApp().event.on("getUserInfoSuccess",function(e){f(e),m(X,2,0,""),getApp().event.off("getUserInfoSuccess"),getApp().event.off("getUserInfoFail"),u(),o(e)}),getApp().event.on("getUserInfoFail",function(e){j=Date.now(),_(),getApp().event.off("getUserInfoSuccess"),getApp().event.off("getUserInfoFail"),u(),"wx-layer cancel"===e?(m(X,2,1,z.WX_GET_USER_INFO_DENY),n(z.WX_GET_USER_INFO_DENY)):(m(X,2,2,z.JD_AUTH_INFO_DENY),n(z.JD_AUTH_INFO_DENY))})):"login"===e?getApp().event.on("hideLoginGuideLayer",function(e){getApp().event.off("hideLoginGuideLayer"),u(),n(204)}):(u(),console.error("==>startLoginLayerProcess@未定义的layerType类型"),n(z.LAYER_TYPE_NOT_FOUND))})}function d(e){return W.tryGetUserInfo_startTime=Date.now(),new Promise(function(o,n){function t(t){var r=(getCurrentPages().pop()||{}).route,i=Date.now(),a=C.getSync("_LAST_AUTH_USER_INFO_SUCCESS_TIME_");a&&i-a<36e5&&m(X,17,0,"errMsg:"+(t&&t.errMsg)+" currentPageUrl:"+r),_(),R.warn("tryGetUserInfo失败1: "+e,t),m(X,9,1,t&&t.errMsg),J?(J=!1,R.error("【登录基础库】单靠code换不出UnionID了，这里getUserInfo也失败，那么下面流程不需要走了"),n(28)):o({code:e,userInfo:!1})}wx.getUserInfo({success:function(n){n&&n.userInfo&&n.encryptedData&&n.iv?(f(n),R.info("tryGetUserInfo成功: "+e,n),m(X,9,0),o({code:e,userInfo:n})):t({errMsg:"getUserInfo error"})},fail:function(e){t(e)},complete:function(){W.tryGetUserInfo_endTime=Date.now()}})})}function l(e,o){return new Promise(function(n,t){C.get("wqLoginOu","").then(function(t){n({code:e,userInfo:o,ou:t})}).catch(function(e){return t(e)})})}function f(e){if(e&&e.userInfo){var o=require("../user_info.js").updateUserData,n=e.userInfo,t={gender:n.gender,province:n.province,city:n.city,country:n.country,wxNickName:n.nickName,wxAvatarUrl:n.avatarUrl,nickName:n.nickName,avatarUrl:n.avatarUrl};o(t),N.setCookie({data:t,defaultExpires:!0})}else _()}function _(){var e={gender:1,province:"Guangdong",city:"Shenzhen",country:"China",nickName:"京东用户",avatarUrl:"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t1/82031/9/5133/19337/5d36bcadE9cdb240c/ccc58f73b721ec2d.png",wxNickName:"京东用户",wxAvatarUrl:"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t1/82031/9/5133/19337/5d36bcadE9cdb240c/ccc58f73b721ec2d.png"};(0,require("../user_info.js").updateUserData)(e),N.setCookie({data:e,defaultExpires:!0})}function m(e,o,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";w.umpBiz({bizid:e,operation:o,result:n,message:t,isInstant:5===o,isIgnoreCrawler:!0})}function O(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("%c[登录基础库]提示："+e+"，详见 "+(o||"https://git.jd.com/wxapp/wxapp/wikis/login-lib"),"font-size:18px;color:grey;background:#fff0c1;padding:100px 20px")}function L(e,o){return Object.prototype.toString.call(e)==="[object "+o+"]"}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.isUseParam,n=void 0!==o&&o,t=e.pinStatus,r=void 0===t?"not found":t,i=n?parseInt(r):parseInt(N.getCookie("pinStatus"));return[0,4].indexOf(i)>=0}function v(e){var o=W||{},n=o.getLoginPromise_startTime,t=o.getLoginPromise_endTime,r=o.wxLogin_startTime,i=o.wxLogin_endTime,a=o.tryGetUserInfo_startTime,s=o.tryGetUserInfo_endTime,c=o.wqLogin_startTime,u=o.wqLogin_endTime,g=o.getLoginPromiseSimple_startTime,p=o.getLoginPromiseSimple_endTime,d=o.preFetchLogin_startTime,l=o.preFetchLogin_endTime,f={s1:!(!r||!i)&&i-r,s2:!(!a||!s)&&s-a,s3:!(!c||!u)&&u-c,s4:!(!n||!t)&&t-n,s6:!(!g||!p)&&p-g,s7:!(!d||!l)&&l-d};for(var _ in f)(!f[_]||e&&-1===e.indexOf(_))&&delete f[_];T.Speed.reportAlone(Y,f,{isIgnoreCrawler:!0}),W={}}function P(){return new Promise(function(e,o){wx.getBackgroundFetchData({fetchType:"pre",success:function(o){e(o)},fail:function(e){o(e)}})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.login=exports.preFetchLogin=exports.handleLoginResponseSimple=exports.isOfficialPin=exports.resetLoginMark=exports.clearLoginPromise=exports.LOGIN_PROMISE=exports.afterLogin=exports.isLogin=exports.doLogin=exports.getLoginPromiseSimple=exports.getLoginPromise=void 0;var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=e(require("../cookie-v2/cookie.js")),E=require("../request/request.js"),C=e(require("../localStorage")),w=e(require("../fe_report/usability.js")),T=require("../fe_report/speed"),h=require("../logger.js"),y=e(require("../navigator.js")),S=e(require("../base64/base64.js")),U=e(require("../../common/url_utils")),A=require("../../common/global_config.js"),D=require("../../api/Ptag/report_manager"),b=require("../buildVersion"),k=require("../utils"),R=(function(e){e&&e.__esModule}(require("../finger-report/index")),new h.Logger("login")),G=null,M=null,j=0,q=0,F="1"===b.WXAPP_TYPE,B="2"===b.WXAPP_TYPE,X=B?1313:1002,Y=B?1820:1821,W={},J=!1,z={SUCCESS:0,WX_LOGIN_FAIL:11,WX_LOGIN_LIMIT:12,WX_LOGIN_NO_RESPONSE:14,WX_LOGIN_WITH_LOGIN_FAIL:15,WQ_LOGIN_FAIL:21,WQ_LOGIN_EMPTY_RES:22,BEYOND_MAX_DO_LOGIN_COUNT:31,BEYOND_MAX_AUTH_DENY_COUNT:32,BEYOND_MAX_GET_LOGIN_PROMISE_COUNT:33,WX_GET_USER_INFO_DENY:41,JD_AUTH_INFO_DENY:42,GET_CURRENT_PAGES_FAIL:51,GET_PIN_TOKEN_FAIL:52,GET_PIN_TOKEN_ACTION:53,WX_LOGIN_NO_NEED:54,LAYER_TYPE_NOT_FOUND:404},H={OLD_LAYER:{EXPOSE_ALL:"7608.1.1"},NEW_LAYER:{EXPOSE_ALL:"7608.2.11"},OLD_PAGE:{EXPOSE_ALL:"7608.2.1"},NEW_PAGE:{EXPOSE_ALL:"7608.2.12"}},Q=0,K=0,V=0,Z=0;exports.getLoginPromise=o,exports.getLoginPromiseSimple=function(e){return R.info("【getLoginPromiseSimple】开始",e,G),G||(W.getLoginPromiseSimple_startTime=Date.now()),e=Object.assign({},{mode:"common",isIgnoreCookie:!1,isNeedAccount:!0},e),M=Object.assign({},e),"forced"===e.mode||e.isIgnoreCookie||!s(e)?N.getCookie("unionid")?Promise.resolve():(G||(exports.LOGIN_PROMISE=G=new Promise(function(e,o){R.info("小程序登录开始"),n().then(function(e){return t(e)}).then(function(o){W.getLoginPromiseSimple_endTime=Date.now(),exports.LOGIN_PROMISE=G=null,e(o),R.info("【getLoginPromiseSimple】登录成功: ",o),m(X,5,0,"login success"),(0,A.globalConfigUpdate)("",!0),v()}).catch(function(e){var n=e,t=e;L(e,"Object")&&(n=e.retCode||e.code||11111,t=e.message||e.retMsg||"未知错误"),m(X,5,n,"【getLoginPromiseSimple】登录失败catch: "+t),R.error("【getLoginPromiseSimple】小程序登录失败:",e),exports.LOGIN_PROMISE=G=null,o(e)})})),G):(R.info("is login"),Promise.resolve(z.SUCCESS))},exports.doLogin=a,exports.isLogin=s,exports.afterLogin=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return o().then(function(o){return e.apply(void 0,t)}).catch(function(o){return 1!=o.code?Promise.reject(o):a().then(function(o){return e.apply(void 0,t)})})},exports.LOGIN_PROMISE=G,exports.clearLoginPromise=function(){exports.LOGIN_PROMISE=G=null},exports.resetLoginMark=function(){console.info("【resetLoginMark】"),Q=0,K=0,exports.LOGIN_PROMISE=G=null},exports.isOfficialPin=I,exports.handleLoginResponseSimple=function(e){var o=e.body,n=void 0===o?{}:o,t=n.info;if(t){var r={wid:t.wid,wq_uin:t.wid,open_id:t.wxopenid,wxapp_openid:t.openid,unionid:t.unionid,wq_unionid:t.unionid,skey:t.skey,wq_skey:t.skey,pin:t.pin,jdpin:t.pin,pinStatus:t.pinStatus,cid:"5",ou:t.ou,maxAge:t.maxAge};-1===[200,201,202,203,204].indexOf(n.retCode)&&c(r),C.set("wqLoginOu",r.ou,{expire:"365d"}).catch(function(){R.error("wqLogin Ou写 storage 失败")}),(0,require("../user_info.js").updateUserData)(r),[0,100,101,102].indexOf(n.retCode)>=0?m(X,16,0,""):m(X,16,n.retCode,n.retMsg)}else m(X,16,z.WQ_LOGIN_EMPTY_RES,"wxsq login fail: info is emtpy")},exports.preFetchLogin=function(e){return R.info("【预拉取登录】preFetchLogin start"),W.preFetchLogin_startTime=Date.now(),wx.canIUse("getBackgroundFetchData")?(M={mode:"silent"},G||(exports.LOGIN_PROMISE=G=new Promise(function(n,t){var i=Date.now()/1e3;P().then(function(e){R.info("【预拉取登录】wx.getBackgroundFetchData success");var a=e.fetchedData,s=e.path,c=e.scene;try{a=JSON.parse(a),R.info("【预拉取登录】JSON解析字符串fetchedData成功")}catch(e){R.error("【预拉取登录】JSON解析字符串fetchedData异常")}var u=a||{},g=u.retCode,p=(u.info||{}).timestamp,d=Math.abs(parseInt(i-p)),l=d>120,f=M;if(!L(a,"Object")||!L(g,"Number")||300===g||(0,k.isNaNPlus)(d)||l){R.warn("【预拉取登录】命中条件走旧登录流程：",g,d,a),exports.LOGIN_PROMISE=G=null,o(f).then(n,t);var _=L(a,"Object")&&L(g,"Number")&&300!==g?6:1;m(X,20,_,"预拉取登录失败: path="+s+";scene="+c+";retCode="+g+";timeGap="+d)}else 0===g?(R.info("【预拉取登录】preFetchLogin success",d,a),n(),exports.LOGIN_PROMISE=G=null,r({body:a,options:f,resolve:function(){},reject:function(){}}),m(X,20,0,"预拉取登录成功：path="+s+";scene="+c+";retCode="+g+";timeGap="+d),(0,A.globalConfigUpdate)("",!0),W.preFetchLogin_endTime=Date.now(),v()):27===g?(R.warn("【预拉取登录】27后台用code换不出unionID，尝试走旧登录流程：",g,d,a),exports.LOGIN_PROMISE=G=null,J=!0,a.retCode=28,r({body:a,options:{mode:"silent"},resolve:function(){},reject:function(){}}),o(f).then(function(){m(X,20,2,"预拉取登录失败，但重试旧完整登录成功: path="+s+";scene="+c+";retCode="+g+";timeGap="+d),n()}).catch(function(e){m(X,20,3,"预拉取登录失败，重试旧完整登录也失败: path="+s+";scene="+c+";retCode="+g+";timeGap="+d),t(e)})):(R.warn("【预拉取登录】其他情况不需要走旧登录流程：",g,d,a),t(g),exports.LOGIN_PROMISE=G=null,m(X,20,4,"预拉取登录失败: path="+s+";scene="+c+";retCode="+g+";timeGap="+d),r({body:a,options:f,resolve:function(){},reject:function(){}}))}).catch(function(r){var i=M,a="";try{a=JSON.stringify(r)}catch(e){a="解析err失败"}R.error("【预拉取登录】wx.getBackgroundFetchData fail，尝试重登",r),m(X,20,5,"预拉取登录失败，尝试重登: path="+e.path+";scene="+e.scene+";errMsg="+a),exports.LOGIN_PROMISE=G=null,o(i).then(n,t)})})),console.info("【预拉取登录】return LOGIN_PROMISE"),G):o({mode:"silent"})};exports.login=null; 
 			}); 
		define("common/login/loginv1.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.login=exports.validateLogin=exports.clearLoginPromise=exports.isLogin=exports.doLoginV2=exports.doLogin=exports.getLoginPromiseV2=exports.getLoginPromise=void 0;var o=require("./login.js");exports.getLoginPromise=o.getLoginPromise,exports.getLoginPromiseV2=o.getLoginPromise,exports.doLogin=o.doLogin,exports.doLoginV2=o.doLogin,exports.isLogin=o.isLogin,exports.clearLoginPromise=o.clearLoginPromise;exports.validateLogin=null,exports.login=null; 
 			}); 
		define("common/modal/modal.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={hide:function(){this.page.setData({modal:{}})},show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("string"==typeof t.title&&"string"==typeof t.content){var o={title:t.title,modalClass:t.modalClass||"",content:t.content,goods:t.goods,sku:t.sku,checkGoodsCount:t.checkGoodsCount,maxHeight:t.maxHeight||"360",align:t.align||"",showCancel:t.showCancel||!1,cancelText:t.cancelText||"取消",cancelColor:t.cancelColor||"#000",confirmText:t.confirmText||"确定",confirmColor:t.confirmColor||"#3cc51f",btnLayoutStyle:t.btnLayoutStyle||"",contentStyle:t.contentStyle||"",type:t.type||""};if(t.page)this.page=t.page;else{var n=getCurrentPages();this.page=n[n.length-1]}t.content&&t.content.indexOf("<br>")>0&&(o.content=t.content.split("<br>"),o.content.forEach(function(e){e.trim()}),o.isArray=!0),this.page.setData({modal:o}),this.page.modalConfirm=function(){e.hide(),t.success&&"function"==typeof t.success&&t.success.call(e.page),t.complete&&"function"==typeof t.complete&&t.complete.call(e.page)},this.page.modalCancel=function(){e.hide(),t.fail&&"function"==typeof t.fail&&t.fail.call(e.page),t.complete&&"function"==typeof t.complete&&t.complete.call(e.page)}}}};exports.hide=e.hide,exports.show=e.show; 
 			}); 
		define("common/navigator.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a.default=e,a}function a(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},y={};(v=2==u.getCookie("wxapp_type"))&&(y={originUrl:e,originParams:Object.assign({},i),originOpts:Object.assign({},d)}),"/pages/pingou/item/item"!=e&&"/pages/item/pingou/pingou"!=e||(e="/pages/item/detail/detail");var m=["/pages/pingou/index/index","/pages/pingou/rule/index","/pages/pingou/cate/cate","/pages/pingou_second/search/search","/pages/pingou/my/my","/pages/pingou/brand/index","/pages/pingou_second/brand/index","/pages/pingou/brand/detail","/pages/pingou_second/brand/detail","/pages/pingou_second/index_sectab/index_sectab","/pages/pingou_second/promote/index","/pages/pingou_second/bipin/index","/pages/pingou/ziying/ziying","pages/pingou_second/ziying/ziying"],b=(e=e.replace(/^\/pages\/item\/(pingou\/pingou|featured\/featured)/,"/pages/item/detail/detail")).split("?")[0];if(!v&&m.includes(b)&&d.skipSwitchUrl&&(d.skipSwitchUrl=!1),"string"==typeof i){var _=[i,{}];d=_[0],i=_[1]}"string"==typeof d&&(d={method:d});var h=d.method||"navigateTo",w=[{url:"/pages/my/account/account",appId:"wx91d27dbf599dff74",source:"app_pingou"},{url:"/pages/my_pages/account/account",appId:"wx91d27dbf599dff74",source:"app_pingou"},{url:"/pages/cate/cate",appId:"wx91d27dbf599dff74",source:"app_pingou"},{url:"/pages/my/ecard/bind/bind",appId:"wx91d27dbf599dff74",source:"app_pingou"},{url:"/pages/my_pages/ecard/bind/bind",appId:"wx91d27dbf599dff74",source:"app_pingou"},{url:"/pages/my/index/index",appId:"wx91d27dbf599dff74",source:"app_pingou"},{url:"/pages/data_station/index/index",appId:"wx91d27dbf599dff74",source:"app_pingou"}],I=w.findIndex(function(a){return 0==e.indexOf(a.url)}),O=(getApp()||{}).appId,T=-1!=I?w[I].appId:O,j=-1!=I?w[I].source:"";if(O==T||-1==I){if(/^(https?:)?\/\//i.test(e)&&(i.url=e,e="/pages/h5/index"),!d.skipSwitchUrl){var k=s.switchUrl(e,i);e=k.url,i=k.params}var P=["/pages/pingou_second/tuan99v2/tuan99v2","/pages/pingou_second/yiyuanxinren/yiyuanxinren","/pages/pingou_second/laoyaoxin/laoyaoxin"];if(!v&&P.findIndex(function(a){return 0==e.indexOf(a)})>=0){g.addPr(e,i);for(var q in i)null!==i[q]&&"object"===o(i[q])&&(i[q]=JSON.stringify(i[q]));var S=e+"?"+p.querystring(i);wx.navigateToMiniProgram({appId:"wxca1fe42a16552094",path:S,envVersion:"release",extraData:d.extraData?d.extraData:{}})}else{if(-1!==e.indexOf("?")){var B=e.split("?");e=B[0],i=Object.assign(p.querystr(B[1]).query,i)}g.addPr(e,i),console.info("[goto] --\x3e "+e+" , params: ",i);var D=p.getRandomID("Px");i.navStart=new Date,i.referer=p.getPageUrl().vurl,v&&Object.assign(i,y);var U=!1;[/^plugin:\/\/unionBlankPlugin\//i,/^\/pages\/family\//i].forEach(function(a){a.test(e)&&(U=!0)}),l.set(D,i),i=1129==getApp().scene||U?p.querystring(i):p.querystring(a({},f,D));var z=v?["/pages/pingou/index/index","/pages/pingou/cate/cate","/pages/pingou/live/index_main/index","/pages/cart/cart/index","/pages/pingou/account/index"]:["/pages/index/index","/pages/cate/cate","/pages/cart/cart/index","/pages/my/index/index"];"/pages/cart/cart/cart"==e?h="navigateTo":-1!=z.findIndex(function(a){return a==e})&&(h="switchTab"),0!==e.indexOf("/pages/index/index")&&0!==e.indexOf("/pages/pingou/index/index")||(getApp().navigateToIndexByCode=!0),"switchTab"==h&&getApp().event.emit("wxapp:switchTab");var A=getCurrentPages();"navigateTo"==h&&A.length>=x-3&&(h="redirectTo"),"navigateToByForce"==h&&(h="navigateTo");var M=A.length>1?A[A.length-2]:"";if(M&&M.data&&M.data.autoNavBack){var N=M.route||M.__route__;("function"==typeof M.canAutoNavBack?M.canAutoNavBack(N,e):N==e)&&(h="navigateBack")}"navigateTo"==h&&A.length==x&&(h="redirectTo"),"navigateBack"!=h&&c.Pretreatment.onNavigate(e,l.get(D)||{});var C=d,F=C.fail,G=void 0===F?r:F,J=C.success,V=void 0===J?n:J;"/pages/pingou_second/search/search"==e&&(e="/pages/search_pg/index/index"),wx[h]({url:e+"?"+i,fail:function(a){t(e),G(a)},success:V})}}else{g.addPr(e,i),j&&(i.source=j);for(var E in i)null!==i[E]&&"object"===o(i[E])&&(i[E]=JSON.stringify(i[E]));var H=e+"?"+p.querystring(i);wx.navigateToMiniProgram({appId:T,path:H,envVersion:"release",extraData:d.extraData?d.extraData:{}})}}function n(e){}function t(e){(0,d.umpBiz)({bizid:777,operation:v?111:110,result:1,message:"url="+e})}function r(){var e=v?"/pages/pingou/index/index":"/pages/index/index";wx.switchTab({url:e,success:function(){setTimeout(function(){wx.showModal({content:"抱歉，您访问的页面暂时失联中，请稍候再试",confirmText:"好的",showCancel:!1})},200)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onGotoFail=exports.getParams=exports.gotoItem=exports.goto=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=e(require("./utils.js")),s=e(require("./h5jump.js")),g=e(require("./pr.js")),u=e(require("./cookie-v2/cookie")),d=require("./fe_report/usability"),c=require("./pretreatment"),l=new Map,f="__pid",x=10,v=2==u.getCookie("wxapp_type");exports.goto=i,exports.gotoItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a.useH5){var n="https://wqitem.jd.com/item/view?sku="+e.sku;return i("/pages/h5/index",Object.assign({},e,{url:n}),Object.assign({},a,{skipSwitchUrl:!0}))}return i("/pages/item/detail/detail",e,a)},exports.getParams=function(e){if(e&&e[f]){var a=e[f];e=l.get(a)||{},l.delete(a)}return e},exports.onGotoFail=r; 
 			}); 
		define("common/numberp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function r(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)}function t(r){var t=r.toString().split(/[eE]/),e=(t[0].split(".")[1]||"").length-+(t[1]||0);return e>0?e:0}function e(r){if(-1===r.toString().indexOf("e"))return Number(r.toString().replace(".",""));var e=t(r);return e>0?r*Math.pow(10,e):r}function n(r){(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&console.warn(r+" is beyond boundary when transfer to integer, the results may not be accurate")}function o(a,i){for(var u=arguments.length,l=Array(u>2?u-2:0),s=2;s<u;s++)l[s-2]=arguments[s];if(l.length>0)return o.apply(void 0,[o(a,i),l[0]].concat(r(l.slice(1))));var p=e(a),c=e(i),f=t(a)+t(i),h=p*c;return n(h),h/Math.pow(10,f)}function a(e,n){for(var i=arguments.length,u=Array(i>2?i-2:0),l=2;l<i;l++)u[l-2]=arguments[l];if(u.length>0)return a.apply(void 0,[a(e,n),u[0]].concat(r(u.slice(1))));var s=Math.pow(10,Math.max(t(e),t(n)));return(o(e,s)+o(n,s))/s}function i(e,n){for(var a=arguments.length,u=Array(a>2?a-2:0),l=2;l<a;l++)u[l-2]=arguments[l];if(u.length>0)return i.apply(void 0,[i(e,n),u[0]].concat(r(u.slice(1))));var s=Math.pow(10,Math.max(t(e),t(n)));return(o(e,s)-o(n,s))/s}function u(a,i){for(var l=arguments.length,s=Array(l>2?l-2:0),p=2;p<l;p++)s[p-2]=arguments[p];if(s.length>0)return u.apply(void 0,[u(a,i),s[0]].concat(r(s.slice(1))));var c=e(a),f=e(i);return n(c),n(f),o(c/f,Math.pow(10,t(i)-t(a)))}function l(r,t){var e=Math.pow(10,t);return u(Math.round(o(r,e)),e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.plus=a,exports.minus=i,exports.times=o,exports.divide=u,exports.round=l,exports.digitLength=t,exports.float2Fixed=e,exports.default={plus:a,minus:i,times:o,divide:u,round:l,digitLength:t,float2Fixed:e}; 
 			}); 
		define("common/pay_util/payUtil.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkUserId=exports.setUnpl=void 0;var e=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../cookie-v2/cookie.js"));exports.setUnpl=function(t){if(t&&0!=t.length){var r=t[0].unpl;r&&e.setCookie({data:{unpl:{value:r,maxAge:1296e3}}})}},exports.checkUserId=function(e){var t=void 0,r=void 0,i=void 0,n=void 0,o=void 0,s=void 0,u=void 0,d=void 0,l=void 0,a=void 0,v={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};if(o=["1","0","x","9","8","7","6","5","4","3","2"],s=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],t="",18!=e.length)return"身份证号码长度应该为18位";if(18==e.length?t=e.substring(0,17):15==e.length&&(t=e.substring(0,6)+"19"+e.substring(6,15)),!/^\d+$/.test(t))return"身份证格式错误";if(r=t.substring(6,10),i=t.substring(10,12),n=t.substring(12,14),0==/[1-9]\d{3}\-(0[1-9]|1[0-2])\-([0-2]\d|3[0-1])/.test(r+"-"+i+"-"+n))return"身份证生日无效。";if((new Date).getFullYear()-r>150||(new Date).getTime()-new Date(r,i-1,n).getTime()<0)return"身份证生日不在有效范围";if(i>12||0==i)return"身份证月份无效";if(n>31||0==n)return"身份证日期无效";if(!v[t.substring(0,2)])return"身份证地区编码错误";for(d=0,u=0;u<17;u++)d+=t.charAt(u)*s[u];return l=d%11,a=o[l],t+=a,18!=e.length?"":t!=e.toLowerCase()?"不是合法的身份证号码":""}; 
 			}); 
		define("common/polyfill.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e});var t=Function.bind.call(Function.call,Array.prototype.reduce),n=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),e=Function.bind.call(Function.call,Array.prototype.concat),r=Reflect.ownKeys;Object.values||(Object.values=function(o){return t(r(o),function(t,r){return e(t,"string"==typeof r&&n(o,r)?[o[r]]:[])},[])}),Object.entries||(Object.entries=function(o){return t(r(o),function(t,r){return e(t,"string"==typeof r&&n(o,r)?[[r,o[r]]]:[])},[])}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,n){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if(0===r)return!1;for(var o=0|n,c=Math.max(o>=0?o:r-Math.abs(o),0);c<r;){if(function(t,n){return t===n||"number"==typeof t&&"number"==typeof n&&isNaN(t)&&isNaN(n)}(e[c],t))return!0;c++}return!1}}); 
 			}); 
		define("common/pr.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addPrToH5=exports.addPr=void 0;var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r}(require("./utils.js")),r={"/pages/seckill/index/index":{pr:25,next:["/pages/seckill/category/category","/pages/seckill/brand/brand","/pages/seckill/detail/detail","/pages/seckill/cate/cate"]},"/pages/brand/index":{pr:51,next:["/pages/h5/index"]},"/pages/pingou/index/index":{pr:4,next:["/pages/pingou/tuan99/tuan99","/pages/pingou/ziying/ziying","/pages/pingou/my/my"]}};exports.addPr=function(n,t){var a=e.getPageUrl().route,i=r["/"+a];i&&-1!=i.next.findIndex(function(e){return e==n})&&(t.pr=i.pr)},exports.addPrToH5=function(r,n){if(!n)return r;var t=r.match(/([^?]*)\??(.*)/),a=e.querystr(t[2]||"");return a.query.pr=conf.pr,t[1]+"?"+e.querystr(a.query)+(a.hash?"#"+a.hash:"")}; 
 			}); 
		define("common/pretreatment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(){var e=wx.getLaunchOptionsSync().scene,n=void 0===e?0:e;return i.SPIDER===n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pretreatment=void 0;var r=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../libs/emitter.js")),a=require("../common/url_utils"),u=new t.default,o={},i={SPIDER:1129},l=function(){function n(){e(this,n)}return r(n,null,[{key:"getAllPages",value:function(){return getCurrentPages()}},{key:"isExist",value:function(e){return-1!==this.getAllPages().findIndex(function(n){return n.route===e})}},{key:"prev",value:function(){var e=this.getAllPages();return e[e.length-1]}}]),n}(),c=function(){function t(){e(this,t)}return r(t,null,[{key:"register",value:function(e){var n=__wxRoute||"";n&&(e.onNavigate||e.onPreLoad)&&(e.onPreLoad&&u.on("preload:"+n,function(e,n){o[e].onPreLoad({page:l.prev(),url:e,params:n})}),o[n]=e)}},{key:"onNavigate",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.replace(/^\//,""),a=o[t];a&&!n()&&a.onNavigate&&a.onNavigate({page:l.prev(),url:e,params:r})}},{key:"preload",value:function(e){var r=e.replace(/^\/|\?.*/g,"");r&&!n()&&u.emit("preload:"+r,r,(0,a.getQueryArray)(e))}}]),t}();exports.Pretreatment=c; 
 			}); 
		define("common/recovery/coss.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e.replace("//wq.jd.com/mcoss/","//wqcoss.jd.com/mcoss/")}function r(r){if(!c&&1!=s.open||!r||!t.length)return r;for(var i=0,l=t.length;i<l;i++){var a=t[i];if(e(r,"cgi").indexOf(a.cgiUrl)>-1&&(c||"1"==s.recoveryAll||n<a.vk))try{return o(a,r)}catch(e){return console.warn("createRecoverUrl:"+e),r}}return r}function o(e,r){if("md5"==e.recoveryType){if(!l._coss_cgi_recovery)return r;var o=r.split("/"),s=o[o.length-2],t=o[o.length-1].split("?")[0],c=decodeURIComponent(r.split("?")[1]||""),n={},u=c.split("&").map(function(r){var o=r.split("=")[0];if(e.batchParamKey&&e.sep){for(var s=e.batchParamKey.split("|"),t=e.sep.split(""),c=!1,i=0,l=s.length;i<l;i++){var a=s[i],u=t[i];if(o==a){var v=(r.split("=")[1]||"").split(u);n[o]=o+"="+v.sort().join(u),c=!0;break}}!c&&(n[o]=r)}else n[o]=r;return o}),v=a[s]||[];(u=u.filter(function(e){var r=!!n[e].split("=")[1],o=v.some(function(r){return e==r});return r&&o})).sort();var p=u.reduce(function(e,r,o){return e+"_"+n[r].replace(/[,:;|\/=]/g,"_")},"mcoss_"+s+"_"+t);console.log("[Coss Recovery] md5Str: ",p);var d=i.md5.getHash(p),f=(n[e.pKey]||"").split("=")[1],g=f.match(/[;|,]/);return g&&(f=f.split(g[0])[0]),(f=parseInt(f))||(f=0),"seckill"==s&&"pingou"==t&&(s="pingou_v0"),"//wqs.jd.com/data/coss/recovery/"+s+"2/"+f+"/"+d+".shtml?"+c}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCossRecovery=exports.setPpmsConfigData=exports.setCossConfigData=void 0;var s=void 0,t=void 0,c=void 0,n=0,i={md5:{getHash:function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/md5.js")).default.hexMD5}},l={_coss_cgi_recovery:null},a=void 0;exports.setCossConfigData=function(e){l._coss_cgi_recovery=e,a=e,console.log("[Coss Recovery] _coss_cgi_recovery: ",e)},exports.setPpmsConfigData=function(e){t=(s=e).rules||[],console.log("[Coss Recovery] cgiRule: ",s)},exports.getCossRecovery=function(e){if(!a||!s)return e;var o=!1,t=e;return 0===(e=r(e)).indexOf("//wqs.jd.com/data/coss/recovery/")&&(o=!0,e="https:"+e,console.log("[Coss Recovery] didRecover, src: "+t+" ; dist: "+e)),{url:e,didRecover:o}}; 
 			}); 
		define("common/recovery/init.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){r.request.get({url:a}).then(function(e){var r=e.body;Object.keys(r).length>0&&s.setCossConfigData(r)}),t.getPPMS(i).then(function(e){s.setPpmsConfigData(e&&e[0])}),(0,u.globalConfigGet)().then(function(e){var r=e.item,t=e.search;n.setStatus(r&&r.recovery&&1==r.recovery.enabled),o.setStatus(t&&t.recovery&&1==t.recovery.enabled),o.setPgStatus(t&&t.pg_recovery&&1==t.pg_recovery.enabled)})};var r=require("../request/request.js"),t=e(require("../biz.js")),s=e(require("./coss.js")),o=e(require("./search.js")),n=e(require("./item.js")),u=require("../global_config.js"),a="https://wq.360buyimg.com/data/coss/cgi_recovery.jsonp",i=34006; 
 			}); 
		define("common/recovery/item.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRecoveryUrl=function(e){if(1==t&&e)return"https://wqs.jd.com/item/jd.shtml?sku="+e},exports.setStatus=function(e){t=e};var t=void 0; 
 			}); 
		define("common/recovery/search.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRecoveryUrl=function(t){if(1==e)return"https://wqs.jd.com/search/index.shtml?forcewqs=1&key="+encodeURIComponent(t||"")},exports.setStatus=function(t){e=t},exports.getPgRecoveryUrl=function(e){if(1==t)return e?"https://wqsou.jd.com/search/searchn?key="+encodeURIComponent(e||"")+"&frompg=1&newpg=1&env=wxapp&forceh5=1":"https://wqs.jd.com/pingou/search/index.shtml?frompg=1&newpg=1&env=wxapp&forceh5=1"},exports.setPgStatus=function(e){t=e};var e=void 0,t=void 0; 
 			}); 
		define("common/report/device.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var o=[];for(var t in e)o.push(encodeURIComponent(t)+":"+encodeURIComponent(e[t]));return{contents:o.join("|")}}Object.defineProperty(exports,"__esModule",{value:!0});var o="https://wq.jd.com/webmonitor/collect/device.json";exports.reportDevice=function(){var t=this&&this.version;wx.getSystemInfo({success:function(n){wx.getNetworkType({success:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.networkType=r.networkType,n.wxapp_version=t,delete n.errMsg,wx.$.request.post({url:o,data:e(n),priority:"REPORT"}).then(function(e){return console.log("上报设备信息成功")}).catch(function(e){return console.error("上报设备信息失败")})},fail:function(e){console.error("wx.getNetworkType fail: ",e)}})},fail:function(e){console.error("wx.getSystemInfo fail: ",e)}})}; 
 			}); 
		define("common/report/memory.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../fe_report/usability");exports.default=function(){if("function"==typeof wx.onMemoryWarning){var i={jd:105,pingou:107}[this&&this.wxAppName];wx.onMemoryWarning(function(){var o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).level,r=void 0===o?1:o;i&&(0,e.umpBiz)({bizid:777,operation:i,result:r}),console.warn("Memory Warning! Level: "+r)})}}; 
 			}); 
		define("common/report/pps.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){(0,e.request)({method:"GET",url:"https://wq.jd.com/mcoss/rpds/report",data:{pps:r.decode(t)},priority:"REPORT"}).then(function(e){console.log("pps 点击上报成功")}).catch(function(e){console.warn("pps 点击上报失败")})};var e=require("../request/request.js"),r=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../utils.js")); 
 			}); 
		define("common/report/report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){-415!=e.errCode&&(e.errMsg=e.errMsg||"",e.errMsg=e.errMsg.replace(/[,|]/g," ").replace(/(\r\n|\r|\n)+/g," "),e.errMsg=encodeURIComponent(e.errMsg));var o=r(e.url)||e.url;return[355,1,~~e.errCode,0,encodeURIComponent(e.page||"unrealized"),encodeURIComponent(o),e.errMsg,encodeURIComponent(e.responseTime||NaN),encodeURIComponent(e.env)].join("|")}function r(e){var r="[none]";if(e.match(/^https:\/\/[^\/]+\/([^?]*)/))r=e.match(/^https:\/\/[^\/]+\/([\S]*)/)[1];else if(e.match(/^\/[^\/]+\//)){var o=e.split("/");o.shift(),o.shift(),r=o.join("/")}else r="[raw]"+r;return r}function o(){g||(g=getApp());var e={};return e.brand=g.systemInfo.brand,e.model=g.systemInfo.model,e.SDKVersion=g.systemInfo.SDKVersion,e.platform=g.systemInfo.platform,e.system=g.systemInfo.system,e.version=g.systemInfo.version,e.appVersion=g.version,e.networkType=g.networkType,JSON.stringify(e)}function t(e){var r=e.error,t=e.ump,s=e.cached;if(t&&!s){var n=t.bizId,i=t.opId,a=t.errBizId,l=t.errOpId,d=t.reportHook,g=t.traceid,f=void 0;if(!r&&n&&i&&"json"==e.dataType){var m=void 0,v=void 0;if("function"==typeof d){var y=d(e.body)||{};if(m=y.code,v=y.message,void 0===m)return void console.warn("无效的 ump.reportHook! url: "+e.url)}else{if(u.some(function(r){if(void 0!==e.body[r])return m=e.body[r],!0}),void 0===m)return void console.warn("未找到可用的返回码字段，请使用 ump.reportHook！url:  + task.url");0!=m&&c.some(function(r){if(void 0!==e.body[r])return v=e.body[r],!0})}if(0==m)f=[n,i,0,0,""];else{var b="msg="+(v||"").replace(/[,|\r\n]/g," ")+"&url="+encodeURIComponent(e.url)+"&version="+getApp().version;f=[n,i,~~m,0,b]}}else r&&a&&l&&(f=[a,l,1,0,"code="+(~~r.code||1)+"&msg="+r.message.replace(/[,|\r\n]/g," ")+"&url="+encodeURIComponent(e.url)+"&version="+getApp().version]);f&&(g&&f.push(g),h.logs.push(f.join("|")),h.reportData())}if(r){if(-415==r.code){var M=o(),C="response content parse error. content: "+e.rawBody+"+"+r.message+"+"+M;return C=p.base64encode(encodeURIComponent(C)),{errCode:"-415",errMsg:C}}return{errCode:r.code,errMsg:r.message+(r.detail?"("+JSON.stringify(r.detail)+")":"")}}}function s(e){var r=!0;return f.forEach(function(o){e.match(o)&&(r=!1)}),r}function n(){var e=getCurrentPages();return e.length?e[e.length-1].route:"no page"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Report=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}(require("../base64/base64.js")),a=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/md5.js")),l=require("../fe_report/speed.js"),d=require("../fe_report/usability"),u=["errCode","errcode","retCode","retcode","ret","errId","iRet","ret_code","resultCode","code"],c=["errMsg","errmsg","retMsg","retmsg","msg"],g=null,f=[/biz\.json/,/log\.gif/,/fd\.3\.cn\/cesu/],h={reportPromiseErr:!1,createPromiseReport:function(e){e||console.error("BadjsReporter必须指定文件路径");var r=e||"default",o=this;return{reportPromiseError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!o.reportPromiseErr)return;var r=this._pretreatErr(e),t=getApp();r&&t.onError(r)}catch(e){console.error("promise error report failed",e)}},_pretreatErr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.stack&&-1===e.stack.indexOf("网络")?"promiseError: at "+n()+"(in "+r+") "+e.stack:""}}},reportWsFailed:function(r){var o=r.error,t=r.res,s=void 0,n=e({url:"http_ws",errCode:"-1",errMsg:("websocket response parse failed, msg: "+o+", response data: "+(s="object"==(void 0===t?"undefined":i(t))?JSON.stringify(t):""+t)).replace(/(\r\n|\r|\n)+/g," "),responseTime:"-1",page:"http_ws",env:getApp().version});this.logs=this.logs||[],this.logs.push(n),this.reportData()},reportWsError:function(r){var t=r.error,s=r.type;try{var p=o(),l=n(),d=void 0;d="object"==(void 0===t?"undefined":i(t))?JSON.stringify(t):""+t;var u=e({url:"http_ws",errCode:"-2",errMsg:("timestamp: "+a.default.hexMD5(Date.now()+Math.random()+"")+"+"+d+"+"+s+"+"+p+"+"+l).replace(/(\r\n|\r|\n)+/g," "),responseTime:"-1",page:"http_ws",env:getApp().version});this.logs=this.logs||[],this.logs.push(u),this.reportData()}catch(e){console.error(e)}},report:function(r){var o=this;if(this.logs=this.logs||[],r.responseList&&r.responseList.length&&r.responseList.forEach(function(r){var s=t(r);if(s){var i=e({url:r.url,errCode:s.errCode,errMsg:s.errMsg,responseTime:r.responseTime-r.requestTime,page:n(),env:getApp().version});o.logs.push(i)}}),s(r.url)){var i=t(r);if(!i)return;var p=e({url:r.url,errCode:i.errCode,errMsg:i.errMsg,responseTime:r.responseTime-r.requestTime,page:n(),env:getApp().version});this.logs.push(p)}this.logs.length&&this.reportData()},reportData:function(){this.logs=this.logs||[],this.logs.length&&((0,d.startWebMonitorRequest)(this.logs),this.logs=[])},reportSpeed:function(e){var r=e.speedPageId,o=e.speedPointId,t=e.speedSamplingRate,s=void 0===t?.1:t;if(e.speed.end=Date.now(),(r||o)&&e.speed&&!e.cached&&!e.responseList.length){var n=e.speed,i=n.start,p=n.httpPush,a=n.httpReq,d=n.httpReqSucc,u=n.jsonParse,c=n.wsPush,g=n.wsRequest,f=n.wsSendMsg,h=n.wsOnMsg,m=n.end,v={};if(Math.random()<s){if(o)return v["s"+o]=m-i,l.Speed.reportAlone(1246,v),void console.log("接口测速上报：",JSON.stringify(v));"http"==e.channel&&d?v={s3:p-i,s4:a-i,s5:d-i,s6:m-i}:"socket"==e.channel&&h&&(v={s11:c-i,s12:g-i,s13:f-i,s14:h-i,s15:m-i}),void 0!==u&&(v.s1=u),l.Speed.reportAlone(r,v),console.log("接口详细测速上报：",JSON.stringify(v))}}},reportConnectTime:function(e){Math.random()>.2||(l.Speed.reportAlone(1246,{s4:e}),console.log("WS 连接耗时上报：",e))},reportHttp:function(e){if(-1==e.indexOf("/webmonitor/collect/biz.json")){var r=[777,103,1,0,e].join("|");this.logs=this.logs||[],this.logs.push(r),this.reportData(),console.log("[Request] HTTP 请求量上报",e)}}};wx.JDReport=h,exports.Report=h; 
 			}); 
		define("common/request/error.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r={DEFAULT_ERROR:{code:1,message:"网络繁忙，请稍后再试"},TIMEOUT_ERROR:{code:-10,message:"您的网络有点慢"},CONNECT_ERROR:{code:-20,message:"网络连接发起失败"},STATUS_CODE_ERROR:{code:-30,message:"网络响应状态码异常"},REQUEST_ERROR:{code:-40,message:"网络请求发送失败"},GATEWAY_ERROR:{code:-50,message:"网络连接建立失败"},SEND_MSG_ERROR:{code:-424,message:"网络消息发送失败"}},s={code:-415,message:"网络数据解析失败"},n={code:-1024,message:"域名异常，请求无法完成"},R=function(s){function n(o){e(this,n),"string"==typeof o&&(o={message:o});var s=o,R=s.code,c=void 0===R?r.DEFAULT_ERROR.code:R,a=s.message,i=void 0===a?r.DEFAULT_ERROR.message:a,E=s.detail,O=void 0===E?"NETWORK ERROR":E,p=t(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i));return p.code=c,p.detail=O,p}return o(n,Error),n}();R.NETWORK=r,R.JSON_ERROR=s,R.SPECIAL_DOMAIN=n,exports.JDError=R,exports.NETWORK=r,exports.JSON_ERROR=s,exports.SPECIAL_DOMAIN=n; 
 			}); 
		define("common/request/http.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HTTP=void 0;var r=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),t=require("./queue.js"),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("./url.js")),u=require("./error.js"),a=!1,o=function(){function o(){e(this,o)}return r(o,null,[{key:"init",value:function(){this.queue=new t.Queue(this.request.bind(this),10,8500)}},{key:"request",value:function(e,r){var t=e.data,n=e.header,o=e.method,i=void 0===o?"GET":o,s=e.dataType,c=void 0===s?"json":s,l=e.priority,d=e.referer;(a||e._httpDirect)&&"GBK"!=e.encoding?e.http_uri=e.url:e.http_uri=this.getURI(e),e.speed.httpReq=Date.now(),wx.request({url:e.http_uri,data:t,header:Object.assign({wqreferer:d},n),method:i,dataType:c,success:function(t){var n=t.data,a=t.statusCode,o=t.header;e.speed.httpReqSucc=Date.now();var i={code:a,body:n,header:o};if(200!==a){var s=new u.JDError({code:u.JDError.NETWORK.STATUS_CODE_ERROR.code,message:u.JDError.NETWORK.STATUS_CODE_ERROR.message,detail:a});return r(s,i)}return r(null,i)},fail:function(e){if("REPORT"==l&&/\bUTF-?8\b/i.test(e&&e.errMsg))return r(null,{code:200,body:{},header:n});var t=new u.JDError({code:u.JDError.NETWORK.REQUEST_ERROR.code,message:u.JDError.NETWORK.REQUEST_ERROR.message,detail:e});return r(t)}})}},{key:"push",value:function(e){e.channel="http",e.speed.httpPush=Date.now(),this.queue.push(e,this.getHandler.bind(this))}},{key:"getHandler",value:function(e,r,t){try{if(e)return r.callback(e,t);var n=t.body,u=t.header;return r.callback(null,{body:n,header:u})}catch(e){console.warn("handler",e)}}},{key:"getURI",value:function(e){return n.toProxyURI(e.url,e.encoding)}},{key:"setDebugMode",value:function(){a=!0,console.warn("[HTTP.setDebugMode] 启用HTTP 直连调试！")}}]),o}();o.init(),exports.HTTP=o; 
 			}); 
		define("common/request/plugins/cache.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function t(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cache=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=require("./plugin.js"),u=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../localStorage.js")),i=function(i){function a(){return e(this,a),r(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return t(a,o.Plugin),n(a,null,[{key:"request",value:function(e,r){if(e.ignoreCache||!e.expire)return r();var t="Request_"+(e.cacheKey||e.url);u.get(t).then(function(t){var n=t.body,o=t.header;return e.cached=!0,e.code=200,e.rawBody=JSON.stringify(n),e.body=n,e.resHeader=o,r()},function(e){return r()})}},{key:"response",value:function(e,r){if(e.error)return r();if(!e.expire)return r();var t="Request_"+(e.cacheKey||e.url);e.handler.clearCache=function(){u.remove(t)},r(),e.cached||u.set(t,{body:e.body,header:e.resHeader},{expire:e.expire})}}]),a}();exports.Cache=i; 
 			}); 
		define("common/request/plugins/coss.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function t(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Coss=void 0;var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),n=require("./plugin.js"),u=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../recovery/coss.js")),i=function(i){function c(){return e(this,c),r(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return t(c,n.Plugin),o(c,null,[{key:"request",value:function(e,r){if("GET"==e.method&&!e.cached){var t={};try{t=u.getCossRecovery(e.url)}catch(e){console.error("coss.getCossRecovery error! ",e)}t.didRecover&&(e.url=t.url,delete e.expire)}r()}}]),c}();exports.Coss=i; 
 			}); 
		define("common/request/plugins/dispatcher.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setDebugChannel=exports.Dispatcher=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=require("./plugin.js"),a=require("../http.js"),c=require("../socket.js"),i={http:{handler:a.HTTP,score:1},socket:{handler:c.Socket,score:1}},u=function(a){function c(){return e(this,c),t(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return n(c,o.Plugin),r(c,null,[{key:"init",value:function(){this.current="socket"}},{key:"request",value:function(e,t){if(e.cached)return t();var n=this.getChannel();return e.callback=t,e.exchangeFn=this.retryChannel.bind(this),"socket"!=this.current&&e.id%10==9&&(n=this.getChannelByType("socket")),e.channel&&(n=this.getChannelByType(e.channel)),n.push(e)}},{key:"getChannel",value:function(){var e=this.current;return i.socket.score>.9?e="socket":i[this.current].score<.2&&(e=this.getAnotherType()),this.current=e,this.getChannelByType(e)}},{key:"getAnotherType",value:function(){return"socket"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current)?"http":"socket"}},{key:"getChannelByType",value:function(e){return i[e].handler}},{key:"response",value:function(e,t){t(),this.evaluateChannel(e)}},{key:"evaluateChannel",value:function(e){var t=e.code,n=e.channel;if(n){var r=t?1:0;i[n].score=(i[n].score+r)/2}}},{key:"retryChannel",value:function(e){e.referChannel=e.channel;var t=this.getAnotherType(e.referChannel),n=this.getChannelByType(t);return this.evaluateChannel({code:e.code,channel:e.referChannel}),n.push(e)}}]),c}();u.init(),exports.Dispatcher=u,exports.setDebugChannel=function(e){"http"==e?i.socket.handler=a.HTTP:"httpDirect"==e?(a.HTTP.setDebugMode(),i.socket.handler=a.HTTP):"ws"==e&&(i.http.handler=c.Socket),console.warn("[Dispatcher.setDebugChannel] 启用网络请求调试模式！",e)}; 
 			}); 
		define("common/request/plugins/plugin.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),t=function(){function t(){e(this,t)}return n(t,null,[{key:"request",value:function(e,n){n()}},{key:"response",value:function(e,n){n()}}]),t}();exports.Plugin=t; 
 			}); 
		define("common/request/plugins/report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Report=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=require("./plugin.js"),i=function(i){function u(){return e(this,u),t(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return r(u,n.Plugin),o(u,null,[{key:"response",value:function(e,t){t(),"REPORT"!=e.priority&&(setTimeout(function(){wx.JDReport.report(e)},0),wx.JDReport.reportSpeed(e))}}]),u}();exports.Report=i; 
 			}); 
		define("common/request/plugins/setCookie.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function t(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SetCookie=void 0;var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=require("./plugin.js"),i=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../cookie-v2/cookie.js")),u=["wq_uits","jdAddrId","wid","wq_uin","open_id","wxapp_openid","unionid","wq_unionid","pin","jdpin","pinStatus","mcossmd","cartNum","cartLastOpTime"],a=function(a){function s(){return e(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return t(s,o.Plugin),n(s,null,[{key:"response",value:function(e,r){if(r(),e.resHeader){var t=e.resHeader["set-cookie"]||e.resHeader["Set-Cookie"]||[];if("string"==typeof t&&(t=t.replace(/(Expires=[^;]+),/gi,"$1_").split(",").map(function(e){return e.replace(/(Expires=[^;]+)_/,"$1,")})),!Array.isArray(t))return;var n=(t=t.map(function(e){return e.trim()})).filter(function(e){var r=e.substr(0,e.indexOf("="));return-1!==u.findIndex(function(e){return e===r})});e.resHeader["set-cookie"]=n}i.setCookieInHeader({header:e.resHeader})}}]),s}();exports.SetCookie=a; 
 			}); 
		define("common/request/process.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n){var s=new r.Task(e,n);return s.speed.start=Date.now(),s.requestStart=Date.now(),o(s,function(){s.requestEnd=Date.now();var e={body:s.body,header:s.resHeader,handler:s.handler};return n(s.error,e)})};var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/async.min.js")),r=require("./task.js"),n=require("./plugins/report.js"),s=require("./plugins/setCookie.js"),t=require("./plugins/cache.js"),u=require("./plugins/coss.js"),i=require("./plugins/dispatcher.js"),a=[n.Report,s.SetCookie,t.Cache,u.Coss];a.push(i.Dispatcher);var o=function(r){return function(n,s){e.default.applyEachSeries(r.map(function(e){return e.request.bind(e)}),n,function(){e.default.applyEachSeries(r.slice().reverse().map(function(e){return e.response.bind(e)}),n,function(){s(n)})})}}(a); 
 			}); 
		define("common/request/queue.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PRIORITY=exports.Queue=void 0;var r=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/async.min.js")),o=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("./util.js")),n=require("./error.js"),u=8e3,a={RETRY:0,HIGH:10,NORMAL:20,REPORT:30},i=function(){function i(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;arguments.length>2&&void 0!==arguments[2]&&arguments[2];e(this,i),this._request=r,this._queue=t.default.priorityQueue(this.worker.bind(this),o)}return r(i,[{key:"push",value:function(e,r,t){return e.uniKey&&this._queue.remove(i.testUniKey(e.uniKey)),t=t||e.priority||"NORMAL",t=a[t]||a.NORMAL,this._queue.push(e,t,this.callback(e,r))}},{key:"worker",value:function(e,r){e.requestTime=Date.now(),t.default.timeout(this._request,e.timeout||u)(e,r)}},{key:"callback",value:function(e,r){var t=this;return function(o){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.responseTime=Date.now();var a=u.code,s=u.body,c=u.header;if(e.code=a,e.rawBody=s,e.resHeader=c,!o){var d=i.formatBody(e);return e.body=d,r(e.error,e,{code:a,body:d,header:c})}if("ETIMEDOUT"==o.code&&(o=new n.JDError({code:n.JDError.NETWORK.TIMEOUT_ERROR.code,message:n.JDError.NETWORK.TIMEOUT_ERROR.message,detail:o.code})),e.responseList.push({url:e.url,code:a,rawBody:e.rawBody,resHeader:e.resHeader,requestTime:e.requestTime,responseTime:e.responseTime,channel:e.channel,error:o}),302==a&&c&&c.Location&&/jd\.com\//.test(c.Location)){e.referrer=e.url;var l=c.Location.trim().replace(/^(http:)?\/\//,"https://");return e.url=l,t.push(e,r,"RETRY")}if("REPORT"!==e.priority){if(o.code!=n.JDError.NETWORK.CONNECT_ERROR.code&&o.code!=n.JDError.NETWORK.GATEWAY_ERROR.code||(e.retryNum=0),e.retryNum)return e.retryNum-=1,t.push(e,r,"RETRY");if(e.exchangeFlag)return e.exchangeFlag=!1,e.exchangeFn(e)}else if(e.exchangeFlag)return e.exchangeFlag=!1,e.exchangeFn(e);return e.responseList.pop(),e.error=o,r(o,e)}}},{key:"workers",get:function(){return this._queue.workersList()}}],[{key:"testUniKey",value:function(e){return function(r){var t=r.data;r.priority;return t.uniKey==e}}},{key:"formatBody",value:function(e){switch(e.dataType){case"json":"string"!=typeof e.rawBody||e.rawBody.trim()||(e.rawBody="{}"),-1!=e.url.indexOf("/recovery")&&"string"==typeof e.rawBody&&(e.rawBody=e.rawBody.replace(/<!--recovery.*?-->/,""));var r=o.formatJSON(e.rawBody),t=r.error,u=r.data,a=r.timeSpent;return void 0!==a&&(e.speed.jsonParse=a),t?void(e.error=new n.JDError({code:n.JDError.JSON_ERROR.code,message:n.JDError.JSON_ERROR.message,detail:t})):u;case"text":default:return e.rawBody}}}]),i}();exports.Queue=i,exports.PRIORITY=a; 
 			}); 
		define("common/request/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(!/^https:\/\//.test(t.url)){var o=/^(http:)?\/\//;if(!o.test(t.url))throw new Error("Invalid Url: "+t.url);t.url=t.url.replace(o,"https://")}return new Promise(function(o,r){(0,n.default)(t,function(t,n){return t?(e&&e(t),r(t)):(e&&e(null,n),o(n))})})}function e(t,e,o){"function"==typeof e&&(o=e);var n={};return"object"===(void 0===e?"undefined":r(e))?Object.assign(n,{data:e},{url:t}):"string"==typeof t?Object.assign(n,{url:t}):Object.assign(n,t),{options:n,cb:o}}function o(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET";return function(r,n,u){var s=e(r,n,u),p=s.options,i=s.cb;return p.method=o,t(p,i)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.del=exports.put=exports.post=exports.get=exports.request=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){return t&&t.__esModule?t:{default:t}}(require("./process.js"));t.get=o("GET"),t.post=o("POST"),t.put=o("PUT"),t.del=o("DELETE"),exports.request=t;exports.get=o("GET"),exports.post=o("POST"),exports.put=o("PUT"),exports.del=o("DELETE"); 
 			}); 
		define("common/request/socket.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Socket=void 0;var r=function(){function e(e,t){var r=[],n=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=require("./queue.js"),o=e(require("./url.js")),i=require("./error.js"),a=require("./request"),c=e(require("../../common/utils")),u=e(require("../../api/APIs")),l=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/md5")),h="wss://"+u.API_GATEWAY_DOMAIN+"/ws",d={CLOSED:"CLOSED",CONNECTING:"CONNECTING",ACTIVE:"ACTIVE",RECONNECTING:"RECONNECTING"},E=!0,f=1,T=void 0,O=function e(r){t(this,e);var n=r.id,s=r.socket_uri,o=r.encoding,i=r.header,a=r.method,c=r.referer,u=r.data;return"[object Object]"!=toString.call(u)&&"[object Array]"!=toString.call(u)||(u=JSON.stringify(u)),{TYPE:"GBK"==o?2:1,REQID:n,URI:s,METHOD:a||"GET",HEADER:Object.assign({referer:c},i),BODY:u||""}},p=function(){function e(){t(this,e)}return n(e,null,[{key:"init",value:function(){this.queue=new s.Queue(this.request.bind(this),1e3),this.setStatus(d.CLOSED),this.requestList={},this.reConnect=c.throttle(this.reConnect.bind(this),500)}},{key:"request",value:function(e,t){var r=this;if(e.speed.wsRequest||(e.speed.wsRequest=Date.now()),e.socket_uri=o.toSocketURI(e.url),this.requestList[e.id]={data:e,callback:t},this.status!==d.ACTIVE||!this.socketTask)return this.connect();var n=new O(e);e.speed.wsSendMsg=Date.now(),this.socketTask.send({data:JSON.stringify(n),fail:function(n){var s=JSON.stringify(n);if(/not connected/.test(s)||/taskID not exist/.test(s)||/socket is closed/.test(s)||/webSocket is closed/.test(s)||/webSocket is not open/.test(s))return r.reConnect("SOCKET_SEND_MSG_ERROR");r.setStatus(d.CLOSED),delete r.requestList[e.id];var o=new i.JDError({code:i.JDError.NETWORK.SEND_MSG_ERROR.code,message:i.JDError.NETWORK.SEND_MSG_ERROR.message,detail:n});return t(o)}})}},{key:"push",value:function(e){e.channel="socket",e.speed.wsPush=Date.now(),this.queue.push(e,this.handler.bind(this))}},{key:"getSignUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ts:Math.round(Date.now()/1e3)},n=getApp(),s=n.version,i=void 0===s?"":s,a=n.appId,c=void 0===a?"":a,u=n.appKey,h=void 0===u?"":u,d=String(i||"").replace(/^v/,""),E=String(h||""),f=t.ts,T=Object.entries({v:d,appid:c,ts:f,appkey:E}).map(function(e){var t=r(e,2);return t[0]+"="+t[1]}).join("&");return e=o.addUrlParam(e,{v:d,appid:c,ts:f,sign:l.default.hexMD5(T)})}},{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;if(t=this.getSignUrl(t),this.status===d.CLOSED)return clearTimeout(this.pingTimer),clearTimeout(this.pongTimer),this.setStatus(E?d.CONNECTING:d.RECONNECTING),E=!1,this._promise=new Promise(function(r,n){T=Date.now(),e.socketTask=wx.connectSocket({url:t,perMessageDeflate:!0,success:function(e){r(e)},fail:function(t){if(/is connected/.test(JSON.stringify(t)))return e.setStatus(d.ACTIVE),r(t);e.setStatus(d.CLOSED);var s={code:i.JDError.NETWORK.CONNECT_ERROR.code,message:i.JDError.NETWORK.CONNECT_ERROR.message,detail:t};e.connectErrorHandler(s),e.exceptionReport("connect error","SOCKET_CONNECT_ERROR"),n(t)},complete:function(e){}}),e.socketTask.onOpen(e.onOpen.bind(e)),e.socketTask.onMessage(e.onMessage.bind(e)),e.socketTask.onClose(e.onClose.bind(e)),e.socketTask.onError(e.onError.bind(e))}),this._promise}},{key:"onOpen",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).header,r=(void 0===t?{}:t)["wsgw-st"];r&&(0,a.get)(this.getSignUrl("https://ws_s",{ts:r})).then(function(){}),T&&wx.JDReport.reportConnectTime(Date.now()-T),f=1,this.setStatus(d.ACTIVE);var n=Object.assign({},this.requestList);this.requestList={},this.queue.workers.forEach(function(t){var r=t.data,s=t.callback;n[r.id]&&(s=n[r.id].callback,e.request(r,s))}),this.nextPing()}},{key:"onMessage",value:function(e){var t=void 0;try{"PONG"===e.data?this.handlePongPacket():t=JSON.parse(e.data)}catch(t){return wx.JDReport.reportWsFailed({error:t,res:e}),console.log("socket data parse error",t)}if(t&&this.requestList[t.REQID]){var r=this.requestList[t.REQID],n=r.data,s=r.callback;n.speed.wsOnMsg=Date.now(),delete this.requestList[t.REQID];var o={body:t.BODY,header:t.HEADER,code:t.CODE};return 200!=t.CODE?s(new i.JDError({code:i.JDError.NETWORK.STATUS_CODE_ERROR.code,message:i.JDError.NETWORK.STATUS_CODE_ERROR.message,detail:t.CODE}),o):s(null,o)}}},{key:"onClose",value:function(e){this.setStatus(d.CLOSED),console.log("socket close")}},{key:"onError",value:function(e){if(this.setStatus(d.CLOSED),f>0)f--,this.reConnect("SOCKET_ON_ERROR");else{var t={code:i.JDError.NETWORK.GATEWAY_ERROR.code,message:i.JDError.NETWORK.GATEWAY_ERROR.message,detail:e};this.connectErrorHandler(t)}this.exceptionReport(e,"SOCKET_ON_ERROR"),console.log("socket error: ",e)}},{key:"handler",value:function(e,t,r){try{if(e)return t.callback(e,r);var n=r.body,s=r.header;return t.callback(null,{body:n,header:s})}catch(e){console.warn("handler",e)}}},{key:"connectErrorHandler",value:function(e){this.queue.workers.forEach(function(t,r){var n=new i.JDError(e);"function"==typeof r&&r(n)}),this.exceptionReport(e.detail,"SOCKET_SWITCH_CHANNEL")}},{key:"reConnect",value:function(e){this.setStatus(d.CLOSED),this.socketTask&&this.socketTask.close(),clearTimeout(this.pingTimer),clearTimeout(this.pongTimer),setTimeout(this.connect.bind(this),1e3);this.exceptionReport("socket reconnect",e)}},{key:"setStatus",value:function(e){this.status!==e&&(this.status=e)}},{key:"handlePongPacket",value:function(){this.nextPing()}},{key:"nextPing",value:function(){clearTimeout(this.pingTimer),clearTimeout(this.pongTimer)}},{key:"ping",value:function(){this.socketTask&&this.socketTask.send({data:"PING"}),this.pongTimer=setTimeout(this.handlePongTimeout.bind(this),1e4)}},{key:"handlePongTimeout",value:function(){this.reConnect("SOCKET_TIMEOUT")}},{key:"reset",value:function(){var e=this;return new Promise(function(t,r){clearTimeout(e.pingTimer),clearTimeout(e.pongTimer),e.setStatus(d.CLOSED),e.socketTask&&e.socketTask.close(),setTimeout(t,1e3)})}},{key:"exceptionReport",value:function(e,t){t&&wx.JDReport.reportWsError({error:e,type:t})}}]),e}();p.init(),exports.Socket=p; 
 			}); 
		define("common/request/task.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Task=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e(require("./util.js")),u=e(require("../cookie-v2/cookie.js")),i=0,c=function(){function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return t(this,e),n.id=i++,n.method=n.method||"GET",n.dataType=n.dataType||"json",n.encoding=n.encoding||"UTF8",n.priority=n.priority||"NORMAL",n.retry="number"==typeof n.retry?n.retry:1,n.retryNum=n.retry,n.exchange=void 0===n.exchange||!!n.exchange,n.exchangeFlag=n.exchange,n.responseList=[],n.callback=o,n.handler={clearCache:function(){}},n.speed={},"http-direct"===n.channel&&(n.channel="http",n._httpDirect=!0,n.exchangeFlag=!1),e.handleSpecialURL(n),n.url=e.formatURL(n),n.data=e.formatData(n),n.header=e.getHeader(n),n.referer=e.getReferer(n),n.expire&&!n.cacheKey&&console.warn("[request] 未指定 cacheKey! url: "+n.url+", referer: "+n.referer),n}return o(e,null,[{key:"getToken",value:function(){var e=u.getCookie("wq_skey");return{g_ty:"ls",g_tk:e?a.getCSRFToken(e):""}}},{key:"formatURL",value:function(t){var r=t.url,o=t.method,u=t.data,i=t.noToken?null:e.getToken(),c=r.indexOf("?")>-1?"&":"?";return"GET"==o&&"object"===(void 0===u?"undefined":n(u))?r+c+a.toFormData(Object.assign({},u,i||{})):i?r+c+a.toFormData(i):r}},{key:"formatData",value:function(e){var t=e.method,r=e.data,n=e.header,o=void 0===n?{}:n;switch(e.rawData=r,t){case"GET":return"";case"POST":return"application/json"===o["Content-Type"]?r:a.toFormData(r);default:return r}}},{key:"getHeader",value:function(e){var t=e.method,r=e.header,n={Cookie:u.getCookie()};return"POST"==t&&(n["Content-Type"]="application/x-www-form-urlencoded"),Object.assign({},n,r)}},{key:"getReferer",value:function(e){var t=e.header,r=e.useCustomRoute,n="function"==typeof getCurrentPages&&getCurrentPages()||[],o=n[n.length-1]||{},a=void 0;if(r)a=o.customRoute;else{var u=t.referer||"";0===u.indexOf("pages/")&&(a=u,delete t.referer)}return a||(a=o.route||o.__route__||"pages/index/index"),"http://wq.jd.com/wxapp/"+a}},{key:"handleSpecialURL",value:function(e){[/^(https?:)?\/\/api\.m\.jd\.com/].some(function(t){return t.test(e.url)})&&(e.channel="http",e._httpDirect=!0,e.exchangeFlag=!1)}}]),e}();exports.Task=c; 
 			}); 
		define("common/request/url.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=n.exec(t);if(o)return{source:o[0],protocol:o[1],slash:o[2],host:o[3],port:o[4],path:o[5],query:o[6],hash:o[7]}}function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/^(http(s)?:)?\/\//i,"/")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addUrlParam=exports.toProxyURI=exports.toSocketURI=exports.parse=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(t){if(t&&t.__esModule)return t;var o={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o.default=t,o}(require("../../api/APIs")),n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,i=[e.API_GATEWAY_DOMAIN];exports.parse=t,exports.toSocketURI=o,exports.toProxyURI=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],u=t(r);if(!u)return r;if(-1!=i.findIndex(function(t){return t==u.host}))return r;var p=o(r);return"GBK"==n?"https://"+e.API_GATEWAY_DOMAIN+"/g2u"+p:"https://"+e.API_GATEWAY_DOMAIN+p},exports.addUrlParam=function(t,o){if(t&&o&&"object"==(void 0===o?"undefined":r(o))){var e=[];for(var n in o)o.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(o[n]));if(e[0]){var i=e.join("&");t=t.indexOf("?")>-1?t+"&"+i:t+"?"+i}}return t}; 
 			}); 
		define("common/request/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function r(r){if("string"!=typeof r)return r;try{r=(r=r.replace(/^\w*\s*\{?\s*\w*\s*\(/,"")).replace(/\);?\s*$|\);?\s*\}$|\)\s*;?\}\s*\w+\s*\(\w*\)\s*\{?[^£]*\}?$/,"")}catch(r){console.error(r.message)}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFormData=exports.getCSRFToken=exports.formatJSONP=exports.formatJSON=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t=require("../json_parse.js");exports.formatJSON=function(o){if(!o)return{error:"数据不能为空"};if("object"==(void 0===o?"undefined":e(o)))return{data:o};if("string"==typeof o&&o.match(/^\s*<[!\w]+/))return{error:"数据为 HTML 格式"};var n=r(o);if("string"==typeof n&&n.match(/^[a-zA-Z_0-9]/))return{error:"非法 JSON 格式"};if("object"!=(void 0===n?"undefined":e(n)))try{var s=Date.now();return{data:(0,t.JP)(n),timeSpent:Date.now()-s}}catch(r){return console.error("JSON parse error",r),{error:r.message}}return{error:"非法字符串"}},exports.formatJSONP=r,exports.getCSRFToken=function(r){for(var e=r.length,t=5381,o=0;o<e;++o)t+=(t<<5)+r.charAt(o).charCodeAt();return""+(2147483647&t)},exports.toFormData=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];for(var t in r)e.push(encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e.join("&")}; 
 			}); 
		define("common/rsa/rsa.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(i){this.modulus=d(i),this.k=k(this.modulus)+1;var t=new g;t.digits[2*this.k]=1,this.mu=K(t,this.modulus),this.bkplus1=new g,this.bkplus1.digits[this.k+1]=1,this.modulo=s,this.multiplyMod=r,this.powMod=e}function s(i){var t=P(p(P(i,this.k-1),this.mu),this.k+1),s=m(x(i,this.k+1),x(p(t,this.modulus),this.k+1));s.isNeg&&(s=w(s,this.bkplus1));for(var r=C(s,this.modulus)>=0;r;)r=C(s=m(s,this.modulus),this.modulus)>=0;return s}function r(i,t){var s=p(i,t);return this.modulo(s)}function e(i,t){var s=new g;s.digits[0]=1;for(var r=i,e=t;0!=(1&e.digits[0])&&(s=this.multiplyMod(s,r)),0!=(e=z(e,1)).digits[0]||0!=k(e);)r=this.multiplyMod(r,r);return s}function n(i){R=i,j=new Array(R);for(var t=0;t<j.length;t++)j[t]=0;_=new g,(q=new g).digits[0]=1}function g(i){this.digits="boolean"==typeof i&&1==i?null:j.slice(0),this.isNeg=!1}function d(i){var t=new g(!0);return t.digits=i.digits.slice(0),t.isNeg=i.isNeg,t}function o(i){for(var t="",s=i.length-1;s>-1;--s)t+=i.charAt(s);return t}function u(i,t){var s=new g;s.digits[0]=t;for(var r=E(i,s),e=I[r[1].digits[0]];1==C(r[0],_);)r=E(r[0],s),digit=r[1].digits[0],e+=I[r[1].digits[0]];return(i.isNeg?"-":"")+o(e)}function a(t){var s="";for(i=0;i<4;++i)s+=J[15&t],t>>>=4;return o(s)}function h(i){for(var t="",s=(k(i),k(i));s>-1;--s)t+=a(i.digits[s]);return t}function f(i){return i>=48&&57>=i?i-48:i>=65&&90>=i?10+i-65:i>=97&&122>=i?10+i-97:0}function c(i){for(var t=0,s=Math.min(i.length,4),r=0;s>r;++r)t<<=4,t|=f(i.charCodeAt(r));return t}function v(i){for(var t=new g,s=i.length,r=0;s>0;s-=4,++r)t.digits[r]=c(i.substr(Math.max(s-4,0),Math.min(s,4)));return t}function l(i){for(var t="",s=k(i);s>-1;--s)t+=N(i.digits[s]);return t}function N(i){var t=String.fromCharCode(255&i);return i>>>=8,String.fromCharCode(255&i)+t}function w(i,t){var s=void 0;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,s=m(i,t),t.isNeg=!t.isNeg;else{s=new g;for(var r,e=0,n=0;n<i.digits.length;++n)r=i.digits[n]+t.digits[n]+e,s.digits[n]=65535&r,e=Number(r>=B);s.isNeg=i.isNeg}return s}function m(i,t){var s=void 0;if(i.isNeg!=t.isNeg)t.isNeg=!t.isNeg,s=w(i,t),t.isNeg=!t.isNeg;else{s=new g;var r=void 0,e=void 0;e=0;for(n=0;n<i.digits.length;++n)r=i.digits[n]-t.digits[n]+e,s.digits[n]=65535&r,s.digits[n]<0&&(s.digits[n]+=B),e=0-Number(0>r);if(-1==e){e=0;for(var n=0;n<i.digits.length;++n)r=0-s.digits[n]+e,s.digits[n]=65535&r,s.digits[n]<0&&(s.digits[n]+=B),e=0-Number(0>r);s.isNeg=!i.isNeg}else s.isNeg=i.isNeg}return s}function k(i){for(var t=i.digits.length-1;t>0&&0==i.digits[t];)--t;return t}function M(i){var t=void 0,s=k(i),r=i.digits[s],e=(s+1)*O;for(t=e;t>e-O&&0==(32768&r);--t)r<<=1;return t}function p(i,t){for(var s,r,e,n=void 0,d=new g,o=k(i),u=k(t),a=0;u>=a;++a){for(s=0,e=a,n=0;n<=o;++n,++e)r=d.digits[e]+i.digits[n]*t.digits[a]+s,d.digits[e]=r&H,s=r>>>D;d.digits[a+o+1]=s}return d.isNeg=i.isNeg!=t.isNeg,d}function y(i,t){for(var s,r=new g,e=k(i),n=0,d=0;e>=d;++d)s=r.digits[d]+i.digits[d]*t+n,r.digits[d]=s&H,n=s>>>D;return r.digits[1+e]=n,r}function S(i,t,s,r,e){for(var n=Math.min(t+e,i.length),g=t,d=r;n>g;++g,++d)s[d]=i[g]}function b(i,t){var s=Math.floor(t/O),r=new g;S(i.digits,0,r.digits,s,r.digits.length-s);for(var e=t%O,n=O-e,d=r.digits.length-1,o=d-1;d>0;--d,--o)r.digits[d]=r.digits[d]<<e&H|(r.digits[o]&L[e])>>>n;return r.digits[0]=r.digits[d]<<e&H,r.isNeg=i.isNeg,r}function z(i,t){var s=Math.floor(t/O),r=new g;S(i.digits,s,r.digits,0,i.digits.length-s);for(var e=t%O,n=O-e,d=0,o=d+1;d<r.digits.length-1;++d,++o)r.digits[d]=r.digits[d]>>>e|(r.digits[o]&Q[e])<<n;return r.digits[r.digits.length-1]>>>=e,r.isNeg=i.isNeg,r}function A(i,t){var s=new g;return S(i.digits,0,s.digits,t,s.digits.length-t),s}function P(i,t){var s=new g;return S(i.digits,t,s.digits,0,s.digits.length-t),s}function x(i,t){var s=new g;return S(i.digits,0,s.digits,0,t),s}function C(i,t){if(i.isNeg!=t.isNeg)return 1-2*Number(i.isNeg);for(var s=i.digits.length-1;s>=0;--s)if(i.digits[s]!=t.digits[s])return i.isNeg?1-2*Number(i.digits[s]>t.digits[s]):1-2*Number(i.digits[s]<t.digits[s]);return 0}function E(i,t){var s=void 0,r=void 0,e=M(i),n=M(t),o=t.isNeg;if(n>e)return i.isNeg?(s=d(q),s.isNeg=!t.isNeg,i.isNeg=!1,t.isNeg=!1,r=m(t,i),i.isNeg=!0,t.isNeg=o):(s=new g,r=d(i)),new Array(s,r);s=new g,r=i;for(var u=Math.ceil(n/O)-1,a=0;t.digits[u]<F;)t=b(t,1),++a,++n,u=Math.ceil(n/O)-1;r=b(r,a),e+=a;for(var h=Math.ceil(e/O)-1,f=A(t,h-u);-1!=C(r,f);)++s.digits[h-u],r=m(r,f);for(var c=h;c>u;--c){var v=c>=r.digits.length?0:r.digits[c],l=c-1>=r.digits.length?0:r.digits[c-1],N=c-2>=r.digits.length?0:r.digits[c-2],p=u>=t.digits.length?0:t.digits[u],S=u-1>=t.digits.length?0:t.digits[u-1];s.digits[c-u-1]=v==p?H:Math.floor((v*B+l)/p);for(var P=s.digits[c-u-1]*(p*B+S),x=v*G+(l*B+N);P>x;)--s.digits[c-u-1],P=s.digits[c-u-1]*(p*B|S),x=v*B*B+(l*B+N);(r=m(r,y(f=A(t,c-u-1),s.digits[c-u-1]))).isNeg&&(r=w(r,f),--s.digits[c-u-1])}return r=z(r,a),s.isNeg=i.isNeg!=o,i.isNeg&&(s=o?w(s,q):m(s,q),t=z(t,a),r=m(t,r)),0==r.digits[0]&&0==k(r)&&(r.isNeg=!1),new Array(s,r)}function K(i,t){return E(i,t)[0]}Object.defineProperty(exports,"__esModule",{value:!0});var R,j,_,q,D=16,O=D,B=65536,F=B>>>1,G=B*B,H=B-1;n(20);!function(i){var t=new g;t.isNeg=0>i,i=Math.abs(i);for(var s=0;i>0;)t.digits[s++]=i&H,i>>=D}(1e15);var I=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),J=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),L=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),Q=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),T={};T.NoPadding="NoPadding",T.PKCS1Padding="PKCS1Padding",T.RawEncoding="RawEncoding",T.NumericEncoding="NumericEncoding",exports.setMaxDigits=n,exports.RSAKeyPair=function(i,s,r,e){this.e=v(i),this.d=v(s),this.m=v(r),this.chunkSize="number"!=typeof e?2*k(this.m):e/8,this.radix=16,this.barrett=new t(this.m)},exports.encryptedString=function(i,t,s,r){var e=void 0,n=void 0,d=void 0,o=void 0,a=void 0,f=void 0,c=void 0,v=void 0,N=void 0,w=new Array,m=t.length,k="";for(o="string"==typeof s?s==T.NoPadding?1:s==T.PKCS1Padding?2:0:0,a="string"==typeof r&&r==T.RawEncoding?1:0,1==o?m>i.chunkSize&&(m=i.chunkSize):2==o&&m>i.chunkSize-11&&(m=i.chunkSize-11),e=0,n=2==o?m-1:i.chunkSize-1;m>e;)o?w[n]=t.charCodeAt(e):w[e]=t.charCodeAt(e),e++,n--;for(1==o&&(e=0),n=i.chunkSize-m%i.chunkSize;n>0;){if(2==o){for(f=Math.floor(256*Math.random());!f;)f=Math.floor(256*Math.random());w[e]=f}else w[e]=0;e++,n--}for(2==o&&(w[m]=0,w[i.chunkSize-2]=2,w[i.chunkSize-1]=0),c=w.length,e=0;c>e;e+=i.chunkSize){for(v=new g,n=0,d=e;d<e+i.chunkSize;++n)v.digits[n]=w[d++],v.digits[n]+=w[d++]<<8;N=i.barrett.powMod(v,i.e),k+=1==a?l(N):16==i.radix?h(N):u(N,i.radix)}return k}; 
 			}); 
		define("common/rsa/wq-rsa.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(){return new Promise(function(e,t){s?e(s):a.request.get({url:"https://wq.jd.com/sendata/getsendata",data:{}}).then(function(t){var r=t.body;t.header;e(r&&0==r.errcode&&r.data?s=r:r&&13==r.errcode?r:{errcode:1})},function(t){t.code,t.message;e({errcode:2})})})}function r(e,t){if(!e)return"";n.setMaxDigits(262);var r=new n.RSAKeyPair("10001","10001",t,2048);return u.base64encode(n.encryptedString(r,e,"PKCS1Padding","RawEncoding"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRSAContent=exports.getModulusInfo=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e(require("./rsa.js")),u=e(require("../../common/base64/base64")),a=require("../request/request.js"),s=null;exports.getModulusInfo=t,exports.getRSAContent=function(e){return new Promise(function(n,u){t().then(function(t){if(0==t.errcode&&t.data){var u=void 0;if("string"==typeof e)u=r(e,t.data.modulus),n({rsaText:u,keyId:t.data.keyId});else if("object"==(void 0===e?"undefined":o(e))){u=[];for(var a=0;a<e.length;a++)u.push(r(e[a],t.data.modulus));n({rsaText:u,keyId:t.data.keyId})}else n(null)}else n(null)})})}; 
 			}); 
		define("common/taro/@tarojs/taro-weapp/dist/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"===Ae(Symbol.iterator)?function(e){return void 0===e?"undefined":Ae(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":Ae(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return!t||"object"!==(void 0===t?"undefined":Ae(t))&&"function"!=typeof t?c(e):t}function u(e){return l(e)||f(e)||p()}function l(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(e,t){return null==e?void 0:e[t]}function h(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function g(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function b(e,t){for(var n=e.length;n--;)if(E(e[n][0],t))return n;return-1}function m(e,t){for(var n=0,o=(t=P(t,e)?[t]:w(t)).length;null!=e&&n<o;)e=e[k(t[n++])];return n&&n==o?e:void 0}function _(e){return!(!B(e)||$(e))&&(x(e)||h(e)?nt:Ne).test(T(e))}function S(e){if("string"==typeof e)return e;if(L(e))return st?st.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function w(e){return lt(e)?e:ut(e)}function O(e,t){var n=e.__data__;return C(t)?n["string"==typeof t?"string":"hash"]:n.map}function j(e,t){var n=d(e,t);return _(n)?n:void 0}function P(t,n){if(lt(t))return!1;var o=e(t);return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!L(t))||(Re.test(t)||!Ie.test(t)||null!=n&&t in Object(n))}function C(t){var n=e(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function $(e){return!!Ze&&Ze in e}function k(e){if("string"==typeof e||L(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function T(e){if(null!=e){try{return Je.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function A(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Ee);var n=function n(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var a=e.apply(this,o);return n.cache=i.set(r,a),a};return n.cache=new(A.Cache||y),n}function E(e,t){return e===t||e!==e&&t!==t}function x(e){var t=B(e)?tt.call(e):"";return t==Be||t==De}function B(t){var n=e(t);return!!t&&("object"==n||"function"==n)}function D(t){return!!t&&"object"===e(t)}function L(t){return"symbol"===e(t)||D(t)&&tt.call(t)==Le}function I(e){return null==e?"":S(e)}function R(t,n){var o=e(t);return!!(n=null==n?ze:n)&&("number"==o||"symbol"!=o&&Ge.test(t))&&t>-1&&t%1==0&&t<n}function W(e,t,n){"__proto__"==t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function M(e,t,n){var o=e[t];et.call(e,t)&&E(o,n)&&(void 0!==n||t in e)||W(e,t,n)}function U(e,t,n,o){if(!B(e))return e;for(var r=(t=w(t,e)).length,i=r-1,a=-1,c=e;null!=c&&++a<r;){var s=k(t[a]),u=n;if(a!=i){var l=c[s];void 0===(u=o?o(l,s,c):void 0)&&(u=B(l)?l:R(t[a+1])?[]:{})}M(c,s,u),c=c[s]}return e}function F(e,t,n){var o=null==e?void 0:m(e,t);return void 0===o?n:o}function N(e,t,n){return null==e?e:U(e,t,n)}function V(e){return e.replace(ft,q)}function q(e){return"-"+e.toLowerCase()}function H(t){return null!=t&&"object"===e(t)&&!1===Array.isArray(t)}function z(){return"undefined"!=typeof wx&&wx.getSystemInfo?pt.WEAPP:"undefined"!=typeof swan&&swan.getSystemInfo?pt.SWAN:"undefined"!=typeof my&&my.getSystemInfo?pt.ALIPAY:"undefined"!=typeof global&&global.__fbGenNativeModule?pt.RN:"undefined"!=typeof window?pt.WEB:"Unknown environment"}function G(e){return e===Object(e)&&"function"!=typeof e}function Y(e){var t=e.designWidth,n=void 0===t?700:t,o=e.deviceRatio,r=void 0===o?{640:1.17,750:1,828:.905}:o;this.config=this.config||{},this.config.designWidth=n,this.config.deviceRatio=r}function Q(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function K(){}function X(e){if(!e||!Qt(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Z(){}function J(e){return"function"==typeof e}function ee(e){return Array.isArray(e)}function te(e){var t;if(ee(e)){t=[];for(var n=e.length,o=0;o<n;o++)t.push(te(e[o]))}else{if(!Qt(e))return e;t={};for(var r in e)if(!J(e[r])){var i=te(e[r]);t[r]=i}}return t}function ne(t,n){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.length,a=0;a<i;a++){var c=t[a],s=n[a],u="".concat(r,"[").concat(a,"]");if(c!==s)if(e(c)!==e(s))o[u]=c;else if("object"!==e(c))o[u]=c;else{var l=ee(c),f=ee(s);l!==f?o[u]=c:l&&f?c.length===s.length?ne(c,s,o,"".concat(u)):o[u]=c:!c||!s||Kt(c).length<Kt(s).length?o[u]=c:oe(c,s,o,"".concat(u,"."))}}return o}function oe(t,n){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=Kt(t),a=i.length,c=0;c<a;c++){var s=i[c],u=t[s],l=n[s],f="".concat(r).concat(s);if(u!==l)if(Xt.call(n,s))if(e(u)!==e(l))o[f]=u;else if("object"!==e(u))o[f]=u;else{var p=ee(u),d=ee(l);p!==d?o[f]=u:p&&d?u.length===l.length?ne(u,l,o,"".concat(f)):o[f]=u:u&&l?oe(u,l,o,"".concat(f,".")):o[f]=u}else o[f]=u}return o}function re(e){for(var t,n,o,r=decodeURIComponent,i=e.split("&"),a={},c=0,s=i.length;c<s;++c)if((o=i[c]).length){var u=o.indexOf("=");u<0?(t=r(o),n=""):(t=r(o.slice(0,u)),n=r(o.slice(u+1))),"string"==typeof a[t]&&(a[t]=[a[t]]),ee(a[t])?a[t].push(n):a[t]=n}return a}function ie(){return Zt+Jt++}function ae(e,t){en[e]=t}function ce(e,t){var n=en[e];return t&&delete en[e],n}function se(e){return e in en}function ue(e,t,n){e.properties=t.properties||{};var o=t.defaultProps||{};for(var r in o)o.hasOwnProperty(r)&&(e.properties[r]={type:null,value:null});if(n){e.properties[rn]={type:null,value:null},e.properties[an]={type:null,value:null};var i=t.defaultParams||{};for(var a in i)i.hasOwnProperty(a)&&(e.properties[a]={type:null,value:null})}e.properties[tn]={type:null,observer:function(){if(this.$component&&this.$component.__isReady){var e=ve(t.properties,t.defaultProps,this.$component.props,this.data);this.$component.props=e,this.$component._unsafeCallUpdate=!0,_e(this.$component),this.$component._unsafeCallUpdate=!1}}}}function le(e,t){t.behaviors&&(e.behaviors=t.behaviors)}function fe(e,t){t.options&&(e.options=t.options)}function pe(e,t){var n=t.multipleSlots;n&&(e.options=i({},e.options,{multipleSlots:n}))}function de(e,t){for(var n in t)"function"==typeof t[n]&&(e[n]=t[n]);Object.getOwnPropertyNames(t).forEach(function(n){["arguments","caller","length","name","prototype"].indexOf(n)<0&&"function"==typeof t[n]&&(e[n]=t[n])})}function he(e,t){t[e]||(t[e]=function(t){t&&(t.preventDefault=function(){},t.stopPropagation=function(){},t.currentTarget=t.currentTarget||t.target||{},t.target&&Object.assign(t.target,t.detail),Object.assign(t.currentTarget,t.detail));var n=this.$component,o=n,r=e.indexOf(nn)>-1,i=[],a=[],c=[],s=!1,l=t.currentTarget.dataset||{},f={},p=e.toLocaleLowerCase();if(Object.keys(l).forEach(function(e){var t=e.toLocaleLowerCase();if(/^e/.test(t)&&(t=t.replace(/^e/,""),(t=t.toLocaleLowerCase()).indexOf(p)>=0)){var n=t.replace(p,"");f[n]=l[e]}}),t.detail&&t.detail.__arguments&&t.detail.__arguments.length>0&&(a=t.detail.__arguments),r){var d=null;"so"in f&&("this"!==f.so&&(d=f.so),s=!0,delete f.so),a.length>0&&(!s&&a[0]&&(o=a[0]),a.shift()),X(f)||(c=Object.keys(f).sort().map(function(e){return f[e]})),i=[d].concat(u(c),u(a),[t])}else"so"in f&&("this"!==f.so&&(o=f.so),s=!0,delete f.so),a.length>0&&(!s&&a[0]&&(o=a[0]),a.shift()),X(f)||(c=Object.keys(f).sort().map(function(e){return f[e]})),i=u(c).concat(u(a),[t]);return n[e].apply(o,i)})}function ge(e,t,n){e.methods=e.methods||{};var o=e.methods;t.forEach(function(e){he(e,o)})}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,r=Object.assign({},n);for(var i in e)i!==tn&&("function"==typeof n[i]?r[i]=n[i]:i in o&&(null!==e[i].value||null!==o[i])&&(r[i]=o[i]),on.test(i)&&(!0===o[i]&&(r[i.replace(on,"")]=Z),delete r[i]));if(!X(t))for(var a in t)void 0===r[a]&&(r[a]=t[a]);return r}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(var o in t)n[o]=o in e?e[o]:t[o];return n}function be(e,t,n){var o;if(n=n||[],"componentDidMount"===t&&e.$$refs&&e.$$refs.length>0){var r={};e.$$refs.forEach(function(t){var n;n="component"===t.type?(n=e.$scope.selectComponent("#".concat(t.id)))?n.$component||n:null:wx.createSelectorQuery().in(e.$scope).select("#".concat(t.id)),"refName"in t&&t.refName?r[t.refName]=n:"fn"in t&&"function"==typeof t.fn&&t.fn.call(e,n),t.target=n}),e.refs=Object.assign({},e.refs||{},r)}"componentWillUnmount"===t&&(e._dirty=!0,e._disable=!0,e.$router={params:{}},e._pendingStates=[],e._pendingCallbacks=[]),e[t]&&"function"==typeof e[t]&&(o=e[t]).call.apply(o,[e].concat(u(n))),"componentWillMount"===t&&(e._dirty=!1,e._disable=!1,e.state=e.getState()),"componentWillUnmount"===t&&e.$$refs&&e.$$refs.length>0&&(e.$$refs.forEach(function(t){return"function"==typeof t.fn&&t.fn.call(e,null)}),e.refs={})}function me(e,t){if(!this.$component.__isReady){if(this.$component.__isReady=!0,!t){var n=ve(e.properties,e.defaultProps,this.$component.props,this.data);this.$component.props=n}_e(this.$component)}}function _e(e){var t=e.props,n=e.__propTypes;if(un&&n){var o=e.constructor.name||e.constructor.toString().match(/^function\s*([^\s(]+)/)[1];Ct.checkPropTypes(n,t,"prop",o)}var r=e.prevProps||t;e.props=r,e.__mounted&&!0===e._unsafeCallUpdate&&e.componentWillReceiveProps&&(e._disable=!0,e.componentWillReceiveProps(t),e._disable=!1),e.__componentWillMountTriggered||e._constructor&&e._constructor(t);var i=e.getState(),a=e.prevState||i,c=!1;e.__mounted&&("function"!=typeof e.shouldComponentUpdate||e._isForceUpdate||!1!==e.shouldComponentUpdate(t,i)?"function"==typeof e.componentWillUpdate&&e.componentWillUpdate(t,i):c=!0),e.props=t,e.state=i,e._dirty=!1,e._isForceUpdate=!1,e.__componentWillMountTriggered||(e.__componentWillMountTriggered=!0,be(e,"componentWillMount")),c||Se(e,r,a),e.prevProps=e.props,e.prevState=e.state}function Se(t,n,o){var r=t.state,i=t.props,a=void 0===i?{}:i,c=r||{};t._createData&&(c=t._createData(r,a)||c);var s=t.$scope.data[ln]||!1;if(c=Object.assign({},a,c),t.$usedState&&t.$usedState.length){var u={};t.$usedState.forEach(function(t){var n=F(c,t);void 0!==n&&("object"===e(n)?X(n=te(n))||N(u,t,n):N(u,t,n))}),c=u}c[ln]=!s;var l=oe(c,t.$scope.data),f=t.__mounted;t.$scope.setData(l,function(){f&&(t.$$refs&&t.$$refs.length>0&&t.$$refs.forEach(function(e){if("component"===e.type){var n=t.$scope.selectComponent("#".concat(e.id));(n=n?n.$component||n:null)!==e.target&&(e.refName&&(t.refs[e.refName]=n),"function"==typeof e.fn&&e.fn.call(t,n),e.target=n)}}),"function"==typeof t.componentDidUpdate&&t.componentDidUpdate(n,o));var e=t._pendingCallbacks;if(e&&e.length){for(var r=e.length,i=r;--i>=0;)e[i].call(t);e.splice(0,r)}})}function we(e){!e._dirty&&(e._dirty=!0)&&1===fn.push(e)&&mt(Oe)}function Oe(){var e,t=fn;for(fn=[];e=t.pop();)e._dirty&&_e(e,!0)}function je(e,t){if(null===e&&null===t)return!0;if(null===e||null===t)return!1;if(Object.is(e,t))return!0;var n=e?Object.keys(e):[],o=t?Object.keys(t):[];if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++){var i=n[r];if(!t.hasOwnProperty(i)||!Object.is(e[i],t[i]))return!1}return!0}function Pe(e){"string"==typeof(e=e||{})&&(e={url:e});var t=e.success,n=e.fail,o=e.complete;return new Promise(function(r,i){e.success=function(e){t&&t(e),r(e)},e.fail=function(e){n&&n(e),i(e)},e.complete=function(e){o&&o(e)},dn.request(e)})}function Ce(e){var t=Object.assign({},gt,vt,yt),n={navigateTo:!0,redirectTo:!0,reLaunch:!0};Object.keys(t).forEach(function(t){gt[t]||vt[t]?e[t]=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return wx[t].apply(wx,n)}:e[t]=function(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];e=e||{};var a=null,c=Object.assign({},e);if("string"==typeof e){if(r.length){var s;return(s=wx)[t].apply(s,[e].concat(r))}return wx[t](e)}if("navigateTo"===t||"redirectTo"===t||"switchTab"===t){var u=c.url?c.url.replace(/^\//,""):"";u.indexOf("?")>-1&&(u=u.split("?")[0]);var l=ce(u);if(l){var f=new l;if(f.componentWillPreload){var p=ie(),d=c.url.indexOf("?"),h=re(c.url.substring(d+1,c.url.length));c.url+=(d>-1?"&":"?")+"".concat("__preload_","=").concat(p),ae(p,f.componentWillPreload(h)),ae("$preloadComponent",f)}}}if(n[t]){var g=c.url=c.url||"",v=g.indexOf("?"),y=re(g.substring(v+1,g.length)),b=ie();c.url+=(v>-1?"&":"?")+"".concat("__key_","=").concat(b),ae(b,y)}var m=new Promise(function(n,o){if(["fail","success","complete"].forEach(function(r){c[r]=function(i){e[r]&&e[r](i),"success"===r?n("connectSocket"===t?Promise.resolve().then(function(){return Object.assign(a,i)}):i):"fail"===r&&o(i)}}),r.length){var i;a=(i=wx)[t].apply(i,[c].concat(r))}else a=wx[t](c)});return"uploadFile"!==t&&"downloadFile"!==t||(m.progress=function(e){return a&&a.onProgressUpdate(e),m},m.abort=function(e){return e&&e(),a&&a.abort(),m}),m}})}function $e(e){var t=this.config,n=t.designWidth,o=t.deviceRatio;if(!(n in o))throw new Error("deviceRatio 配置中不存在 ".concat(n," 的设置！"));return parseInt(e,10)/o[n]+"rpx"}function ke(){var e=wx.getSystemInfoSync().platform.toLowerCase();return"android"===e||"devtools"===e}function Te(e){Ce(e),e.request=Pe,e.getCurrentPages=getCurrentPages,e.getApp=getApp,e.requirePlugin=requirePlugin,e.initPxTransform=Y.bind(e),e.pxTransform=$e.bind(e),e.canIUseWebp=ke}var Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var Ee="Expected a function",xe="__lodash_hash_undefined__",Be="[object Function]",De="[object GeneratorFunction]",Le="[object Symbol]",Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,We=/^\./,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ue=/[\\^$.*+?()[\]{}|]/g,Fe=/\\(\\)?/g,Ne=/^\[object .+?Constructor\]$/,Ve="object"===("undefined"==typeof global?"undefined":e(global))&&global&&global.Object===Object&&global,qe="object"===("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,He=Ve||qe||Function("return this")(),ze=9007199254740991,Ge=/^(?:0|[1-9]\d*)$/,Ye=Array.prototype,Qe=Function.prototype,Ke=Object.prototype,Xe=He["__core-js_shared__"],Ze=function(){var e=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Je=Qe.toString,et=Ke.hasOwnProperty,tt=Ke.toString,nt=RegExp("^"+Je.call(et).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=He.Symbol,rt=Ye.splice,it=j(He,"Map"),at=j(Object,"create"),ct=ot?ot.prototype:void 0,st=ct?ct.toString:void 0;g.prototype.clear=function(){this.__data__=at?at(null):{}},g.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},g.prototype.get=function(e){var t=this.__data__;if(at){var n=t[e];return n===xe?void 0:n}return et.call(t,e)?t[e]:void 0},g.prototype.has=function(e){var t=this.__data__;return at?void 0!==t[e]:et.call(t,e)},g.prototype.set=function(e,t){return this.__data__[e]=at&&void 0===t?xe:t,this},v.prototype.clear=function(){this.__data__=[]},v.prototype.delete=function(e){var t=this.__data__,n=b(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),0))},v.prototype.get=function(e){var t=this.__data__,n=b(t,e);return n<0?void 0:t[n][1]},v.prototype.has=function(e){return b(this.__data__,e)>-1},v.prototype.set=function(e,t){var n=this.__data__,o=b(n,e);return o<0?n.push([e,t]):n[o][1]=t,this},y.prototype.clear=function(){this.__data__={hash:new g,map:new(it||v),string:new g}},y.prototype.delete=function(e){return O(this,e).delete(e)},y.prototype.get=function(e){return O(this,e).get(e)},y.prototype.has=function(e){return O(this,e).has(e)},y.prototype.set=function(e,t){return O(this,e).set(e,t),this};var ut=A(function(e){e=I(e);var t=[];return We.test(e)&&t.push(""),e.replace(Me,function(e,n,o,r){t.push(o?r.replace(Fe,"$1"):n||e)}),t});A.Cache=y;var lt=Array.isArray,et=Object.prototype.hasOwnProperty,ft=/([A-Z])/g,pt={WEAPP:"WEAPP",WEB:"WEB",RN:"RN",SWAN:"SWAN",ALIPAY:"ALIPAY"},dt=null,ht=function(){function e(n){t(this,e),void 0!==n&&n.callbacks?this.callbacks=n.callbacks:this.callbacks={}}return o(e,[{key:"on",value:function(t,n,o){var r,i,a,c,s;if(!n)return this;for(t=t.split(e.eventSplitter),r=this.callbacks;i=t.shift();)(a=(s=r[i])?s.tail:{}).next=c={},a.context=o,a.callback=n,r[i]={tail:c,next:s?s.next:a};return this}},{key:"once",value:function(e,t,n){var o=this;return this.on(e,function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];t.apply(o,i),o.off(e,t,n)},n),this}},{key:"off",value:function(t,n,o){var r,i,a,c,s,u;if(!(i=this.callbacks))return this;if(!(t||n||o))return delete this.callbacks,this;for(t=t?t.split(e.eventSplitter):Object.keys(i);r=t.shift();)if(a=i[r],delete i[r],a&&(n||o))for(c=a.tail;(a=a.next)!==c;)s=a.callback,u=a.context,(n&&s!==n||o&&u!==o)&&this.on(r,s,u);return this}},{key:"trigger",value:function(t){var n,o,r,i,a;if(!(r=this.callbacks))return this;for(t=t.split(e.eventSplitter),a=[].slice.call(arguments,1);n=t.shift();)if(o=r[n])for(i=o.tail;(o=o.next)!==i;)o.callback.apply(o.context||this,a);return this}}]),e}();ht.eventSplitter=/\s+/;var gt={onSocketOpen:!0,onSocketError:!0,onSocketMessage:!0,onSocketClose:!0,onBackgroundAudioPlay:!0,onBackgroundAudioPause:!0,onBackgroundAudioStop:!0,onNetworkStatusChange:!0,onAccelerometerChange:!0,onCompassChange:!0,onBluetoothAdapterStateChange:!0,onBluetoothDeviceFound:!0,onBLEConnectionStateChange:!0,onBLECharacteristicValueChange:!0,onBeaconUpdate:!0,onBeaconServiceChange:!0,onUserCaptureScreen:!0,onHCEMessage:!0,onGetWifiList:!0,onWifiConnected:!0,setStorageSync:!0,getStorageSync:!0,getStorageInfoSync:!0,removeStorageSync:!0,clearStorageSync:!0,getSystemInfoSync:!0,getExtConfigSync:!0,getLogManager:!0,onMemoryWarning:!0,reportAnalytics:!0,navigateToSmartGameProgram:!0},vt={stopRecord:!0,getRecorderManager:!0,pauseVoice:!0,stopVoice:!0,pauseBackgroundAudio:!0,stopBackgroundAudio:!0,getBackgroundAudioManager:!0,createAudioContext:!0,createInnerAudioContext:!0,createVideoContext:!0,createCameraContext:!0,createLivePlayerContext:!0,createLivePusherContext:!0,createMapContext:!0,canIUse:!0,startAccelerometer:!0,stopAccelerometer:!0,startCompass:!0,stopCompass:!0,hideToast:!0,hideLoading:!0,showNavigationBarLoading:!0,hideNavigationBarLoading:!0,createAnimation:!0,pageScrollTo:!0,createSelectorQuery:!0,createCanvasContext:!0,createContext:!0,drawCanvas:!0,hideKeyboard:!0,stopPullDownRefresh:!0,createIntersectionObserver:!0,onWindowResize:!0,offWindowResize:!0,arrayBufferToBase64:!0,base64ToArrayBuffer:!0,getUpdateManager:!0,createWorker:!0},yt={uploadFile:!0,downloadFile:!0,connectSocket:!0,sendSocketMessage:!0,closeSocket:!0,chooseImage:!0,previewImage:!0,getImageInfo:!0,saveImageToPhotosAlbum:!0,startRecord:!0,playVoice:!0,getBackgroundAudioPlayerState:!0,playBackgroundAudio:!0,seekBackgroundAudio:!0,chooseVideo:!0,saveVideoToPhotosAlbum:!0,loadFontFace:!0,saveFile:!0,getFileInfo:!0,getSavedFileList:!0,getSavedFileInfo:!0,removeSavedFile:!0,openDocument:!0,setStorage:!0,getStorage:!0,getStorageInfo:!0,removeStorage:!0,clearStorage:!0,navigateBack:!0,navigateTo:!0,redirectTo:!0,switchTab:!0,reLaunch:!0,getLocation:!0,chooseLocation:!0,openLocation:!0,getSystemInfo:!0,getNetworkType:!0,makePhoneCall:!0,scanCode:!0,setClipboardData:!0,getClipboardData:!0,openBluetoothAdapter:!0,closeBluetoothAdapter:!0,getBluetoothAdapterState:!0,startBluetoothDevicesDiscovery:!0,stopBluetoothDevicesDiscovery:!0,getBluetoothDevices:!0,getConnectedBluetoothDevices:!0,createBLEConnection:!0,closeBLEConnection:!0,getBLEDeviceServices:!0,getBLEDeviceCharacteristics:!0,readBLECharacteristicValue:!0,writeBLECharacteristicValue:!0,notifyBLECharacteristicValueChange:!0,startBeaconDiscovery:!0,stopBeaconDiscovery:!0,getBeacons:!0,setScreenBrightness:!0,getScreenBrightness:!0,setKeepScreenOn:!0,vibrateLong:!0,vibrateShort:!0,addPhoneContact:!0,getHCEState:!0,startHCE:!0,stopHCE:!0,sendHCEMessage:!0,startWifi:!0,stopWifi:!0,connectWifi:!0,getWifiList:!0,setWifiList:!0,getConnectedWifi:!0,showToast:!0,showLoading:!0,showModal:!0,showActionSheet:!0,setNavigationBarTitle:!0,setNavigationBarColor:!0,setTabBarBadge:!0,removeTabBarBadge:!0,showTabBarRedDot:!0,hideTabBarRedDot:!0,setTabBarStyle:!0,setTabBarItem:!0,showTabBar:!0,hideTabBar:!0,setTopBarText:!0,startPullDownRefresh:!0,canvasToTempFilePath:!0,canvasGetImageData:!0,canvasPutImageData:!0,setBackgroundColor:!0,setBackgroundTextStyle:!0,getExtConfig:!0,login:!0,checkSession:!0,authorize:!0,getUserInfo:!0,checkIsSupportFacialRecognition:!0,startFacialRecognitionVerify:!0,startFacialRecognitionVerifyAndUploadVideo:!0,faceVerifyForPay:!0,requestPayment:!0,showShareMenu:!0,hideShareMenu:!0,updateShareMenu:!0,getShareInfo:!0,chooseAddress:!0,addCard:!0,openCard:!0,openSetting:!0,getSetting:!0,getWeRunData:!0,navigateToMiniProgram:!0,navigateBackMiniProgram:!0,chooseInvoice:!0,chooseInvoiceTitle:!0,checkIsSupportSoterAuthentication:!0,startSoterAuthentication:!0,checkIsSoterEnrolledInDevice:!0,setEnableDebug:!0,ocrIdCard:!0,ocrBankCard:!0,ocrDrivingLicense:!0,ocrVehicleLicense:!0,textReview:!0,textToAudio:!0,imageAudit:!0,advancedGeneralIdentify:!0,objectDetectIdentify:!0,carClassify:!0,dishClassify:!0,logoClassify:!0,animalClassify:!0,plantClassify:!0,getSwanId:!0,requestPolymerPayment:!0,navigateToSmartProgram:!0,navigateBackSmartProgram:!0,preloadSubPackage:!0},bt=new ht,mt=function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e="function"==typeof e?(t=e).bind.apply(t,[null].concat(o)):e,(wx.nextTick?wx.nextTick:setTimeout)(e)},_t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},St=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,jt=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()&&Object.assign,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),Pt=function(){function e(e,t,n,o,r,i){if(i!==jt){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=K,n.PropTypes=n,n},Ct=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){e.exports=Pt()}),$t="object"==e(_t)&&_t&&_t.Object===Object&&_t,kt="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,Tt=($t||kt||Function("return this")()).Symbol,At=Object.prototype,Et=At.hasOwnProperty,xt=At.toString,Bt=Tt?Tt.toStringTag:void 0,Dt=function(e){var t=Et.call(e,Bt),n=e[Bt];try{e[Bt]=void 0}catch(e){}var o=xt.call(e);return t?e[Bt]=n:delete e[Bt],o},Lt=Object.prototype.toString,It=function(e){return Lt.call(e)},Rt="[object Null]",Wt="[object Undefined]",Mt=Tt?Tt.toStringTag:void 0,Ut=function(e){return null==e?void 0===e?Wt:Rt:Mt&&Mt in Object(e)?Dt(e):It(e)},Ft=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Nt=function(t){return null!=t&&"object"==e(t)},Vt="[object Object]",qt=Function.prototype,Ht=Object.prototype,zt=qt.toString,Gt=Ht.hasOwnProperty,Yt=zt.call(Object),Qt=function(e){if(!Nt(e)||Ut(e)!=Vt)return!1;var t=Ft(e);if(null===t)return!0;var n=Gt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&zt.call(n)==Yt},Kt=Object.keys,Xt=Object.prototype.hasOwnProperty,Zt=(new Date).getTime().toString(),Jt=1,en={},tn="__triggerObserer",nn="funPrivate",on=/^__fn_/,rn="__key_",an="__preload_",cn="$preloadComponent",sn=["onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onTabItemTap","onResize"],un="undefined"==typeof process||!process.env||!1,ln="_triggerObserer",fn=[],pn=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.defineProperty(this,"__computed",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"__props",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"__isReady",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(this,"__mounted",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(this,"nextProps",{configurable:!0,enumerable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{configurable:!0,enumerable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disable",{configurable:!0,enumerable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_isForceUpdate",{configurable:!0,enumerable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pendingStates",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_pendingCallbacks",{configurable:!0,enumerable:!0,writable:!0,value:[]}),Object.defineProperty(this,"$router",{configurable:!0,enumerable:!0,writable:!0,value:{params:{}}}),this.state={},this.props=n}return o(e,[{key:"_constructor",value:function(e){this.props=e||{}}},{key:"_init",value:function(e){this.$scope=e}},{key:"setState",value:function(e,t){e&&(this._pendingStates=this._pendingStates||[]).push(e),J(t)&&(this._pendingCallbacks=this._pendingCallbacks||[]).push(t),this._disable||we(this)}},{key:"getState",value:function(){var e=this,t=this._pendingStates,n=this.state,o=this.props,r=Object.assign({},n);if(delete r.__data,!t.length)return r;var i=t.concat();return this._pendingStates.length=0,i.forEach(function(t){J(t)&&(t=t.call(e,r,o)),Object.assign(r,t)}),r}},{key:"forceUpdate",value:function(e){J(e)&&(this._pendingCallbacks=this._pendingCallbacks||[]).push(e),this._isForceUpdate=!0,_e(this)}},{key:"__triggerPropsFn",value:function(e,t){var n=e.split("."),o="__event_"+n.shift();if(o in this){var r=t.shift();(n.length>0?F(this[o],n.join(".")):this[o]).apply(r,t)}else{var i=e.toLocaleLowerCase(),a={__isCustomEvt:!0,__arguments:t};t.length>0&&(a.value=t.slice(1)),this.$scope.triggerEvent(i,a)}}}]),e}();Object.is=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t};var dn={MAX_REQUEST:5,queue:[],request:function(e){this.push(e),this.run()},push:function(e){this.queue.push(e)},run:function(){var e=this;if(this.queue.length&&this.queue.length<=this.MAX_REQUEST){var t=this.queue.shift(),n=t.complete;t.complete=function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n&&n.apply(t,r),e.run()},wx.request(t)}}},hn={Component:pn,PureComponent:function(e){function n(){var e,o,r;t(this,n);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return s(r,(o=r=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),Object.defineProperty(c(r),"isPureComponent",{configurable:!0,enumerable:!0,writable:!0,value:!0}),o))}return a(n,pn),o(n,[{key:"shouldComponentUpdate",value:function(e,t){return!je(this.props,e)||!je(this.state,t)}}]),n}(),createApp:function(e){var t=new e,n={onLaunch:function(e){t.$app=this,t.$app.$router=t.$router={params:e},t.componentWillMount&&t.componentWillMount(),t.componentDidMount&&t.componentDidMount()},onShow:function(e){Object.assign(t.$router.params,e),t.componentDidShow&&t.componentDidShow()},onHide:function(){t.componentDidHide&&t.componentDidHide()},onError:function(e){t.componentDidCatchError&&t.componentDidCatchError(e)},onPageNotFound:function(e){t.componentDidNotFound&&t.componentDidNotFound(e)}};return Object.assign(n,t)},initNativeApi:Te,Events:ht,eventCenter:bt,getEnv:z,render:function(){},ENV_TYPE:pt,internal_safe_get:F,internal_safe_set:N,internal_inline_style:function(e){if(null==e)return"";if("string"==typeof e)return e;if(null===e||void 0===e)return"";if(!H(e))throw new TypeError("style 只能是一个对象或字符串。");return Object.keys(e).map(function(t){return V(t).concat(":").concat(e[t])}).join(";")},createComponent:function(e,t){var n={_componentProps:1},o=ve({},e.defaultProps),r=new e(o);r._constructor&&r._constructor(o);try{r.state=r._createData()||r.state}catch(e){console.warn("[Taro warn] 请给组件提供一个 `defaultProps` 以提高初次渲染性能！"),console.warn(e)}var i={data:n=Object.assign({},n,r.props,r.state),created:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&se(cn)?this.$component=ce(cn,!0):this.$component=new e,this.$component._init(this),this.$component.render=this.$component._createData,this.$component.__propTypes=e.propTypes,Object.assign(this.$component.$router.params,n)},attached:function(){var n;if(t){var o={};o=(n=se(this.data[rn]))?Object.assign({},e.defaultParams,ce(this.data[rn],!0)):ye(this.data,e.defaultParams),Object.assign(this.$component.$router.params,o),se(this.data[an])?this.$component.$preloadData=ce(this.data[an],!0):this.$component.$preloadData=null}(!t||n||e.defaultParams)&&me.apply(this,[e,t])},ready:function(){t||this.$component.__mounted||(this.$component.__mounted=!0,be(this.$component,"componentDidMount"))},detached:function(){be(this.$component,"componentWillUnmount")}};return t?(i.methods=i.methods||{},i.methods.onLoad=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$component.__isReady||(Object.assign(this.$component.$router.params,n),me.apply(this,[e,t]))},i.methods.onReady=function(){this.$component.__mounted=!0,be(this.$component,"componentDidMount")},i.methods.onShow=function(){be(this.$component,"componentDidShow")},i.methods.onHide=function(){be(this.$component,"componentDidHide")},sn.forEach(function(e){r[e]&&"function"==typeof r[e]&&(i.methods[e]=function(){var t=this.$component;if(t[e]&&"function"==typeof t[e]){var n;return(n=t[e]).call.apply(n,[t].concat(Array.prototype.slice.call(arguments)))}})}),__wxRoute&&ae(__wxRoute,e)):(i.pageLifetimes=i.pageLifetimes||{},i.pageLifetimes.show=function(){be(this.$component,"componentDidShow")},i.pageLifetimes.hide=function(){be(this.$component,"componentDidShow")},i.pageLifetimes.resize=function(){be(this.$component,"onResize")}),ue(i,e,t),le(i,e),de(i,e),fe(i,e),pe(i,e),e.$$events&&ge(i,e.$$events,t),e.externalClasses&&e.externalClasses.length&&(i.externalClasses=e.externalClasses),i},internal_get_original:function(e){return null===dt&&(dt=z()),G(e)?e[dt===pt.SWAN?"privateOriginal":"$original"]||e:e}};Te(hn),exports.Taro=hn,exports.default=hn; 
 			}); 
		define("common/taro/@tarojs/taro-weapp/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";module.exports=require("./dist/index.js").default,module.exports.default=module.exports; 
 			}); 
		define("common/taro/classnames/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function o(){for(var t=[],r=0;r<arguments.length;r++){var f=arguments[r];if(f){var i=void 0===f?"undefined":e(f);if("string"===i||"number"===i)t.push(f);else if(Array.isArray(f)&&f.length){var u=o.apply(null,f);u&&t.push(u)}else if("object"===i)for(var l in f)n.call(f,l)&&f[l]&&t.push(l)}}return t.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?(o.default=o,module.exports=o):"function"==typeof define&&"object"===e(define.amd)&&define.amd?define("classnames",[],function(){return o}):window.classNames=o}(); 
 			}); 
		define("common/timer-manage.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function t(e){var t=e.id,r=void 0===t?f.getRandomID():t,o=e.scope,i=e.fn,a=e.delay,l=e.method,u=e.forever,v=e.internal,s=void 0!==v&&v,d=e.count,g=void 0===d?0:d,y=f.getRoute(o),h=f.getPageTimer(y),m=h.timers,p=void 0===m?[]:m,b=h.instances,x=void 0===b?{}:b,w=h.active;p.push({id:r,origin:{forever:u,scope:o,method:l,fn:i,delay:a},count:g,internalInstanceId:0,createTime:Date.now()});var I=p[p.length-1],T=i;i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];w&&(I.count++,n(I),T.call(o,t))};var A=l.call(o,i,a);return x[I.id]=A,s?I.internalInstanceId=A:x.refs[I.id]=A,c.set(y,h),A}function r(e){clearTimeout(e),clearInterval(e)}function n(e){var t=e.origin,r=e.internalInstanceId,n=t.forever;r&&(n||i(r))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.fn,n=void 0===r?function(){}:r,o=e.delay,i=void 0===o?0:o,a=e.forever,l=void 0===a||a;return t({scope:this||f.getCurPage(),fn:n,delay:i,method:l?setInterval:setTimeout,forever:l})}function i(e){var t=f.getRoute(),n=f.getPageTimer(),o=n.timers,i=void 0===o?[]:o,a=n.instances,l=void 0===a?{refs:{}}:a,v=function t(r){var n=!0,o=!1,i=void 0;try{for(var a,l=Object.entries(r)[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=u(a.value,2),f=c[0],v=c[1];if("refs"===f)return t(r.refs);if(e===v)return f}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}}(l);if(l[v]&&(e=l[v]),Boolean(v)){r(e),delete l.refs[v],delete l[v];var s=i.findIndex(function(e){return e.id===v});-1!==s&&i.splice(s,1),c.set(t,n)}}function a(){var e=f.getRoute(),t=f.getPageTimer(),n=t.timers,o=void 0===n?[]:n,i=t.instances,a=void 0===i?{}:i,v=l({},a);t.active=!1;var s=!0,d=!1,g=void 0;try{for(var y,h=Object.entries(v)[Symbol.iterator]();!(s=(y=h.next()).done);s=!0){(function(){var e=u(y.value,2),t=e[0],n=e[1];if("refs"===t)return"continue";r(n),delete a[t];var i=-1,l=o.find(function(e,r){var n=e.id===t;return n&&(i=r),n});if(l){var c=l.origin,f=l.count;c.forever||1!==f||-1!==i&&o.splice(i,1)}})()}}catch(e){d=!0,g=e}finally{try{!s&&h.return&&h.return()}finally{if(d)throw g}}c.set(e,t),console.log("终止 "+e+" 所有定时器")}Object.defineProperty(exports,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=new Map,f={getRandomID:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(36).substring(2,15)},getCurPage:function(){return getCurrentPages().pop()},getRoute:function(e){var t=e||f.getCurPage();return t&&(t.route||t.__route__)+"_"+t.__wxExparserNodeId__},getPageTimer:function(e){var t=e||f.getRoute();return c.get(t)||{active:!0,timers:[],instances:{refs:{}}}}};getApp().showTimer=function(){var e=f.getRoute(),t=c.get(e)||{};console.group(e),console.log(t);var r=!0,n=!1,o=void 0;try{for(var i,a=Object.entries(t)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var l=u(i.value,2),v=l[0],s=l[1];console.log(v,":",s)}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}console.groupEnd(e)},getApp().showAllTimer=function(){var e=0,t=0,r=0,n=f.getRoute(),o=!0,i=!1,a=void 0;try{for(var l,v=c[Symbol.iterator]();!(o=(l=v.next()).done);o=!0){var s=u(l.value,2),d=s[0],g=s[1],y=g.timers,h=g.instances;n&&n===d&&(t=y.length,r=Object.keys(h).length),e+=y.length}}catch(e){i=!0,a=e}finally{try{!o&&v.return&&v.return()}finally{if(i)throw a}}console.warn("共 "+c.size+" 个页面，共 "+e+" 定时器"),console.warn("当前页共定义 "+t+" 个定时器，当前正在运行 "+r+" 个实例")},exports.createTimeout=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r=this||r,o.call(r,{fn:e,delay:t,forever:!1})},exports.createInterval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r=this||r,o.call(r,{fn:e,delay:t,forever:!0})},exports.stopTimeout=function(e){i(e)},exports.stopInterval=function(e){i(e)},exports.stopAll=a,exports.resume=function(){var r=f.getRoute(),n=f.getPageTimer();if(!n.active){n.active=!0;var o=n.timers,i=void 0===o?[]:o,a=[].concat(e(i));n.timers=[],c.set(r,n),a.forEach(function(e){var r=e.id,n=e.origin,o=e.count,i=n.scope,a=n.fn,l=n.method,u=n.delay,c=n.forever;t({id:r,scope:i,fn:a,delay:u,method:l,forever:c,internal:!0,count:c?o:0})}),console.log("恢复 "+r+" 所有定时器")}},exports.destroy=function(){a();var e=f.getRoute();e&&c.delete(e)}; 
 			}); 
		define("common/toast/toast.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.content){if(e.page)this.page=e.page;else{var i=getCurrentPages();this.page=i[i.length-1]}this.page&&this.page.setData({toast:{}}),clearTimeout(this.timeoutId),this.page.setData({toast:{icon:e.icon||t.WARNING,content:e.content,contentStyle:e.contentStyle}}),void 0===e.duration&&(e.duration=1500),e.duration>0&&(this.timeoutId=setTimeout(this.hide.bind(this),e.duration))}},exports.hide=function(){clearTimeout(this.timeoutId),this.page&&this.page.setData({toast:{}}),delete this.page};var t=exports.ICON={NONE:"none",SUCCESS:"success_circle",LOADING:"waiting_circle",INFO:"info",SEARCH:"search",WARNING:"warn",ERROR:"cancel"}; 
 			}); 
		define("common/touch.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function t(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(o,n,e){return n&&t(o.prototype,n),e&&t(o,e),o}}(),n=function(){function n(o){var e=this;t(this,n),this.ctx=o,this.hasBindTouchStart=!1,this.hasBindTouchEnd=!1,this.ctxTouchStart=o.onTouchStart,this.ctxTouchEnd=o.onTouchEnd,o.onTouchStart=function(t){e.onTouchStart(t),e.ctxTouchStart&&e.ctxTouchStart.call(o,t)},o.onTouchEnd=function(t){e.onTouchEnd(t),e.ctxTouchEnd&&e.ctxTouchEnd.call(o,t)},this.events={swipeLeft:[],swipeRight:[],swipeUp:[],swipeDown:[]}}return o(n,[{key:"on",value:function(t,o){this.events[t]=this.events[t],this.events[t].push(o)}},{key:"off",value:function(t,o){for(var n=this.events[t];-1!=n.indexOf(o);)n.splice(n.indexOf(o),1)}},{key:"destroy",value:function(){this.events={swipeLeft:[],swipeRight:[],swipeUp:[],swipeDown:[]},this.ctxTouchStart&&(this.ctx.ctxTouchStart=this.ctxTouchStart.bind(this.ctx)),this.ctxTouchEnd&&(this.ctx.onTouchEnd=this.ctxTouchEnd.bind(this.ctx)),this.ctx=null}},{key:"onTouchStart",value:function(t){var o=t.touches[0],n=o.clientX,e=o.clientY;this._touchX=n,this._touchY=e,this._touchTime=Date.now()}},{key:"run",value:function(t){var o=this;t.forEach(function(t){t.call(o.ctx)})}},{key:"onTouchEnd",value:function(t){var o=t.changedTouches[0],n=o.clientX,e=o.clientY,s=Date.now(),i=n-this._touchX,h=e-this._touchY,c=Math.abs(h)/(s-this._touchTime)*1e3;Math.abs(i),this._touchTime;console.log("~~~~",i,h,c);var u=this.events,a=u.swipeLeft,r=u.swipeRight,l=u.swipeUp,f=u.swipeDown;0==i?h>0?(console.log("down0"),this.run(f)):(console.log("up0"),this.run(l)):0==h&&(i>0?(console.log("right0"),this.run(r)):(this.run(a),console.log("left0"))),i>0&&h<0?Math.abs(h/i)<.2679?(this.run(r),console.log("right1")):Math.abs(h/i)>3.7321&&(this.run(l),console.log("top1")):i>0&&h>0?Math.abs(h/i)<.2679?(this.run(r),console.log("right2")):Math.abs(h/i)>3.7321&&(console.log("down2"),this.run(f)):i<0&&h<0?Math.abs(h/i)>3.7321?(this.run(l),console.log("top3")):Math.abs(h/i)<.2679&&(this.run(a),console.log("left3")):i<0&&h>0&&(Math.abs(h/i)<.2679?(this.run(a),console.log("left4")):Math.abs(h/i)>3.7321&&(console.log("down4"),this.run(f)))}}]),n}();exports.Touch=n; 
 			}); 
		define("common/traceid.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,r){for(var n=parseInt(t,2),s="0",a=[],o=Math.pow(2,r)+"",u=o.length-1;u>-1;u--){var i=o[u];a.push(n*i+"")}for(var g=0;g<a.length;g++)s=e(s,a[g],g);return s}function e(t,e,r){return t.substr(0,t.length-r)/1+e/1+t.substr(t.length-r)}function r(t,e){for(var r=0,n=[],s=t.length,a=e.length,o=Math.max(s,a),u=0;u<o;u++){var i=(s-u>0?t.charAt(s-u-1)/1:0)+(a-u>0?e.charAt(a-u-1)/1:0)+r;i>=10?(r=1,n.push(i%10)):(r=0,n.push(i))}return n.reverse().join("")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.genTraceId=function(e){var n=e.operateId,s=e.bizId,a=e.isServer||0,o=new Date,u=new Date("2017/01/01"),i=parseInt((o.getTime()-u.getTime())/1e3),g=1e3*parseInt(100*Math.random())+o.getMilliseconds();if(!s||!n)return"";n&=2047,s&=63;var h=1073741823&i;return g=(g&=32767).toString(2),n=n.toString(2),s=s.toString(2),h=h.toString(2),g="000000000000000".substr(0,15-g.length)+g,n="00000000000".substr(0,11-n.length)+n,s="000000".substr(0,6-s.length)+s,r(t("0"+h,33),parseInt(a+s+n+g,2)+"")}; 
 			}); 
		define("common/url_utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(){return"https:"}function t(e){return/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(e)}function o(e){var r=t(e);return r&&{source:r[0],protocol:r[1],slash:r[2],host:r[3],port:r[4],path:r[5],query:r[6],hash:r[7]}}function n(e){return"http"==o(e).protocol&&(e=e.replace("http","https")),e}function a(e,r){var t=[];for(var o in r)t.push(o+"="+encodeURIComponent(r[o]));return e+(e.indexOf("?")>-1?"&":"?")+t.join("&")}function s(e,r){if(!r&&getCurrentPages){var t=getCurrentPages();return t.length>0&&t[t.length-1].$query?t[t.length-1].$query[e]:""}var o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=r.substr(r.indexOf("?")+1).match(o);return null!=n?n[2]:""}function p(e,t,s,p){if(e==x.HTTP_CFG_URL)return t==h.default.CHANNEL_HTTP?e:x.WS_CFG_URL;var i=o(e);if(i.protocol||(e=r()+e),p||(e=n(e)),t==h.default.CHANNEL_HTTP&&p)return"https://"+x.API_GATEWAY_DOMAIN+"/api.php?url="+encodeURIComponent(a(e.replace(/^https/,"http"),s));if(f.directHosts.indexOf(i.host)>-1)return e;var u=i.host.split(".");if(t==h.default.CHANNEL_HTTP)return e.replace(i.host,x.API_GATEWAY_DOMAIN+"/"+u[0]);var c="/";return"wq.360buyimg.com"===i.host?c+=u[1]:c+=u[0],e.replace(new RegExp("http(s)?://"+i.host),c)}function i(e){for(var r=0,t=e.length,o=5381;r<t;++r)o+=(o<<5)+e.charAt(r).charCodeAt();return"0"}function u(e){var r=e.split("#")[0].split("?"),t={};return 2===r.length&&r[1]?(r[1].split("&").forEach(function(e){var r=e.split("="),o=r[0],n=2===r.length?decodeURIComponent(r[1]):"";t[o]=n}),t):{}}function c(e){var r=o(e).hash;if(!r)return{};var t={};return r.split("&").forEach(function(e){var r=e.split("=");r[0]&&(t[r[0]]=decodeURIComponent(r[1]||""))}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setUrlHashParamByObject=exports.getUrlHashParams=exports.getUrlHashParamByKey=exports.setUrlParamByObject=exports.addUrlParam=exports.addCsrfToken=exports.transToWebsocketUrl=exports.createURL=exports.wxaProxy=exports.removeUrlParam=exports.getUrlParam=exports.getQueryObject=exports.getQueryArray=exports.getDomain=exports.changeToHttps=exports.parseURL=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=e(require("./config")),h=function(e){return e&&e.__esModule?e:{default:e}}(require("./http_constant")),d=e(require("./cookie-v2/cookie.js")),x=e(require("../api/APIs"));exports.parseURL=o,exports.changeToHttps=n,exports.getDomain=function(e){return o(e).host},exports.getQueryArray=function(e){var r=void 0,t=o(e).query;if(t){r=[];for(var n=t.split("&"),a=0;a<n.length;a++){var s=n[a].indexOf("=");r[n[a].substring(0,s)]=n[a].substring(s+1,n[a].length)}}return r},exports.getQueryObject=u,exports.getUrlParam=s,exports.removeUrlParam=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=new RegExp("([?#&])"+r+"=[^&#]+([&#]|$)");t.test(e);)e=e.replace(t,function(e,r,t){return"&"===t?r:t});return e},exports.wxaProxy=p,exports.createURL=a,exports.transToWebsocketUrl=function(e){if(e.indexOf("api.php")>-1){var r=s("url",e);return p(decodeURIComponent(r))}return e},exports.addCsrfToken=function(e){if("object"!=(void 0===e?"undefined":l(e)))throw new Error("addCsrfToken的'paramObj'参数必须是object");var r=d.getCookie("wq_skey");r&&(e.g_ty="ls",e.g_tk=i(r))},exports.addUrlParam=function(e,r){if(e&&r&&"object"==(void 0===r?"undefined":l(r))){var t=[];for(var o in r)r.hasOwnProperty(o)&&t.push(o+"="+encodeURIComponent(r[o]));if(t[0]){var n=t.join("&");e=e.indexOf("?")>-1?e+"&"+n:e+"?"+n}}return e},exports.setUrlParamByObject=function(e,r){var t=e.split("#"),o="",n="",a=e.split("#")[0].split("?")[0],s=u(e),p=[],i=Object.assign({},s,r);for(var c in i)p.push(c+"="+encodeURIComponent(i[c]));return o=0!==p.length?"?"+p.join("&"):"",n=2===t.length?"#"+t[1]:"",a+o+n},exports.getUrlHashParamByKey=function(e,r){var t=o(e).hash,n=new RegExp("(^|&)"+r+"=([^&]*)(&|$)","i"),a=t.match(n);return a&&a[2]||""},exports.getUrlHashParams=c,exports.setUrlHashParamByObject=function(e,r){var t=e.split("#")[0].split("?")[0],n=(o(e)||{}).query,a=void 0===n?"":n,s=c(e),p=[];Object.assign(s,r);for(var i in s)p.push(i+"="+encodeURIComponent(s[i]));return t+(a?"?"+a:"")+(p.length?"#"+p.join("&"):"")}; 
 			}); 
		define("common/user_info.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function t(){return{wid:"",openid:"",unionid:"",pin:"",skey:"",wxNickName:"",wxAvatarUrl:"",avatarUrl:"",nickName:"",gender:0,province:"",city:"",country:"",userAddressID:"1_72_2819_0",userAddress:"北京_朝阳区_三环到四环之间_",ou:"",isplus:!1,jdLevel:0,jdLevelName:"",visitkey:"",definePin:0}}function a(e){_||i(),Object.assign(_,e),U.set("gUserData",_).then(function(e){N.info(e)}).catch(function(e){N.error(e)})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.split(/,/),o=2===a.length?[1].concat(r(a)):a,n=h(o,3),i=n[0],s=void 0===i?1:i,d=n[1],u=void 0===d?"":d,c=n[2],f=void 0===c?"":c;u=u.trim(),f=f.trim(),"undefined"==u&&(u=""),"undefined"==f&&(f="");var p=u&&f;return t?p?s+","+u+","+f:"":p?u+","+f:""}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=e.split(/_/).map(function(e){return e||0}),t=r.length;return 4-t>0&&(r.length=4,r=r.fill(0,t)),e=r.join("_")}function i(){if(!_){var e=U.getSync("gUserData");_=e||t()}}function s(e){var r="https://wq.jd.com/user/info/QueryJDUserInfo?_="+Math.round(2147483647*Math.random());w.request.get({url:r,data:{}}).then(function(r){var t=r.body;r.header;{if(13!=t.retcode)return 0!=t.retcode?(I.umpBiz({bizid:"563",operation:2,result:t.retcode,message:t.msg}),void e(t.retcode,{code:t.retcode})):void(0==t.retcode&&t.base&&(I.umpBiz({bizid:"563",operation:2,result:0,message:"ret:suc"}),_.nickName=t.base.nickname,_.pin=t.base.curPin,_.avatarUrl=t.base.headImageUrl,_.jdLevel=t.base.userLevel,_.jdLevelName=t.base.levelName,_.definePin=t.definePin,_.jdNum=t.base.jdNum,_.jvalue=90==_.jdLevel?0:t.base.jvalue,_.pinlist=t.base.pinlist,a(_),j.setCookie({data:{pin:t.base.curPin,jdpin:t.base.curPin},defaultExpires:!0}),e&&e(t.retcode||0,t)));(0,A.doLogin)().then(function(){s(e)}).catch(function(e){N.error(e)})}}).catch(function(r){var t=r.code,a=r.message;I.umpBiz({bizid:"563",operation:2,result:t,message:a}),e&&e(t,{code:t})})}function d(e){w.request.get({url:"https://wq.jd.com/vipplus/GetPlusVerifyStatusInfo",data:{type:3,scene:"weixin",t:Math.round(2147483647*Math.random())}}).then(function(r){var t=r.body;r.header;{if(13!=t.retcode)return 0!=t.retcode?(e(t.retcode,{code:t.retcode}),void I.umpBiz({bizid:"563",operation:16,result:t.retcode,message:t.msg})):void(0==t.retcode&&t.data&&(_.isplus=!0,a({isplus:!0}),e&&e(t.retcode||0,t),I.umpBiz({bizid:"563",operation:16,result:0,message:"ret:suc"})));(0,A.doLogin)().then(function(){d(e)}).catch(function(e){N.error(e)})}}).catch(function(r){var t=r.code,a=r.message;e&&e(-1,{code:t}),I.umpBiz({bizid:"563",operation:16,result:999,message:a})})}function u(e){N.info("getAccountInfo"),w.request.get({url:"https://wq.jd.com/pinbind/accountInfo",data:{}}).then(function(r){var t=r.body;r.header;{if(13!=t.retcode)return 0!=t.retcode?(e(t.retcode,{code:t.retcode}),void I.umpBiz({bizid:"563",operation:17,result:t.retcode,message:t.errmsg})):void(0==t.retcode&&(e&&e(t.errcode||0,t),I.umpBiz({bizid:"563",operation:17,result:0,message:"ret:suc"})));(0,A.doLogin)().then(function(){u(e)}).catch(function(e){N.error(e)})}}).catch(function(r){var t=r.code,a=r.message;e&&e(-1,{code:t}),I.umpBiz({bizid:"563",operation:17,result:999,message:a})})}function c(e){N.info("getUserAllPinInfo"),w.request.get({url:"https://wq.jd.com/user/info/GetUserAllPinInfo",data:{}}).then(function(r){var t=r.body;r.header;{if(13!=t.errcode)return 0!=t.errcode?(e(t.errcode,{code:t.errcode}),void I.umpBiz({bizid:"558",operation:2,result:t.errcode,message:t.msg})):void(0==t.errcode&&t.userdata&&(e&&e(t.retcode||0,t),I.umpBiz({bizid:"558",operation:2,result:0,message:"ret:suc"})));(0,A.doLogin)().then(function(){c(e)}).catch(function(e){N.error(e)})}}).catch(function(r){var t=r.code,a=r.message;e&&e(-1,{code:t}),I.umpBiz({bizid:"558",operation:2,result:999,message:"ret:error"+a})})}function f(){var e=p(),r=e.addressId,t=e.areaId,a=e.areaName,i=e.addressName,s=e.coordinate,d=j.getCookie("wq_addr"),u=d?d.split(/\|/):[];if(u.length){var c=h(u,5),f=c[0];r=void 0===f?r:f;var g=c[1];t=void 0===g?t:g;var l=c[2];a=void 0===l?a:l;var m=c[3];i=void 0===m?i:m;var v=c[4];s=void 0===v?s:v}if(r=Number.isNaN(+r)?0:+r,"0_0_0_0"===(t=n(t))||4!==t.split("_").length){var b=p();r=b.addressId,t=b.areaId,a=b.areaName,s=b.coordinate}return{addressId:r,areaId:t,areaName:a,addressName:i,coordinate:o(s),coordinateWithType:o(s,!0)}}function p(){var e=t();return{addressId:0,areaId:e.userAddressID,areaName:e.userAddress,addressName:"",coordinate:"116.468369,40.003948"}}function g(e){function r(){return new b.default(function(e,r){getApp().event.on("getUserInfoSuccess",function(r){l(r),getApp().event.off("getUserInfoSuccess"),getApp().event.off("getUserInfoFail"),a(),e(r)}),getApp().event.on("getUserInfoFail",function(e){m(),getApp().event.off("getUserInfoSuccess"),getApp().event.off("getUserInfoFail"),a(),r("wx-layer cancel"===e?"拒绝授权":e||"暂不授权")})})}function t(){var e=getCurrentPages().pop();if(e){var r=Object.assign({},e.data.loginLayerData,{isShowLayer:!0,layerType:"auth",isFromUserInfoJS:!0});r.isHasTabBar&&wx.hideTabBar({animation:!0}),getApp().event.emit("showLoginMask_"+(e._pageId||"")),e.setData({loginLayerData:r})}}function a(){var e=getCurrentPages().pop();if(e){var r=Object.assign({},e.data.loginLayerData,{isShowLayer:!1});r.isHasTabBar&&wx.showTabBar({animation:!0}),getApp().event.emit("hideLoginLayer_"+(e._pageId||"")),e.setData({loginLayerData:r})}}function o(){var e=getCurrentPages(),a=e[e.length-1],o=a.route,n=(a.data.loginLayerData||{}).hasImportLoginComponents;return z=Date.now(),n?(t(),r()):("pages/login/index"!==o&&x.goto("/pages/login/index",{rurl:o,isFromUserInfo:!0,returnData:a.data.__report_props__||a.options||{}}),b.default.reject("跳转授权页"))}return!e&&Date.now()-z<=5e3?b.default.reject("5秒内只允许授权一次"):v().then(function(e){return l(e),e}).catch(function(e){return o()})}function l(e){if(e&&e.userInfo){var r=e.userInfo,t={gender:r.gender,province:r.province,city:r.city,country:r.country,wxNickName:r.nickName,wxAvatarUrl:r.avatarUrl,nickName:r.nickName,avatarUrl:r.avatarUrl};a(t),j.setCookie({data:t,defaultExpires:!0})}else m()}function m(){var e={gender:1,province:"Guangdong",city:"Shenzhen",country:"China",nickName:"京东用户",avatarUrl:"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t1/82031/9/5133/19337/5d36bcadE9cdb240c/ccc58f73b721ec2d.png",wxNickName:"京东用户",wxAvatarUrl:"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t1/82031/9/5133/19337/5d36bcadE9cdb240c/ccc58f73b721ec2d.png"};a(e),j.setCookie({data:e,defaultExpires:!0})}function v(){return new b.default(function(e,r){wx.getSetting({success:function(t){t&&t.authSetting&&t.authSetting["scope.userInfo"]?wx.getUserInfo({success:function(r){e(r)},fail:function(e){r()}}):r()},fail:function(e){r()}})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDefaultWXAvatarUrl=exports.isDefaultWXNickName=exports.getUserPublicInfo=exports.getWXAuth=exports.getAddress=exports.updateAddress=exports.getPlusUserInfo=exports.getAccountInfo=exports.getUserAllPinInfo=exports.getUserInfo=exports.initUserData=exports.updateUserData=exports.getUserAddressDes=exports.getUserAddressID=exports.gUserData=void 0;var h=function(){function e(e,r){var t=[],a=!0,o=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);a=!0);}catch(e){o=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw n}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(e){return e&&e.__esModule?e:{default:e}}(require("../libs/promise.min")),x=e(require("./navigator.js")),j=e(require("./cookie-v2/cookie.js")),y=require("./logger.js"),w=require("./request/request.js"),I=e(require("./fe_report/usability.js")),A=require("./login/login.js"),U=e(require("./localStorage.js")),N=new y.Logger("userinfo"),_=null,z=0;exports.gUserData=function(){return _},exports.getUserAddressID=function(){return f().areaId},exports.getUserAddressDes=function(){return f().areaName};exports.updateUserData=a,exports.initUserData=i,exports.getUserInfo=s,exports.getUserAllPinInfo=c,exports.getAccountInfo=u,exports.getPlusUserInfo=d,exports.updateAddress=function(e){(e.jdaddrname||e.jdaddrid)&&N.error("请设置 wq_addr 值，字段jdaddrname 和 jdaddrid 已废弃，参见：http://git.jd.com/wxapp/wxapp/wikis/wq_addr_explain");var r=t(),i=r.userAddress,s=r.userAddressID,d=e.wq_addr?e.wq_addr.split(/\|/):[e.addressId,e.areaId,e.areaName,e.addressName,e.coordinate],u=h(d,5),c=u[0],f=u[1],p=u[2],g=u[3],l=u[4],m={wq_addr:[c||0,n(f||s),p||i,g||"",o(l)].join("|")};e.jdaddrid&&e.jdaddrname&&Object.assign(m,{jdAddrId:e.jdaddrid,jdAddrName:e.jdaddrname}),j.setCookie({data:m,defaultExpires:!0}),a(m)},exports.getAddress=f,exports.getWXAuth=g,exports.getUserPublicInfo=function(e){var r=j.getCookie("wxNickName"),t=j.getCookie("wxAvatarUrl");return r&&t&&"京东用户"!==r&&"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t1/82031/9/5133/19337/5d36bcadE9cdb240c/ccc58f73b721ec2d.png"!==t?(I.umpBiz({bizid:1002,operation:10,result:0,message:""}),b.default.resolve({wxNickName:r,wxAvatarUrl:t})):new b.default(function(r,t){g(e).then(function(){I.umpBiz({bizid:1002,operation:10,result:1,message:"授权成功"}),r({wxNickName:j.getCookie("wxNickName"),wxAvatarUrl:j.getCookie("wxAvatarUrl")})}).catch(function(e){"拒绝授权"===e?I.umpBiz({bizid:1002,operation:10,result:2,message:e}):"暂不授权"===e?I.umpBiz({bizid:1002,operation:10,result:3,message:e}):"跳转授权页"===e?console.log(e):"5秒内只允许授权一次"===e?I.umpBiz({bizid:1002,operation:10,result:4,message:e}):I.umpBiz({bizid:1002,operation:10,result:5,message:e&&e.toString()}),t(e)})})},exports.isDefaultWXNickName=function(){return"京东用户"===j.getCookie("wxNickName")},exports.isDefaultWXAvatarUrl=function(){return"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t1/82031/9/5133/19337/5d36bcadE9cdb240c/ccc58f73b721ec2d.png"===j.getCookie("wxAvatarUrl")}; 
 			}); 
		define("common/userinfo_wqvue.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.gUserData=exports.getUserPublicInfo=exports.getWXAuth=exports.getUserInfo=exports.getPlusUserInfo=exports.getUserAddressDes=exports.getUserAddressID=exports.updateAddress=exports.getAddress=exports.getUserData=exports.updateUserData=void 0;var e=function(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r]);return s.default=e,s}(require("./user_info"));exports.updateUserData=e.updateUserData,exports.getUserData=e.gUserData,exports.getAddress=e.getAddress,exports.updateAddress=e.updateAddress,exports.getUserAddressID=e.getUserAddressID,exports.getUserAddressDes=e.getUserAddressDes,exports.getPlusUserInfo=e.getPlusUserInfo,exports.getUserInfo=e.getUserInfo,exports.getWXAuth=e.getWXAuth,exports.getUserPublicInfo=e.getUserPublicInfo,exports.gUserData=e.gUserData; 
 			}); 
		define("common/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(t){return t.reduce(function(t,r){var n=[].concat(r).some(Array.isArray);return t.concat(n?e(r):r)},[])}function t(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function r(){var e="";if(t(Error.captureStackTrace,"Function")){var n={};Error.captureStackTrace(n,r),e=(n.stack||"").replace(/\n/g," ")}else e=((new Error).stack||"").replace(/\n/g," ");return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTjjApp=exports.isJdJrApp=exports.isJDAPP=exports.isQQ=exports.isWx=exports.getStackTrace=exports.formatString=exports.isNaNPlus=exports.isCrawler=exports.isType=exports.greyScale=exports.compareVersion=exports.nth=exports.isObject=exports.deepExtend=exports.handleQueryScene=exports.canGetActiveCoupon=exports.chunk=exports.flatten=exports.only=exports.fixProtocol=exports.getPageUrl=exports.genErrMsg=exports.formatDate=exports.formatTime=exports.checkTime=exports.getRandomIDPro=exports.getRandomID=exports.setUrlQuery=exports.getUrlParam=exports.isMobile=exports.decode=exports.debounce=exports.throttleTail=exports.throttle=exports.querystr=exports.querystring=exports.getImg=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,p=e[Symbol.iterator]();!(n=(s=p.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&p.return&&p.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=require("./cookie-v2/cookie.js"),s=Object.prototype.toString,p=void 0,a=void 0;exports.getImg=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(!e)return"";if(0===e.indexOf("data:image")&&-1!=e.indexOf("base64"))return e;var n=(e=(e=e.replace(/\s+/g,"")).replace(/^(https?:)?\/\//i,"https://")).match(/(\S*\.(jpg|jpeg|png|webp|gif|JPG|JPEG|PNG|WEBP|GIF))\s*/g);if(!n)return e;if(e=n[0],/^https/i.test(e)||(e="https://img10.360buyimg.com/img/"+e),/\.gif/i.test(e))return e;if(!/jfs\//.test(e)||!/(m|img\d{1,2})\.360buyimg\.com/.test(e)||!/\.(jpg|jpeg|png|webp)/.test(e))return e;if(t&&(e=e.replace(/(\/)(?:s\d+x\d+_)?(jfs\/)/,"$1s"+t+"x"+r+"_$2")),void 0===a?a=getApp().webpSupport:a&&/\.(jpg|jpeg|png)/.test(e)&&!/\.webp/.test(e)&&(e+=".webp"),/\.(jpg|jpeg)/.test(e)){p||(p=getApp().networkType);var o={wifi:80,"4g":60,"3g":40,"2g":20}[p];o&&(e=e.replace(/(\.(jpg|jpeg))(!q\d{1,2})?/,"$1!q"+o))}var i=[10,11,12,13,14,20,30],s=(parseInt(e.substr(e.lastIndexOf("/")+1,8),36)||0)%i.length;return e=e.replace(/(\/\/img)\d{1,2}(\.360buyimg\.com)/,"$1"+i[s]+"$2")},exports.querystring=function(e){var t=[];for(var r in e)void 0!==e[r]&&("string"==typeof e[r]&&(e[r]=e[r].replace(/%/g,"%25"),e[r]=e[r].replace(/&/g,"%26"),e[r]=e[r].replace(/\?/g,"%3F"),e[r]=e[r].replace(/=/g,"%3D")),t.push(r+"="+e[r]));return t.join("&")},exports.querystr=function(e,t,r){if("[object Object]"==s.call(e)){var n=[];for(var i in e)if(void 0!==e[i]){if("string"==typeof e[i]){var p=r?i.toLowerCase():i;t&&t[i]?e[p]=e[i]:e[p]=encodeURIComponent(e[i])}n.push(i+"="+e[i])}return n.join("&")}if("[object String]"==s.call(e)){var a=e.split("#"),u=o(a,2),c=u[0],l=u[1],f={},g={hash:""};return l&&(g.hash=l),c&&c.split("&").forEach(function(e){var t=e.split("="),n=o(t,2),i=n[0],s=n[1],p=r?i.toLowerCase():i;f[p]=decodeURIComponent(s)}),g.query=f,g}return e},exports.throttle=function(e,t){var r=0;return function(){var n=Date.now();if(!(n-r<t))return r=n,e.apply(this,arguments)}},exports.throttleTail=function(e,t){var r=Date.now(),n=null;return function(){var o=this,i=Date.now(),s=arguments;i-r<t&&n&&clearTimeout(n),n=setTimeout(function(){n=null,e.apply(o,s)},t),r=i}},exports.debounce=function(e,t){var r=null;return function(){var n=this,o=arguments;r&&clearTimeout(r),r=setTimeout(function(){r=null,e.apply(n,o)},t)}},exports.decode=function(e){try{return decodeURIComponent(e)}catch(t){return e}},exports.isMobile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],r=e,n=e.substring(0,3),o=e.substring(0,4);return e=!!/^1\d{10}$/.test(e)&&("130,131,132,155,156,185,186,145,176,166,175".indexOf(n)>=0?"联通":"133,153,180,181,189,177,173,170,199".indexOf(n)>=0?"电信":"1349"==o?"电信":"134,135,136,137,138,139,150,151,152,157,158,159,187,188,147,182,183,184,178,171,198".indexOf(n)>=0?"移动":"未知"),t||e||!/^1\d{2}\*{4}\d{4}$/.test(r)||(e=!0),e},exports.getUrlParam=function(e,t){var r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=t.substr(t.indexOf("?")+1).match(r);return null!=n?n[2]:""},exports.setUrlQuery=function(e,t,r){var n="",o="",i=void 0;return-1!==(i=e.indexOf("#"))&&(n=e.substring(i),e=e.substring(0,i)),-1!==(i=e.indexOf("?"))&&(o=e.substring(i+1),e=e.substring(0,i)),(o=o.split("&").filter(function(e){return e&&decodeURIComponent(e.split("=")[0]).toLowerCase()!==t.toLowerCase()})).push(encodeURIComponent(t)+"="+encodeURIComponent(r)),o=o.join("&"),e+"?"+o+n},exports.getRandomID=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(36).substring(2,15)},exports.getRandomIDPro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size,r=void 0===t?10:t,n=e.dictType,o=void 0===n?"number":n,i=e.customDict,s=void 0,p="";if(i&&"string"==typeof i)s=i;else switch(o){case"alphabet":s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"max":s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";break;case"number":default:s="0123456789"}for(;r--;)p+=s[Math.random()*s.length|0];return p},exports.checkTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();/^\d{10}$/.test(e+"")&&(e*=1e3),/^\d{10}$/.test(t+"")&&(t*=1e3);var n=!e||(parseInt(e)==e?r>=e:r>=Date.parse(e)),o=!t||(parseInt(t)==t?r<t:r<Date.parse(t));return n?o?0:1:-1},exports.formatTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();if(e){var t=new Date(e);return t.getFullYear()+"."+(t.getMonth()+1)+"."+t.getDate()}},exports.formatDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=arguments[1],r=new Date;r.setTime(e);var n={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),"S+":r.getMilliseconds()};/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},exports.genErrMsg=function(e,t){return e&&t?e+"("+t+")":e||t||"网络繁忙，请稍后再试"},exports.getPageUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e){var t=getCurrentPages();e=t[t.length-1]}var r=e&&(e.route||e.__route__)||"app.js";return{route:r,vurl:"http://wq.jd.com/wxapp/"+r,options:e?e.options:{}}},exports.fixProtocol=function(e){return e&&(e=e.replace(/^(http:\/\/|\/\/)/,"https://")),e},exports.only=function(e,t){return e=e||{},"string"==typeof t&&(t=t.split(/ +/)),t.reduce(function(t,r){return null==e[r]?t:(t[r]=e[r],t)},{})},exports.flatten=e,exports.chunk=function(e,t){if("number"!=typeof t)throw new TypeError("size is not number");if(!Array.isArray(e))throw new TypeError("arr is not array");for(var r=[],n=0;n<e.length;)r.push(e.slice(n,n+=t));return r},exports.canGetActiveCoupon=function(e){var t=!1,r=!1,n=!1;return e&&(e.DailyBingos<e.MaxDailyBingos&&(t=!0),e.HourBingos<e.MaxHourBingos&&(r=!0),e.TotalBingos<e.MaxBingos&&(n=!0)),t&&r&&n},exports.handleQueryScene=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scene;if("string"==typeof t&&0!==t.indexOf("shop/")){var r=decodeURIComponent(t).replace(/@/g,"%");if(/=|&/.test(r)){var n={};r.split("&").forEach(function(e){var t=e.split("=");if(2==t.length){var r=decodeURIComponent(t[0]),o=decodeURIComponent(t[1]);n[r]=o}}),delete e.scene,Object.assign(e,n)}}},exports.deepExtend=function e(t){var r=void 0;if(null==t||"object"!=(void 0===t?"undefined":n(t)))return t;if(t instanceof Date)return(r=new Date).setTime(t.getTime()),r;if(t instanceof Array){r=[];for(var o=0,i=t.length;o<i;o++)r[o]=e(t[o]);return r}if(t instanceof Object){r={};for(var s in t)t.hasOwnProperty(s)&&(r[s]=e(t[s]));return r}console.warn("Unable to copy obj! Its type isn't supported.")},exports.isObject=function(e){var t=void 0===e?"undefined":n(e);return null!=e&&("object"==t||"function"==t)},exports.nth=function(e,t){return Array.isArray(e)&&e.length>t?e[t]:null},exports.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var r=Math.max(e.length,t.length);e.length<r;)e.push("0");for(;t.length<r;)t.push("0");for(var n=0;n<r;n++){var o=parseInt(e[n]),i=parseInt(t[n]);if(o>i)return 1;if(o<i)return-1}return 0},exports.greyScale=function(e,t){if(isNaN(+e))return!1;var r=(0,i.getCookie)("visitkey"),n=parseInt(r.slice(-2))+1,o=parseInt(e);if(100===o||o>0&&o<=100&&n<=o)return!0;if(t&&"string"==typeof t){var s=t.split(";"),p=(0,i.getCookie)("pin")||"";if(s.find(function(e){return e===p}))return!0}return!1},exports.isType=t,exports.isCrawler=function(){return"1129"==(0,i.getCookie)("wxapp_scene")},exports.isNaNPlus=function(e){return e!==e},exports.formatString=function(e){var r=e.str,n=e.len,o=e.ele,i=void 0===o?"0":o,s=e.type,p=void 0===s?"prefix":s;if(!(t(r,"String")&&n&&t(n,"Number")&&t(i,"String")&&1===i.length))throw new Error("==>formatString：输入不合法。");for(var a=r.length,u="",c=0;c<n-a;c++)u+=i;return"prefix"===p?u+r:r+u},exports.getStackTrace=r;exports.isWx=null,exports.isQQ=null,exports.isJDAPP=null,exports.isJdJrApp=null,exports.isTjjApp=null; 
 			}); 
		define("common/visitkey.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(){var e=o.getCookie("wid"),r=String(Date.now());return t(e)?(0,i.formatString)({str:e,len:13,ele:"1"})+r:(0,i.getRandomIDPro)({size:13})+r}function t(e){var t=parseInt(e);return e&&(0,i.isType)(e,"String")&&t&&(0,i.isType)(t,"Number")&&e.length>=9&&e.length<=12}function r(e){o.setCookie({data:{visitkey:{value:e,maxAge:31536e5}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateVisitKey=e,exports.getVisitKey=function(){return o.getCookie("visitkey")},exports.checkVisitKey=function(){var t=o.getCookie("visitkey");return t||(t=e(),r(t),t)},exports.updateVisitKey=function(){r(e())};var i=require("./utils"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("./cookie-v2/cookie.js")); 
 			}); 
		define("common/wdref.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.backSet=exports.onLoadSet=exports.getUrlParams=exports.addUrlParams=void 0;var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("./localStorage.js")),r={},t=(exports.addUrlParams=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r[e]=t},exports.getUrlParams=function(e,t){var o=r[e];return t&&delete r[e],o});exports.onLoadSet=function(r){var o=t(r),a=o&&o.wdref||"";a&&e.set("wdref",a)},exports.backSet=function(r){r&&r.url&&e.set("wdref",r.url)}; 
 			}); 
		define("common/wqvue/core/instance/common/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var t={};return Object.keys(e).forEach(function(r){t[(0,n.decode)(r)]="object"==o(e[r])?e[r]:(0,n.decode)(e[r])}),t}function t(){return[{route:document.referrer},this._isWqVueComponent?this.$root:this]}Object.defineProperty(exports,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.add$query=function(t,o){var r=o||(0,n.parseQueryString)(location.href);t.$query=e(r)},exports.decodeQuerys=e,exports.addSpeApi=function(e){e.rpx2px=function(e){return e*((window?window.screen.availWidth:wx.getSystemInfoSync().windowWidth)/750)},e.getCurrentPages=window?(0,n.bind)(t,e):getCurrentPages,e.$env=r};var n=require("../../util/index"),r=["xcx","weixin","qq","m","jdapp","node","weex"][[n.isXcx,n.isWeixin,n.isQQ,n.isMobile,n.isJDApp,n.inNode,n.inWeex].findIndex(function(e){return e})]; 
 			}); 
		define("common/wqvue/core/instance/common/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,r,o,a,i){t&&Object.keys(t).forEach(function(t){return(0,e.proxy)(r,o,t,a,i)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addProxy=t,exports.addAllProxy=function(r,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$data";if(r.store){var i=o[a],n=o.store;t(i,o,n,a,!0),n.state=i;var s=r.staticData;s&&(0,e.isNotEmptyObject)(s)&&t(s,r,o,"staticData")}},exports.mountStore=function(e,r){var o=e.store&&e.store();if(o){var a=o.state||{};return o.$this=r,t(o.actions,o,o,"actions"),t(o.actions,o,r,"actions"),o&&(r.store=o),a}},exports.addInitCreated=function(t){t.created_init=function(){}};var e=require("../../util/index"); 
 			}); 
		define("common/wqvue/core/instance/xcx/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return"http://wq.jd.com/wxapp/"+e}Object.defineProperty(exports,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.addEmit=function(e){e.$emit=e.triggerEvent},exports.add$refs=function(e){e.$refs=new o.default({},{get:function(r,t){return console.error("proxy-polyfill暂不支持新属性，而且某些机型不支持原生proxy，所以$refs暂不可用"),e.selectComponent("#"+t)||{}}})},exports.addXcxReferrer=function(r){var t=getCurrentPages(),o=t.length,n=t.pop(),i=t.pop();r.referrer=e(1==o?n&&n.route||"":i&&i.route||"")},exports.addXcx$xgoto=function(e){e.$xgoto=function(){for(var o=arguments.length,n=Array(o),i=0;i<o;i++)n[i]=arguments[i];var p=Array.isArray(n[0]),f=n[0].length,u=void 0;if(!p)throw new Error("链接参数类型应为数组");if(2==f)u=n[0].filter(function(e){return e.startsWith("/pages/")})[0];else if(1==f){var s=n[0][0].replace(/^(http:)?\/\//,"https://");s=(0,t.addUrlParam)(s,"object"==r(n[1])?n[1]:{}),u="/pages/h5/index?encode_url="+encodeURIComponent(s),n[1]={}}else if(0==f)throw new Error("链接参数数组不能为空");n[0]=u,e.$goto.apply(e,n)}},exports.addXcx$setShare=function(e,r){e.onShareAppMessage&&(r.$setShare=function(){})};var t=require("../../util/index"),o=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../../libs/proxy.min.js")); 
 			}); 
		define("common/wqvue/core/instance/xcx/behaviors.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(a,s){var t=a.mixins||a.behaviors;if(t&&t.length){s.behaviors=[];var o=!0,v=!1,l=void 0;try{for(var h,n=t[Symbol.iterator]();!(o=(h=n.next()).done);o=!0){var u=h.value,c={};u._isBehaviors=!0,e(u,c),(0,i.parseProps)(u,c),(0,i.parseMethods)(u,c),(0,r.parseXcxLifeCircle)(u,c,!1),s.behaviors.push(Behavior(c))}}catch(e){v=!0,l=e}finally{try{!o&&n.return&&n.return()}finally{if(v)throw l}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseBehaviors=e;var r=require("./lifecycle"),i=require("./state"); 
 			}); 
		define("common/wqvue/core/instance/xcx/index/indexv1.2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parse=function(o){if(!o)throw new Error("page option 参数不合法");var t={};return(0,r.parseMethods)(o,t,!0),(0,e.parseXcxLifeCircle)(o,t,!0),(0,s.registerOnPageScroll)(o,t),(0,s.parseAppShare)(o,t),t},exports.componentParse=function(t){if(!t)throw new Error("component option 参数不合法");var i={};return(0,o.parseBehaviors)(t,i),(0,r.parseProps)(t,i),(0,r.parseMethods)(t,i,!1),(0,e.parseXcxLifeCircle)(t,i,!1),(0,s.parseOptions)(t,i),i};var e=require("../lifecycle"),r=require("../state"),o=require("../behaviors"),s=require("../init"); 
 			}); 
		define("common/wqvue/core/instance/xcx/init.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(){return getCurrentPages().pop()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initXcxInCreated=function(p,c,h,u){var l=c._isBehaviors,x=!p&&!l,f=c.store&&c.store(),g=f?f.state:c.data;h.data=(0,t.extend)({},g,!0),h[p?"onLoad":"created"]=function(){var e=this;this._isWqVue=!0,this._dataQueue={},this._template=c.template;var f=(0,s.mountStore)(c,this)||c.data;this.$data=(0,t.extend)((0,t.extend)({},this.$data,!0)||{},(0,t.extend)({},f,!0),!0),d.addInstanceId.call(this),l||((0,o.addXcx$xgoto)(this),(0,n.addSpeApi)(this),(0,o.add$refs)(this),(0,t.bind)(a.nextTick,this)()),(0,r.proxyData)(c,h,this),this.$data&&((0,r.initObserver)(this,c,p),l||(this.$set=function(r,a,o){Object.is(r,e.$data)&&(0,t.proxy)(e,e,a,"$data"),(0,i.set)(r,a,o,e)}));for(var g=arguments.length,v=Array(g),S=0;S<g;S++)v[S]=arguments[S];p&&((0,n.add$query)(this,v[0]),v[0]=(0,n.decodeQuerys)(v[0]),(0,o.addXcxReferrer)(this),(0,o.addXcx$setShare)(c,this)),x&&(0,o.addEmit)(this),u&&(0,t.bind)(u,this).apply(void 0,v)},x&&(h.attached=function(){for(var i=this,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];this.$root=e(),["beforeMount","attached"].forEach(function(e){c[e]&&(0,t.bind)(c[e],i).apply(void 0,a)})})},exports.parseOptions=function(e,i){e.options&&(0,t.isNotEmptyObject)(e.options)&&(i.options=e.options)},exports.parseAppShare=function(e,t){e.onShareAppMessage&&(t.onShareAppMessage=e.onShareAppMessage)},exports.registerOnPageScroll=function(e,i){e.onPageScroll&&(i.onPageScroll=function(){e.onPageScroll&&(0,t.bind)(e.onPageScroll,this).apply(void 0,arguments)})};var t=require("../../util/index"),i=require("../../observer/index"),r=require("./state"),a=require("./nexttick"),o=require("./api"),s=require("../common/store"),n=require("../common/api"),d=require("./instanceid"); 
 			}); 
		define("common/wqvue/core/instance/xcx/instanceid.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addInstanceId=function(){void 0===this._wqvueid&&(this._wqvueid=e++)};var e=0; 
 			}); 
		define("common/wqvue/core/instance/xcx/lifecycle.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){var o=[],r=!1;for(var t in e)o=o.concat(e[t]);return o.forEach(function(e){if(n.hasOwnProperty(e))return r=!0,!1}),r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseXcxLifeCircle=function(r,t,a){var d=a?{onLoad:["created","created_xcx","onLoad"],onReady:["mounted","mounted_xcx","onReady"],onShow:["onShow","onShow_xcx"],onHide:["onHide"],onUnload:["destroyed","destroyed_xcx","onUnload"],onReachBottom:["onReachBottom"],onPullDownRefresh:["onPullDownRefresh"]}:{created:["created"],attached:["beforeMount","attached"],ready:["mounted","mounted_xcx","ready"],detached:["destroyed","destroyed_xcx","detached"]},i=!1;if(e(d,r)){(0,o.initXcxInCreated)(a,r,t,function(){for(var e=this,o=arguments.length,t=Array(o),i=0;i<o;i++)t[i]=arguments[i];d[a?"onLoad":"created"].forEach(function(o){r[o]&&(0,n.bind)(r[o],e).apply(void 0,t)})}),i=!0;for(var c in d)!function(e){var o=[];if(!a&&i&&"created"==e)return"continue";if(!a&&i&&"attached"==e)return"continue";if(a&&i&&"onLoad"==e)return"continue";var c=!0,u=!1,f=void 0;try{for(var h,l=d[e][Symbol.iterator]();!(c=(h=l.next()).done);c=!0){var y=h.value;r[y]&&o.push(y)}}catch(e){u=!0,f=e}finally{try{!c&&l.return&&l.return()}finally{if(u)throw f}}if(0==o.length)return"continue";t[e]=function(){for(var e=this,t=arguments.length,a=Array(t),d=0;d<t;d++)a[d]=arguments[d];o.forEach(function(o){r[o]&&(0,n.bind)(r[o],e).apply(void 0,a)})}}(c)}else(0,o.initXcxInCreated)(a,r,t)};var n=require("../../util/util"),o=require("./init"); 
 			}); 
		define("common/wqvue/core/instance/xcx/nexttick.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nextTick=function(){this.$nextTickFn=[],this.$nextTick=function(t){var n=this;if(void 0===t){if(void 0===e.default)throw new Error("当前环境不支持Promise！");return new e.default(function(e,t){var i=function(){e()};i.promise=!0,n.$nextTickFn.push(i)})}this.$nextTickFn.push(t)}},exports.executeNextTick=function(e){var t=e.$nextTickFn||[];t.length&&(t.forEach(function(t){t.promise?t():t.call(e)}),e.$nextTickFn=[])};var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../../libs/promise.min")); 
 			}); 
		define("common/wqvue/core/instance/xcx/setdata.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(){if(0!=a.length)for(;a.length>0;){var e=a[0],u=e._dataQueue;i(e),t((0,r.extend)({},u,!0),e),e._dataQueue={},a.shift()}}function t(e,t){var i=(0,n.diff)(e,(0,n.getOldData)(e,t.data));(0,r.isPlainObject)(i)&&(0,r.isNotEmptyObject)(i)&&t.setData((0,r.extend)({},i,!0),function(){(0,u.executeNextTick)(t)})}function i(e){try{var t=e._computedWatchers||{},i=Object.keys(t);if(!i.length)return;i.forEach(function(i){if(t[i].dirty)return e[i]})}catch(e){console.error(e)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setDiffData=t,exports.setData=function(t,i,r){var u="string"==typeof r?r:r.getKeyChain(),n=a.filter(function(e){return e._wqvueid==t._wqvueid})[0];u.includes("[")&&(u=u.split(".")[0].split("[")[0],i=t[u]),t._dataQueue[u]=i,n||a.push(t),clearTimeout(c),c=setTimeout(function(){e()},20)};var r=require("../../util/index"),u=require("./nexttick"),n=require("../../util/diff"),a=[],c=0; 
 			}); 
		define("common/wqvue/core/instance/xcx/state.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){var o=r.props||r.properties;o&&Object.keys(o).forEach(function(r){(0,t.defineReactive)(e.properties,r,e.properties[r],void 0,e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initObserver=function(i,a){(0,t.observe)(i.$data,void 0,i),e(i,a),i._watchers=[],(0,r.init$watch)(i),a.computed&&(0,o.initComputed)(i,a.computed),a.watch&&(0,r.initWatch)(i,a.watch)},exports.proxyData=function(e,r,t){var o=t.$data;o&&((0,a.addProxy)(o,t,t,"$data",!0),e.staticData=(0,i.extend)({},e.data,!0),(0,a.addAllProxy)(e,t));var p=e.props||e.properties;p&&Object.keys(t.properties).forEach(function(e){void 0!==p[e]&&(0,i.proxy)(t,t,e,"properties")})},exports.parseProps=function(e,r){var t=e.props||e.properties;if(t){if(e.props)for(var o in t){var a=(0,i.isUndefined)(t[o].default)?t[o].value:t[o].default;!(0,i.isUndefined)(a)&&(t[o].value="function"==typeof a?a():a),delete t[o].default}r.properties=(0,i.extend)({},t,!0)}},exports.parseMethods=function(e,r,t){var o=null;t?o=r:(r.methods={},o=r.methods);for(var a in e.methods)!function(r){o[r]=function(){return r&&(0,i.bind)(e.methods[r],this).apply(void 0,arguments)}}(a)};var r=require("../../observer/watcher"),t=require("../../observer/index"),o=require("../../observer/computed"),i=require("../../util/index"),a=require("../common/store"); 
 			}); 
		define("common/wqvue/core/observer/array.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayMethods=void 0;var e=require("../util/lang"),r=Array.prototype,t=exports.arrayMethods=Object.create(r);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(s){var a=r[s];(0,e.def)(t,s,function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=a.apply(this,r),i=this.__ob__,p=void 0;switch(s){case"push":case"unshift":p=r;break;case"splice":p=r.slice(2)}return p&&i.observeArray(p),i.dep.notify(i.pageObj,this),o})}); 
 			}); 
		define("common/wqvue/core/observer/computed.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,o,n){"function"==typeof n?(s.get=t(o),s.set=r.noop):(s.get=n.get?!1!==n.cache?t(o):n.get:r.noop,s.set=n.set?n.set:r.noop),s.set===r.noop&&(s.set=function(){console.error('Computed property "'+o+'" was assigned to but it has no setter.',this)}),Object.defineProperty(e,o,s)}function t(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),n.Dep.target&&t.depend(),t.value}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initComputed=function(t,n){var s=t._computedWatchers=t._computedWatchers||Object.create(null);for(var p in n)!function(p){e(t,p,n[p]);var c=n[p],u=function(){var e="function"==typeof c?c:c.get,t=e.call(this),o=s[p]&&s[p].setDataVal;return(!o||o&&!(0,r.looseEqual)(o,t))&&(this.store&&void 0!==this.store[p]?this.store[p]=t:((0,a.setData)(this,t,p),s[p].setDataVal=(0,r.isPlainObject)(t)?(0,r.extend)({},t,!0):t)),t};null==u&&console.warn('Getter is missing for computed property "'+p+'".',t),s[p]=new o.Watcher(t,u||r.noop,r.noop,i),p in t?p in t.data?console.warn('The computed property "'+p+'" is already defined in data.',t):t.properties&&p in t.properties&&console.warn('The computed property "'+p+'" is already defined as a prop.',t):e(t,p,c)}(p)},exports.defineComputed=e;var o=require("./watcher"),r=require("../util/index"),n=require("./dep"),a=require("../instance/xcx/setdata"),i={lazy:!0},s={enumerable:!0,configurable:!0,get:r.noop,set:r.noop}; 
 			}); 
		define("common/wqvue/core/observer/dep.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dep=void 0;var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();exports.pushTarget=function(e){a.target&&u.push(a.target),a.target=e},exports.popTarget=function(){a.target=u.pop()};var n=require("../util/util"),i=require("../instance/xcx/setdata"),r=0,a=exports.Dep=function(){function a(t,n){e(this,a),this.keyChain=t,this.key=n,this.id=r++,this.subs=[]}return t(a,[{key:"addSub",value:function(e){this.subs.push(e)}},{key:"removeSub",value:function(e){(0,n.remove)(this.subs,e)}},{key:"depend",value:function(){a.target&&a.target.addDep(this)}},{key:"notify",value:function(e,t){for(var n=this.subs.slice(),r=0,a=n.length;r<a;r++)n[r].update();(0,i.setData)(e,t,this)}},{key:"getKeyChain",value:function(){var e=this.keyChain+"."+this.key;return this.keyChain?this.key?e:this.keyChain:this.key}}]),a}();a.target=null;var u=[]; 
 			}); 
		define("common/wqvue/core/observer/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){e.__proto__=r}function t(e,r,t){for(var n=0,a=t.length;n<a;n++){var i=t[n];(0,l.def)(e,i,r[i])}}function n(e,r,t){if((0,c.isObject)(e)){var n=void 0;return(0,c.hasOwn)(e,"__ob__")&&e.__ob__ instanceof d?n=e.__ob__:p.shouldConvert&&(Array.isArray(e)||(0,c.isPlainObject)(e))&&Object.isExtensible(e)&&!e._isWqVue&&(n=new d(e,r,t)),n}}function a(e,r,t,a,o){var u=new s.Dep(a,r),l=Object.getOwnPropertyDescriptor(e,r);if(!l||!1!==l.configurable){var c=l&&l.get,f=l&&l.set,p=u.getKeyChain(),d=n(t,p,o);Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:function(){var r=c?c.call(e):t;return s.Dep.target&&(u.depend(),d&&(d.dep.depend(),Array.isArray(r)&&i(r))),r},set:function(r){var a=c?c.call(e):t;r===a||r!==r&&a!==a||(f?f.call(e,r):t=r,d=n(r,p,o),u.notify(o,t))}})}}function i(e){for(var r,t=0,n=e.length;t<n;t++)(r=e[t])&&r.__ob__&&r.__ob__.dep.depend(),Array.isArray(r)&&i(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Observer=exports.observerState=void 0;var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();exports.observe=n,exports.defineReactive=a,exports.set=function(e,r,t,n){if(Array.isArray(e)&&(0,c.isValidArrayIndex)(r))return e.length=Math.max(e.length,r),e.splice(r,1,t),t;if((0,c.hasOwn)(e,r))return e[r]=t,t;var i=e.__ob__;return e._isWqVue?(console.warn("Avoid adding reactive properties to a WqVue instance or its root $data at runtime - declare it upfront in the data option."),t):i?(a(i.value,r,t,i.keyChain,n),i.dep.key=r,i.dep.notify(n,t),t):(e[r]=t,t)},exports.del=function(e,r,t){if(Array.isArray(e)&&(0,c.isValidArrayIndex)(r))e.splice(r,1);else{var n=e.__ob__;e._isWqVue?console.warn("Avoid deleting properties on a Vue instance or its root $data - just set it to null."):(0,c.hasOwn)(e,r)&&(delete e[r],n&&(delete e[r],n.dep.notify(t,e)))}};var s=require("./dep"),u=require("./array"),l=require("../util/lang"),c=require("../util/index"),f=Object.getOwnPropertyNames(u.arrayMethods),p=exports.observerState={shouldConvert:!0},d=exports.Observer=function(){function i(n,a,o){e(this,i),this.value=n,this.dep=new s.Dep(a),this.keyChain=a,this.pageObj=o,(0,l.def)(n,"__ob__",this),Array.isArray(n)?((c.hasProto&&c.canConfigArrayPrototype?r:t)(n,u.arrayMethods,f),this.observeArray(n)):this.walk(n)}return o(i,[{key:"walk",value:function(e){for(var r=Object.keys(e),t=0;t<r.length;t++)a(e,r[t],e[r[t]],this.keyChain,this.pageObj)}},{key:"observeArray",value:function(e){for(var r=0,t=e.length;r<t;r++)n(e[r],this.keyChain+"["+r+"]",this.pageObj)}}]),i}(); 
 			}); 
		define("common/wqvue/core/observer/scheduler.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(){d=r.length=n.length=0,o={},u=l=!1}function i(){l=!0;var i=void 0,t=void 0;for(r.sort(function(e,i){return e.id-i.id}),d=0;d<r.length;d++)t=(i=r[d]).id,o[t]=null,i.run();e()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MAX_UPDATE_COUNT=void 0,exports.queueWatcher=function(e){var n=e.id;if(null==o[n]){if(o[n]=!0,l){for(var s=r.length-1;s>d&&r[s].id>e.id;)s--;r.splice(s+1,0,e)}else r.push(e);u||(u=!0,(0,t.nextTick)(i))}};var t=require("../util/index"),r=(exports.MAX_UPDATE_COUNT=100,[]),n=[],o={},u=!1,l=!1,d=0; 
 			}); 
		define("common/wqvue/core/observer/watcher.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t,i,s){return(0,a.isPlainObject)(i)&&(s=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,s)}function i(e){o.clear(),s(e,o)}function s(e,t){var i=void 0,n=void 0,r=Array.isArray(e);if((r||(0,a.isObject)(e))&&Object.isExtensible(e)){if(e.__ob__){var h=e.__ob__.dep.id;if(t.has(h))return;t.add(h)}if(r)for(i=e.length;i--;)s(e[i],t);else for(i=(n=Object.keys(e)).length;i--;)s(e[n[i]],t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Watcher=void 0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();exports.initWatch=function(e,i){for(var s in i){var n=i[s];if(Array.isArray(n))for(var r=0;r<n.length;r++)t(e,s,n[r]);else t(e,s,n)}},exports.init$watch=function(e){e.$watch=function(e,i,s){var n=this;if((0,a.isPlainObject)(i))return t(n,e,i,s);(s=s||{}).user=!0;var r=new u(n,e,i,s);return s.immediate&&i.call(n,r.value),function(){r.teardown()}}};var r=require("./scheduler"),h=require("./dep"),a=require("../util/index"),c=0,u=exports.Watcher=function(){function t(i,s,n,r){e(this,t),this.instance=i,i._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++c,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Set,this.newDepIds=new Set,this.expression=s.toString(),"function"==typeof s?this.getter=s:(this.getter=(0,a.parsePath)(s),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()}return n(t,[{key:"get",value:function(){(0,h.pushTarget)(this);var e=this.instance,t=void 0;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;console.error(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&i(t),(0,h.popTarget)(),this.cleanupDeps()}return t}},{key:"addDep",value:function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))}},{key:"cleanupDeps",value:function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0}},{key:"update",value:function(){this.lazy?this.dirty=!0:this.sync?this.run():(0,r.queueWatcher)(this)}},{key:"run",value:function(){if(this.active){var e=this.get();if(e!==this.value||(0,a.isObject)(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.instance,e,t)}catch(e){console.error(e,this.instance,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.instance,e,t)}}}},{key:"evaluate",value:function(){this.value=this.get(),this.dirty=!1}},{key:"depend",value:function(){for(var e=this.deps.length;e--;)this.deps[e].depend()}},{key:"teardown",value:function(){if(this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}}}]),t}(),o=new Set; 
 			}); 
		define("common/wqvue/core/util/diff.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return Object.prototype.toString.call(e)}function t(e,t,n){e[t]=n}function n(t,r){if(!(0,s.looseEqual)(t,r)){var i=e(t),o=e(r);if(i==l&&o==l){if(Object.keys(t).length>=Object.keys(r).length)for(var f in r){var c=t[f];Object.keys(t).indexOf(f)<0?t[f]=null:n(c,r[f])}}else i==h&&o==h&&t.length>=r.length&&r.forEach(function(e,r){n(t[r],e)})}}function r(n,i,o,f){if(!(0,s.looseEqual)(n,i)){var c=e(n),a=e(i);if(c==l)if(a!=l||Object.keys(n).length<Object.keys(i).length)t(f,o,n);else{for(var u in n)!function(s){var c=n[s],a=i[s],u=e(c),g=e(a);if(u!=h&&u!=l)c!==i[s]&&t(f,(""==o?"":o+".")+s,c);else if(u==h)g!=h?t(f,(""==o?"":o+".")+s,c):c.length<a.length?t(f,(""==o?"":o+".")+s,c):c.forEach(function(e,t){r(e,a[t],(""==o?"":o+".")+s+"["+t+"]",f)});else if(u==l)if(g!=l||Object.keys(c).length<Object.keys(a).length)t(f,(""==o?"":o+".")+s,c);else for(var d in c)r(c[d],a[d],(""==o?"":o+".")+s+"."+d,f)}(u)}else c==h?a!=h?t(f,o,n):n.length<i.length?t(f,o,n):n.forEach(function(e,t){r(e,i[t],o+"["+t+"]",f)}):t(f,o,n)}}function i(e){for(var t=e.length,n=[],r="",i=0,o=!0,f=!1,s=0;s<t;s++){var l=e[s];if("\\"===l)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1]||"\\"===e[s+1])?(r+=e[s+1],s++):r+="\\";else if("."===l)r&&(n.push(r),r="");else if("["===l){if(r&&(n.push(r),r=""),0===n.length)throw new Error("The path string should not start with []: "+e);f=!0,o=!0}else if("]"===l){if(o)throw new Error("There should be digits inside [] in the path string: "+e);f=!1,n.push(i),i=0}else if(f){if(l<"0"||l>"9")throw new Error("Only digits (0-9) can be put inside [] in the path string: "+e);o=!1,i=10*i+l.charCodeAt(0)-48}else r+=l}if(r&&n.push(r),0===t)throw new Error("The path string should not be empty");return n}function o(e,t){var n=void 0;return e.forEach(function(e){n=t?t[e]:null,t=n}),n}function f(e){e&&Object.keys(e).forEach(function(t){void 0===e[t]&&console.error('Setting data field "'+t+'" to undefined is invalid.')})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPathArr=i,exports.getValByPathArr=o,exports.undefinedWarn=f,exports.getOldData=function(e,t){var n={};return Object.keys(e).forEach(function(e){n[e]=o(i(e),t)}),n},exports.diff=function(e,t){var i={};return n(e,t),r(e,t,"",i),f(i),i};var s=require("./index"),l="[object Object]",h="[object Array]"; 
 			}); 
		define("common/wqvue/core/util/env.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.hasProto="__proto__"in{},exports.canConfigArrayPrototype=Object.getOwnPropertyDescriptor(Array.prototype,"push").configurable;var e=exports.inBrowser="undefined"!=typeof window,o=(exports.inNode="undefined"!=typeof global&&"undefined"!=typeof module,exports.inWeex="undefined"!=typeof weex&&weex.config&&weex.config.env&&["Android","iOS"].indexOf(weex.config.env.platform)>0,exports.UA=e&&window.navigator.userAgent.toLowerCase()),t=(exports.isIE=o&&/msie|trident/.test(o),exports.isIE9=o&&o.indexOf("msie 9.0")>0,exports.isEdge=o&&o.indexOf("edge/")>0),i=(exports.isAndroid=o&&o.indexOf("android")>0,exports.isIOS=o&&/iphone|ipad|ipod|ios/.test(o),exports.isChrome=o&&/chrome\/\d+/.test(o)&&!t,exports.isXcx="undefined"!=typeof getApp&&"undefined"!=typeof wx,exports.isJDApp=o&&/jdapp;/.test(o)),r=exports.isQQ=o&&/qq\/([\d.]+)*/.test(o),s=exports.isWeixin=o&&o.indexOf("micromessenger")>-1;exports.isMobile=e&&!i&&!r&&!s; 
 			}); 
		define("common/wqvue/core/util/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./util");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./lang");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./env");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})}); 
 			}); 
		define("common/wqvue/core/util/lang.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isReserved=function(e){var r=(e+"").charCodeAt(0);return 36===r||95===r},exports.def=function(e,r,t,n){Object.defineProperty(e,r,{value:t,enumerable:!!n,writable:!0,configurable:!0})},exports.parsePath=function(r){if(!e.test(r)){var t=r.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e)return;e=e[t[r]]}return e}}};exports.emptyObject=Object.freeze({});var e=/[^\w.$]/; 
 			}); 
		define("common/wqvue/core/util/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){for(var r=Object.create(null),n=e.split(","),o=0;o<n.length;o++)r[n[o]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}function t(e,r,o){for(var i in r)if(o&&(n(r[i])||Array.isArray(r[i])))try{n(r[i])&&!n(e[i])&&(e[i]={}),Array.isArray(r[i])&&!Array.isArray(e[i])&&(e[i]=[]),t(e[i],r[i],o)}catch(t){var s="err="+JSON.stringify(t,Object.getOwnPropertyNames(t),0)+"_targetkeys="+Object.getOwnPropertyNames(e).join(";")+"_sourcekeys="+Object.getOwnPropertyNames(r).join(";")+"_key="+i;s=s.replace(/,/g,"_"),wx.JD.report.umpBiz({bizid:1438,operation:1,result:1,source:"0",message:s}),console.error(s)}else void 0!==r[i]&&(e[i]=r[i],0==Object.keys(r).reverse().indexOf(i)&&(Object.getOwnPropertyDescriptor(r,i).configurable||(e=Object.freeze(e))));return e}function r(e){return null!==e&&"object"===(void 0===e?"undefined":u(e))}function n(e){return f.call(e)===l}function o(e,t){var n=r(e),o=r(t);return n&&o?JSON.stringify(e)===JSON.stringify(t):!n&&!o&&String(e)===String(t)}function i(e){return"function"==typeof e&&/native code/.test(e.toString())}function s(e){try{return decodeURIComponent(e)}catch(t){return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nextTick=exports.identity=exports.no=exports.isBuiltInTag=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports._toString=function(e){return null==e?"":"object"===(void 0===e?"undefined":u(e))?JSON.stringify(e,null,2):String(e)},exports.toNumber=function(e){var t=parseFloat(e);return isNaN(t)?e:t},exports.makeMap=e,exports.remove=function(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}},exports.hasOwn=function(e,t){return a.call(e,t)},exports.isPrimitive=function(e){return"string"==typeof e||"number"==typeof e},exports.bind=function(e,t){function r(r){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return!!e&&(r._length=e.length,r)},exports.toArray=function(e,t){t=t||0;for(var r=e.length-t,n=new Array(r);r--;)n[r]=e[r+t];return n},exports.extend=t,exports.isObject=r,exports.isNotEmptyObject=function(e){return null!==e&&"object"===(void 0===e?"undefined":u(e))&&0!==Object.keys(e).length},exports.isUndef=function(e){return void 0===e||null===e},exports.isUndefined=function(e){return void 0===e},exports.isDef=function(e){return void 0!==e&&null!==e},exports.isTrue=function(e){return!0===e},exports.isFalse=function(e){return!1===e},exports.isPlainObject=n,exports.isValidArrayIndex=function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)},exports.toObject=function(e){for(var r={},n=0;n<e.length;n++)e[n]&&t(r,e[n]);return r},exports.noop=function(){},exports.genStaticKeys=function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")},exports.looseEqual=o,exports.looseIndexOf=function(e,t){for(var r=0;r<e.length;r++)if(o(e[r],t))return r;return-1},exports.once=function(e){var t=!1;return function(){t||(t=!0,e())}},exports.isNative=i,exports.proxy=function(e,t,r,n,o){if(!o&&void 0!==t[r])throw new Error("实例对象中已经存在"+r+"属性，请确保methods、data、props、store.state、store.action、computed中没有同名key键，且key名不为'data'，其中store.state和store.action只在版本<v1.2.0时有以上要求");Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return n?e[n][r]:e[r]},set:function(t){n?e[n][r]=t:e[r]=t}})},exports.throttle=function(e,t,r){var n=void 0,o=new Date;return function(){for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];var c=this,a=new Date;clearTimeout(n),a-o>=r?(e.apply(c,s),o=a):n=setTimeout(function(){e.apply(c,s)},t)}},exports.parseQueryString=function(e){var t=/([^&=]+)=([\w\W]*?)(&|$|#)/g,r=/^[^?]+\?([\w\W]+)$/.exec(e),n={};if(r&&r[1])for(var o=r[1],i=void 0;null!=(i=t.exec(o));)n[i[1]]=i[2],(/^\[.*]$/.test(i[2])||/^\{.*}$/.test(i[2]))&&(n[i[1]]=JSON.parse(s(i[2])));return n},exports.addUrlParam=function(e,t){var r=e.split("#"),n=r[1];e=r[0];for(var o in t){var i=new RegExp("([?&])"+o+"=[^&]*(&|$)","i");i.test(e)?e=e.replace(i,"$1"+o+"="+t[o]+"$2"):e+=(e.indexOf("?")>-1?"&":"?")+o+"="+t[o]}return n&&(e=e+"#"+n),e},exports.decode=s;var c=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../libs/promise.min")),a=(exports.isBuiltInTag=e("slot,component",!0),Object.prototype.hasOwnProperty),f=Object.prototype.toString,l="[object Object]";exports.no=function(){return!1},exports.identity=function(e){return e},exports.nextTick=function(){function e(){r=!1;var e=t.slice(0);t.length=0;for(var n=0;n<e.length;n++)e[n]()}var t=[],r=!1,n=void 0;if("undefined"!=typeof setImmediate&&i(setImmediate))n=function(){setImmediate(e)};else if("undefined"==typeof MessageChannel||!i(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())if(void 0!==c.default&&i(c.default)){var o=c.default.resolve();n=function(){o.then(e)}}else n=function(){setTimeout(e,0)};else{var s=new MessageChannel,u=s.port2;s.port1.onmessage=e,n=function(){u.postMessage(1)}}return function(e,o){var i=void 0;if(t.push(function(){if(e)try{e.call(o)}catch(e){console.error(e,o,"nextTick")}else i&&i(o)}),r||(r=!0,n()),!e&&void 0!==c.default)return new c.default(function(e,t){i=e})}}(); 
 			}); 
		define("common/wqvue/indexv1.2.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WqComponent=exports.WqVue=void 0;var n=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),t=require("./core/instance/xcx/index/indexv1.2"),r=require("../../bases/page.js"),o=require("../../bases/component.js");exports.WqVue=function(){function o(n){e(this,o),this.pObj=(0,t.parse)(n),this.register()}return n(o,[{key:"register",value:function(){new r.JDPage(this.pObj)}}]),o}(),exports.WqComponent=function(){function r(n){e(this,r),this.pObj=(0,t.componentParse)(n),this.register()}return n(r,[{key:"register",value:function(){new o.JDComponent(this.pObj)}}]),r}(); 
 			}); 
		define("common/wxcontext.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=wx; 
 			}); 
		define("components/add-wxapp-entry/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.queryaddminiprogram=exports.showaddminiprogram=exports.getPPMSConfig=void 0;var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}(require("../../common/login/login.js")),r=require("../../common/request/request.js");exports.getPPMSConfig=function(){return r.request.get({url:"https://wq.360buyimg.com/data/ppms/js/ppms.pagev36298.jsonp",ump:{bizId:"1257",opId:"1",errBizId:"1257",errOpId:"4",reportHook:function(e){return e.data&&e.data[0]?{code:0}:{code:666,message:"data为空"}}}}).then(function(e){var r=e.body;return e.header,r.data&&r.data[0]}).catch(function(e){return e.ret,e.msg,{}})},exports.showaddminiprogram=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e.getLoginPromise({mode:"silent"}).then(function(){return r.request.get({url:"https://wq.jd.com/activep3/jdpq/showaddminiprogram",data:{operatorflag:o},ump:{bizId:"1257",opId:"3",errBizId:"1257",errOpId:"6",reportHook:function(e){return[0,2].indexOf(+e.errcode)>=0?{code:0}:{code:e.errcode,message:e.msg}}}}).then(function(e){var r=e.body;return e.header,0==r.errcode?r:{errcode:666}}).catch(function(e){return e.errcode,e.msg,{errcode:666}})}).catch(function(e){return e.errcode,e.msg,{errcode:666}})},exports.queryaddminiprogram=function(o,t,n){return e.getLoginPromise({mode:"silent"}).then(function(){return r.request.get({url:"https://wq.jd.com/activep3/jdpq/queryaddminiprogram",data:{xcxscene:o,enterpage:t,entersystem:n},ump:{bizId:"1257",opId:"2",errBizId:"1257",errOpId:"5",reportHook:function(e){return e.errcode>=0?{code:0}:{code:e.errcode,message:e.msg}}}}).then(function(e){var r=e.body;return e.header,console.log("queryaddminiprogram",r),0==r.errcode?r:{errcode:666}}).catch(function(e){return e.errcode,e.msg,{errcode:666}})}).catch(function(e){return e.errcode,e.msg,{errcode:666}})}; 
 			}); 
		define("components/add-wxapp-entry/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.currentPageUrl=function(){var e=getCurrentPages()||[],r=e&&e[e.length-1]||{};return r&&r.route||""}; 
 			}); 
		define("components/add-wxapp/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showaddminiprogram=void 0;var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}(require("../../common/login/login.js")),r=require("../../common/request/request.js");exports.showaddminiprogram=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.getLoginPromise({mode:"silent"}).then(function(){return r.request.get({url:"https://wq.jd.com/activep3/jdpq/showaddminiprogram",data:{operatorflag:o},ump:{bizId:"1257",opId:"3",errBizId:"1257",errOpId:"6",reportHook:function(e){return[0,2].indexOf(+e.errcode)>=0?{code:0}:{code:e.errcode,message:e.msg}}}}).then(function(e){var r=e.body;return e.header,0==r.errcode?r:{errcode:666}}).catch(function(e){return e.errcode,e.msg,{errcode:666}})}).catch(function(e){return e.errcode,e.msg,{errcode:666}})}; 
 			}); 
		define("components/address-layer/addr-layer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addrLayer=void 0;var a=require("./api.js"),d=Behavior({data:{addrLayerList:[]},methods:{showAddrLayer:function(){var a=this,d=this.data,t=d.addressList,e=d.addrLayerList,i=t&&t.length?t:e;this.setData({isShowAddrLayer:!0,isShowAddrPicker:!1,addrLayerList:i}),!this.data.showAnim&&setTimeout(function(){a.setData({showAnim:!0})},100),i&&i.length||this.loadAddrLayerData()},switchAddress:function(a){var d=a.currentTarget.dataset,t=d.adid,e=d.idx,i=this.data.addrLayerList[e];t!=this.data.adid&&(this.hasAddrChanged=!0),this.setData({adid:t});var r={adid:t};i&&Object.assign(r,{addressId:i.adid,areaId:[i.provinceId,i.cityId,i.countyId,i.townId].join("_"),areaName:[i.provinceName,i.cityName,i.countyName,i.townName].join("_"),addressName:i.addrfull,coordinate:[i.type,i.longitude,i.latitude].join(",")}),this.complete(r)},onOtherAddrBtnTap:function(){this.showAddrPicker()},loadAddrLayerData:function(){var d=this;this.setData({loading:!0});var t=this.data.areaid,e=this.data.adid;e<0&&(e>>>=0),(0,a.getAddressList)(e,t).then(function(a){a&&a.length?d.setData({addrLayerList:a,adid:e,loading:!1}):d.showAddrPicker(t)},function(a){return d.showAddrPicker(t)})},resetAddrLayer:function(){this.setData({addrLayerList:[]})}}});exports.addrLayer=d; 
 			}); 
		define("components/address-layer/addr-picker.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addrPicker=void 0;var t,a,i=function(){function e(e,t){var a=[],i=!0,r=!1,d=void 0;try{for(var n,o=e[Symbol.iterator]();!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){r=!0,d=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw d}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=require("./api.js"),d=[32,52993,53283],n=Behavior({data:{loading:!1,hasError:!1,scrollTop:0,activeLevel:0,activeId:-1,idList:[],nameList:[],ADDR_TYPE:r.ADDR_TYPE,addrType:1,hotsotcities:[],selectedNameList:(t={},e(t,r.ADDR_TYPE.MIANLAND,[]),e(t,r.ADDR_TYPE.OVERSEA,[]),t),__selectedIdList:(a={},e(a,r.ADDR_TYPE.MIANLAND,[]),e(a,r.ADDR_TYPE.OVERSEA,[]),a),__areaCodeList:[],__nameCodeList:[],__areaCode:"",__nameCode:""},methods:{showAddrPicker:function(e){var t=this;this.setData({isShowAddrPicker:!0,isShowAddrLayer:!1}),setTimeout(function(){t.setData({showAnim:!0})},100),this.reloadAddrPicker({areaid:e||""})},reloadAddrPicker:function(e){var t=this._getDataSet(e).areaid;t?this.initAddrPicker(t):(this.resetAddrPicker(),this.loadLevel(0))},resetAddrPicker:function(){var t,a;this.setData({addrType:r.ADDR_TYPE.MIANLAND,loading:!1,hasError:!1,scrollTop:0,activeLevel:0,activeId:-1,idList:[],nameList:[],hotsotcities:[],selectedNameList:(t={},e(t,r.ADDR_TYPE.MIANLAND,[]),e(t,r.ADDR_TYPE.OVERSEA,[]),t),__selectedIdList:(a={},e(a,r.ADDR_TYPE.MIANLAND,[]),e(a,r.ADDR_TYPE.OVERSEA,[]),a),__areaCodeList:[],__nameCodeList:[],__areaCode:"",__nameCode:"",__initialMap:{}})},onPickerBreadcrumbsTab:function(e){var t=this,a=e.currentTarget.dataset.level,i=this.data.addrType,r=this.data.__selectedIdList[i];this.loadLevel(a,r).then(function(){var e=r[a];e&&t.setData({activeId:e})}).catch(function(e){return console.log(e)})},onPickerListItemTap:function(e){var t=e.currentTarget.dataset.id,a=this.data.__initialMap||{};if(!(!t||a&&a[t])){var i=this.data,d=i.activeLevel,n=i.addrType,o=i.showOverseaTabBar;if(t&&o&&n==r.ADDR_TYPE.OVERSEA&&1==d){var s=[53283,t];this.initAddrPicker(s.join("_"),!0)}else this.loadLevelId(d,t)}},onAllAreaBtnTap:function(e){var t=this.data,a=t.activeLevel,r=t.selectedNameList,d=void 0===r?[]:r,n=t.__selectedIdList,o=void 0===n?[]:n,s=t.__areaCode,l=t.__nameCode,c=t.addrType,h=o[c].slice(0,a),v=d[c].slice(0,a),_=i(h,4),L=_[0],u=void 0===L?0:L,m=_[1],C=void 0===m?0:m,g=_[2],A=void 0===g?0:g,f=_[3],D=void 0===f?0:f;this.pickerComplete({areaId:[u,C,A,D].join("_"),areaName:v.join("_"),areaCode:s,nameCode:l})},onPickerTabTap:function(e){var t=e.currentTarget.dataset.type;this.loadPickerTabList(t)},onPickerHotItemTap:function(e){var t=e.currentTarget.dataset.areaId;this.initAddrPicker(t,!0)},onRefreshBtnTap:function(e){var t=this._getDataSet(e).addrType;this.loadPickerTabList(t)},loadPickerTabList:function(e){var t=this.data.__selectedIdList[e]||[];e!=r.ADDR_TYPE.OVERSEA||t.length||t.push(53283);var a=t.join("_");a?this.initAddrPicker(a):this.loadLevel(0,[],e)},initAddrPicker:function(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.split("_"),s=o.findIndex(function(e){return 0==e||!e});~s&&(o=o.slice(0,s));var l=r.ADDR_TYPE.MIANLAND,c=o.length?o[0]:-1;this.data.showOverseaTabBar&&d.indexOf(+c)>-1&&(l=r.ADDR_TYPE.OVERSEA),(0,r.initIdList)(o).then(function(e){return o.length<4?a.loadLevel(o.length,o,l).then(function(t){return t.idList.length&&t.nameList.length?(e.idList=t.idList,e.nameList=t.nameList):o.length<=2&&(e.needInserInitial=!0),t.areaCodeList&&t.areaCodeList.length&&t.nameCodeList&&t.nameCodeList.length&&(e.areaCodeList=t.areaCodeList,e.nameCodeList=t.nameCodeList),t.initialMap&&Object.keys(t.initialMap).length&&(e.initialMap=t.initialMap),e}):e}).then(function(t){var d;a.data.showOverseaTabBar&&t.needInserInitial&&(t=(0,r.handleInitial)(t));var o=t,s=o.selectedIdList,c=void 0===s?[]:s,h=o.selectedNameList,v=void 0===h?[]:h,_=o.areaCodeList,L=o.nameCodeList,u=o.initialMap,m=c.length,C=c[c.length-1]||-1;return a.setData((d={hasError:!1,loading:!1,addrType:l,idList:t.idList,nameList:t.nameList,activeLevel:m,showHotCitiesFlag:a.getHotCitiesShowFlag(m,l),activeId:C},e(d,"selectedNameList."+l,v),e(d,"__selectedIdList."+l,c||[]),e(d,"__areaCodeList",_||[]),e(d,"__nameCodeList",L||[]),e(d,"__areaCode",t.areaCode||""),e(d,"__nameCode",t.nameCode||""),e(d,"__initialMap",u||{}),d)),(0,r.isComplete)(c).then(function(r){var d;if(r&&n){var o=i(c,4),s=o[0],h=void 0===s?0:s,_=o[1],L=void 0===_?0:_,u=o[2],m=void 0===u?0:u,g=o[3],A=void 0===g?0:g;return a.pickerComplete({areaId:[h,L,m,A].join("_"),areaName:v.join("_"),areaCode:t.areaCode||"",nameCode:t.nameCode||""})}var f=r?c.length-1:c.length,D=r?v.slice(0,-1):v;a.setData((d={activeLevel:r?c.length-1:c.length,showHotCitiesFlag:a.getHotCitiesShowFlag(f,l)},e(d,"selectedNameList."+l,D),e(d,"activeId",r?C:-1),d))})}).catch(function(e){console.log(e),a.setData({loading:!1,hasError:!0,nameList:[],addrType:l})})},loadLevelId:function(t,a){var r=this,d=this.data,n=d.nameList,o=void 0===n?[]:n,s=d.idList,l=void 0===s?[]:s,c=d.selectedNameList,h=void 0===c?[]:c,v=d.__selectedIdList,_=void 0===v?[]:v,L=d.__areaCode,u=d.__nameCode,m=d.addrType,C=h[m].slice(0,t+1),g=_[m].slice(0,t+1),A=l.findIndex(function(e){return e==a});if(C[t]=o[A],g[t]=a,t>=3){var f=i(g,4),D=f[0],p=void 0===D?0:D,T=f[1],E=void 0===T?0:T,I=f[2],P=void 0===I?0:I,R=f[3],N=void 0===R?0:R;this.pickerComplete({areaId:[p,E,P,N].join("_"),areaName:C.join("_"),areaCode:L,nameCode:u})}else this.loadLevel(t+1,g).then(function(d){var n,o=L,s=u;if(1==t&&(o=r.data.__areaCodeList[A]||"",s=r.data.__nameCodeList[A]||""),d&&!d.idList.length){var l=i(g,4),c=l[0],h=void 0===c?0:c,v=l[1],_=void 0===v?0:v,f=l[2],D=void 0===f?0:f,p=l[3],T=void 0===p?0:p;return r.pickerComplete({areaId:[h,_,D,T].join("_"),areaName:C.join("_"),areaCode:o,nameCode:s})}var E=(n={activeId:a},e(n,"selectedNameList."+m,C),e(n,"__selectedIdList."+m,g),e(n,"__areaCode",o),e(n,"__nameCode",s),n);0==t&&(E.__areaCodeList=d.areaCodeList||[],E.__nameCodeList=d.nameCodeList||[],E.__initialMap=d.initialMap||{}),r.setData(E)}).catch(function(e){return console.log(e)})},loadLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.data.addrType;arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.data.activeId;this.setData({loading:!0});var n=this.data.activeLevel;e=-1==e?this.data.__selectedIdList.length:e;var o=[],s=void 0;return this.data.showOverseaTabBar&&1==e&&d==r.ADDR_TYPE.OVERSEA&&(s=[53283]),o.push((0,r.loadLevel)(e,s||t)),this.data.showOverseaTabBar&&o.push((0,r.loadHotsotcities)(d,t)),Promise.all(o).then(function(t){var o=i(t,2),s=o[0],l=o[1];a.data.showOverseaTabBar&&1==e&&d==r.ADDR_TYPE.OVERSEA&&(s=(0,r.handleInitial)(s)),0==e&&Object.assign(s,a.filterProvince(s.idList,s.nameList,d)||{});var c={loading:!1,hasError:!1,addrType:d,hotsotcities:l||[]},h=s,v=h.idList,_=h.nameList;v&&v.length&&_&&_.length&&(n=e,Object.assign(c,{activeLevel:n,idList:v,nameList:_,scrollTop:0,loading:!1}));var L=a.getHotCitiesShowFlag(n,d);return Object.assign(c,{showHotCitiesFlag:L}),a.setData(c),s}).catch(function(e){return a.setData({loading:!1,hasError:!0,nameList:[]}),Promise.reject(e)})},getHotCitiesShowFlag:function(e,t){return e<1||t==r.ADDR_TYPE.OVERSEA&&e<2},filterProvince:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2],i=this.data.filterProvinceIds||[];if(a==r.ADDR_TYPE.MIANLAND&&this.data.showOverseaTabBar&&(i=i.concat(d)),!i.length||!e.length)return{idList:e,nameList:t};var n=[],o=[];return e.forEach(function(e,a){i.indexOf(+e)<0&&(n.push(e),o.push(t[a]))}),{idList:n,nameList:o}},pickerComplete:function(e){var t=e.areaId,a=e.areaName,i=e.areaCode,r=e.nameCode;t!=this.data.areaid&&(this.hasAddrChanged=!0),this.complete({adid:0,addressId:0,coordinate:"",areaId:t,areaName:a,areaCode:i,nameCode:r})}}});exports.addrPicker=n; 
 			}); 
		define("components/address-layer/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function r(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[s.getProvinceList,s.getCityList,s.getDistrictList,s.getTownList][e];return new Promise(function(i,o){n.apply(void 0,r(t.slice(0,e)).concat([function(e,r){e?o(e):i(r)}]))})}function n(e){function r(r){return t(r,e).then(function(t){var i=e[r],o=t.idList||[];n&&o.length&&!o.find(function(e){return e==i})&&(n=!1)})}var n=!!e.length;return!(e.length>4)&&r(0).then(function(){return e[0]&&r(1)}).then(function(){return e[1]&&r(2)}).then(function(){return e[2]&&r(3)}).then(function(){return n})}function i(e,r){if(!e||!e.length)return e;var t=a(r,4),n=t[0],i=void 0===n?0:n,o=t[1],s=void 0===o?0:o,u=t[2],d=void 0===u?0:u,c=t[3],f=i+"_"+s+"_"+d+"_"+(void 0===c?0:c)+"_";return e.forEach(function(e){var r=e.areaId+"_";0==f.indexOf(r)?e.active=!0:e.active=!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAddressList=exports.ADDR_TYPE=exports.reportAddr=exports.handleInitial=exports.loadHotsotcities=exports.isComplete=exports.initIdList=exports.loadLevel=void 0;var o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},a=function(){function e(e,r){var t=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=require("../../common/address_api/address_api"),u=require("../../common/buildVersion"),d=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../common/request/request")),c=2==u.WXAPP_TYPE?1457:1456,f={SET_REDIS:1,ADDRESS_LIST:2,HOTS_CITIES:3},l={},p={MIANLAND:1,OVERSEA:2},m=[{name:"中国香港",areaId:"52993_52994"},{name:"中国澳门",areaId:"52993_52995"},{name:"中国台湾",areaId:"32_2768"}];exports.loadLevel=t,exports.initIdList=function(e){var r=(e=e||[]).findIndex(function(e){return!e});~r&&(e=e.slice(0,r));var i=[],o=[],a=[],s=[],u=[],d="",c="";return new Promise(function(r,f){function l(f){return t(f,e).then(function(t){var l=e[f],p=t.idList.indexOf(+l);if(~p){var m=t.nameList[p];i[f]=l,o[f]=m,1==f&&(a=t.areaCodeList||[],s=t.nameCodeList||[],u=t.initialList||[],d=a[p],c=s[p])}if(f==e.length-1||f>=3)return n(e).then(function(e){r({isComplete:e,selectedIdList:i,selectedNameList:o,idList:t.idList,nameList:t.nameList,areaCodeList:a,nameCodeList:s,initialList:u,areaCode:d,nameCode:c})})})}e.length?l(0).then(function(){return e[0]&&l(1)}).then(function(){return e[1]&&l(2)}).then(function(){return e[2]&&l(3)}).catch(function(e){return f(e)}):r({})})},exports.isComplete=n,exports.loadHotsotcities=function(r,t){return l[r]?Promise.resolve(i(l[r],t)):d.get({url:"https://wq.jd.com/deal/recvaddr/hotspotcities",ump:{bizId:c,opId:f.HOTS_CITIES,errOpId:f.HOTS_CITIES,reportHook:function(e){return{code:+e.errCode,message:e.msg||""}}}}).then(function(n){var o=n.body;if(0==o.errCode){var a;l={};var s=o.mainland,u=o.oversea,d=o.areaCode,c={},f={},h=[],v=[],L={};d&&d.forEach(function(e){c[e.name]=e.code}),s&&s.forEach(function(e){f[e.areaId]||(c[e.name]&&(e.code=c[e.name]),h.push(e),f[e.areaId]=1)}),u&&u.forEach(function(e){L[e.areaId]||(c[e.name]&&(e.code=c[e.name]),v.push(e),L[e.areaId]=1)}),m.forEach(function(e){return!L[e.areaId]&&v.splice(0,0,Object.assign({},e))}),e(a={},p.MIANLAND,h),e(a,p.OVERSEA,v),l=a}else l[r]||r!=p.OVERSEA||(l[r]=[].concat(m));return Promise.resolve(i(l[r],t))},function(e){return l[r]||r!=p.OVERSEA||(l[r]=[].concat(m)),Promise.resolve(i(l[r],t))})},exports.handleInitial=function(e){var r=e.areaCodeList,t=e.nameCodeList,n=e.initialList,i=e.idList,a=e.nameList;if(!n||!n.length)return e;var s=[],u=[],d=[],c=[],f={},l=void 0;return i.forEach(function(e,i){l=n[i],f[l]||(f[l]=1,u.push(l),s.push(l),d.push(""),c.push("")),u.push(e),s.push(a[i]),d.push(r[i]),c.push(t[i])}),o({},e,{areaCodeList:d,nameCodeList:c,nameList:s,idList:u,initialList:n,initialMap:f})},exports.reportAddr=function(e){if(!e)return Promise.resolve(!1);var r={bizId:c,opId:f.SET_REDIS,errOpId:f.SET_REDIS,reportHook:function(e){return{code:+e.errCode,message:e.msg||""}}};return(0,s.setAddr2Redis)(e,r)},exports.ADDR_TYPE=p,exports.getAddressList=function(e,r){return d.get({url:"https://wq.jd.com/deal/recvaddr/getrecvaddrlistV3",data:{adid:e,locationid:r},ump:{bizId:c,opId:f.ADDRESS_LIST,errOpId:f.ADDRESS_LIST,reportHook:function(e){return{code:+e.errCode,message:e.msg||""}}}}).then(function(e){var r=e.body;return 0==r.errCode?Promise.resolve(r.list):Promise.reject(r)},function(e){return Promise.reject(e)})}; 
 			}); 
		define("components/bonus-header-down/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../../common/request/request.js"),o=require("./utils/index"),t=e(require("../../common/wxcontext")),i=e(require("../../api/Ptag/report_manager_wqvue.js")),s={JXAPPLogo:"https://img11.360buyimg.com/jdphoto/s50x50_jfs/t1/66543/36/10845/3538/5d835494Eb6b2d868/cb3c357dc29550d2.png",indexPageUrl:"https://wqs.jd.com/portal/wx/tuan/pingouv3.shtml"},a={ppmsApiUrl:"https://wq.360buyimg.com/data/ppms/js/ppms.pagev36690.jsonp",promiseGenericPrize:"https://wq.jd.com/yinliu/PromiseGenericPrize"},l=[{title:"下载京喜APP 领取{{money}}元现金红包",desc:"京喜APP专享福利",btnText:"立即领取",logo:s.JXAPPLogo},{title:"打开京喜APP 购物可返现金",desc:"京喜 | 京东旗下社交电商平台",btnText:"立即打开",logo:s.JXAPPLogo}],u={style:{zIndex:1e3,top:0,position:"fixed"},source:0,quotaExposurePtag:"138830.3.1",clickExposurePtag:"138830.3.2",channel:"pingou_jxfxpg",closeCallback:null,btnCallback:null,guidePageUrl:"https://wqs.jd.com/channel/money/customer.html"};exports.default={store:function(){return{state:{isXCX:t.default.isXCX,loginCount:0,envCode:null,isQuota:!1,closeLock:!1,btnLock:!1,dataConfig:{},businessConfig:{},isClose:!1,isExit:!0,launchConfig:{downloadAppGuideType:2,showTopBar:!0,url:s.indexPageUrl}}}},props:{business:{type:Object,value:null}},watch:{business:{deep:!0,immediate:!0,handler:function(e,n){e!=n&&e&&(this.envCode=(0,o.getEnv)(),e&&7!=this.envCode&&(this.businessConfig=Object.assign({},u,e),this.businessConfig.style.top&&(this.businessConfig.style.top=(0,o.getPxByRpx)(this.businessConfig.style.top)),this.init()))}}},methods:{init:function(){var e=this,n=e.businessConfig;Promise.all([this.getComponentConfig(),this.getQuota()]).then(function(o){var s=o[0],a=o[1],c=(s||{}).quota||[],r=(s||{}).notquota||[];if(a&&s){e.isQuota=!0,a.prize_amt/=100;var g=e.assignConfig(l[0],c);g.title=g.title.replace(/{{money}}/g,a.prize_amt),e.dataConfig=g,i.default.addPtag(n.quotaExposurePtag),e.guidePageUrl=u.guidePageUrl+"?channel="+n.channel+"&PTAG="+n.clickExposurePtag}else{var d=e.assignConfig(l[1],r);e.launchConfig=Object.assign({},e.launchConfig,n.launchConfig,{topBarConfig:{logoUrl:d.logo,title:d.title,subTitle:d.desc,buttonText:d.btnText}}),!t.default.isXCX&&window.JD&&window.JD.sendJs("//wq.360buyimg.com/js/common/dest/wq.imk.downloadPgAppPlugin.min.js",{onLoad:function(){window.$.downloadAppLayerConfigData({tipId:"m_common_tip",downloadAppPlugIn:{moduleName:e.launchConfig.moduleName,downloadChannel:e.launchConfig.downloadChannel,rdLink:e.launchConfig.rdLink,reply:e.launchConfig.reply||1,inteneUrlParams:{des:"m",url:e.launchConfig.url}}})}})}e.isExit=!1}).catch(function(e){console.log(e)})},getQuota:function(){var e=this;return new Promise(function(o,i){var s={source:e.businessConfig.source};3!=e.envCode&&7!=e.envCode||(s.sceneval=2),n.request.get({url:a.promiseGenericPrize,dataType:t.default.isXCX?"":"jsonp",data:s}).then(function(e){var n=e.body,t=n.code,i=n.data||{};switch(t){case 0:o(i);break;default:o(null)}}).catch(function(e){e.code,e.message;o(null)})})},getComponentConfig:function(){return new Promise(function(e,o){n.request.get({url:a.ppmsApiUrl,dataType:t.default.isXCX?"":"jsonp",jsonpCallback:"showPageData36690"}).then(function(n){var o=n.body;if(o.data instanceof Array){var t=o.data[0];e(t)}else e(null)}).catch(function(n){n.code,n.message;e(null)})})},assignConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=Object.assign({},e,n[0]);return t.logo=(0,o.getGoodImg)(t.logo,60).replace(/^(http:)?\/\//,"https://").replace(/.webp/g,""),t},closeEvent:function(){var e=this,n=e.businessConfig;e.closeLock||(e.closeLock=!0,e.isClose=!0,setTimeout(function(){e.isExit=!0,e.closeLock=!1},1e3),"function"==typeof n.closeCallback&&n.closeCallback())},btnEvent:function(){var e=this,n=e.businessConfig;i.default.addPtag(e.businessConfig.clickExposurePtag),e.btnLock||(e.btnLock=!0,setTimeout(function(){e.btnLock=!1},1e3),"function"==typeof n.btnCallback&&n.btnCallback(),e.$xgoto(["/pages/h5/index?encode_url="+encodeURIComponent(e.guidePageUrl),e.guidePageUrl]))}}}; 
 			}); 
		define("components/bonus-header-down/utils/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGoodImg=function(r,n){return"string"==typeof r&&r?/jfs/.test(r)?(/.*wx\.qlogo\.cn.*\/0$/.test(r)&&(r=r.replace("/0","/64")),/^(.*?)jfs(.*?)$/.test(r)&&(r=r.replace(/^(.*?)(jfs.*?)((\.webp|\.dpg|!q[\d]{1,3}).*?)?$/,"$2")),n?isNaN(n)?/s[1-9](\d*?)x[1-9](\d*?)_/.test(n)||console.warn("size参数非Number或s800x800_格式的String: "+n):n="s"+n+"x"+n+"_":n="",t[r]||(t[r]={}),t[r][n]||(t[r][n]=e.default.JD.performance.getScaleImg("//img1"+~~(5*Math.random())+".360buyimg.com/evalpic/"+n+r).replace(/\.dpg\.webp/,".dpg")),t[r][n]):r:""},exports.getEnv=function(){var t=e.default.JD.device.scene,r=4;if("weixin"==t)r=1;else if("qq"==t)r=2;else if("jdapp"==t)r=3;else if("jdpingou"==t)r=7;else{var n=e.default.JD.wxapp.wxappType||e.default.JD.cookie.get("wxapp_type");1==n?r=5:2==n?r=6:9==n&&(r=8)}return r},exports.getPxByRpx=function(t){if("number"==typeof t)return t+"px";if(-1!=t.indexOf("rpx")){var r=t.indexOf("rpx");return(750/(e.default.isXCX?wx.getSystemInfoSync().windowWidth:document.body.clientWidth)*t.substring(0,r)).toFixed(2)+"px"}return t};var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../common/wxcontext")),t={}; 
 			}); 
		define("components/canvas-share/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(){return/(iPhone|iPad|iPod|iOS)/i.test(window.navigator.userAgent)}function t(e){return new Promise(function(t,n){a.request.get({url:"https://wq.jd.com/shopgroup_api_img/GetPicUrl",dataType:"json",data:{imageId:e},timeout:20,ump:{key:"wq.webmonitor.mjcx.pg.detail.getPicUrl",bizId:"111",opId:"184",errBizId:"111",errOpId:"185"}}).then(function(e){var n=e.body;0==n.iRet&&t({imageUrl:n.imageUrl})}).catch(function(e){})})}function n(n){return new Promise(function(o,r){var u={url:"https://wq.jd.com/shopgroup_api_img/UploadPicAsync",data:{envtype:e()?0:1,source:"pgdetail",mediaId:n,cliptype:0},dataType:"json",ump:{key:"wq.webmonitor.mjcx.pg.detail.uploadPicAsync",bizId:"111",opId:"182",errBizId:"111",errOpId:"183"}};a.request.post(u).then(function(e){var n=e.body;if(0==n.iRet){var a=0,u=i.default.JD.report.umpStart("wq.webmonitor.mjcx.pg.detail.jxappCanvasPicCount",111,186),s=setInterval(function(){a++,t(n.imageId).then(function(e){var t=e.imageUrl;clearInterval(s),u(a,"success"),o(t)}).catch(function(){})},300);setTimeout(function(){clearInterval(s),u(a,"interval timeout"),r("interval timeout")},1e5)}else r(n)}).catch(function(e){r(e)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.h5ParseShareImg=exports.getTuanDetailPPMSConfig=void 0;var a=require("../../common/request/request.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../../common/wxcontext"));exports.getTuanDetailPPMSConfig=function(){return new Promise(function(e,t){if(r&&r.recoTitleConfig)e(r);else{var n=function(t){if(t){var n=t.canvasBgConfig&&t.canvasBgConfig.length&&t.canvasBgConfig[0],a=n&&n.canvasBgSwitch,o=n&&n.defaultCanvasBgConfig&&n.defaultCanvasBgConfig.length&&n.defaultCanvasBgConfig[0],u=n&&n.promoteCanvasBgConfig&&n.promoteCanvasBgConfig.length&&n.promoteCanvasBgConfig[0];r={canvasBgSwitch:a,defaultCanvasBgConfig:o,promoteCanvasBgConfig:u},(i.default.isXCX||i.default.isJDReact)&&i.default.JD.events.trigger("tuan_detail_ppms_loaded",r),e(r)}else e()};if(i.default.isXCX||i.default.isJDReact)o?i.default.JD.events.listen("tuan_detail_ppms_loaded",function(t){e(t)}):(o=!0,a.request.get({url:"https://wq.360buyimg.com/data/ppms/js/ppms.pagev32804.jsonp",dataType:i.default.isXCX?"":"jsonp",jsonpCallback:"showPageData32804",ump:{key:"wq.webmonitor.mjcx.pg.detail.getTuanDetailPPMS",bizId:"111",opId:"106",errBizId:"905",errOpId:"15",reportHook:function(e){return e.data.length?{code:0}:{code:e.ret,message:e.msg}}}}).then(function(e){var t=e.body,a=(e.header,t&&t.data&&t.data[0]);n(a)}).catch(function(t){e()}));else try{var u=window.tuanDetailConfig&&window.tuanDetailConfig[0];n(u)}catch(t){e()}}})},exports.h5ParseShareImg=function(e){return new Promise(function(t){n(e).then(function(e){t(e)}).catch(function(e){t()})})};var o=!1,r={}; 
 			}); 
		define("components/canvas-share/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}Object.defineProperty(exports,"__esModule",{value:!0});var a=t(require("./utils")),e=require("./store"),s=function(t){return t&&t.__esModule?t:{default:t}}(require("../../common/wxcontext")),i=t(require("./model")),n={template:"#canvas-share",props:{canvasPpmsConfig:{type:Object,default:function(){return{}}},tuanInfo:{type:Object,default:function(){return{}}},skuInfo:{type:Object,default:function(){return{}}},returnCashInfo:{type:Object,default:function(){return{}}}},store:e.storeFn,mounted:function(){this.init()},computed:{promoteType:function(){return this.skuInfo.activeTypeInfo&&this.skuInfo.activeTypeInfo.flag?parseInt(this.skuInfo.activeTypeInfo.flag):""},isCShopActive:function(){return"3"==this.tuanInfo.active_flag||"4"==this.tuanInfo.active_flag},isJDAPPshareXCX:function(){return this.isCShopActive&&a.isJDAPP},ctxH5Width:function(){return a.isJdPingouApp||a.isJDAPP?600:300},ctxH5Height:function(){return a.isJdPingouApp||a.isJDAPP?480:240}},methods:{init:function(){var t=this;this.canvasPpmsConfig&&this.canvasPpmsConfig.canvasBgSwitch?this.setAndDraw(this.canvasPpmsConfig):i.getTuanDetailPPMSConfig().then(function(a){t.setAndDraw(a)})},setAndDraw:function(t){this.setCashAndPromoteShareImg(t),this.drawCanvas().then(function(){if(s.default.isXCX)return!1;s.default.JD.events.trigger("drawCanvasDone")})},drawCanvas:function(){var t=this;return new Promise(function(e){if(!(s.default.isXCX||a.isJdPingouApp||t.isJDAPPshareXCX)||!t.tuanInfo||!t.skuInfo)return e();t.$root.shareBgImg=t.skuInfo.productPic||t.$root.shareBgImg;var i=t.returnCashInfo.isShow||t.showPromoteShare?t.hpShareImg:t.lpShareImg,n=a.getGoodImg(t.skuInfo.productPic,200);n=n.replace(/\/\/img\d\d.360buyimg.com/,"//img10.360buyimg.com"),i=i.replace(/\/\/img\d\d.360buyimg.com/,"//img10.360buyimg.com"),s.default.isXCX?t.imgsPromise=[t.wxDownloadFile(i),t.wxDownloadFile(n)]:t.imgsPromise=[t.h5DownloadFile(i),t.h5DownloadFile(n)],t.imgsPromise=t.getPortaitsToImgList(t.imgsPromise),t.getAllImgAndDraw().then(function(){return e()}).catch(function(){return e()})})},wxDownloadFile:function(t){var a=this;return new Promise(function(e,s){wx.downloadFile({url:t,success:function(t){console.log(t),e(t.tempFilePath)},fail:function(e){a.portraitList.indexOf(t)>-1?(a.imgsPromise[a.portraitList.indexOf(t)+2]=a.wxDownloadFile(a.defaultPotrait),a.getAllImgAndDraw()):s()}})})},getAllImgAndDraw:function(){var t=this;return new Promise(function(e,s){var i=t.skuInfo&&t.skuInfo.activeTypeInfo&&t.skuInfo.activeTypeInfo.price,n=t.promoteType&&[1,2,3,4,5,6,7,9].indexOf(t.promoteType)>-1&&i?i:t.tuanInfo.price,o=n&&2==n.split(".").length&&n.split(".")[0]||"",l=n&&2==n.split(".").length&&n.split(".")[1]||"",h=[6,7].indexOf(t.promoteType)>-1?"0":a.getAfterReturnPrice(100*parseFloat(n),100*t.returnCashInfo.skuSum),r=a.getReturnScale(100*parseFloat(n),100*t.returnCashInfo.skuSum);t.getAllImg().then(function(a){t.todrawJXCanvas({img:a,price:n,priceInt:o,priceDecimal:l,afterReturnPrice:h,returnScale:r,cashPrice:t.returnCashInfo.skuSum||"",righttext:t.showPromoteShare&&4===t.promoteType?r:t.returnCashInfo.fanXianAmountDesc,lefttext:t.returnCashInfo.fanXianTypeDesc},t).then(function(){return e()}).catch(function(){return s()})}).catch(function(){s()})})},getAllImg:function(){var t=this;return new Promise(function(a,e){Promise.all(t.imgsPromise).then(function(t){a(t)}).catch(function(){e()})})},h5DownloadFile:function(t){var a=this;return new Promise(function(e,s){var i=new Image;i.onload=function(){e(i)},i.onerror=function(){a.portraitList.indexOf(t)>-1?(a.imgsPromise[a.portraitList.indexOf(t)+2]=a.h5DownloadFile(a.defaultPotrait),a.getAllImgAndDraw()):s()},i.setAttribute("crossOrigin","Anonymous"),i.crossOrigin="anonymous",i.src=t})},todrawJXCanvas:function(t){var e=this;return new Promise(function(i,n){if(t.img&&t.img.length&&t.img[0]&&!(t.img.length<2)){var o=e.tuanInfo.currMemberCount,l=e.tuanInfo.memberCount,h=a.isJdPingouApp||a.isJDAPP?5/7*2:5/7,r=420*h,c=e.tuanInfo.tuanRemainderTime&&a.getTimeDetail(e.tuanInfo.tuanRemainderTime),f=e.promoteType&&e.showPromoteShare&&[1,4,6,7].indexOf(e.promoteType)>-1&&c,v=e.promoteType&&e.showPromoteShare&&[4,6,7].indexOf(e.promoteType)>-1,u=-1===[2,3,5,9].indexOf(e.promoteType)&&e.returnCashInfo.isShow&&t.cashPrice,d={pos:{x:15*h,y:s.default.isXCX?89*h:92*h},fontSize:24*h,daysFont:24*h,w:34*h,h:28*h,gap:14*h,textGap:24*h,recty:62*h,days:c&&c.days||"",hours:c&&c.hours||"",minutes:c&&c.minutes||"",seconds:c&&c.seconds||""},p={w:226*h,h:226*h,pos:{x:15*h,y:98*h}},g=(r-p.w-p.pos.x-15*h)/2+p.w+p.pos.x,m={w:130*h,h:40*h,pos:{x:g-130*h/2,y:270*h},textPos:{x:274*h,y:268*h},fontSize:24*h},x={pos:{x:282*h,y:5==e.promoteType||9==e.promoteType?171*h:u?130*h:155*h},symbolSize:t.priceInt.length<3?28*h:3===t.priceInt.length?28*h:24*h,priceSize:t.priceInt.length<3?48*h:3===t.priceInt.length?40*h:t.priceInt.length<5?32*h:26*h},y={pos:{x:g,y:140*h,afterReturnY:250*h},lableSize:20*h,symbolSize:t.priceInt.length<2?28*h:t.priceInt.length>=2&&t.priceInt.length<4?22*h:20*h,priceSize:t.priceInt.length<2?28*h:t.priceInt.length>=2&&t.priceInt.length<4?22*h:20*h,afterReturnSize:t.afterReturnPrice.length<2?50*h:t.afterReturnPrice.length<5?38*h:t.afterReturnPrice.length>=5&&t.priceInt.length<7?28*h:24*h,textBottom:t.afterReturnPrice.length<2?s.default.isXCX?5*h:10*h:t.afterReturnPrice.length<5?5*h:0},C={pos:{x:284*h,y:204*h},textSize:20*h,symbolSize:40*h,priceSize:60*h},S={pos:{x:324*h,y:138*h},fontSize:20*h},X={pos:{x:252*h,y:166*h},fontSize:20*h,h:28*h},w={pos:{x:260*h,y:218*h},w:40*h,h:40*h,gap:8*h},P={pos:{x:252*h,y:206*h},w:52*h,h:24*h,fontSize:14*h},I=null;s.default.isXCX?e.canvas=s.default.createCanvasContext("shareCanvas",e):(I=document.getElementById("shareCanvas"),e.canvas=I.getContext("2d")),e.canvas&&(!s.default.isXCX&&I&&(e.canvas.fillStyle="#fff",e.canvas.fillRect(0,0,I.width,I.height)),t.img[0]&&e.canvas.drawImage(t.img[0],0,0,420*h,336*h),e.canvas.stroke(),2!=e.promoteType&&3!=e.promoteType||!C.pos||e.drawNewerPrice(C),[2,3,5,9].indexOf(e.promoteType)>-1&&e.skuInfo.realPrice&&e.drawBtInfo(g,S),t.img[1]&&e.drawGoodImg(t,p),e.drawTuanBtn("#FF4142",m),e.canvas.beginPath(),e.canvas.restore(),!v&&-1===[2,3].indexOf(e.promoteType)&&t.priceInt&&t.priceDecimal&&e.drawOrdinaryPrice(t,"#FF4142",x,g),v&&t.priceInt&&t.priceDecimal&&e.drawHAndAllPinPrice(t,g,y),v&&t.afterReturnPrice&&e.drawHAndAllReturnPrice(t,g,y),e.canvas.restore(),u&&t.righttext&&t.lefttext&&e.drawCashPrice("#FF4142",t,X,g),!v&&o>0&&e.drawHeadPortrait(t,"#FF4142",o,l,P,w,g),f&&e.drawCountDown(d),s.default.isXCX?e.canvas.draw(!0,function(){setTimeout(function(){e.xcxCanvas2File().then(function(){return i()}).catch(function(){return n()})},400)}):e.h5Canvas2Url().then(function(){return i()}).catch(function(){return n()}))}})},drawHAndAllReturnPrice:function(t,a,e){s.default.isXCX?this.canvas.setFillStyle("#666666"):this.canvas.fillStyle="#666666",s.default.isXCX?this.canvas.setFontSize(e.lableSize):this.canvas.font=e.lableSize+"px JDZH-Regular";var i=this.canvas.measureText("返后").width;s.default.isXCX?this.canvas.setFontSize(e.afterReturnSize):this.canvas.font=e.afterReturnSize+"px JDZH-Regular";var n=this.canvas.measureText("￥"+t.afterReturnPrice).width;e.pos.x=a-(i+2+n)/2,this.canvas.textAlign="left",this.canvas.textBaseline="bottom",s.default.isXCX?this.canvas.setFontSize(e.lableSize):this.canvas.font=e.lableSize+"px JDZH-Regular",this.canvas.fillText("返后",e.pos.x,e.pos.afterReturnY),this.canvas.save(),this.canvas.restore(),this.canvas.textAlign="left",this.canvas.textBaseline="bottom",s.default.isXCX?this.canvas.setFillStyle("#EE4E2E"):this.canvas.fillStyle="#EE4E2E",s.default.isXCX?this.canvas.setFontSize(e.afterReturnSize):this.canvas.font=e.afterReturnSize+"px JDZH-Regular",this.canvas.fillText("￥"+t.afterReturnPrice,e.pos.x+i,e.pos.afterReturnY+e.textBottom),this.canvas.save()},drawHAndAllPinPrice:function(t,a,e){s.default.isXCX?this.canvas.setFillStyle("#666666"):this.canvas.fillStyle="#666666",s.default.isXCX?this.canvas.setFontSize(e.lableSize):this.canvas.font=e.lableSize+"px JDZH-Regular";var i=this.canvas.measureText("拼购价").width;s.default.isXCX?this.canvas.setFontSize(e.symbolSize):this.canvas.font=e.symbolSize+"px JDZH-Regular";var n=this.canvas.measureText("￥"+t.price).width;e.pos.x=a-(i+2+n)/2,this.canvas.textAlign="left",this.canvas.textBaseline="bottom",s.default.isXCX?this.canvas.setFontSize(e.lableSize):this.canvas.font=e.lableSize+"px JDZH-Regular",this.canvas.fillText("拼购价",e.pos.x,e.pos.y+3),s.default.isXCX?this.canvas.setFontSize(e.symbolSize):this.canvas.font=e.symbolSize+"px JDZH-Regular",this.canvas.fillText("￥"+t.price,e.pos.x+i+4,e.pos.y+(s.default.isXCX?3:6)),this.canvas.save()},drawOrdinaryPrice:function(t,a,e,i){s.default.isXCX?this.canvas.setFillStyle(a):this.canvas.fillStyle=a,s.default.isXCX?this.canvas.setFontSize(e.priceSize):this.canvas.font=e.priceSize+"px JDZH-Regular";var n=this.canvas.measureText(""+t.price).width;s.default.isXCX?this.canvas.setFontSize(e.symbolSize):this.canvas.font=e.symbolSize+"px JDZH-Regular",this.canvas.textAlign="left";var o=this.canvas.measureText("￥").width;e.pos.x=i-(n+o)/2,this.canvas.fillText("￥",e.pos.x,e.pos.y+3),s.default.isXCX?this.canvas.setFontSize(e.priceSize):this.canvas.font=e.priceSize+"px JDZH-Regular",this.canvas.fillText(""+t.price,e.pos.x+o,e.pos.y),this.canvas.save()},drawTuanBtn:function(t,a){this.canvas.restore(),this.canvas.beginPath(),s.default.isXCX?this.canvas.setStrokeStyle(t):this.canvas.strokeStyle=t,s.default.isXCX?this.canvas.setFillStyle(t):this.canvas.fillStyle=t,this.drawRoundRect(this.canvas,a.pos,a.w,a.h,s.default.isXCX?15:30),this.canvas.stroke(),this.canvas.fill(),s.default.isXCX?this.canvas.setFontSize(a.fontSize):this.canvas.font=a.fontSize+"px JDZH-Regular",this.canvas.textAlign="center",this.canvas.textBaseline="middle",s.default.isXCX?this.canvas.setFillStyle("#ffffff"):this.canvas.fillStyle="#ffffff",this.canvas.fillText("立即参团",a.pos.x+a.w/2,a.pos.y+a.h/2),this.canvas.closePath(),this.canvas.save()},drawBtInfo:function(t,a){this.canvas.beginPath(),s.default.isXCX?this.canvas.setFontSize(a.fontSize):this.canvas.font=a.fontSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#666666"):this.canvas.fillStyle="#666666",this.canvas.textAlign="left",this.canvas.textBaseline="bottom";var e=this.canvas.measureText("￥"+this.skuInfo.realPrice).width,i=this.canvas.measureText("￥"+this.skuInfo.realPrice+"补贴后").width+4;this.canvas.fillText("￥"+this.skuInfo.realPrice,t-i/2,a.pos.y),this.canvas.fillText("补贴后",t-i/2+e+8,a.pos.y),this.canvas.save(),this.canvas.restore(),this.canvas.beginPath(),s.default.isXCX?this.canvas.setStrokeStyle("#666666"):this.canvas.setStrokeStyle="#666666",this.canvas.moveTo(t-i/2,a.pos.y-(s.default.isXCX?9:18)),this.canvas.lineTo(t-i/2+e+2,a.pos.y-(s.default.isXCX?9:18)),this.canvas.stroke(),this.canvas.fill(),this.canvas.save()},drawNewerPrice:function(t){this.canvas.beginPath(),s.default.isXCX?this.canvas.setFontSize(t.symbolSize):this.canvas.font=t.symbolSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#EE4E2E"):this.canvas.fillStyle="#EE4E2E",this.canvas.textAlign="left",this.canvas.textBaseline="bottom";var a=this.canvas.measureText("￥").width;this.canvas.fillText("￥",t.pos.x,t.pos.y-2),s.default.isXCX?this.canvas.setFontSize(t.priceSize):this.canvas.font=t.priceSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#EE4E2E"):this.canvas.fillStyle="#EE4E2E",this.canvas.textAlign="left",this.canvas.textBaseline="bottom",this.canvas.fillText("1",t.pos.x+a,t.pos.y+(s.default.isXCX?1:8))},drawGoodImg:function(t,a){this.canvas.restore(),s.default.isXCX?this.canvas.setStrokeStyle("transparent"):this.canvas.strokeStyle="transparent",this.drawLeftRoundRect(this.canvas,a.pos,a.w,a.h,s.default.isXCX?8:16),this.canvas.save(),this.canvas.clip(),this.canvas.drawImage(t.img[1],a.pos.x,a.pos.y,a.w,a.h),this.canvas.closePath()},drawHeadPortrait:function(t,a,e,i,n,o,l){this.canvas.restore(),this.canvas.beginPath(),o.pos.x=i<=2?l-1.25*o.w:l-1.5*o.w,n.pos.x=o.pos.x+o.w/2-n.w/2,s.default.isXCX?this.canvas.setLineWidth(1):this.canvas.lineWidth=1,s.default.isXCX?this.canvas.setStrokeStyle(a):this.canvas.strokeStyle=a,this.canvas.arc((o.w+1)/2+o.pos.x,(o.h+1)/2+o.pos.y,(o.w+1)/2,0,2*Math.PI,!1),this.canvas.stroke(),this.canvas.closePath(),this.canvas.beginPath(),s.default.isXCX?this.canvas.setLineWidth(1):this.canvas.lineWidth=1,s.default.isXCX?this.canvas.setFillStyle(a):this.canvas.fillStyle=a,this.canvas.arc((o.w+1)/2+o.pos.x,(o.h+1)/2+o.pos.y,o.w/2,0,2*Math.PI,!1),this.canvas.fill(),this.canvas.save(),this.canvas.clip(),t.img[2]&&this.canvas.drawImage(t.img[2],(o.w+1)/2+o.pos.x-o.w/2,(o.h+1)/2+o.pos.y-o.h/2,o.w,o.h),this.canvas.closePath(),this.canvas.restore(),this.drawRoundRect(this.canvas,n.pos,n.w,n.h,s.default.isXCX?8:16),s.default.isXCX?this.canvas.setStrokeStyle(a):this.canvas.strokeStyle=a,s.default.isXCX?this.canvas.setFillStyle(a):this.canvas.fillStyle=a,this.canvas.fill(),s.default.isXCX?this.canvas.setFontSize(n.fontSize):this.canvas.font=n.fontSize+"px JDZH-Regular",this.canvas.textAlign="center",this.canvas.textBaseline="middle",s.default.isXCX?this.canvas.setFillStyle("#ffffff"):this.canvas.fillStyle="#ffffff",this.canvas.fillText("团长",n.pos.x+n.w/2,n.pos.y+n.h/2),2==i&&(this.canvas.setLineDash([3,3],0),this.canvas.beginPath(),s.default.isXCX?this.canvas.setStrokeStyle("#CCCCCC"):this.canvas.strokeStyle="#CCCCCC",this.canvas.arc(2*o.w+o.pos.x,(o.h+1)/2+o.pos.y,(o.h+1)/2,0,2*Math.PI,!1),this.canvas.stroke(),s.default.isXCX?this.canvas.setFontSize(12):this.canvas.font="12px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#CCCCCC"):this.canvas.fillStyle="#CCCCCC",this.canvas.textAlign="center",this.canvas.textBaseline="middle",this.canvas.fillText("?",2*o.w+o.pos.x,(o.h+1)/2+o.pos.y),this.canvas.closePath()),i>2&&(this.canvas.restore(),this.canvas.beginPath(),s.default.isXCX?this.canvas.setLineWidth(1):this.canvas.lineWidth=1,s.default.isXCX?this.canvas.setStrokeStyle("#CCCCCC"):this.canvas.strokeStyle="#CCCCCC",this.canvas.stroke(),s.default.isXCX?this.canvas.setFontSize(12):this.canvas.font="12px JDZH-Regular",this.canvas.textAlign="center",this.canvas.textBaseline="middle",s.default.isXCX?this.canvas.setFillStyle("#CCCCCC"):this.canvas.fillStyle="#CCCCCC",this.canvas.fillText("•••",o.pos.x+1.5*o.w,o.h/2+o.pos.y),this.canvas.closePath(),e<i?(this.canvas.setLineDash([3,3],0),this.canvas.beginPath(),this.canvas.arc(2*o.w+1*o.gap+(o.w+1)/2+o.pos.x,(o.h+1)/2+o.pos.y,o.w/2,0,2*Math.PI,!1),this.canvas.stroke(),s.default.isXCX?this.canvas.setLineWidth(12):this.canvas.lineWidth=12,s.default.isXCX?this.canvas.setFillStyle("#CCCCCC"):this.canvas.fillStyle="#CCCCCC",this.canvas.textAlign="center",this.canvas.textBaseline="middle",this.canvas.fillText("?",2*o.w+1*o.gap+(o.w+1)/2+o.pos.x,(o.h+1)/2+o.pos.y),this.canvas.closePath()):(this.canvas.restore(),this.canvas.beginPath(),s.default.isXCX?this.canvas.setLineWidth(1):this.canvas.lineWidth=1,s.default.isXCX?this.canvas.setFillStyle(a):this.canvas.fillStyle=a,this.canvas.arc(2.5*o.w+o.pos.x,(o.h+1)/2+o.pos.y,o.w/2,0,2*Math.PI,!1),this.canvas.fill(),this.canvas.save(),this.canvas.clip(),t.img[t.img.length-1]&&this.canvas.drawImage(t.img[t.img.length-1],2*o.w+o.pos.x,(o.h+1)/2+o.pos.y-o.h/2,o.w,o.h),this.canvas.closePath()))},drawCashPrice:function(t,a,e,i){this.canvas.beginPath(),s.default.isXCX?this.canvas.setFontSize(e.fontSize):this.canvas.font=e.fontSize+"px JDZH-Regular";var n=this.canvas.measureText(a.lefttext).width+6,o=this.canvas.measureText(a.righttext).width+3;o=o<(s.default.isXCX?40:86)?s.default.isXCX?40:86:o,e.pos.x=i-(n+o)/2,s.default.isXCX?this.canvas.setLineJoin("round"):this.canvas.lineJoin="round",s.default.isXCX?this.canvas.setLineWidth(1):this.canvas.lineWidth=1,s.default.isXCX?this.canvas.setStrokeStyle("white"):this.canvas.strokeStyle="white",s.default.isXCX?this.canvas.setFillStyle(t):this.canvas.fillStyle=t,this.canvas.moveTo(e.pos.x,e.pos.y),this.canvas.lineTo(e.pos.x,e.pos.y+e.h),this.canvas.lineTo(e.pos.x+n,e.pos.y+e.h),this.canvas.lineTo(e.pos.x+n,e.pos.y),this.canvas.lineTo(e.pos.x,e.pos.y),this.canvas.lineTo(e.pos.x,e.pos.y),this.canvas.stroke(),this.canvas.fill(),this.canvas.save(),this.canvas.restore(),this.canvas.beginPath(),s.default.isXCX?this.canvas.setLineJoin("round"):this.canvas.lineJoin="round",s.default.isXCX?this.canvas.setStrokeStyle(t):this.canvas.strokeStyle=t,s.default.isXCX?this.canvas.setLineWidth(1):this.canvas.lineWidth=1,this.drawRoundRect(this.canvas,e.pos,n+o,e.h,s.default.isXCX?2:4),this.canvas.closePath(),this.canvas.save(),this.canvas.restore(),this.canvas.beginPath(),this.canvas.textAlign="center",this.canvas.textBaseline="middle",s.default.isXCX?this.canvas.setFontSize(e.fontSize):this.canvas.font=e.fontSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#ffffff"):this.canvas.fillStyle="#ffffff",this.canvas.fillText(""+a.lefttext,e.pos.x+n/2,e.pos.y+e.h/2),this.canvas.textAlign="center",this.canvas.textBaseline="middle",s.default.isXCX?this.canvas.setFillStyle(t):this.canvas.fillStyle=t,this.canvas.fillText(""+a.righttext,e.pos.x+n+o/2,e.pos.y+e.h/2),this.canvas.save()},drawCountDown:function(t){this.canvas.restore(),this.canvas.beginPath(),this.canvas.textAlign="left",this.canvas.textBaseline="bottom",s.default.isXCX?this.canvas.setFontSize(t.fontSize):this.canvas.font=t.fontSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#ffffff"):this.canvas.fillStyle="#ffffff",this.canvas.fillText(""+this.skuInfo.activeTypeInfo.activeEndTip,t.pos.x,t.pos.y),s.default.isXCX?this.canvas.setStrokeStyle("transparent"):this.canvas.strokeStyle="transparent";var a=this.canvas.measureText(""+this.skuInfo.activeTypeInfo.activeEndTip).width;t.days&&0!=parseInt(t.days)&&(this.canvas.font=t.daysFont+"px JDZH-Regular",this.canvas.fillText(t.days+"天",a+t.textGap,t.pos.y),a=this.canvas.measureText(""+t.days).width+a+t.textGap+6),this.drawRoundRect(this.canvas,{x:a+t.textGap,y:t.recty},t.w,t.h,(s.default.isXCX,4)),this.canvas.fill(),this.drawRoundRect(this.canvas,{x:a+t.textGap+t.w+t.gap,y:t.recty},t.w,t.h,s.default.isXCX?2:8),this.canvas.fill(),this.drawRoundRect(this.canvas,{x:a+t.textGap+2*t.w+2*t.gap,y:t.recty},t.w,t.h,s.default.isXCX?4:8),this.canvas.stroke(),this.canvas.fill(),this.canvas.save(),this.canvas.restore(),this.canvas.font=t.fontSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#FF3F2D"):this.canvas.fillStyle="#FF3F2D",this.canvas.textAlign="center",this.canvas.textBaseline="bottom",this.canvas.fillText(t.hours,a+t.textGap+t.w/2,t.pos.y),this.canvas.textAlign="center",this.canvas.textBaseline="bottom",this.canvas.fillText(t.minutes,a+t.textGap+3*t.w/2+t.gap,t.pos.y),this.canvas.textAlign="center",this.canvas.textBaseline="bottom",this.canvas.fillText(t.seconds,a+t.textGap+2.5*t.w+2*t.gap,t.pos.y),this.canvas.save(),this.canvas.restore(),s.default.isXCX?this.canvas.setFontSize(t.fontSize):this.canvas.font=t.fontSize+"px JDZH-Regular",s.default.isXCX?this.canvas.setFillStyle("#FFFFFF"):this.canvas.fillStyle="#FFFFFF",this.canvas.fillText(":",a+t.textGap+t.gap/2+t.w,t.pos.y-1),this.canvas.fillText(":",a+t.textGap+2*t.w+1.5*t.gap,t.pos.y-1),this.canvas.save(),this.canvas.closePath()},drawRoundRect:function(t,a,e,i,n){t.beginPath(),s.default.isXCX?t.setLineWidth(1):t.lineWidth=1,t.moveTo(a.x+n,a.y),t.lineTo(a.x+e-n,a.y),t.arc(a.x+e-n,a.y+n,n,3*Math.PI/2,2*Math.PI),t.lineTo(a.x+e,a.y+i-n),t.arc(a.x+e-n,a.y+i-n,n,0,Math.PI/2),t.lineTo(a.x+n,a.y+i,n,0,Math.PI/2),t.arc(a.x+n,a.y+i-n,n,Math.PI/2,Math.PI),t.arc(a.x+n,a.y+n,n,Math.PI,3*Math.PI/2),t.stroke()},drawLeftRoundRect:function(t,a,e,i,n){t.beginPath(),s.default.isXCX?t.setLineWidth(1):t.lineWidth=1,t.moveTo(a.x+n,a.y),t.lineTo(a.x+e,a.y),t.lineTo(a.x+e,a.y+i),t.lineTo(a.x+n,a.y+i,n,0,Math.PI/2),t.arc(a.x+n,a.y+i-n,n,Math.PI/2,Math.PI),t.lineTo(a.x,a.y-n),t.arc(a.x+n,a.y+n,n,Math.PI,3*Math.PI/2),t.stroke()},setCashAndPromoteShareImg:function(t){var e="",s=t.canvasBgSwitch;if("default"===s&&t.defaultCanvasBgConfig&&(e=t.defaultCanvasBgConfig.cashShareImg),this.showPromoteShare="promote"===s&&t.promoteCanvasBgConfig&&t.defaultCanvasBgConfig&&[1,2,3,4,5,6,7,9].indexOf(this.promoteType)>-1,"promote"===s&&t.promoteCanvasBgConfig&&t.defaultCanvasBgConfig){var i=t.promoteCanvasBgConfig,n=i.todayBipin&&i.todayBipin.length&&i.todayBipin[0],o=i.newerTuan&&i.newerTuan.length&&i.newerTuan[0],l=i.fanxianLimitHigh&&i.fanxianLimitHigh.length&&i.fanxianLimitHigh[0],h=i.tenBillionsBonus&&i.tenBillionsBonus.length&&i.tenBillionsBonus[0],r=i.fanxianLimitAll&&i.fanxianLimitAll.length&&i.fanxianLimitAll[0],c=i.fanxianNewer&&i.fanxianNewer.length&&i.fanxianNewer[0];switch(this.promoteType){case 1:e=n&&n.shareImg;break;case 2:case 3:e=o&&o.shareImg;break;case 4:e=l&&l.shareImg;break;case 5:case 9:e=h&&h.shareImg;break;case 6:e=r&&r.shareImg;break;case 7:e=c&&c.shareImg;break;default:e=t.defaultCanvasBgConfig.cashShareImg}}e=e?a.getGoodImg(e):a.getGoodImg(this.hpShareImg),this.hpShareImg=e.replace(/\/\/img\d\d.360buyimg.com/,"//img10.360buyimg.com");var f=t.defaultCanvasBgConfig.notCashShareImg,v=t.defaultCanvasBgConfig.defaultShareBgImg;f=f?a.getGoodImg(f):a.getGoodImg(this.lpShareImg),this.lpShareImg=f.replace(/\/\/img\d\d.360buyimg.com/,"//img10.360buyimg.com"),v=v?a.getGoodImg(v):a.getGoodImg(this.shareBgImg),this.$root.shareBgImg=v.replace(/\/\/img\d\d.360buyimg.com/,"//img10.360buyimg.com")},getPortaitsToImgList:function(t){var a=this;return this.portraitList=this.getPortraitList(),this.portraitList.forEach(function(e){s.default.isXCX?t.push(a.wxDownloadFile(e)):t.push(a.h5DownloadFile(e))}),t},getPortraitList:function(){var t=this,a=[];if(this.tuanInfo.tuan_member_list&&this.tuanInfo.tuan_member_list.length){var e=this.tuanInfo.tuan_member_list;e.length>1&&(e=[e[0],e[e.length-1]]),a=e.map(function(a){var e=a.head_portrait_url?a.head_portrait_url:t.defaultPotrait;return e=e.replace(/^((https||http):?)\/\//,"https://"),e=e.replace(/\/\/img\d\d.360buyimg.com/,"//img10.360buyimg.com")})}return a},xcxCanvas2File:function(){var t=this;return new Promise(function(a,e){s.default.canvasToTempFilePath({canvasId:"shareCanvas",success:function(e){t.$root.shareBgImg=e.tempFilePath,a()},error:function(t){e()}},t)})},h5Canvas2Url:function(){var t=this;return new Promise(function(e,s){var n=document.getElementById("shareCanvas");i.h5ParseShareImg(n.toDataURL("image/jpeg",.9)).then(function(s){s&&(t.$root.shareBgImg=a.getGoodImg(s).replace(/\.jpg!q\d\d/,".jpg")),e()}).catch(function(t){s()})})}}};exports.default=n; 
 			}); 
		define("components/canvas-share/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.storeFn=void 0;var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../common/wxcontext"));exports.storeFn=function(){return{state:{canvas:{},isXCX:e.default.isXCX,isJXApp:"jdpingou"==e.default.JD.device.scene,isJDAPP:"jdapp"==e.default.JD.device.scene,ctxWidth:300,ctxHeight:240,showPromoteShare:!1,imgsPromise:"",portraitList:[],defaultPotrait:"https://img10.360buyimg.com/jdphoto/s120x120_jfs/t13840/48/224229347/6400/4eec0fe2/5a0697abN8a425d5c.png",hpShareImg:"https://img14.360buyimg.com/jdphoto/jfs/t1/75204/30/10212/15227/5d7a1645E7d9f82b4/61c3b584ef64e449.png",lpShareImg:"https://img14.360buyimg.com/jdphoto/jfs/t1/75204/30/10212/15227/5d7a1645E7d9f82b4/61c3b584ef64e449.png"}}}; 
 			}); 
		define("components/canvas-share/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isJDReact=exports.isJdPingouApp=exports.isQQ=exports.isWx=exports.isJDAPP=void 0,exports.getGoodImg=function(t,s){return"string"==typeof t&&t?/jfs/.test(t)?(/.*wx\.qlogo\.cn.*\/0$/.test(t)&&(t=t.replace("/0","/64")),/^(.*?)jfs(.*?)$/.test(t)&&(t=t.replace(/^(.*?)(jfs.*?)((\.webp|\.dpg|!q[\d]{1,3}).*?)?$/,"$2")),s?isNaN(+s)?/s[1-9](\d*?)x[1-9](\d*?)_/.test(s)||console.warn("size参数非Number或s800x800_格式的String: "+s):s="s"+s+"x"+s+"_":s="",n[t]||(n[t]={}),n[t][s]||(n[t][s]=e.default.JD.performance.getScaleImg("//img10.360buyimg.com/evalpic/"+s+t)),n[t][s]&&n[t][s].replace(/^((https||http):?)\/\//,"https://")):t:""},exports.getTimeDetail=function(e){var t=e<=0?0:Math.floor(e/86400),s=e%86400,r=s%3600,o=r%60,i=e<=0?0:Math.floor(s/3600),n=e<=0?0:Math.floor(r/60),p=e<=0?0:o;return{days:t,hours:i<10?"0"+i:i,minutes:n<10?"0"+n:n,seconds:p<10?"0"+p:p}},exports.getAfterReturnPrice=function(e,t){return"number"==typeof e&&"number"==typeof t&&!(e<t)&&((e-t)/100).toFixed(2)},exports.getReturnScale=function(e,t){return"number"==typeof e&&"number"==typeof t&&!(e<t)&&100*(t/e).toFixed(2)+"%"};var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../common/wxcontext")),t="jdapp"==e.default.JD.device.scene,s="weixin"==e.default.JD.device.scene,r="qq"==e.default.JD.device.scene,o="jdpingou"==e.default.JD.device.scene,i=e.default.isJDReact;exports.isJDAPP=t,exports.isWx=s,exports.isQQ=r,exports.isJdPingouApp=o,exports.isJDReact=i;var n={}; 
 			}); 
		define("components/horn/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function r(o){return t.request.get({url:"https://wq.jd.com/activep3/xiaolaba/draw",data:{source:o},retry:0,exchange:!1,ump:{bizId:"1446",opId:"2",errBizId:"1446",errOpId:"4",reportHook:function(r){return{code:r.ret,message:r.errmsg}}}}).then(function(t){var n=t.body;t.header;return 2==n.ret?e.doLogin().then(function(){return r(o)}).catch(function(r){return{ret:666}}):n}).catch(function(r){return{ret:666}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.draw=void 0;var e=function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}(require("../../common/login/login.js")),t=require("../../common/request/request.js");exports.draw=r; 
 			}); 
		define("components/launch-jdapp/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSwitchesPromise=void 0,exports.getAppSchema=function(o,t){var r=t.des,i=t.url,s=t.skuId,n=t.shopId,u=t.source,a=void 0===u?"wxapp":u,c=t.ptag,p=e.getCookie("PPRD_P").split("-").find(function(e){return e.indexOf("EA")>=0})||"",d={category:"jump",m_source:a,visitkey:e.getCookie("visitkey"),pin:e.getCookie("jdpin"),sid:e.getCookie("visitkey")+"|"+e.getCookie("__wga").split(".").pop(),__jda:e.getCookie("__jda"),__jdv:e.getCookie("__jdv"),unpl:e.getCookie("unpl"),cookie_ptag:p};return"item"==o?(d.des="productDetail",d.skuId=s):"shop"==o?(d.des="jshopMain",d.shopId=n):"m"==r&&i?(d.des=r,d.url=i):d.des="HomePage",c&&(d.ptag=c),d=JSON.stringify(d),"openApp.jdMobile://virtual?params="+encodeURIComponent(d)},exports.getImkParam=function(e,o){var t=o.des,r=o.url,i=o.skuId,s=o.shopId,n={category:"jump",M_sourceFrom:o.M_sourceFrom};"item"==e?(n.des="productDetail",n.skuId=i):"shop"==e?(n.des="jshopMain",n.shopId=s):"m"==t&&r?(n.des=t,n.url=r):n.des="HomePage";var u={inteneUrlParams:n},a=encodeURIComponent(JSON.stringify(u));return console.error(a),"imkParam="+a},exports.getDownloadTip=function(){return"请至 APP STORE 或应用市场下载京东APP"},exports.isShowLaunchEnter=function(){return i},exports.ylToCustomerService=function(){return s};var e=function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}(require("../../common/cookie-v2/cookie")),o=require("../../common/request/request.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/promise.min.js")),r=!1,i=!0,s=!1;exports.getSwitchesPromise=new t.default(function(e){o.request.get({url:"//wq.360buyimg.com/data/ppms/js/ppms.pagev36860.json"}).then(function(o){var t=o.body;t&&t.data&&t.data.length&&t.data.forEach(function(e){e&&"customerGray"==e.key&&"100"==e.num&&(r=!0),e&&"ylGray"==e.key&&"100"!=e.num&&(i=!1),e&&"ylToCustomerService"==e.key&&"100"==e.num&&(s=!0)}),e({customerSwitch:r,isShowLaunchEnterSwitch:i,ylToCustomerServiceSwitch:s})}).catch(function(){e({customerSwitch:r,isShowLaunchEnterSwitch:i,ylToCustomerServiceSwitch:s})})}); 
 			}); 
		define("components/launch-pgapp/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(require("./store")),a=require("./util"),e=t(require("../../api/Ptag/report_manager_wqvue")),r=t(require("../../common/wxcontext")),i=function(t){if(t&&t.__esModule)return t;var o={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=t[a]);return o.default=t,o}(require("../../common/toast/toast.js")),s=require("../../common/base64/base64.js"),u={template:"#launch-pgapp",props:{word:{type:String},subword:{type:String},top:{type:String,default:"200rpx"},reply:{type:[String,Number],default:1},param:{type:Object,default:function(){return{downloadAppGuideType:1}}},triggerLaunchErrorCount:{type:Number},triggerKlDownloadGuideCount:{type:Number},klCopyConfig:{type:Object}},store:o.default,watch:{param:{deep:!0,immediate:!0,handler:function(t){this.handleParam(t)}},reply:function(t){void 0!==t&&(this.replyData=decodeURIComponent(t))},triggerLaunchErrorCount:function(){this.launchError()},triggerKlDownloadGuideCount:function(){this.handleKlDownloadGuide(),e.default.addPtagExposure(this.param&&"item"==this.param.moduleName?"7418.20.66":"138269.26.3"),this.customerSwitch&&e.default.addPtagExposure(this.param&&"item"==this.param.moduleName?"7418.20.71":"138269.26.7")}},created:function(){this.getConfig()},mounted:function(){this.showTopBar&&e.default.addPtagExposure("138723.8.1",{moduleName:this.param&&this.param.moduleName})},methods:{handleParam:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.showTopBar=!!t.showTopBar,this.showBar=!!t.showBar,this.showBottomBar=!!t.showBottomBar,this.showBar&&e.default.addPtagExposure(this.param.barPtagExp||"138723.4.1",{moduleName:this.param&&this.param.moduleName});var o="";if(t.wordColor&&(o+="color:"+t.wordColor+";",this.wordColor=t.wordColor),t.bgColor&&(o+="background-image:none;background-color:"+t.bgColor+";"),this.top&&(o+="top:"+this.top+";"),this.subword&&(o+="border-radius:24px;border-top-right-radius:0;border-bottom-right-radius:0;"),this.style=o,t.bottomBarConfig){var r="";t.bottomBarConfig.backgroundColor&&(r+="background-image:none;background-color:"+t.bottomBarConfig.backgroundColor+";"),t.bottomBarConfig.height&&(r+="height:"+parseFloat(t.bottomBarConfig.height)+"px;border-radius:"+parseFloat(t.bottomBarConfig.height)/2+"px;"),t.bottomBarConfig.bottom&&(r+="bottom:"+parseFloat(t.bottomBarConfig.bottom)+"px;"),t.bottomBarConfig.zIndex&&(r+="z-index:"+t.bottomBarConfig.zIndex+";"),this.bottomStyle=r}this.appParameter=(0,a.getAppSchema)(t),console.warn("唤起京喜APP的协议："+this.appParameter);var i=!!t.launchApp;e.default.addPtagExposure(this.param.ptagKfPtagExp||"138723.6.1",{moduleName:this.param&&this.param.moduleName}),i&&(this.launchApp=!0)},launchError:function(t){console.log("launchError",t);var o=this.shareFromJxapp,a=this.defaultjxAppShareToast,e=this.defaultToast;this.customerSwitch&&(this.launchApp=!0);var r=this.param.downloadAppGuideType;1!=(void 0===r?1:r)&&this.customerSwitch||i.show({content:o?a:e})},launchAppTap:function(t){console.log("launchAppTap",t),this.showTopBar?e.default.addPtag("138723.8.3",{moduleName:this.param&&this.param.moduleName}):e.default.addPtag(this.param.barPtag||"138723.4.2",{moduleName:this.param&&this.param.moduleName}),this.shareFromJxapp||this.launchError()},launchSuccess:function(t){console.log("launchSuccess",t)},panelKnow:function(){this.launchApp=!1,e.default.addPtag(this.param.cancelKFptag||"138723.6.3",{moduleName:this.param&&this.param.moduleName}),this.triggerEvent("cancelJump")},gotoCustomerCenter:function(t){"appZx"==t.currentTarget.dataset.type?e.default.addPtag("item"==this.param.moduleName?"7418.20.67":"138269.26.4"):e.default.addPtag(this.param.gotoKFPtag||"138723.6.2",{moduleName:this.param&&this.param.moduleName})},closeTopBar:function(){this.showTopBar=!1,this.showBar=!1,e.default.addPtag("138723.8.2",{moduleName:this.param&&this.param.moduleName})},handleKlDownloadGuide:function(){var t=this;if(r.default&&r.default.setClipboardData){var o=this.klCopyConfig,a=void 0===o?{}:o,e=a.url,i=a.width,u=a.ratio,n=a.s,d=void 0===n?0:n;if(e&&i&&u){var p=""+(0,s.base64encode)("openjxcb")+(0,s.base64encode)('{"u":"'+e+'","w":"'+i+'","wh":"'+u+'","s":"'+d+'"}');r.default.setClipboardData({data:p,success:function(){t.klCopySuccess=!0,t.showKlCopyGuideToast=!0,r.default.showToast({icon:"none",title:"复制成功",duration:400})},fail:function(){t.klCopySuccess=!1,t.showKlCopyGuideToast=!0,r.default.showToast({icon:"none",title:"复制失败",duration:400})}})}else this.klCopySuccess=!1,this.showKlCopyGuideToast=!0}else this.klCopySuccess=!1,this.showKlCopyGuideToast=!0},closeKlCopyGuideToast:function(){this.showKlCopyGuideToast=!1}}};exports.default=u; 
 			}); 
		define("components/launch-pgapp/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(t){return t&&t.__esModule?t:{default:t}}(require("../../common/wxcontext")),e=require("../../common/request/request.js");exports.default=function(){return{state:{shareFromJdapp:!1,shareFromJxapp:!1,showTopBar:!1,showBar:!1,showBottomBar:!1,launchApp:!1,replyData:1,wordColor:"",style:"",bottomStyle:"",appParameter:"",customerSwitch:!1,klCopySuccess:!1,showKlCopyGuideToast:!1,defaultjxAppShareToast:"请前往Appstore或应用商店下载京喜App",defaultToast:"若未安装京喜App，请前往Appstore或应用商店下载京喜App；若已安装京喜App，请自行打开",defaultLogo:"https://img30.360buyimg.com/jdphoto/jfs/t1/57827/20/11220/15440/5d81f542E5497b0af/befb390796971c7a.png",defaultTitle:"打开京喜APP 购物可返红包",defaultSubTitle:"京喜 | 京东旗下社交电商平台",defaultBtnText:"立即打开",defaultSideTitle:"打开京喜APP",defaultBottomLogo:"https://img11.360buyimg.com/jdphoto/s50x50_jfs/t1/86707/22/3345/4716/5ddf5fc4Ee9276c70/7514864fc255deb6.png",defaultBottomTitle:"打开京喜APP"},actions:{getConfig:function(){var a=this,o=getApp();this.shareFromJdapp=o&&o.isAppShare&&o.isAppShare.fromJdapp,this.shareFromJxapp=o&&o.isAppShare&&o.isAppShare.fromJxapp,2==t.default.JD.cookie.get("wxapp_type")&&(e.request.get({url:"//wq.360buyimg.com/data/ppms/js/ppms.pagev37302.json"}).then(function(t){var e=t.body;e&&e.data&&e.data[0]&&(a.customerSwitch="1"==e.data[0].switch,a.param&&a.param.moduleName&&e.data[0].moduleNames.indexOf(";"+a.param.moduleName+";")>=0&&(a.customerSwitch=!0))}),e.request.get({url:"//wq.360buyimg.com/data/ppms/js/ppms.pagev37184.json"}).then(function(t){var e=t.body;if(e&&e.data&&e.data.length){var o=e.data[0],p=o.jxAppShareToast,s=o.toast,r=o.logo,u=o.title,d=o.subTitle,l=o.btnText,i=o.sideTitle,m=o.bottomLogo,f=o.bottomTitle;p&&(a.defaultjxAppShareToast=p),s&&(a.defaultToast=s),r&&(a.defaultLogo=r),u&&(a.defaultTitle=u),d&&(a.defaultSubTitle=d),l&&(a.defaultBtnText=l),i&&(a.defaultSideTitle=i),m&&(a.defaultBottomLogo=m),f&&(a.defaultBottomTitle=f)}}))}}}}; 
 			}); 
		define("components/launch-pgapp/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAppSchema=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.urlConfig,r=void 0===o?{}:o,t=r.des,n=void 0===t?"m":t,p=r.rdLink,d=void 0===p?1:p,i=e.url||"https://wqs.jd.com/portal/wx/tuan/pingouv3.shtml";i.indexOf("?")>0?i+="&jump_rd=17088.31."+d:i+="?jump_rd=17088.31."+d;var u={category:"jump",des:n,url:i};return u=JSON.stringify(u),console.warn("唤起京喜APP的参数",u),"openapp.jdpingou://virtual?params="+encodeURIComponent(u)}; 
 			}); 
		define("components/mp-behavior/behavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function r(r){var t=decodeURIComponent(r).search(i);return t>-1?0==t?e(r,"log"):e(r.slice(t,r.length),"log"):null}function e(r,e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),c=decodeURIComponent(r).substring(1).match(t);return null!=c?c[2]:null}function t(r){for(var e=r.length,t=parseInt(e/12),c="",n=0;n<12;n++)c+=(r.charCodeAt(n*t)%u).toString(16);return c}function c(r,t){var c=decodeURIComponent(r).search(i);return function(){var a=e(r,"ac"),i=void 0;if(a)return r.replace(a,n(t));if(0==c)i=r+"&ac="+n(t);else{var u=o(r);i=r.replace(u,u+encodeURIComponent("&ac=")+n(t))}return i}()}function n(r){var e=void 0,t=void 0,c=void 0,n=void 0,o=void 0,i=r.length;for(t=0,e="";t<i;){if(c=255&r.charCodeAt(t++),t==i){e+=a.charAt(c>>2),e+=a.charAt((3&c)<<4),e+="==";break}if(n=r.charCodeAt(t++),t==i){e+=a.charAt(c>>2),e+=a.charAt((3&c)<<4|(240&n)>>4),e+=a.charAt((15&n)<<2),e+="=";break}o=r.charCodeAt(t++),e+=a.charAt(c>>2),e+=a.charAt((3&c)<<4|(240&n)>>4),e+=a.charAt((15&n)<<2|(192&o)>>6),e+=a.charAt(63&o)}return e&&(e=e.replace(/[+]/g,"-").replace(/[\/]/g,"_").replace(/[=]/g,"")),e}function o(r){if(0==decodeURIComponent(r).search(i))return r;for(var e=r.split("&"),t=0,c=e.length;t<c;t++){var n=e[t];if(n.search(/http.*ccc.*x.*jd.*com/i)>-1)return n.split("=")[1]}return r}Object.defineProperty(exports,"__esModule",{value:!0});var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=/(http|https):\/\/(ccc\.x|ccc-x)\.jd\.com/gim,u=void 0;exports.getBehavior=function(e,n,o){u=o?13:12;var a=r(e);if(a)return c(e,t(a)+"|"+n)},exports.getBehaviorData=function(r,e,c){return u=c?13:12,n(t(r)+"|"+e)}; 
 			}); 
		define("components/nav-bar/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawHorn=exports.queryHorn=void 0;var e=require("../../common/request/request.js"),r=require("../../common/fe_report/usability");exports.queryHorn=function(t){return e.request.get({url:"https://wq.jd.com/activep3/xiaolaba/query",data:{source:t}}).then(function(e){var t=e.body;return(0,r.umpBiz)({bizid:1489,operation:1,result:t.ret,message:"成功"}),t}).catch(function(e){var t=e.code||e.ret||e.retCode||10086,o=e.message||e.msg||e.retMsg||e;throw(0,r.umpBiz)({bizid:1489,operation:1,result:t,message:o}),e})},exports.drawHorn=function(t){return e.request.get({url:"https://wq.jd.com/activep3/xiaolaba/draw",data:{source:t}}).then(function(e){var t=e.body;return(0,r.umpBiz)({bizid:1489,operation:2,result:t.ret,message:"成功"}),t}).catch(function(e){var t=e.code||e.ret||e.retCode||10086,o=e.message||e.msg||e.retMsg||e;throw(0,r.umpBiz)({bizid:1489,operation:2,result:t,message:o}),e})}; 
 			}); 
		define("components/quick-clear/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function t(e){var r=e.currentCount;return{skuCateUpperLimit:+e.maxCount||120,currentSkuCateNum:+r||0}}function o(){var e=getCurrentPages()||[],r=e.length?e.pop().route:"";return"pages/cart/cart/index"==r||"pages/cart/cart/cart"==r}function n(){var e=getCurrentPages()||[];return e.length?e.pop().route:""}function u(){var e=this,r=n(),t=o(),i={url:"https://wqdeal.jd.com/deal/mshopcart/getclearcart",timeout:3e3,data:{templete:0},ump:{bizId:C,opId:t?T.CART_GET_QUICK_CLEAR:T.NON_CART_GET_QUICK_CLEAR,errOpId:t?T.CART_GET_QUICK_CLEAR:T.NON_CART_GET_QUICK_CLEAR,reportHook:function(e){return{code:+e.errId,message:(e.errMsg||"")+"_curPage:"+r}}}};return p.request.get(i).then(function(r){var t=r.body,o=0==t.errId,n=13==t.errId;return o?Promise.resolve(t):n?I.doLogin().then(u.bind(e)).catch(function(e){return Promise.reject(t)}):Promise.reject(t)},function(e){return Promise.reject(e)})}function i(e){var r=(4==e.itemType?e.suitId+"_":"")+e.skuId;return e.imgUrl=f.getImg(e.imgUrl,67),e.id=r,e.wxKey=r,delete e.name,delete e.timestamp,e}function a(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=o(),u=n();if(!r.length)throw Error("params skus is empty");var i={url:"https://wqdeal.jd.com/deal/mshopcart/removeclearcart",data:{templete:0,commlist:r.join("$")},ump:{bizId:C,opId:t?T.CART_QUICK_CLEAR:T.NON_CART_QUICK_CLEAR,errOpId:t?T.CART_QUICK_CLEAR:T.NON_CART_QUICK_CLEAR,reportHook:function(e){return{code:+e.errId,message:(e.errMsg||"")+"_curPage:"+u}}}};return p.request.get(i).then(function(t){var o=t.body,n=0==o.errId,u=13==o.errId;return n?Promise.resolve(o.clearcart):u?I.doLogin().then(a.bind(e,r)):Promise.reject(o)},function(e){return Promise.reject(e)})}function s(e){return v[e]}function c(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(r){var t=s(r);if(t){var o=d(t);e.push(o)}else g.error(r," 未找到")}),e}function d(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[1==e.itemType?e.skuId:e.suitId,"","","",e.itemType,"",""],o=4==e.itemType,n="noStock"==e.groupName;return o?t.push("suitType:"+e.virtualSuit):t.push(""),t=t.join(","),t+=(o?"@@":"")+"noStock:"+(r?1:n?2:0)}function m(e){var r=n(),t={url:"https://wq.jd.com/fav/comm/FavCommBatchAdd",data:{},ump:{bizId:C,opId:T.FAVORITE,errOpId:T.FAVORITE,reportHook:function(e){return{code:+e.iRet,message:(e.errMsg||"")+"_curPage:"+r}}}},o=[];return e.forEach(function(e){var r=e.itemId;e.polyType!=h.MF_SUIT&&e.polyType!=h.MZ_SUIT||(r=e.vSkuId||e.mainSku.id),o.push(r)}),Object.assign(t.data,{callback:"favorite",commId:o.join(",")}),p.request.get(t).then(function(r){var t=r.body,o=0==t.iRet,n=13==t.iRet;return o?Promise.resolve(e):n?I.doLogin().then(function(){return m(e)},function(e){return Promise.reject(new Error("哎呀，收藏商品失败了，请稍后再试~"))}):Promise.reject(new Error("哎呀，收藏商品失败了，请稍后再试~"))},function(e){return Promise.reject(e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.add2Favorite=exports.getSkusFromRawData=exports.getRemoveParamsBySkus=exports.remove=exports.findById=exports.groupBy=exports.loadData=void 0;var p=require("../../common/request/request.js"),f=e(require("../../common/fe_helper.js")),l=require("../../common/logger.js"),I=e(require("../../common/login/login.js")),g=new l.Logger("购物车-快速清理 api"),v={},_={},h={SINGLE:1,SUIT:2,MF_SUIT:3,MZ_SUIT:4},C=616,T={FAVORITE:15,CART_QUICK_CLEAR:17,NON_CART_QUICK_CLEAR:18,CART_GET_QUICK_CLEAR:19,NON_CART_GET_QUICK_CLEAR:20,SUCCESS:0,FAIL:1};exports.loadData=u,exports.groupBy=function(e){v={};var o=[],n=["noStock","oneYear","halfYear","oneMonth","inAMonth"],u={noStock:"无货商品",oneYear:"一年前加车商品",halfYear:"半年前加车商品",oneMonth:"一个月前加车商品",inAMonth:"一个月内加车商品"};o.totalNum=0,n.forEach(function(t){var n=e[t];if(n&&+n.totalNum){!_[t]&&(_[t]={}),Object.assign(_[t],n);var a=[],s=0;n.suits.forEach(function(e){s+=e.products.length-1,e.products.forEach(function(r,t){0===t&&a.push({timestamp:e.timestamp,itemType:e.itemType,suitId:e.vskuId||e.promoId,skuId:r.skuId,imgUrl:r.imgUrl,virtualSuit:e.vskuId?1:0})})}),n.totalNum-=s,delete n.suits;var c=[].concat(r(n.products),a).sort(function(e,r){return+e.timestamp-+r.timestamp}).map(function(e){return e.groupName=t,e=i(e),v[e.wxKey]=e,e});n.products=c,o.push(Object.assign(n,{title:u[t]||"",key:t,selected:!1})),o.totalNum+=+n.totalNum}});var a=t(e),s=a.skuCateUpperLimit,c=a.currentSkuCateNum;return o.header=c>=s?"购物车已满，清理部分商品后才可继续加车":c>=80?"购物车快要满了，建议及时清理购物车":"购物车快速清理",o},exports.findById=s,exports.remove=a,exports.getRemoveParamsBySkus=function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])},exports.getSkusFromRawData=function(e){var r=4==e.itemType,t=[],o=r?_[e.groupName].suits:_[e.groupName].products;if(r){var n=o.find(function(r){return r.vskuId==e.suitId||r.promoId==e.suitId});n&&(t=n.products.map(function(e){return e.skuId}))}else(e=o.find(function(r){return r.skuId==e.skuId}))&&(t=[e.skuId]);return t},exports.add2Favorite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];return m(e).then(function(e){return a(r)})}; 
 			}); 
		define("components/recommend/report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.REPORT_ACTION=exports.report=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},t=require("../../api/Ptag/report_manager"),i={EXPOSURE:1,CLICK:2,DISLIKE:3},n=null,p=[],s={};exports.report=function(){var u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.EXPOSURE,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=c.recommendId,f=c.fbr,g=c.dislikeType,y=c.dislikeRd;if(d){var b=getCurrentPages().pop().route+"_"+d,_=s[b]?s[b]:s[b]={},k=String(c.skus||"").replace(/,/g,"_"),v=l.page,m=l.index,R=l.sku,O=l.client_exposal_url,x=l.clk,E=l.source,S=l.rp,P=void 0===S?{}:S,I=l.pps,C=c.clkRd,h=(u={},e(u,i.CLICK,function(){t.ReportManager.pinLikeClick(o({report_url:x,source:E,ad_type:3,skuid:R,id:0,page:v,index:m,pps:I,recpos:d,skus:k,reqsig:"",user_layer:"",ptag:C},"object"===(void 0===P?"undefined":r(P))&&o({},P)))}),e(u,i.EXPOSURE,function(){_[R]||(p.push(o({report_url:O,source:E,ad_type:3,skuid:R,id:0,page:v,index:m,pps:I,recpos:d,skus:k,reqsig:"",user_layer:"",ptag:""},"object"===(void 0===P?"undefined":r(P))&&o({},P))),_[R]=!0),n=setTimeout(function(){p.length&&t.ReportManager.pinLikeExposure(p),p=[],n&&clearTimeout(n)},200)}),e(u,i.DISLIKE,function(){t.ReportManager.dislikeReport(o({source:E,reqsig:"",ad_type:3,skuid:R,id:0,page:v,index:m,recpos:d,user_layer:"",skus:k,pps:I,fbr:f,ptag:y,type:g},"object"===(void 0===P?"undefined":r(P))&&o({},P)))}),u)[a];h&&h()}},exports.REPORT_ACTION=i; 
 			}); 
		define("components/recommend/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){var r=e.dpicon&&0!=e.dpicon.icon&&(3!=e.dpicon.icon&&e.jp.length>=4||e.jp.length>=5&&3==e.dpicon.icon)&&0!=e.paicon,t=e.jp.length>5&&e.dpicon&&0!=e.dpicon.icon;return r||t}function t(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],o=0;o<e.length-1;o+=2)t?(r(e[o])&&(e[o].hasClsDoublePrice=!0),r(e[o+1])&&(e[o+1].hasClsDoublePrice=!0)):r(e[o])||r(e[o+1])?(e[o].hasClsDoublePrice=!0,e[o+1].hasClsDoublePrice=!0):(e[o].hasClsDoublePrice=!1,e[o+1].hasClsDoublePrice=!1)}function o(e){var r=e.tp,t=e.yd;if(r&&t){var o=r.s===t.start&&r.e===t.end,n=d.default.unix(+r.s).format("M.D")+"-"+d.default.unix(+r.e).format("M.D"),s=d.default.unix(+t.start).format("M.D")+"-"+d.default.unix(+t.end).format("M.D");return o?{yd:{content:t.content,url:u.getImg(t.url)},tp:{c:r.c,p:r.p,date:n}}:i(d.default.unix(+t.start),d.default.unix(+t.end))?{yd:{content:t.content+"（"+s+"）",url:u.getImg(t.url)}}:{tp:{c:r.c,p:r.p,date:n}}}if(r&&!t){var c=d.default.unix(+r.s).format("M.D")+"-"+d.default.unix(+r.e).format("M.D");return{tp:{c:r.c,p:r.p,date:c}}}if(!r&&t){var a=d.default.unix(+t.start).format("M.D")+"-"+d.default.unix(+t.end).format("M.D");return{yd:{content:t.content+"（"+a+"）",url:u.getImg(t.url)}}}return null}function n(e,r,t){var o={operation:e,result:r,message:t,bizid:862};l.umpBiz(o)}function i(e,r){var t=Date.now();return t>=e&&t<=r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getKeyWors=exports.getIconConfig=exports.showHaitunGlobal=exports.setClsDoublePrice=exports.getVParams=exports.getRecommendTopic=exports.getRecommendList=exports.getConfig=void 0;var s=require("../../common/request/request"),u=e(require("../../common/utils")),c=e(require("../../common/fe_helper.js")),a=e(require("../../common/biz")),p=e(require("../../common/cookie-v2/cookie")),d=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/day.min")),l=e(require("../../common/fe_report/usability.js")),m=862,f={PPMS:1,RECLIST:2,TOPIC:4};exports.getConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t={enable:0};return a.getPPMS(33214).then(function(o){var i=o.find(function(r){return r.page==e})||o.find(function(e){return e.page==r})||t;return Object.assign(t,i,{cornerMark:u.getImg(i.cornerMark),plusImg:u.getImg(i.plusImg)}),n(f.PPMS,0,"ppms33214拉取成功"),Promise.resolve(t)},function(e){return n(f.PPMS,-1,"ppms33214请求数据出错"),Promise.reject(e)})},exports.getRecommendList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];return Object.assign(e,{hi:"visitkey:"+p.getCookie("visitkey")+",pin:"+p.getCookie("pin")+",openid:"+p.getCookie("open_id")+",page:"+e.pi}),s.request.get({url:"https://wq.jd.com/mcoss/reclike/getrecinfo",data:e,ump:{bizId:m,opId:f.RECLIST,errOpId:f.RECLIST,reportHook:function(e){return{code:e.success?0:-1,message:"bitype:"+(e.bitype||"")+",message:"+(e.error_msg||"")}}}}).then(function(n){var i=n.body;return i.success?(i.data.forEach(function(r,t){r.page=e.pi,r.index=t+1,r.img=c.getImg(r.img,314,314),r.psp=o(r)}),t(i.data,r),Promise.resolve({list:i.data,impr:i.impr})):Promise.reject(new Error("message:"+i.error_msg))},function(e){return Promise.reject(e)})},exports.getRecommendTopic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="";return e=Object.assign({callback:"gettopic",topn:2,sceneid:1,count:2,offset:0},e),s.request.get({url:"https://wq.jd.com/mcoss/topic/gettopic",data:e,ump:{bizId:m,opId:f.TOPIC,errOpId:f.TOPIC,reportHook:function(e){return{code:e.errcode||0,message:e.msg}}}}).then(function(e){var t=e.body;if(0==t.errcode&&t.themes){var o=!0,n=!1,i=void 0;try{for(var s,u=t.themes[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var a=s.value,p=a&&a.topicimgs&&a.topicimgs[0];if(a&&p){var d=a.topicname,l=a.topicdesc,m=a.topicid,f=a.pps,g=p.imgurl,v=p.skuid;if(d&&l&&m&&f&&g&&v){r={isTopic:!0,img:c.getImg(g),title:d,desp:l,themeid:m,pps:f,skus:v};break}}}}catch(e){n=!0,i=e}finally{try{!o&&u.return&&u.return()}finally{if(n)throw i}}}return Promise.resolve(r)},function(e){return Promise.resolve(r)})},exports.getVParams=function(e,r){var t=r,o=new RegExp(e+"=([^$|&]*)"),n=t.substr(t.indexOf("?")+1).match(o);return null!=n?n[1]:""},exports.setClsDoublePrice=t,exports.showHaitunGlobal=function(){return c.getServerTime()>=15425568e5},exports.getIconConfig=function(){return a.getPPMS(35496).then(function(e){var r=e.find(function(e){return"wxapp_reclike_icon"==e.pageKey})||[],t={};return r.iconList&&r.iconList.forEach(function(e){t[e.key+""]={imgSrc:u.fixProtocol(e.iconImg)||"",width:e.width,height:e.height}}),n(f.PPMS,0,"ppms33214拉取成功"),Promise.resolve(t)},function(e){return n(f.PPMS,-1,"ppms35496请求数据出错"),Promise.reject(e)})},exports.getKeyWors=function(e){var r={words:[],ppsMap:{}};return e.count?s.request.get({url:"http://wq.jd.com/mcoss/keyword/keywordsearch",data:{ruleid:e.ruleid,pi:1,pc:e.count},ump:{bizId:862,opId:5,errOpId:5,reportHook:function(e){return{code:+e.errCode,message:e.msg||""}}}}).then(function(e){var t=e.body;return 0==t.errCode&&t.data&&t.data.list&&t.data.list.forEach(function(e){r.words.push({word:e.keyword,wordid:e.wordid||""}),r.ppsMap[e.wordid]=e.pps}),Promise.resolve(r)},function(e){return Promise.resolve(r)}):Promise.resolve(r)}; 
 			}); 
		define("components/share-wqvue/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../common/login/loginv1.js")),r=e(require("../../libs/promise.min.js")),o=require("../../common/request/request.js"),n=e(require("../../common/wxcontext")),u={sharereport:function(e){return new r.default(function(r,u){t.getLoginPromise().then(function(t){o.request.get({url:"https://wq.jd.com/activetmp/helpdraw/sharereport",data:e,dataType:n.default.isXCX?"":"jsonp",jsonpCallback:n.default.isXCX?"sharereport":""}).then(function(e){var t=e.body;e.header;0==t.ret?r(t):u({code:t.ret})}).catch(function(e){var t=e.code,r=e.message;u({code:t,message:r})})}).catch(function(e){u(e)})})},setFormId:function(e){return new r.default(function(n,u){t.getLoginPromise().then(function(){(0,o.request)({url:"https://wq.jd.com/user/info/AddFormIdInfo",data:{formId:e,appId:getApp().appId,businessType:"1",callback:"jsonpCBKB"}}).then(function(e){n(e.body&&e.body.errcode)}).catch(function(e){var t=e.code,o=e.message;return r.default.reject({code:t,message:o})})}).catch(function(e,t){return r.default.reject({errcode:e,errMsg:t})})})}};exports.default=u; 
 			}); 
		define("components/sku-layer/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.skuId,s=e.url,o=e.isNewUser,n=e.pingou,a=(0,h.getAddress)().areaId,u={url:"",data:{},priority:"HIGH",ump:{bizId:x,opId:1}},p=!0;return s?(u.url=s.indexOf("https:")<0?"https:"+s:s,p=!1):(u.url=j.ITEM_INFO,u.speedPointId=1,u.data={sku:i,callback:"skuInfoCB",cgi_source:n?"pingou":"xcx",areaid:a,datatype:"1"}),("android"===E.systemInfo.platform||/android/gi.test(E.systemInfo.system))&&(u.data.platformos="android"),y.request.get(u).then(function(i){var s=i.body,n=s.errCode;if(n&&0!=n){var u=A.ITEM_OUT_OF_STOCK;return"10001"==n||"20160304"==n?u=A.ITEM_NOT_EXIST:"20017"==n&&(u=A.ITEM_NOT_SUPPORT),Promise.reject({code:n,message:u})}if(1==s.isSamCard)return s;if(s.redirectUrl&&p){var c={datatype:"1",areaid:a};return t({url:(0,_.createURL)(s.redirectUrl.replace("&areaid=&","&"),c)})}var d={};try{d=r(s,o)||{};try{g(d,e)}catch(e){console.error(e)}}catch(e){return Promise.reject({message:A.ITEM_NOT_EXIST,code:-10018})}return d}).catch(function(e){return Promise.reject(e)})}function r(e,t){var r=e.item,n=e.price||{};(q={}).suitPrice={},q.canBuy=!0,q.skuId=e.skuId,q.skuName=e.skuName,q.venderID=r.venderID,q.newColorSize=r.newColorSize||[],q.skuProp={},q.item=r,q.skuPrice=n,q.originPrice=f(n.op?n.op:"0.00"),q.marketPrice=f(n.m?n.m:"0.00"),q.price=f(n.p?n.p:"0.00"),q.images=r.image,q.expAttr=e.expAttr,q.np=n.np||{},q.spAttr=r.spAttr||{},q.stock=e.stock,q.category=r.category,q.feetype=e.feetype,q.isPop=r.isPop,q.isZiying=!r.isPop,q.brandId=r.brandId,q.isPlus=0!=e.plusMemberType,q.isLoc="1"==q.spAttr.isLOC,q.isPingou="1"==e.pingou,q.isNewUser=t,q.tipsContent="",q.isFlashBuy=e.flashpurchase&&1==e.flashpurchase.yn,q.hasBigouCode="1"===e.bigouinfo,q.skuMark=r.skuMark&&"string"==typeof r.skuMark?JSON.parse(r.skuMark):r.skuMark,q.yuyue=e.yuyue,q.miao=e.miao,q.spuId=r.isPop?r.description.slice(1):"",q.isPingou&&u(q,e),e.stock||(q.isNeedRegainStock=!0),e.price?i(q,e.price):q.isNeedRegainPrice=!0,s(q,e),o(q,e),p(q,e);var a=(0,N.initPromoteData)(e.promov2&&e.promov2[0]||{},{isPingou:q.isPingou});return a&&Object.assign(q,a),1!=q.spAttr.isSupportCard||q.presellFlag||q.buyingSpreeFlag||1==q.spAttr.isXnzt||1==q.spAttr.fqy||(q.isSupportGift=!0),q}function i(e,t){if(t.p&&(e.price=f(t.p),e.originPrice=f(t.op),e.marketPrice=f(t.m)),t.tkp&&(e.specialPrice=f(t.tkp)),t.pp&&(e.plusPrice=f(t.pp)),t.tpp&&(e.trialPlusPrice=f(t.tpp)),t.sp&&(e.samPrice=f(t.sp)),t.sfp&&parseFloat(e.price)>parseFloat(t.sfp)&&(e.sfpPrice=f(t.sfp)),t.l&&(e.linePrice=f(t.l),e.isFlashBuy&&(e.oriPrice=e.linePrice)),t.stp&&0!=t.stp&&parseFloat(e.price)>parseFloat(t.stp)&&(e.stpPrice=f(t.stp)),t.up){var r=t.up.split(","),i={tkp:"specialPrice",pp:"plusPrice",tpp:"trialPlusPrice",sp:"samPrice",sfp:"sfpPrice",stp:"stpPrice"};if(!r.length)return;e.priorityPrice=i[r[0]]||""}}function s(e,t){var r=e.item;e.extraPriceFlag=!0;var i=r.skuMark&&"string"==typeof r.skuMark?JSON.parse(r.skuMark):r.skuMark,s=e.spAttr;if("1"===r.warestatus)if(("1"==s.isKO||t.miao&&"1"==t.miao.isKo)&&(e.buyingSpreeFlag=!0,e.processType=3),i&&i.presale||"1"==s.YuShouNoWay&&"1"==s.YuShou)e.presellFlag=!0,e.processType=2;else if("1"==s.YuShou&&t.yuyue)e.subscribeFlag=!0,e.processType=1;else if(t.promomiao){var o=t.promomiao;e.seckillFlag=!0,e.extraPriceFlag=!1,o.jdPrice=f(o.jdPrice?o.jdPrice:0),o.miaoShaPrice=f(o.miaoShaPrice?o.miaoShaPrice:0),e.promomiao=o}else if(t.flashpurchase&&1==t.flashpurchase.yn){var n=C.getServerTime(),a=t.flashpurchase;n<a.et&&(n>a.st&&(e.processType=5),e.flashpurchase=a,e.flashpurchaseFlag=!0)}"12632"==e.category[1]&&(e.isOTC=!0),(e.presellFlag||e.subscribeFlag||e.buyingSpreeFlag||e.flashpurchaseFlag)&&(e.extraPriceFlag=!1),"1"==e.spAttr.isJMa&&(e.isJMa=!0),"6980"==e.category[2]&&(e.isECard=!0)}function o(e,t){var r=[],i=t.item,s=i.saleProp,o=void 0===s?{}:s,a=i.newColorSize,u=void 0===a?[]:a,p=t.item.salePropSeq,c=void 0===p?{}:p,d=[];if(u.length){if(e.skuProp.salePropArr)d=e.skuProp.salePropArr,c=e.skuProp.salePropSeq;else{for(var f in o)o.hasOwnProperty(f)&&o[f]&&d.push(f);for(var m=[],l=0,g=d.length;l<g;l++){var P=d[l],v=(c[P]||[]).filter(function(e){return(e||"").trim()});if(c[P]=v,v.length){var y=o[P]||"";y.length>2&&(y=y.replace(/^选择/,"").substr(0,4)),m.push(y)}else d[l]=""}d=d.filter(function(e){return""!==e}),e.skuProp.salePropArr=d,e.skuProp.salePropSeq=c,e.skuProp.propNameArr=m}if(e.skuProp.salePropArr&&e.skuProp.salePropArr.length)for(var k=e.skuProp.salePropArr,h=e.skuProp.propNameArr||[],_=0,I=k.length;_<I;_++){var S={},T=t.item.spAttr;T.cmmz&&"1"!==T.cmmz&&"2"!==T.cmmz&&"尺码"===h[_]&&(S.sizeCode=T.cmmz,S.spuId=e.spuId,S.sizeText=w[T.cmmz],S.isSizeGuideShow=!0),S.name=k[_],S.text=h[_],S.value=c[k[_]]||[],S.current=n(k[_]),S.text&&r.push(S)}e.props=r}}function n(e){if(e){var t=q.newColorSize;if(!t.length)return"";for(var r=0,i=t.length;r<i;r++)if(t[r].skuId==q.skuId)return t[r][e]||""}}function a(e,t){var r="";switch(t=t||'"Network Error"',e){case k.default.RET_HTTP_RESPONSE_ERROR:r=k.default.Text_RET_HTTP_RESPONSE_ERROR;break;case k.default.RET_WS_CONNECT_ERROR:r=k.default.Text_RET_WS_CONNECT_ERROR;break;case k.default.RET_WS_REQUEST_TIMEOUT:r=k.default.Text_RET_WS_REQUEST_TIMEOUT;break;default:r=t}return r}function u(e,t){if(t.pingouActive){var r=t.pingouActive&&t.pingouActive.active_info&&t.pingouActive.active_info.pingou_type||{};e.isPingou=!0;var i=!1;if(1==r.type&&(i=!0),2==r.type){var s=r.msg4;e.category[0]==s&&(i=!0)}e.pingouInfo={active_info:t.pingouActive.active_info,pinType:r.type,cannotBuy:(1==r.type||2==r.type)&&"0"!=r.msg1&&!e.isNewUser,skuid_list:t.pingouActive.skuid_list||[],isNewerTuan:i},e.pingouInfo.cannotBuy&&(e.tipsContent="抱歉，此商品为新用户专享福利，您不符合开团/参团条件")}t.pingouItem&&(e.pingouInfo=Object.assign({},e.pingouInfo,{price:t.pingouItem.m_bp})),t.fanxian&&t.fanxian.amount>0&&(e.pingouInfo=Object.assign({},e.pingouInfo,{fanxianAmount:(0,O.divide)(t.fanxian.amount,100).toFixed(2)}))}function p(e,t){var r=e.stock||{};0==r.StockState||34==r.StockState?(e.isNullStock=!0,e.canBuy=!1,e.tipsContent="无货，或此商品不支持配送至该地址"):e.tipsContent="",e.isJMa&&"无货，或此商品不支持配送至该地址"===e.tipsContent&&(e.tipsContent=""),t.huanUrl&&(e.canBuy=!1,e.tipsContent="抱歉，该商品暂不支持在此购买"),e.subscribeFlag&&e.yuyue&&e.yuyue.state<=3&&(e.tipsContent="");var i=c(e),s=i.canBuy,o=i.tipsContent;!1===s&&(e.canBuy=!1),e.tipsContent=void 0===o?e.tipsContent||"":o}function c(e){var t=e.spAttr,r=e.category,i=e.stock,s=void 0===i?{}:i,o=s&&s.D&&s.D.type;if(1==t.isLOC||2==t.isLOC||4==t.isLOC)return{};if("6980"==r[2])return{};if(/^3\d{7}$/.test(e.skuId))return d();if(/^20\d{10}$/.test(e.skuId)){var n=r[2];if("14402 14385 14386 14387 14389 14390 14391 14392 14395 14399 14400 14388 14393 14394 14396 14397 14398 14401".indexOf(n)>-1)return d()}if(e.item&&"1"!==e.item.warestatus)return d("抱歉，该商品已下架");if("暂无定价"===e.price)return d("抱歉，该商品暂不支持购买");if(r&&r.length>2){var a=r[0],u=r[2];if("4938"===a&&"9392"!==u||~" 1195 13046 13121 13532 13680 5156 ".indexOf(" "+u+" "))return d();if("6980"==u)return d();if("12274"==u)return d("抱歉，该商品暂不支持在此购买");if("12856"==u)return d("抱歉，该商品暂不支持在此购买")}if(t){if(t.isLOC>1||"1"===t.PinGou||"1"===t.HYKHSP||"1"===t.isPickingGoods||"2"===t.isPickingGoods||1*t.isWeChatStock>0&&!(1*t.isWeChatStock&1))return d();if("1"===t.isSelfService||"2"===t.isSelfService||"5"===t.isSelfService||"1"==t.GiftsGoods||"1"===t.isPackBox||"1"===t.isGiftCard)return d("抱歉，该商品不支持单独购买");if("3"===t.LeaseType||"1"===t.fqy||"1"===t.Customize||"2"===t.Customize)return d()}if(["146426","635467","117761","591371","198809"].indexOf(e.venderID)>-1)return d();if("719574"===e.venderID)return d("抱歉，该商品仅支持在京东APP上购买");if(s.D&&613998==s.D.id)return d();if(e.feetype&&e.feetype.datas){if(e.feetype.dis)return d("抱歉，合约机暂不支持在此购买");for(var p in e.feetype.datas)if(e.feetype.datas[p].feetypes[0].sku==e.skuId&&"100"==e.feetype.datas[p].feetypes[0].ft)return{};return d("抱歉，合约机暂不支持在此购买")}return"101"==o?d("抱歉，该商品暂不支持在此购买"):{}}function d(e){return{canBuy:!1,tipsContent:e||"抱歉，该商品暂不支持在此购买"}}function f(e){return(e=Number(e))>0?e.toFixed(2):A.NO_PRICE}function m(e){var t=e.skuId,r=e.activeId,i=e.tuanId,s=e.nickname,o=e.headUrl;return new Promise(function(e,n){if(t){var a={client_id:100,sku_id:t,tuan_id:i||0,active_id:r||0,nickname:s||"",headUrl:o||"",orderId:0,jointype:0,platform:2==T.getCookie("wxapp_type")?9:4,callback:"getTuanStatusCb",app_id:getApp().appId||0},u=T.getCookie("item_orderchannel");u&&(u=JSON.parse(u)).cubeinvite&&u.cubeinvite.value&&(a=Object.assign(a,{from:"cubeinvite_"+u.cubeinvite.value})),(0,I.getLoginPromise)().then(function(r){y.request.get({url:j.TUAN_STATUS,data:a}).then(function(r){var i=r.body;r.header;0==i.iRet?e(i):2==i.iRet?(0,I.doLogin)().then(function(){m(t)}).catch(function(){n()}):n()}).catch(function(e){var t=e.code,r=e.message;n({code:t,message:r})})}).catch(function(e){n(e)})}else n()})}function l(e,t){var r=(0,h.getUserAddressID)();return new Promise(function(i,s){e.canBuy?(0,I.getLoginPromise)().then(function(){var o={},n=void 0;t.isRelated?n=t.skuid:e.skuId?n=e.skuId:t.sku&&(n=t.sku);var a=[n,t.shopid||"",t.buyNum||1,t.isRelated?"":e.skuId,t.isRelated?4:1,0,0];t.str&&a.push(t.str),t.services&&(o=P({skuId:n,polyType:t.isRelated?4:1,isSuit:!!t.isRelated,buyNum:t.buyNum||1},t.services));var u=v({scene:2,reg:1,type:t.type||0,commlist:a.join(","),locationid:r.split("_").slice(0,3).join("-"),t:Math.random()},o);S.get("3c_shop","").then(function(e){var r=e.id||"";r&&(u.shopid=r);var o={url:j.ADD_CART,data:u,ump:{bizId:x,opId:6}};y.request.get(o).then(function(e){var r=e.body,o=r.errId,n="";if("0"===o){var a=1*r.cart.mainSkuNum;i(a),T.setCookie({data:{cartNum:{key:"cartNum",value:a,maxAge:2592e6}}})}else"8968"===o?n="商品数量最大超过200":"8969"===o?n="添加商品失败，已超出购物车最大容量！":"13"===o?(0,I.doLogin)().then(function(){l(t)}).catch(function(e,t){s({message:"用户未登录",code:13})}):n="添加失败，请稍后再试";n&&s({message:n,code:o})}).catch(function(e){var t=e.code,r=e.message;s({code:t,message:r})})})}).catch(function(e,t){s("用户未登录(13)")}):s("can not add")})}function g(e,t){if(t.needReport){var r=e.canBuy?R.EXP_VIEW_CAN_BUY:R.EXP_VIEW_CANNOT_BUY;if(b.ReportManager.setChangeRef(!0),t.pingou){b.ReportManager.setCurrentPageAndAddPv("http://wq.jd.com/wxapp/pages/pingou/item/item",{sku_id:e.skuId,isItem:1,pgitem_type:1}),b.ReportManager.addPtagExposure(r)}else{t.pps&&b.ReportManager.setPPS(t.pps),b.ReportManager.addDetailPagePv("http://wq.jd.com/wxapp/pages/item/detail/detail",e.skuId,e.venderID,r,e.buyingSpreeFlag),b.ReportManager.addPtagExposure(r)}}}function P(e,t){var r=t.jdServices,i=void 0===r?[]:r,s=t.extServices,o=void 0===s?[]:s,n=t.giftServices,a=void 0===n?[]:n,u={};if(o.length){var p=o.map(function(t){return[t.id,"",e.buyNum||1,e.skuId,1===e.polyType?7:8,e.skuId,0==e.pid?"":e.pid,0].join(",")}).join("$");p&&Object.assign(u,{ybcommlist:p})}if(i.length){var c=e.isVirtualSuit||e.isSuit?e.itemId||"":"",d=i.map(function(t){return[t.id,"","","","",e.skuId,c,e.isVirtualSuit?"suitType:1":""].join(",")}).join("$");d&&Object.assign(u,{jdhscommlist:d})}if(a.length){var f=a.map(function(t){return[e.skuId,"",e.buyNum||1,e.skuId,1,"",0,"",t.id].join(",")}).join("$");f&&Object.assign(u,{commlist:f})}return u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPingouTuijianTuan=exports.getLimitBuyInfo=exports.getServicesCommList=exports.getMarketPrice=exports.getPingouPrice=exports.getNewerTuanSwitch=exports.addCardList=exports.addCart=exports.getTuanStatus=exports.getSpecifySku=exports.initItem=void 0;var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},y=require("../../common/request/request.js"),k=function(e){return e&&e.__esModule?e:{default:e}}(require("../../common/http_constant.js")),h=require("../../common/user_info"),_=require("../../common/url_utils.js"),I=require("../../common/login/login.js"),S=e(require("../../common/localStorage.js")),T=e(require("../../common/cookie-v2/cookie.js")),C=e(require("../../common/fe_helper.js")),N=require("../../models/item/item_model"),b=require("../../api/Ptag/report_manager"),O=require("../../common/numberp"),R=e(require("./constants")),j={ITEM_INFO:"https://wqitem.jd.com/item/waview",ADD_CART:"https://wq.jd.com/deal/mshopcart/addcmdy",ADD_CARD_LIST:"https://wqjsf.jd.com/giftcardsoaCartService/addCart",TUAN_STATUS:"https://wq.jd.com/pingou_core/GetTuanStatus_UTF8",PINTUAN_INFO:"https://wq.jd.com/pingou_core/CreateOrJoinTuan",NEWER_TUAN_SWITCH:"http://wq.360buyimg.com/data/ppms/js/ppms.pagev33036.jsonp",PINGOU_PRICE:"https://wq.jd.com/pingou_api/getskusprice",JDS_BRANCH:"https://wq.jd.com/commodity/jdsbranch/get",GET_PINGOU_NEWUSER:"https://wq.jd.com/pingou_core/GetIsNewUserSku"},E=getApp(),x=760,A={NO_PRICE:"暂无定价",ITEM_OUT_OF_STOCK:"对不起，该商品已下架",ITEM_NOT_EXIST:"对不起，该商品不存在",ITEM_NOT_SUPPORT:"抱歉，小程序内暂不支持购买此商品"},w={1:"国际标准",2:"中国码",3:"意大利码",4:"法国码",5:"美国码",6:"英国码",7:"德国码",8:"日本码",9:"韩国码",10:"澳大利亚码",11:"俄罗斯码",12:"丹麦码",13:"巴西码",14:"罗马数字",15:"数字码"},q={};exports.initItem=t,exports.getSpecifySku=function(e,t){var r=[],i=t;if(i)for(var s=0;s<i.length;s++){var o=!1;for(var n in e)e[n]&&i[s][n]!=e[n]&&(o=!0);o||r.push(i[s].skuId)}return r},exports.getTuanStatus=m,exports.addCart=l,exports.addCardList=function(e){return new Promise(function(t,r){e.canBuy?(0,I.getLoginPromise)().then(function(){var i={pin:e.pin||"",skuId:e.sku||"",num:e.buyNum||1},s={url:j.ADD_CARD_LIST,data:i,noToken:!0,ump:{bizId:x,opId:12}};y.request.get(s).then(function(e){e.body.success?t(!0):r("添加失败，请稍后再试")}).catch(function(e){e.code;var t=e.message;r(t)})}).catch(function(e,t){r("用户未登录(13)")}):r("can not add")})},exports.getNewerTuanSwitch=function(){var e={url:j.NEWER_TUAN_SWITCH};return y.request.get(e).then(function(e){return"1"==e.body.data[0].riskSwitch}).catch(function(e){return Promise.reject(e)})},exports.getPingouPrice=function(e){var t={skuids:e,origin:"5",platform:"4"},r={url:j.PINGOU_PRICE,data:t};return y.request.get(r).then(function(e){return e.body[0]}).catch(function(e){return Promise.reject(e)})},exports.getMarketPrice=function(e){var t={};return["1713","4051","4052","4053"].includes(e.category[0])?(t={title:"",price:""},parseFloat(e.marketPrice)>0&&(t.title="",t.price=e.marketPrice)):e.linePrice&&(t={title:"",price:e.linePrice}),t},exports.getServicesCommList=P,exports.getLimitBuyInfo=function(e){var t={url:j.JDS_BRANCH,data:{skuid:e.skuId||"",area:e.areaId||"",functionids:"10",cat:e.category||"",venderid:e.venderId||"",skuname:e.skuName||"",promoid:e.promoId||"",promotype:e.promoType||"",promoprice:e.promoPrice||""},ump:{bizId:x,opId:14}};return new Promise(function(e,r){y.request.get(t).then(function(t){var r=t.body,i=r.errcode;e(0==i?r.limitbuy:{})}).catch(function(e){var t=a(e.code,e.message);r(t)})})},exports.getPingouTuijianTuan=function(e){var t={sku_id:e,platform:"4",callback:"getPingouTuijianCB"},r={url:j.GET_PINGOU_NEWUSER,data:t};return y.request.get(r).then(function(e){var t=e.body;if(0==t.iRet||10==t.iRet)return t.data;Promise.reject()}).catch(function(){return Promise.reject()})}; 
 			}); 
		define("components/sku-layer/constants.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.VIEW_BUYING="7418.2.1",exports.VIEW_ADD_TO_CART="7418.2.2",exports.EXP_DETAIL_SUBSCRIBE_SECKILL_BTN="7538.1.3",exports.DETAIL_SUBSCRIBE_SECKILL_BTN="7538.1.4",exports.DETAIL_LOOK_SIMILAR_BUTTON="7418.12.17",exports.DETAIL_STOCK_NOTICE="7418.12.19",exports.DETAIL_SUBSCRIBE_BTN="7538.1.2",exports.DETAIL_BUYING_SPREE_BTN="7536.1.2",exports.EXP_LINE_PRICE="7001.1.326",exports.DETAIL_GIFT_PROMOTION="7418.6.8",exports.EXP_VIEW_CAN_BUY="7418.9.1",exports.EXP_VIEW_CANNOT_BUY="7418.9.2",exports.LAYER_SKU_CHANGE="7418.4.7",exports.LAYER_SKU_CLOSE="7418.4.8",exports.LAYER_SKU_TOW_CONFIRM="7418.4.10",exports.LAYER_SKU_COVER_VIEW="7418.4.11",exports.LAYER_SKU_COVER_VIEW_PINGOU="7418.16.33",exports.EXP_SIZE_GUIDE="7418.4.4",exports.CLICK_SIZE_GUIDE="7418.4.5",exports.CLICK_JOIN_TUAN="7145.8.31",exports.CLICK_START_TUAN_CONFIRM="7145.8.27"; 
 			}); 
		define("components/subscribe-guider/helper.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.delayShow=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(i.tplCount||(i.tplCount=1),isNaN(i.delay)&&(i.delay=700),i.page)this.page=i.page;else{var a=getCurrentPages();this.page=a[a.length-1]}this.page&&this.page.setData({subsGuider:{}}),(0,e.stopTimeout)(this.timer),this.timer=(0,e.createTimeout)(function(){t.page&&t.page.setData({subsGuider:{show:!0,title:i.title||"获取消息提醒",titleIcon:i.titleIcon||"",titleDisable:i.titleDisable||!1,tplCount:i.tplCount}})},i.delay)},exports.guide2Setting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.page)this.page=e.page;else{var i=getCurrentPages();this.page=i[i.length-1]}t.default.addPtagExposure("7130.1.230"),this.page&&this.page.setData({subsGuider:{guide2Setting:!0}})},exports.hide=function(){(0,e.stopTimeout)(this.timer),this.page&&this.page.setData({subsGuider:{}}),delete this.page};var e=require("../../common/timer-manage"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../api/Ptag/report_manager_wqvue")); 
 			}); 
		define("functional-pages/report.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("./request").request;exports.REPORT_TYPES={GET_LOGIN_CODE_FAIL:3,ORDER_FAIL:4,ORDER_SUC:5,GW_PAY_SUC:6,GW_PAY_FAIL:7},exports.report=function(t){var o=t.operId,r=void 0===o?0:o,n=t.result,s=t.message,i=void 0===s?"":s,u=[[1263,1,n,0,i].join("|")],_="https://wq.jd.com/webmonitor/collect/biz.json?t="+Date.now();return r&&u.push([1263,r,n,0,i].join("|")),e({url:_,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{contents:u.join(",")}})}; 
 			}); 
		define("functional-pages/request-payment.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(e[d]=r[d])}return e},a=require("./request").request,r=require("./report"),d=r.report,t=r.REPORT_TYPES,o="2";exports.beforeRequestPayment=function(){function r(r){var s=r.url,p=r.data,i=r.header,c=r.appid,I=r.openId,g=r.usePTKey,m=r.wxsapayUrl;a({url:s,data:p,header:i}).then(function(a){0==a.errId?(d({operId:w,result:t.ORDER_SUC}),n({url:m,data:e({appid:c,dealId:a.dealId},I&&{openid:I},g&&{sceneval:2},{wxpap:u==o?"1":"",t:Date.now()}),header:{Cookie:h}})):(d({operId:w,result:t.ORDER_FAIL,message:a.errId}),l(a))}).catch(function(e){d({operId:w,result:t.ORDER_FAIL,message:e.message}),l(e)})}function n(a){var r=a.url,d=a.data,t=a.header;if(!d.openid)return p().then(function(a){s({url:r,data:e({},d,{wxjscode:a}),header:t})}).catch(function(e){l(e)});s({url:r,data:d,header:t})}function s(e){var r=e.url,o=e.data,n=e.header;return a({url:r,data:o,header:n}).then(function(e){if(0==e.errno){var a={timeStamp:e.data.timeStamp,nonceStr:e.data.nonceStr,package:e.data.package,signType:e.data.signType,paySign:e.data.paySign,extraData:{dealId:o.dealId}};d({operId:w,result:t.GW_PAY_SUC}),l(null,a)}else e=e||{errno:"",msg:"请求异常"},d({operId:w,result:t.GW_PAY_FAIL,message:["dealId:"+o.dealId,e.errno,e.msg].join("=")}),l({error:e,dealId:o.dealId})},function(e){e=e||{errMsg:"请求异常"},d({operId:w,result:t.GW_PAY_FAIL,message:["dealId:"+o.dealId,e.errMsg].join("=")}),l({error:e,dealId:o.dealId})})}function p(){return new Promise(function(e,a){wx.login({success:function(r){var o=r.code;o?e(o):(d({operId:w,result:t.GET_LOGIN_CODE_FAIL,message:r.errMsg}),a(new Error(r.errMsg)))},fail:function(){d({operId:w,result:t.GET_LOGIN_CODE_FAIL,message:"wx.login invoke fail"}),a(new Error("wx.login invoke fail"))}})})}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=arguments[1],u=i.type,c=i.appId,I=i.openId,g=void 0===I?"":I,w=i.bizId,m=i.usePTKey,f=void 0!==m&&m,h=i.cookieStr,y=i.confirmRequestData,v=i.dealId;"0"==u?n({url:"https://wq.jd.com/jdpaygw/wxsapay",data:e({appid:c,dealId:v},g&&{openid:g},f&&{sceneval:2},{t:Date.now()}),header:{Cookie:h}}):"1"==u||u==o?r({url:"https://wqdeal.jd.com/deal/msubmit/confirm",data:e({},y,f&&{sceneval:2}),header:{Cookie:h},openId:g,usePTKey:f,appid:c,wxsapayUrl:"https://wq.jd.com/jdpaygw/wxsapay"}):"4"==u?r({url:"https://wqdeal.jd.com/deal/globalpurchase/confirm",data:e({},y,f&&{sceneval:2}),header:{Cookie:h},openId:g,usePTKey:f,appid:c,wxsapayUrl:"https://wq.jd.com/jdpaygw/wxsapay"}):"3"==u?n({url:"https://wq.jd.com/dfpaygw/wxsapay",data:e({appid:c,dealId:v},g&&{openid:g},f&&{sceneval:2},{t:Date.now()}),header:{Cookie:h}}):l({msg:"未找到支付类型："+u+"，请在入参中指定 paymentArgs.type～"})}; 
 			}); 
		define("functional-pages/request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";exports.request=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,r){wx.request({url:e.url,data:e.data,header:e.header,method:e.method,success:function(e){t(e.data)},fail:function(e){r(e)}})})}; 
 			}); 
		define("global.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./libs/promise.min.js")),t=e(require("./libs/emitter.js")),u=require("./common/request/request");exports.default={Promise:r.default,Emitter:t.default,request:u.request}; 
 			}); 
		define("libs/async.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(t,e){"object"==("undefined"==typeof exports?"undefined":n(exports))&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.async=t.async||{})}(void 0,function(t){function e(n,t){t|=0;for(var e=Math.max(n.length-t,0),r=Array(e),u=0;u<e;u++)r[u]=n[t+u];return r}function r(t){var e=void 0===t?"undefined":n(t);return null!=t&&("object"==e||"function"==e)}function u(n){setTimeout(n,0)}function o(n){return function(t){var r=e(arguments,1);n(function(){t.apply(null,r)})}}function i(n){return et(function(t,e){var u;try{u=n.apply(this,t)}catch(n){return e(n)}r(u)&&"function"==typeof u.then?u.then(function(n){c(e,null,n)},function(n){c(e,n.message?n:new Error(n))}):e(null,u)})}function c(n,t,e){try{n(t,e)}catch(n){ot(f,n)}}function f(n){throw n}function a(n){return it&&"AsyncFunction"===n[Symbol.toStringTag]}function l(n){return a(n)?i(n):n}function s(n){return function(t){var r=e(arguments,1),u=et(function(e,r){var u=this;return n(t,function(n,t){l(n).apply(u,e.concat(t))},r)});return r.length?u.apply(this,r):u}}function p(n){var t=pt.call(n,yt),e=n[yt];try{n[yt]=void 0;var r=!0}catch(n){}var u=ht.call(n);return r&&(t?n[yt]=e:delete n[yt]),u}function h(n){return dt.call(n)}function y(n){return null==n?void 0===n?mt:vt:(n=Object(n),gt&&gt in n?p(n):h(n))}function d(n){if(!r(n))return!1;var t=y(n);return t==jt||t==St||t==bt||t==kt}function v(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Lt}function m(n){return null!=n&&v(n.length)&&!d(n)}function g(){}function b(n){return function(){if(null!==n){var t=n;n=null,t.apply(this,arguments)}}}function j(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}function S(t){return null!=t&&"object"==(void 0===t?"undefined":n(t))}function k(n){return S(n)&&y(n)==Et}function L(n,t){return!!(t=null==t?Pt:t)&&("number"==typeof n||Vt.test(n))&&n>-1&&n%1==0&&n<t}function O(n,t){var e=It(n),r=!e&&Ft(n),u=!e&&!r&&zt(n),o=!e&&!r&&!u&&Nt(n),i=e||r||u||o,c=i?j(n.length,String):[],f=c.length;for(var a in n)!t&&!Qt.call(n,a)||i&&("length"==a||u&&("offset"==a||"parent"==a)||o&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||L(a,f))||c.push(a);return c}function w(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Gt)}function x(n){if(!w(n))return Ht(n);var t=[];for(var e in Object(n))Jt.call(n,e)&&"constructor"!=e&&t.push(e);return t}function E(n){return m(n)?O(n):x(n)}function A(n){var t=-1,e=n.length;return function(){return++t<e?{value:n[t],key:t}:null}}function T(n){var t=-1;return function(){var e=n.next();return e.done?null:(t++,{value:e.value,key:t})}}function B(n){var t=E(n),e=-1,r=t.length;return function(){var u=t[++e];return e<r?{value:n[u],key:u}:null}}function F(n){if(m(n))return A(n);var t=xt(n);return t?T(t):B(n)}function I(n){return function(){if(null===n)throw new Error("Callback was already called.");var t=n;n=null,t.apply(this,arguments)}}function _(n){return function(t,e,r){function u(n,t){if(f-=1,n)c=!0,r(n);else{if(t===Ot||c&&f<=0)return c=!0,r(null);o()}}function o(){for(;f<n&&!c;){var t=i();if(null===t)return c=!0,void(f<=0&&r(null));f+=1,e(t.value,t.key,I(u))}}if(r=b(r||g),n<=0||!t)return r(null);var i=F(t),c=!1,f=0;o()}}function M(n,t,e,r){_(t)(n,l(e),r)}function U(n,t){return function(e,r,u){return n(e,t,r,u)}}function z(n,t,e){e=b(e||g);var r=0,u=0,o=n.length;for(0===o&&e(null);r<o;r++)t(n[r],r,I(function(n,t){n?e(n):++u!==o&&t!==Ot||e(null)}))}function P(n){return function(t,e,r){return n(Xt,t,l(e),r)}}function V(n,t,e,r){r=r||g,t=t||[];var u=[],o=0,i=l(e);n(t,function(n,t,e){var r=o++;i(n,function(n,t){u[r]=t,e(n)})},function(n){r(n,u)})}function q(n){return function(t,e,r,u){return n(_(e),t,l(r),u)}}function D(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););return n}function R(n,t){return n&&ue(n,t,E)}function C(n,t,e,r){for(var u=n.length,o=e+(r?1:-1);r?o--:++o<u;)if(t(n[o],o,n))return o;return-1}function $(n){return n!==n}function W(n,t,e){for(var r=e-1,u=n.length;++r<u;)if(n[r]===t)return r;return-1}function N(n,t,e){return t===t?W(n,t,e):C(n,$,e)}function Q(n,t){for(var e=-1,r=null==n?0:n.length,u=Array(r);++e<r;)u[e]=t(n[e],e,n);return u}function G(t){return"symbol"==(void 0===t?"undefined":n(t))||S(t)&&y(t)==ie}function H(n){if("string"==typeof n)return n;if(It(n))return Q(n,H)+"";if(G(n))return ae?ae.call(n):"";var t=n+"";return"0"==t&&1/n==-ce?"-0":t}function J(n,t,e){var r=-1,u=n.length;t<0&&(t=-t>u?0:u+t),(e=e>u?u:e)<0&&(e+=u),u=t>e?0:e-t>>>0,t>>>=0;for(var o=Array(u);++r<u;)o[r]=n[r+t];return o}function K(n,t,e){var r=n.length;return e=void 0===e?r:e,!t&&e>=r?n:J(n,t,e)}function X(n,t){for(var e=n.length;e--&&N(t,n[e],0)>-1;);return e}function Y(n,t){for(var e=-1,r=n.length;++e<r&&N(t,n[e],0)>-1;);return e}function Z(n){return n.split("")}function nn(n){return le.test(n)}function tn(n){return n.match(Se)||[]}function en(n){return nn(n)?tn(n):Z(n)}function rn(n){return null==n?"":H(n)}function un(n,t,e){if((n=rn(n))&&(e||void 0===t))return n.replace(ke,"");if(!n||!(t=H(t)))return n;var r=en(n),u=en(t);return K(r,Y(r,u),X(r,u)+1).join("")}function on(n){return n=n.toString().replace(xe,""),n=n.match(Le)[2].replace(" ",""),n=n?n.split(Oe):[],n=n.map(function(n){return un(n.replace(we,""))})}function cn(n,t){var e={};R(n,function(n,t){function r(t,e){var r=Q(u,function(n){return t[n]});r.push(e),l(n).apply(null,r)}var u,o=a(n),i=!o&&1===n.length||o&&0===n.length;if(It(n))u=n.slice(0,-1),n=n[n.length-1],e[t]=u.concat(u.length>0?r:n);else if(i)e[t]=n;else{if(u=on(n),0===n.length&&!o&&0===u.length)throw new Error("autoInject task functions require explicit parameters.");o||u.pop(),e[t]=u.concat(r)}}),oe(e,t)}function fn(){this.head=this.tail=null,this.length=0}function an(n,t){n.length=1,n.head=n.tail=t}function ln(n,t,e){function r(n,t,e){if(null!=e&&"function"!=typeof e)throw new Error("task callback must be a function");if(a.started=!0,It(n)||(n=[n]),0===n.length&&a.idle())return ot(function(){a.drain()});for(var r=0,u=n.length;r<u;r++){var o={data:n[r],callback:e||g};t?a._tasks.unshift(o):a._tasks.push(o)}ot(a.process)}function u(n){return function(t){i-=1;for(var e=0,r=n.length;e<r;e++){var u=n[e],o=N(c,u,0);o>=0&&c.splice(o,1),u.callback.apply(u,arguments),null!=t&&a.error(t,u.data)}i<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=l(n),i=0,c=[],f=!1,a={_tasks:new fn,concurrency:t,payload:e,saturated:g,unsaturated:g,buffer:t/4,empty:g,drain:g,error:g,started:!1,paused:!1,push:function(n,t){r(n,!1,t)},kill:function(){a.drain=g,a._tasks.empty()},unshift:function(n,t){r(n,!0,t)},remove:function(n){a._tasks.remove(n)},process:function(){if(!f){for(f=!0;!a.paused&&i<a.concurrency&&a._tasks.length;){var n=[],t=[],e=a._tasks.length;a.payload&&(e=Math.min(e,a.payload));for(var r=0;r<e;r++){var l=a._tasks.shift();n.push(l),c.push(l),t.push(l.data)}i+=1,0===a._tasks.length&&a.empty(),i===a.concurrency&&a.saturated();var s=I(u(n));o(t,s)}f=!1}},length:function(){return a._tasks.length},running:function(){return i},workersList:function(){return c},idle:function(){return a._tasks.length+i===0},pause:function(){a.paused=!0},resume:function(){!1!==a.paused&&(a.paused=!1,ot(a.process))}};return a}function sn(n,t){return ln(n,1,t)}function pn(n,t,e,r){r=b(r||g);var u=l(e);Ae(n,function(n,e,r){u(t,n,function(n,e){t=e,r(n)})},function(n){r(n,t)})}function hn(){var n=Q(arguments,l);return function(){var t=e(arguments),r=this,u=t[t.length-1];"function"==typeof u?t.pop():u=g,pn(n,t,function(n,t,u){t.apply(r,n.concat(function(n){var t=e(arguments,1);u(n,t)}))},function(n,t){u.apply(r,[n].concat(t))})}}function yn(n){return n}function dn(n,t){return function(e,r,u,o){o=o||g;var i,c=!1;e(r,function(e,r,o){u(e,function(r,u){r?o(r):n(u)&&!i?(c=!0,i=t(!0,e),o(null,Ot)):o()})},function(n){n?o(n):o(null,c?i:t(!1))})}}function vn(n,t){return t}function mn(t){return function(r){var u=e(arguments,1);u.push(function(r){var u=e(arguments,1);"object"==("undefined"==typeof console?"undefined":n(console))&&(r?console.error&&console.error(r):console[t]&&D(u,function(n){console[t](n)}))}),l(r).apply(null,u)}}function gn(n,t,r){function u(n){if(n)return r(n);var t=e(arguments,1);t.push(o),c.apply(this,t)}function o(n,t){return n?r(n):t?void i(u):r(null)}r=I(r||g);var i=l(n),c=l(t);o(null,!0)}function bn(n,t,r){r=I(r||g);var u=l(n);u(function n(o){if(o)return r(o);var i=e(arguments,1);return t.apply(this,i)?u(n):void r.apply(null,[null].concat(i))})}function jn(n,t,e){bn(n,function(){return!t.apply(this,arguments)},e)}function Sn(n,t,e){function r(n){return n?e(n):void i(u)}function u(n,t){return n?e(n):t?void o(r):e(null)}e=I(e||g);var o=l(t),i=l(n);i(u)}function kn(n){return function(t,e,r){return n(t,r)}}function Ln(n,t,e){Xt(n,kn(l(t)),e)}function On(n,t,e,r){_(t)(n,kn(l(e)),r)}function wn(n){return a(n)?n:et(function(t,e){var r=!0;t.push(function(){var n=arguments;r?ot(function(){e.apply(null,n)}):e.apply(null,n)}),n.apply(this,t),r=!1})}function xn(n){return!n}function En(n){return function(t){return null==t?void 0:t[n]}}function An(n,t,e,r){var u=new Array(t.length);n(t,function(n,t,r){e(n,function(n,e){u[t]=!!e,r(n)})},function(n){if(n)return r(n);for(var e=[],o=0;o<t.length;o++)u[o]&&e.push(t[o]);r(null,e)})}function Tn(n,t,e,r){var u=[];n(t,function(n,t,r){e(n,function(e,o){e?r(e):(o&&u.push({index:t,value:n}),r())})},function(n){n?r(n):r(null,Q(u.sort(function(n,t){return n.index-t.index}),En("value")))})}function Bn(n,t,e,r){(m(t)?An:Tn)(n,t,l(e),r||g)}function Fn(n,t){function e(n){return n?r(n):void u(e)}var r=I(t||g),u=l(wn(n));e()}function In(n,t,e,r){r=b(r||g);var u={},o=l(e);M(n,t,function(n,t,e){o(n,t,function(n,r){return n?e(n):(u[t]=r,void e())})},function(n){r(n,u)})}function _n(n,t){return t in n}function Mn(n,t){var r=Object.create(null),u=Object.create(null);t=t||yn;var o=l(n),i=et(function(n,i){var c=t.apply(null,n);_n(r,c)?ot(function(){i.apply(null,r[c])}):_n(u,c)?u[c].push(i):(u[c]=[i],o.apply(null,n.concat(function(){var n=e(arguments);r[c]=n;var t=u[c];delete u[c];for(var o=0,i=t.length;o<i;o++)t[o].apply(null,n)})))});return i.memo=r,i.unmemoized=n,i}function Un(n,t,r){r=r||g;var u=m(t)?[]:{};n(t,function(n,t,r){l(n)(function(n,o){arguments.length>2&&(o=e(arguments,1)),u[t]=o,r(n)})},function(n){r(n,u)})}function zn(n,t){Un(Xt,n,t)}function Pn(n,t,e){Un(_(t),n,e)}function Vn(n,t){if(t=b(t||g),!It(n))return t(new TypeError("First argument to race must be an array of functions"));if(!n.length)return t();for(var e=0,r=n.length;e<r;e++)l(n[e])(t)}function qn(n,t,r,u){pn(e(n).reverse(),t,r,u)}function Dn(n){var t=l(n);return et(function(n,r){return n.push(function(n,t){if(n)r(null,{error:n});else{var u;u=arguments.length<=2?t:e(arguments,1),r(null,{value:u})}}),t.apply(this,n)})}function Rn(n,t,e,r){Bn(n,t,function(n,t){e(n,function(n,e){t(n,!e)})},r)}function Cn(n){var t;return It(n)?t=Q(n,Dn):(t={},R(n,function(n,e){t[e]=Dn.call(this,n)})),t}function $n(n){return function(){return n}}function Wn(t,e,r){function u(){f(function(n){n&&a++<c.times&&("function"!=typeof c.errorFilter||c.errorFilter(n))?setTimeout(u,c.intervalFunc(a)):r.apply(null,arguments)})}var o=5,i=0,c={times:o,intervalFunc:$n(i)};if(arguments.length<3&&"function"==typeof t?(r=e||g,e=t):(function(t,e){if("object"==(void 0===e?"undefined":n(e)))t.times=+e.times||o,t.intervalFunc="function"==typeof e.interval?e.interval:$n(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||o}}(c,t),r=r||g),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var f=l(e),a=1;u()}function Nn(n,t){Un(Ae,n,t)}function Qn(n,t,e){function r(n,t){var e=n.criteria,r=t.criteria;return e<r?-1:e>r?1:0}var u=l(t);Yt(n,function(n,t){u(n,function(e,r){return e?t(e):void t(null,{value:n,criteria:r})})},function(n,t){return n?e(n):void e(null,Q(t.sort(r),En("value")))})}function Gn(n,t,e){var r=l(n);return et(function(u,o){var i,c=!1;u.push(function(){c||(o.apply(null,arguments),clearTimeout(i))}),i=setTimeout(function(){var t=n.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",e&&(r.info=e),c=!0,o(r)},t),r.apply(null,u)})}function Hn(n,t,e,r){for(var u=-1,o=ar(fr((t-n)/(e||1)),0),i=Array(o);o--;)i[r?o:++u]=n,n+=e;return i}function Jn(n,t,e,r){var u=l(e);ne(Hn(0,n,1),t,u,r)}function Kn(n,t,e,r){arguments.length<=3&&(r=e,e=t,t=It(n)?[]:{}),r=b(r||g);var u=l(e);Xt(n,function(n,e,r){u(t,n,e,r)},function(n){r(n,t)})}function Xn(n,t){var r,u=null;t=t||g,qe(n,function(n,t){l(n)(function(n,o){r=arguments.length>2?e(arguments,1):o,u=n,t(!n)})},function(){t(u,r)})}function Yn(n){return function(){return(n.unmemoized||n).apply(null,arguments)}}function Zn(n,t,r){r=I(r||g);var u=l(t);if(!n())return r(null);u(function t(o){if(o)return r(o);if(n())return u(t);var i=e(arguments,1);r.apply(null,[null].concat(i))})}function nt(n,t,e){Zn(function(){return!n.apply(this,arguments)},t,e)}var tt,et=function(n){return function(){var t=e(arguments),r=t.pop();n.call(this,t,r)}},rt="function"==typeof setImmediate&&setImmediate,ut="object"==("undefined"==typeof process?"undefined":n(process))&&"function"==typeof process.nextTick,ot=o(tt=rt?setImmediate:ut?process.nextTick:u),it="function"==typeof Symbol,ct="object"==("undefined"==typeof global?"undefined":n(global))&&global&&global.Object===Object&&global,ft="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,at=ct||ft||Function("return this")(),lt=at.Symbol,st=Object.prototype,pt=st.hasOwnProperty,ht=st.toString,yt=lt?lt.toStringTag:void 0,dt=Object.prototype.toString,vt="[object Null]",mt="[object Undefined]",gt=lt?lt.toStringTag:void 0,bt="[object AsyncFunction]",jt="[object Function]",St="[object GeneratorFunction]",kt="[object Proxy]",Lt=9007199254740991,Ot={},wt="function"==typeof Symbol&&Symbol.iterator,xt=function(n){return wt&&n[wt]&&n[wt]()},Et="[object Arguments]",At=Object.prototype,Tt=At.hasOwnProperty,Bt=At.propertyIsEnumerable,Ft=k(function(){return arguments}())?k:function(n){return S(n)&&Tt.call(n,"callee")&&!Bt.call(n,"callee")},It=Array.isArray,_t="object"==(void 0===t?"undefined":n(t))&&t&&!t.nodeType&&t,Mt=_t&&"object"==("undefined"==typeof module?"undefined":n(module))&&module&&!module.nodeType&&module,Ut=Mt&&Mt.exports===_t?at.Buffer:void 0,zt=(Ut?Ut.isBuffer:void 0)||function(){return!1},Pt=9007199254740991,Vt=/^(?:0|[1-9]\d*)$/,qt={};qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Arguments]"]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object Boolean]"]=qt["[object DataView]"]=qt["[object Date]"]=qt["[object Error]"]=qt["[object Function]"]=qt["[object Map]"]=qt["[object Number]"]=qt["[object Object]"]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object WeakMap]"]=!1;var Dt="object"==(void 0===t?"undefined":n(t))&&t&&!t.nodeType&&t,Rt=Dt&&"object"==("undefined"==typeof module?"undefined":n(module))&&module&&!module.nodeType&&module,Ct=Rt&&Rt.exports===Dt&&ct.process,$t=function(){try{return Ct&&Ct.binding("util")}catch(n){}}(),Wt=$t&&$t.isTypedArray,Nt=Wt?function(n){return function(t){return n(t)}}(Wt):function(n){return S(n)&&v(n.length)&&!!qt[y(n)]},Qt=Object.prototype.hasOwnProperty,Gt=Object.prototype,Ht=function(n,t){return function(e){return n(t(e))}}(Object.keys,Object),Jt=Object.prototype.hasOwnProperty,Kt=U(M,1/0),Xt=function(n,t,e){(m(n)?z:Kt)(n,l(t),e)},Yt=P(V),Zt=s(Yt),ne=q(V),te=U(ne,1),ee=s(te),re=function(n){var t=e(arguments,1);return function(){var r=e(arguments);return n.apply(null,t.concat(r))}},ue=function(n){return function(t,e,r){for(var u=-1,o=Object(t),i=r(t),c=i.length;c--;){var f=i[n?c:++u];if(!1===e(o[f],f,o))break}return t}}(),oe=function(n,t,r){function u(n,t){v.push(function(){f(n,t)})}function o(){if(0===v.length&&0===h)return r(null,p);for(;v.length&&h<t;)v.shift()()}function i(n,t){var e=d[n];e||(e=d[n]=[]),e.push(t)}function c(n){D(d[n]||[],function(n){n()}),o()}function f(n,t){if(!y){var u=I(function(t,u){if(h--,arguments.length>2&&(u=e(arguments,1)),t){var o={};R(p,function(n,t){o[t]=n}),o[n]=u,y=!0,d=Object.create(null),r(t,o)}else p[n]=u,c(n)});h++;var o=l(t[t.length-1]);t.length>1?o(p,u):o(u)}}function a(t){var e=[];return R(n,function(n,r){It(n)&&N(n,t,0)>=0&&e.push(r)}),e}"function"==typeof t&&(r=t,t=null),r=b(r||g);var s=E(n).length;if(!s)return r(null);t||(t=s);var p={},h=0,y=!1,d=Object.create(null),v=[],m=[],j={};R(n,function(t,e){if(!It(t))return u(e,[t]),void m.push(e);var r=t.slice(0,t.length-1),o=r.length;return 0===o?(u(e,t),void m.push(e)):(j[e]=o,void D(r,function(c){if(!n[c])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+c+"` in "+r.join(", "));i(c,function(){0==--o&&u(e,t)})}))}),function(){for(var n=0;m.length;)n++,D(a(m.pop()),function(n){0==--j[n]&&m.push(n)});if(n!==s)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),o()},ie="[object Symbol]",ce=1/0,fe=lt?lt.prototype:void 0,ae=fe?fe.toString:void 0,le=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),se="\\ud800-\\udfff",pe="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",he="\\ud83c[\\udffb-\\udfff]",ye="[^"+se+"]",de="(?:\\ud83c[\\udde6-\\uddff]){2}",ve="[\\ud800-\\udbff][\\udc00-\\udfff]",me="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",ge="[\\ufe0e\\ufe0f]?",be=ge+me+("(?:\\u200d(?:"+[ye,de,ve].join("|")+")"+ge+me+")*"),je="(?:"+[ye+pe+"?",pe,de,ve,"[\\ud800-\\udfff]"].join("|")+")",Se=RegExp(he+"(?="+he+")|"+je+be,"g"),ke=/^\s+|\s+$/g,Le=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Oe=/,/,we=/(=.+)?(\s*)$/,xe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;fn.prototype.removeLink=function(n){return n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,n.prev=n.next=null,this.length-=1,n},fn.prototype.empty=function(){for(;this.head;)this.shift();return this},fn.prototype.insertAfter=function(n,t){t.prev=n,t.next=n.next,n.next?n.next.prev=t:this.tail=t,n.next=t,this.length+=1},fn.prototype.insertBefore=function(n,t){t.prev=n.prev,t.next=n,n.prev?n.prev.next=t:this.head=t,n.prev=t,this.length+=1},fn.prototype.unshift=function(n){this.head?this.insertBefore(this.head,n):an(this,n)},fn.prototype.push=function(n){this.tail?this.insertAfter(this.tail,n):an(this,n)},fn.prototype.shift=function(){return this.head&&this.removeLink(this.head)},fn.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},fn.prototype.toArray=function(){for(var n=Array(this.length),t=this.head,e=0;e<this.length;e++)n[e]=t.data,t=t.next;return n},fn.prototype.remove=function(n){for(var t=this.head;t;){var e=t.next;n(t)&&this.removeLink(t),t=e}return this};var Ee,Ae=U(M,1),Te=function(){return hn.apply(null,e(arguments).reverse())},Be=Array.prototype.concat,Fe=function(n,t,r,u){u=u||g;var o=l(r);ne(n,t,function(n,t){o(n,function(n){return n?t(n):t(null,e(arguments,1))})},function(n,t){for(var e=[],r=0;r<t.length;r++)t[r]&&(e=Be.apply(e,t[r]));return u(n,e)})},Ie=U(Fe,1/0),_e=U(Fe,1),Me=function(){var n=e(arguments),t=[null].concat(n);return function(){return arguments[arguments.length-1].apply(this,t)}},Ue=P(dn(yn,vn)),ze=q(dn(yn,vn)),Pe=U(ze,1),Ve=mn("dir"),qe=U(On,1),De=P(dn(xn,xn)),Re=q(dn(xn,xn)),Ce=U(Re,1),$e=P(Bn),We=q(Bn),Ne=U(We,1),Qe=function(n,t,e,r){r=r||g;var u=l(e);ne(n,t,function(n,t){u(n,function(e,r){return e?t(e):t(null,{key:r,val:n})})},function(n,t){for(var e={},u=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var i=t[o].key,c=t[o].val;u.call(e,i)?e[i].push(c):e[i]=[c]}return r(n,e)})},Ge=U(Qe,1/0),He=U(Qe,1),Je=mn("log"),Ke=U(In,1/0),Xe=U(In,1),Ye=o(Ee=ut?process.nextTick:rt?setImmediate:u),Ze=function(n,t){var e=l(n);return ln(function(n,t){e(n[0],t)},t,1)},nr=function(n,t){var e=Ze(n,t);return e.push=function(n,t,r){if(null==r&&(r=g),"function"!=typeof r)throw new Error("task callback must be a function");if(e.started=!0,It(n)||(n=[n]),0===n.length)return ot(function(){e.drain()});t=t||0;for(var u=e._tasks.head;u&&t>=u.priority;)u=u.next;for(var o=0,i=n.length;o<i;o++){var c={data:n[o],priority:t,callback:r};u?e._tasks.insertBefore(u,c):e._tasks.push(c)}ot(e.process)},delete e.unshift,e},tr=P(Rn),er=q(Rn),rr=U(er,1),ur=function(n,t){t||(t=n,n=null);var e=l(t);return et(function(t,r){function u(n){e.apply(null,t.concat(n))}n?Wn(n,u,r):Wn(u,r)})},or=P(dn(Boolean,yn)),ir=q(dn(Boolean,yn)),cr=U(ir,1),fr=Math.ceil,ar=Math.max,lr=U(Jn,1/0),sr=U(Jn,1),pr=function(n,t){function r(t){var e=l(n[o++]);t.push(I(u)),e.apply(null,t)}function u(u){return u||o===n.length?t.apply(null,arguments):void r(e(arguments,1))}if(t=b(t||g),!It(n))return t(new Error("First argument to waterfall must be an array of functions"));if(!n.length)return t();var o=0;r([])},hr={applyEach:Zt,applyEachSeries:ee,apply:re,asyncify:i,auto:oe,autoInject:cn,cargo:sn,compose:Te,concat:Ie,concatLimit:Fe,concatSeries:_e,constant:Me,detect:Ue,detectLimit:ze,detectSeries:Pe,dir:Ve,doDuring:gn,doUntil:jn,doWhilst:bn,during:Sn,each:Ln,eachLimit:On,eachOf:Xt,eachOfLimit:M,eachOfSeries:Ae,eachSeries:qe,ensureAsync:wn,every:De,everyLimit:Re,everySeries:Ce,filter:$e,filterLimit:We,filterSeries:Ne,forever:Fn,groupBy:Ge,groupByLimit:Qe,groupBySeries:He,log:Je,map:Yt,mapLimit:ne,mapSeries:te,mapValues:Ke,mapValuesLimit:In,mapValuesSeries:Xe,memoize:Mn,nextTick:Ye,parallel:zn,parallelLimit:Pn,priorityQueue:nr,queue:Ze,race:Vn,reduce:pn,reduceRight:qn,reflect:Dn,reflectAll:Cn,reject:tr,rejectLimit:er,rejectSeries:rr,retry:Wn,retryable:ur,seq:hn,series:Nn,setImmediate:ot,some:or,someLimit:ir,someSeries:cr,sortBy:Qn,timeout:Gn,times:lr,timesLimit:Jn,timesSeries:sr,transform:Kn,tryEach:Xn,unmemoize:Yn,until:nt,waterfall:pr,whilst:Zn,all:De,any:or,forEach:Ln,forEachSeries:qe,forEachLimit:On,forEachOf:Xt,forEachOfSeries:Ae,forEachOfLimit:M,inject:pn,foldl:pn,foldr:qn,select:$e,selectLimit:We,selectSeries:Ne,wrapSync:i};t.default=hr,t.applyEach=Zt,t.applyEachSeries=ee,t.apply=re,t.asyncify=i,t.auto=oe,t.autoInject=cn,t.cargo=sn,t.compose=Te,t.concat=Ie,t.concatLimit=Fe,t.concatSeries=_e,t.constant=Me,t.detect=Ue,t.detectLimit=ze,t.detectSeries=Pe,t.dir=Ve,t.doDuring=gn,t.doUntil=jn,t.doWhilst=bn,t.during=Sn,t.each=Ln,t.eachLimit=On,t.eachOf=Xt,t.eachOfLimit=M,t.eachOfSeries=Ae,t.eachSeries=qe,t.ensureAsync=wn,t.every=De,t.everyLimit=Re,t.everySeries=Ce,t.filter=$e,t.filterLimit=We,t.filterSeries=Ne,t.forever=Fn,t.groupBy=Ge,t.groupByLimit=Qe,t.groupBySeries=He,t.log=Je,t.map=Yt,t.mapLimit=ne,t.mapSeries=te,t.mapValues=Ke,t.mapValuesLimit=In,t.mapValuesSeries=Xe,t.memoize=Mn,t.nextTick=Ye,t.parallel=zn,t.parallelLimit=Pn,t.priorityQueue=nr,t.queue=Ze,t.race=Vn,t.reduce=pn,t.reduceRight=qn,t.reflect=Dn,t.reflectAll=Cn,t.reject=tr,t.rejectLimit=er,t.rejectSeries=rr,t.retry=Wn,t.retryable=ur,t.seq=hn,t.series=Nn,t.setImmediate=ot,t.some=or,t.someLimit=ir,t.someSeries=cr,t.sortBy=Qn,t.timeout=Gn,t.times=lr,t.timesLimit=Jn,t.timesSeries=sr,t.transform=Kn,t.tryEach=Xn,t.unmemoize=Yn,t.until=nt,t.waterfall=pr,t.whilst=Zn,t.all=De,t.allLimit=Re,t.allSeries=Ce,t.any=or,t.anyLimit=ir,t.anySeries=cr,t.find=Ue,t.findLimit=ze,t.findSeries=Pe,t.forEach=Ln,t.forEachSeries=qe,t.forEachLimit=On,t.forEachOf=Xt,t.forEachOfSeries=Ae,t.forEachOfLimit=M,t.inject=pn,t.foldl=pn,t.foldr=qn,t.select=$e,t.selectLimit=We,t.selectSeries=Ne,t.wrapSync=i,Object.defineProperty(t,"__esModule",{value:!0})}); 
 			}); 
		define("libs/day.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,e){"object"==("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.dayjs=e()}(void 0,function(){var t="millisecond",n="second",e="minute",r="hour",i="day",s="week",u="month",o="quarter",a="year",f=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?"+":"-")+c(r,2,"0")+":"+c(i,2,"0")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:u,y:a,w:s,d:i,h:r,m:e,s:n,ms:t,Q:o}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l="en",y={};y[l]=$;var m=function(t){return t instanceof D},M=function(t,n,e){var r;if(!t)return l;if("string"==typeof t)y[t]&&(r=t),n&&(y[t]=n,r=t);else{var i=t.name;y[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(m(t))return t.clone();var r=n?"string"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new D(r)},p=d;p.l=M,p.i=m,p.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u})};var D=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(p.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(f);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return p},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return p.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,"$y",a)},d.month=function(t){return this.$g(t,"$M",u)},d.day=function(t){return this.$g(t,"$W",i)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",r)},d.minute=function(t){return this.$g(t,"$m",e)},d.second=function(t){return this.$g(t,"$s",n)},d.millisecond=function(n){return this.$g(n,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var f=this,h=!!p.u(o)||o,c=p.p(t),d=function(t,n){var e=p.w(f.$u?Date.UTC(f.$y,n,t):new Date(f.$y,n,t),f);return h?e:e.endOf(i)},$=function(t,n){return p.w(f.toDate()[t].apply(f.toDate(),(h?[0,0,0,0]:[23,59,59,999]).slice(n)),f)},l=this.$W,y=this.$M,m=this.$D,M="set"+(this.$u?"UTC":"");switch(c){case a:return h?d(1,0):d(31,11);case u:return h?d(1,y):d(0,y+1);case s:var g=this.$locale().weekStart||0,D=(l<g?l+7:l)-g;return d(h?m-D:m+(6-D),y);case i:case"date":return $(M+"Hours",0);case r:return $(M+"Minutes",1);case e:return $(M+"Seconds",2);case n:return $(M+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var f,h=p.p(s),c="set"+(this.$u?"UTC":""),d=(f={},f[i]=c+"Date",f.date=c+"Date",f[u]=c+"Month",f[a]=c+"FullYear",f[r]=c+"Hours",f[e]=c+"Minutes",f[n]=c+"Seconds",f[t]=c+"Milliseconds",f)[h],$=h===i?this.$D+(o-this.$W):o;if(h===u||h===a){var l=this.clone().set("date",1);l.$d[d]($),l.init(),this.$d=l.set("date",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[p.p(t)]()},d.add=function(t,o){var f,h=this;t=Number(t);var c=p.p(o),d=function(n){var e=g(h);return p.w(e.date(e.date()+Math.round(n*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[e]=6e4,f[r]=36e5,f[n]=1e3,f)[c]||1,l=this.valueOf()+t*$;return p.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=p.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,f=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return p.s(s%12||12,t,"0")},$=i.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:p.s(o+1,2,"0"),MMM:c(i.monthsShort,o,f,3),MMMM:f[o]||f(this,e),D:this.$D,DD:p.s(this.$D,2,"0"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:p.s(s,2,"0"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:p.s(u,2,"0"),s:String(this.$s),ss:p.s(this.$s,2,"0"),SSS:p.s(this.$ms,3,"0"),Z:r};return e.replace(h,function(t,n){return n||l[t]||r.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,f,h){var c,d=p.p(f),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,m=p.m(this,$);return m=(c={},c[a]=m/12,c[u]=m,c[o]=m/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[e]=y/6e4,c[n]=y/1e3,c)[d]||y,h?m:p.a(m)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return y[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone();return e.$L=M(t,n,!0),e},d.clone=function(){return p.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.toISOString()},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=D.prototype,g.extend=function(t,n){return t(n,D,g),g},g.locale=M,g.isDayjs=m,g.unix=function(t){return g(1e3*t)},g.en=y[l],g.Ls=y,g}); 
 			}); 
		define("libs/emitter.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){this._ctx=t||this}var s=t.prototype;s.on=function(t,s){if("function"==typeof s)return this._cbs=this._cbs||{},this._cbs[t]&&this._cbs[t].length>0&&console.log("Emitter - 重复定义事件",t),(this._cbs[t]||(this._cbs[t]=[])).push(s),this;console.error("fn must be a function")},s.once=function(t,s){function i(){n.off(t,i),s.apply(this,arguments)}{if("function"==typeof s){var n=this;return this._cbs=this._cbs||{},i.fn=s,this.on(t,i),this}console.error("fn must be a function")}},s.off=function(t,s){if(this._cbs=this._cbs||{},!arguments.length)return this._cbs={},this;var i=this._cbs[t];if(!i)return this;if(1===arguments.length)return delete this._cbs[t],this;for(var n,c=0;c<i.length;c++)if((n=i[c])===s||n.fn===s){i.splice(c,1);break}return this},s.emit=function(t){this._cbs=this._cbs||{};var s=[].slice.call(arguments),i=this._cbs[t];if(i){i=i.slice(0),s.shift();for(var n=0,c=i.length;n<c;n++)try{i[n].apply(this._ctx,s)}catch(t){console.error(t)}}return this},module.exports=t; 
 			}); 
		define("libs/md5.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function n(n,r){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}function r(n,r){return n<<r|n>>>32-r}function t(t,e,u,o,c,f){return n(r(n(n(e,t),n(o,f)),c),u)}function e(n,r,e,u,o,c,f){return t(r&e|~r&u,n,r,o,c,f)}function u(n,r,e,u,o,c,f){return t(r&u|e&~u,n,r,o,c,f)}function o(n,r,e,u,o,c,f){return t(r^e^u,n,r,o,c,f)}function c(n,r,e,u,o,c,f){return t(e^(r|~u),n,r,o,c,f)}function f(r,t){r[t>>5]|=128<<t%32,r[14+(t+64>>>9<<4)]=t;var f,i,a,h,d,g=1732584193,l=-271733879,v=-1732584194,s=271733878;for(f=0;f<r.length;f+=16)i=g,a=l,h=v,d=s,l=c(l=c(l=c(l=c(l=o(l=o(l=o(l=o(l=u(l=u(l=u(l=u(l=e(l=e(l=e(l=e(l,v=e(v,s=e(s,g=e(g,l,v,s,r[f],7,-680876936),l,v,r[f+1],12,-389564586),g,l,r[f+2],17,606105819),s,g,r[f+3],22,-1044525330),v=e(v,s=e(s,g=e(g,l,v,s,r[f+4],7,-176418897),l,v,r[f+5],12,1200080426),g,l,r[f+6],17,-1473231341),s,g,r[f+7],22,-45705983),v=e(v,s=e(s,g=e(g,l,v,s,r[f+8],7,1770035416),l,v,r[f+9],12,-1958414417),g,l,r[f+10],17,-42063),s,g,r[f+11],22,-1990404162),v=e(v,s=e(s,g=e(g,l,v,s,r[f+12],7,1804603682),l,v,r[f+13],12,-40341101),g,l,r[f+14],17,-1502002290),s,g,r[f+15],22,1236535329),v=u(v,s=u(s,g=u(g,l,v,s,r[f+1],5,-165796510),l,v,r[f+6],9,-1069501632),g,l,r[f+11],14,643717713),s,g,r[f],20,-373897302),v=u(v,s=u(s,g=u(g,l,v,s,r[f+5],5,-701558691),l,v,r[f+10],9,38016083),g,l,r[f+15],14,-660478335),s,g,r[f+4],20,-405537848),v=u(v,s=u(s,g=u(g,l,v,s,r[f+9],5,568446438),l,v,r[f+14],9,-1019803690),g,l,r[f+3],14,-187363961),s,g,r[f+8],20,1163531501),v=u(v,s=u(s,g=u(g,l,v,s,r[f+13],5,-1444681467),l,v,r[f+2],9,-51403784),g,l,r[f+7],14,1735328473),s,g,r[f+12],20,-1926607734),v=o(v,s=o(s,g=o(g,l,v,s,r[f+5],4,-378558),l,v,r[f+8],11,-2022574463),g,l,r[f+11],16,1839030562),s,g,r[f+14],23,-35309556),v=o(v,s=o(s,g=o(g,l,v,s,r[f+1],4,-1530992060),l,v,r[f+4],11,1272893353),g,l,r[f+7],16,-155497632),s,g,r[f+10],23,-1094730640),v=o(v,s=o(s,g=o(g,l,v,s,r[f+13],4,681279174),l,v,r[f],11,-358537222),g,l,r[f+3],16,-722521979),s,g,r[f+6],23,76029189),v=o(v,s=o(s,g=o(g,l,v,s,r[f+9],4,-640364487),l,v,r[f+12],11,-421815835),g,l,r[f+15],16,530742520),s,g,r[f+2],23,-995338651),v=c(v,s=c(s,g=c(g,l,v,s,r[f],6,-198630844),l,v,r[f+7],10,1126891415),g,l,r[f+14],15,-1416354905),s,g,r[f+5],21,-57434055),v=c(v,s=c(s,g=c(g,l,v,s,r[f+12],6,1700485571),l,v,r[f+3],10,-1894986606),g,l,r[f+10],15,-1051523),s,g,r[f+1],21,-2054922799),v=c(v,s=c(s,g=c(g,l,v,s,r[f+8],6,1873313359),l,v,r[f+15],10,-30611744),g,l,r[f+6],15,-1560198380),s,g,r[f+13],21,1309151649),v=c(v,s=c(s,g=c(g,l,v,s,r[f+4],6,-145523070),l,v,r[f+11],10,-1120210379),g,l,r[f+2],15,718787259),s,g,r[f+9],21,-343485551),g=n(g,i),l=n(l,a),v=n(v,h),s=n(s,d);return[g,l,v,s]}function i(n){var r,t="",e=32*n.length;for(r=0;r<e;r+=8)t+=String.fromCharCode(n[r>>5]>>>r%32&255);return t}function a(n){var r,t=[];for(t[(n.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;var e=8*n.length;for(r=0;r<e;r+=8)t[r>>5]|=(255&n.charCodeAt(r/8))<<r%32;return t}function h(n){return i(f(a(n),8*n.length))}function d(n){var r,t,e="";for(t=0;t<n.length;t+=1)r=n.charCodeAt(t),e+="0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r);return e}function g(n){return unescape(encodeURIComponent(n))}function l(n){return h(g(n))}function v(n){return d(l(n))}module.exports={rstrMD5:h,rawMD5:l,hexMD5:v}; 
 			}); 
		define("libs/promise.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){function n(){}function o(e,t){return function(){e.apply(t,arguments)}}function r(t){if("object"!=e(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void f(t.promise,e)}u(t.promise,o)}else(1===e._state?u:f)(t.promise,e._value)}))}function u(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==(void 0===n?"undefined":e(n))||"function"==typeof n)){var i=n.then;if(n instanceof r)return t._state=3,t._value=n,void c(t);if("function"==typeof i)return void s(o(i,n),t)}t._state=1,t._value=n,c(t)}catch(e){f(t,e)}}function f(e,t){try{l(t)}catch(e){}e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function a(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function s(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,f(t,e))})}catch(e){if(n)return;n=!0,f(t,e)}}function l(e){if(wx.JDReport&&wx.JDReport.reportPromiseErr){var t=d(e);t&&-1===p.indexOf(t)&&(p.push(t),h=h||setTimeout(function(){var e=p;clearTimeout(h),h=null,p=[];var t=getApp();e.forEach(function(e){t.onError(e)})},200))}}function d(e){if(!e||!e.stack||-1!==e.stack.indexOf("网络"))return"";var t=getCurrentPages();return"promiseError: at "+(t&&t.length&&t[t.length-1].__route__||"(can not get path)")+" "+e.stack}var h=null,p=[],m=setTimeout;r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var o=new this.constructor(n);return i(this,new a(e,t,o)),o},r.all=function(t){var n=Array.prototype.slice.call(t);return new r(function(t,o){function r(u,f){try{if(f&&("object"==(void 0===f?"undefined":e(f))||"function"==typeof f)){var c=f.then;if("function"==typeof c)return void c.call(f,function(e){r(u,e)},o)}n[u]=f,0==--i&&t(n)}catch(e){o(e)}}if(0===n.length)return t([]);for(var i=n.length,u=0;u<n.length;u++)r(u,n[u])})},r.resolve=function(t){return t&&"object"==(void 0===t?"undefined":e(t))&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)})},r._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){m(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=r:t.Promise||(t.Promise=r)}(void 0); 
 			}); 
		define("libs/proxy.min.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};module.exports=function(){function e(e){return!!e&&("object"===(void 0===e?"undefined":t(e))||"function"==typeof e)}var o=null,n=void 0;return n=function(t,n){if(!e(t)||!e(n))throw new TypeError("Cannot create proxy with a non-object as target or handler");var r=function(){};o=function(){r=function(t){throw new TypeError("Cannot perform'"+t+"'on a proxy that has been revoked")}};var i=n;n={get:null,set:null,apply:null,construct:null};for(var c in i){if(!(c in n))throw new TypeError("Proxy polyfill does not support trap'"+c+"'");n[c]=i[c]}"function"==typeof i&&(n.apply=i.apply.bind(i));var p=this,u=!1,f=!1;"function"==typeof t?(p=function(){var e=this&&this.constructor===p,o=Array.prototype.slice.call(arguments);return r(e?"construct":"apply"),e&&n.construct?n.construct.call(this,t,o):!e&&n.apply?n.apply(t,this,o):e?(o.unshift(t),new(t.bind.apply(t,o))):t.apply(this,o)},u=!0):t instanceof Array&&(p=[],f=!0);var a=n.get?function(t){return r("get"),n.get(this,t,p)}:function(t){return r("get"),this[t]},y=n.set?function(t,e){r("set");n.set(this,t,e,p)}:function(t,e){r("set"),this[t]=e},l={};Object.getOwnPropertyNames(t).forEach(function(e){if(!((u||f)&&e in p)){var o={enumerable:!!Object.getOwnPropertyDescriptor(t,e).enumerable,get:a.bind(t,e),set:y.bind(t,e)};Object.defineProperty(p,e,o),l[e]=!0}});var s=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(p,Object.getPrototypeOf(t)):p.__proto__?p.__proto__=t.__proto__:s=!1,n.get||!s)for(var b in t)l[b]||Object.defineProperty(p,b,{get:a.bind(t,b)});return Object.seal(t),Object.seal(p),p},n.revocable=function(t,e){return{proxy:new n(t,e),revoke:o}},n}(); 
 			}); 
		define("models/coupon/coupon_model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function t(e){d.getLoginPromise().then(function(){m.request.get({url:"https://wq.jd.com/activepersistent/couponrecommend/couponrecommend",data:{_t:+new Date,source:"x"}}).then(function(o){var i=o.body;0==i.ret?(n(function(t,o){t||(o=o.filter(function(e){if(2!=e.status)return!0})),o=o.slice(0,5),e&&e(t,o)},i=r(i.couponlist)),b.umpBiz({bizid:"635",operation:"3",result:"0",message:"ret: suc"})):2==i.ret?d.doLogin().then(function(){t(e)}).catch(function(){e&&e({errId:-1e3,errMsg:_},[])}):(g.log("专属推荐券接口返回失败",i.ret),b.umpBiz({bizid:"635",operation:"3",result:i.ret,message:"ret: "+i.ret}),e&&e({errId:i.ret,errMsg:i.retmsg},[]))}).catch(function(t,o){g.log("请求专属推荐券接口fail",o),b.umpBiz({bizid:"635",operation:"3",result:t,message:"fail:"+o}),e&&e({errId:-999,errMsg:y},[])})}).catch(function(t){e&&e({errId:-1e3,errMsg:_},[])})}function o(e,t,n,r){if(!e||!t)return n&&n({errId:-999,errMsg:q},null),!1;d.getLoginPromise().then(function(){var i=33;r&&r.sceneid&&(i=r.sceneid),m.request.get({url:"https://wq.jd.com/activeapi/obtainjdshopfreecouponv2",data:{hj:"x",scene:i,key:e,roleid:t,_t:+new Date}}).then(function(r){var i=r.body;999==i.code?(b.umpBiz({bizid:"635",operation:"1",result:"0",message:"ret: suc"}),n&&n(null,i.code,i.message)):14==i.code||15==i.code?(b.umpBiz({bizid:"635",operation:"1",result:"0",message:"ret: suc"}),n&&n(null,i.code,i.message)):1e3==i.code?d.doLogin().then(function(){o(e,t,n)}).catch(function(e,t){n&&n({errId:e,errMsg:_},null)}):(["3","5","6","7","8","9","10","11","12","13","16","17","18","19","21","22","23","24","25","30","31","32","34","36","37","38","39","40","41","42","43","147","163","164","1002"].indexOf(""+i.code)>=0?b.umpBiz({bizid:"635",operation:"1",result:"0",message:"ret: suc"}):b.umpBiz({bizid:"635",operation:"1",result:i.code,message:"ret: "+i.code}),n&&n(null,i.code,i.message))}).catch(function(e,t){b.umpBiz({bizid:"635",operation:"1",result:e,message:"fail:"+t}),n&&n({errId:-999,errMsg:w},null)})}).catch(function(e,t){n&&n({errId:e,errMsg:_},null)})}function n(e,t){if(0==t.length)return e&&e(null,[]),!1;d.getLoginPromise().then(function(){for(var o=[],r={},i=[],u=0;u<t.length;u+=z){r={rolekeys:"",_t:+new Date},i=[],t.slice(u,u+z).forEach(function(e){i.push(e.roleid+":"+e.key)}),r.rolekeys=i.join("|");var a=new l.default(function(e,t){m.request.get({url:"https://wq.jd.com/activeapi/queryjdshopfreecouponstatus",data:r}).then(function(o){var n=o.body;0==n.errorCode?(b.umpBiz({bizid:"635",operation:"11",result:"0",message:"ret: suc"}),e(n.data)):1==n.errorCode?t({ret:n.errorCode,msg:n.errMsg}):(b.umpBiz({bizid:"635",operation:"11",result:n.errorCode,message:"ret: "+n.errorCode}),e([]))}).catch(function(t,o){b.umpBiz({bizid:"635",operation:"11",result:t,message:"fail:"+o}),e([])})});o.push(a)}l.default.all(o).then(function(o){var n=null;t.forEach(function(e){for(var t=0;t<o.length;t++)if(n=o[t][e.roleid]){e.code=n.resultCode,e.message=n.resultMsg,999==n.resultCode?e.status=0:14==n.resultCode||15==n.resultCode?e.status=1:e.status=2;break}}),e&&e(null,t)}).catch(function(o){console.error("查询优惠券状态错误",o),1==o.ret?d.doLogin().then(function(){n(e,t)}).catch(function(o,n){e&&e({errId:o,errMsg:n},t)}):e({errId:999,errMsg:o},t)})}).catch(function(o,n){console.log("登陆失败",o,n),e&&e({errId:o,errMsg:n},t)})}function r(e,t){var o=[],n={},r=null;return e.forEach(function(e){if(e.strCategoryName=e.strCategoryName.replace(/"/g,""),e.strCategoryName.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.strCategoryName))return!1;if(e.strLimitStr.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.strLimitStr))return!1;if(!e.strLimitStr)return!1;if(n[e.nBatchId])return!1;if(n[e.nBatchId]=!0,(r={roleid:e.ddActivityId,key:e.strEncryptedKey,quota:e.strQuota,batchid:e.nBatchId,discount:e.strDiscount,limitstr:e.strLimitStr,couponstyle:1*e.nCouponStyle,coupontype:1*e.nCouponType,couponkind:1*e.nCouponKind,categoryid:1*e.nCategoryId,categoryname:e.strCategoryName,userate:e.dwUseRate,shopid:e.nShopId,status:0,rebatevalue:"",rebatequota:"",rebatetype:1,couponpic:f.getImg(e.sPicUrl),begintime:e.ddBeginTime||"",endtime:e.ddEndTime||"",limittype:e.nLimitType}).limitstr||(0==r.couponkind&&3==couponkind.couponstyle?r.limitstr="折扣神券(限部分商品可用，特殊品类及特价商品除外)":0==r.couponkind&&1==r.coupontype?r.limitstr="适用于京东全品类商品(特殊商品除外)":0==r.couponkind&&0==r.coupontype?r.limitstr="适用于京东全品类商品(特殊商品除外)":2==r.coupontype&&(r.limitstr="限京东自营商品运费(部分特殊商品运费除外)")),e.discount_info||(r.couponstyle=0),3==r.couponstyle)if(1==e.discount_info.info.length)r.rebatevalue=(10*e.discount_info.info[0].discount).toFixed(1),r.rebatequota=e.discount_info.info[0].quota,"0"==r.rebatevalue.slice(-1)&&(r.rebatevalue=parseInt(r.rebatevalue));else{var i=e.discount_info.info.concat();i.sort(function(e,t){return e.quota>=t.quota?-1:1}),i.forEach(function(e){var t=(10*e.discount).toFixed(1);"0"==t.slice(-1)&&(t=parseInt(t)),r.rebatevalue+=t+"/",r.rebatequota+=e.quota+"/"}),r.rebatevalue=r.rebatevalue.slice(0,-1),r.rebatequota=r.rebatequota.slice(0,-1),r.rebatetype=2}(!t||t&&t(r))&&o.push(r)}),o}function i(e){var t=[],o=[],n=[];return e.forEach(function(e){if(2==e.status)return!1;e.userate?t.push(e):0==e.coupontype?o.push(e):1==e.coupontype&&n.push(e)}),t.sort(function(e,t){return 1*e.userate>=1*t.userate?-1:1}),o.sort(function(e,t){return 1*e.discount>=1*t.discount?-1:1}),n.sort(function(e,t){return e.discount/e.quota>=t.discount/t.quota?-1:1}),t.length>=40?t.slice(0,40):(t=t.concat(o.slice(0,40))).length>=40?t.slice(0,40):(t=t.concat(n)).slice(0,40)}function u(e){for(var t=[],o=[],n=[],r=0,i=e.length;r<i&&!(t.length>=40);r++)0!=e[r].couponkind?0!=e[r].coupontype?1!=e[r].coupontype||n.push(e[r]):o.push(e[r]):t.push(e[r]);return t.length>=40?t.slice(0,40):(o.sort(function(e,t){return e.discount>=t.discount?-1:1}),(t=t.concat(o)).length>=40?t.slice(0,40):(n.sort(function(e,t){return e.discount/e.quota>=t.discount/t.quota?-1:1}),(t=t.concat(n)).slice(0,40)))}function a(e){for(var t=[],o=[],n=0,r=e.length;n<r&&!(t.length>=20);n++)0!=e[n].couponkind?o.push(e[n]):t.push(e[n]);return t.length>=20?t.slice(0,20):(t=t.concat(o)).slice(0,20)}function s(e,t){if(t.discountInfo&&3==t.couponStyle)if(e.couponstyle=3,1==t.discountInfo.info.length)e.rebatevalue=(10*t.discountInfo.info[0].discount).toFixed(1),e.rebatequota=t.discountInfo.info[0].quota,"0"==e.rebatevalue.slice(-1)&&(e.rebatevalue=parseInt(e.rebatevalue));else{var o=t.discountInfo.info.concat();o.sort(function(e,t){return e.quota>=t.quota?-1:1}),o.forEach(function(t){var o=(10*t.discount).toFixed(1);"0"==o.slice(-1)&&(o=parseInt(o)),e.rebatevalue+=o+"/",e.rebatequota+=t.quota+"/"}),e.rebatevalue=e.rebatevalue.slice(0,-1),e.rebatequota=e.rebatequota.slice(0,-1),e.rebatetype=2}return e}function c(e){var t=new RegExp("roleid=([^=&]+)"),o=new RegExp("key=([^=&]+)"),n=e.match(t),r=e.match(o);return n=n?n[1]:null,r=r?r[1]:null,{roleid:n,key:r}}function p(e){return e=e.split(";")[0],{discount:e.split(",")[0]||0,quota:e.split(",")[1]||0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getcoupon=exports.guessgoods=exports.queryCouponStatus=exports.coupongoods=exports.morecoupon=exports.customcoupon=exports.findcoupon=exports.todaycoupon=exports.findandtodayCoupon=exports.globalppms=void 0;var d=e(require("../../common/login/login.js")),l=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/promise.min.js")),m=require("../../common/request/request.js"),f=e(require("../../common/fe_helper.js")),g=e(require("../../common/log.js")),h=e(require("../../common/cookie-v2/cookie.js")),b=e(require("../../common/fe_report/usability.js")),v={food:"https://wqs.jd.com/wqactive/food_coupon_wxapp.json",clothes:"https://wqs.jd.com/wqactive/clothes_coupon_wxapp.json",digital:"https://wqs.jd.com/wqactive/digital_coupon_wxapp.json",home:"https://wqs.jd.com/wqactive/home_coupon_wxapp.json",mother:"https://wqs.jd.com/wqactive/mother_coupon_wxapp.json",others:"https://wqs.jd.com/wqactive/others_coupon_wxapp.json"},y="查询失败",q="参数错误",w="领券失败",_="未登录或者登录失效";exports.globalppms=function(e){m.request.get({url:"https://wq.360buyimg.com/data/ppms/js/ppms.pagev33664.jsonp",data:{_t:+new Date}}).then(function(t){var o=t.body,n=o.data?o.data||[]:[],r=f.getServerTime();(n=(n||[]).filter(function(e){if(e.banner_begtime&&e.banner_endtime)return!(new Date(e.banner_begtime).getTime()>r||new Date(e.banner_endtime).getTime()<r)})).forEach(function(e){e.bannerpic=f.getImg(e.bannerpic)}),b.umpBiz({bizid:"635",operation:"12",result:"0",message:"ret: suc"}),e&&e(null,n)}).catch(function(t,o){b.umpBiz({bizid:"635",operation:"12",result:t,message:"fail:"+o}),e&&e({errId:-999,errMsg:y},[])})},exports.findandtodayCoupon=function(e){m.request.get({channel:"http",url:"https://wqs.jd.com/wqactive/ppms.output_wxapp.json",data:{_t:+new Date}}).then(function(t){var o=t.body,n=o.pagev31232?o.pagev31232.data||[]:[],i=[],d=[],l=o.hotv2_coupon||[],m={},g=f.getServerTime();n.forEach(function(e){if(!e.freeCouponList&&!e.couponList)return!1;if(e.begtime&&e.endtime){if(new Date(e.begtime).getTime()>g)return!1;if(new Date(e.endtime).getTime()<g)return!1}(e.freeCouponList||[]).forEach(function(e){if(e.begtime&&e.endtime){if(new Date(e.begtime).getTime()>g)return!1;if(new Date(e.endtime).getTime()<g)return!1}if(e.constraintBeginTime&&e.constraintEndTime){if(new Date(e.constraintBeginTime).getTime()>g)return!1;if(new Date(e.constraintEndTime).getTime()<g)return!1}if(e.limitStr.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.limitStr))return!1;if(e.ppms_itemName.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.ppms_itemName))return!1;if(m[e.batchId])return!1;m[e.batchId]=!0;var t=c(e.freeCouponLink);if(!t.roleid||!t.key)return!1;e.coupic||(e.coupic=e.couponAggregationImageurl);var o={roleid:t.roleid,key:t.key,quota:e.quota,batchid:e.batchId,discount:e.discount,limitstr:e.limitStr||e.venderName||e.notes,couponstyle:0,coupontype:1*e.couponType,couponkind:1*e.couponKind,couponpic:f.getImg(e.coupic),status:0,rebatevalue:"",rebatequota:"",rebatetype:1,begintime:new Date(e.couponBeginTime).getTime(),endtime:new Date(e.couponEndTime).getTime(),limittype:e.limitType};o=s(o,e),i.push(o)}),(e.couponList||[]).forEach(function(e){var t=[];if(e.begtime&&e.endtime){if(new Date(e.begtime).getTime()>g)return!1;if(new Date(e.endtime).getTime()<g)return!1}if(e.ConstraintTime&&(t=e.ConstraintTime.split("-"))[0]&&t[1]){if(new Date(t[0]).getTime()>g)return!1;if(new Date(t[1]).getTime()<g)return!1}if(e.prizeName.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.prizeName))return!1;if(e.ppms_itemName.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.ppms_itemName))return!1;if(m[e.batchId])return!1;m[e.batchId]=!0;var o=p(e.DiscountQuota);if(0!=e.couponType&&1!=e.couponType&&2!=e.couponType)return!1;var n={activeid:e.activeId,activelevel:e.activeLevel,quota:o.quota,batchid:e.batchId,discount:o.discount,limitstr:e.prizeName,couponstyle:0,coupontype:1*e.couponType,couponkind:1*e.couponKind,couponpic:f.getImg(e.coupic),status:0,rebatevalue:"",rebatequota:"",rebatetype:1,begintime:t[0]?new Date(t[0]).getTime():0,endtime:t[1]?new Date(t[1]).getTime():0,limittype:"1"};n=s(n,e),d.push(n)})}),i=u(i),d=a(d),l=r(l,function(e){return 2==e.coupontype||0==e.couponkind}),m=null,o=null,b.umpBiz({bizid:"635",operation:"9",result:"0",message:"ret: suc"}),e(null,l,i,d)}).catch(function(t,o){b.umpBiz({bizid:"635",operation:"9",result:t,message:"fail:"+o}),e&&e({errId:-999,errMsg:y},[],[],[])})},exports.todaycoupon=function(e){m.request.get({url:"https://wqs.jd.com/data/ppms/js/ppms.pagev31232.json",data:{_t:+new Date}}).then(function(t){var o=t.body,n=[],r={},i=f.getServerTime();o.data.forEach(function(e){if(new Date(e.begtime).getTime()<i&&i<new Date(e.endtime).getTime()){if(!e.freeCouponList)return!1;e.freeCouponList.forEach(function(e){if(e.limitStr.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.limitStr))return!1;if(e.ppms_itemName.indexOf("移动硬盘")<0&&/电信|联通|移动|电信卡|联通卡|移动卡|全球购/.test(e.ppms_itemName))return!1;if(r[e.batchId])return!1;r[e.batchId]=!0;var t=c(e.freeCouponLink);if(!t.roleid||!t.key)return!1;n.push({roleid:t.roleid,key:t.key,quota:e.quota,batchid:e.batchId,discount:e.discount,limitstr:e.limitStr||e.venderName||e.notes,couponstyle:0,coupontype:1*e.couponType,couponkind:1*e.couponKind,couponpic:f.getImg(e.coupic),status:0})})}}),console.log("_________today coupon",n.length),r=null,o=null,b.umpBiz({bizid:"635",operation:"2",result:"0",message:"ret: suc"}),e(null,n)}).catch(function(t,o){b.umpBiz({bizid:"635",operation:"2",result:t,message:"fail:"+o}),e&&e({errId:-999,errMsg:y},[])})},exports.findcoupon=function(e){m.request.get({url:"https://wqs.jd.com/wqactive/hotv2_coupon.json",data:{_t:+new Date}}).then(function(t){var o=t.body;o=r(o,function(e){return 2==e.coupontype||0==e.couponkind}),b.umpBiz({bizid:"635",operation:"5",result:"0",message:"ret: suc"}),e(null,o)}).catch(function(t,o){b.umpBiz({bizid:"635",operation:"5",result:t,message:"fail:"+o}),e&&e({errId:-999,errMsg:y},[])})},exports.customcoupon=t,exports.morecoupon=function(e,t){if(!v[e])return t&&t({errId:-999,errMsg:q},[]),!1;m.request.get({url:v[e],data:{_t:+new Date}}).then(function(e){var o=e.body;n(function(e,o){e||(o=(o=o.filter(function(e){return 2!=e.status})).slice(0,40)),t&&t(e,o)},o=i(o=r(o))),b.umpBiz({bizid:"635",operation:"4",result:"0",message:"ret: suc"})}).catch(function(o,n){g.log("更多好券接口fail",n),b.umpBiz({bizid:"635",operation:"4",result:o,message:"fail("+e+"): "+n}),t&&t({errId:-999,errMsg:y},[])})},exports.coupongoods=function(e,t,o,n,r){if(!e||!t)return n&&n({errId:-999,errMsg:q},[]),!1;var i={datatype:1,_t:+new Date,coupon_batch:e,coupon_kind:t,coupon_shopid:o||0,coupon_aggregation:"yes"};m.request.get({url:"https://wqsou.jd.com/coprsearch/cosearch",data:i}).then(function(e){var t=e.body;if(0==t.retcode){var o=[];t.data.searchm.Paragraph&&t.data.searchm.Paragraph.forEach(function(e){var t=0;e.priceReal&&e.priceReal.p&&1*e.priceReal.p>0?t=e.priceReal.p:e.dredisprice&&1*e.dredisprice>0&&(t=e.dredisprice),t>0&&o.push({sku:e.wareid,price:t,name:e.Content.warename,imgurl:f.getImg(e.Content.imageurl,230)})}),b.umpBiz({bizid:"635",operation:"8",result:"0",message:"ret: suc"}),n&&n(null,o)}else b.umpBiz({bizid:"635",operation:"8",result:t.retcode,message:"ret: "+t.retcode}),n&&n({errId:t.retcode,errMsg:t.errmsg},[])}).catch(function(e,t){b.umpBiz({bizid:"635",operation:"8",result:e,message:"fail:"+t}),n&&n({errId:-999,errMsg:y},[])})},exports.queryCouponStatus=n,exports.guessgoods=function(e){m.request.get({url:"https://diviner.jd.com/diviner",data:{lid:1,lim:12,p:630020,ec:"utf-8",_t:+new Date,pin:h.getCookie("pin"),uuid:h.getCookie("visitkey")||-1}}).then(function(t){var o=t.body;if(o.success){var n=[];o.data&&o.data.forEach(function(e){n.push({sku:e.sku,price:e.jp,name:e.t,imgurl:f.getImg(e.img,230)})}),e&&e(null,n),b.umpBiz({bizid:"635",operation:"10",result:"0",message:"ret: suc"})}else b.umpBiz({bizid:"635",operation:"10",result:"1",message:"ret: "+o.error_msg}),e&&e({errId:-1,errMsg:o.error_msg},[])}).catch(function(t,o){b.umpBiz({bizid:"635",operation:"10",result:t,message:"fail:"+o}),e&&e({errId:-999,errMsg:y},[])})},exports.getcoupon=o;var z=50; 
 			}); 
		define("models/item/item_model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var t=e&&e.message||"活动太火爆了，请稍后重试~",n={url:l.QUERY_PIN_STATUS,data:{source:2}};return new Promise(function(e,r){(0,c.getLoginPromise)().then(function(a){(0,o.request)(n).then(function(n){var a=n.body;n.header;0==a.errcode&&e(a),13==a.errcode&&((0,c.doLogin)(),r({code:a.errcode,message:t})),r({code:a.errcode,message:a.errmsg})}).catch(function(e){var t=e.code,n=e.message;r({code:t,message:n})})}).catch(function(e){return r({code:e,message:t})})})}function t(e,n){var r={expectPin:(0,i.base64encode)(encodeURIComponent(e)),fromtype:"x",sceneid:"521392394",atk:9,rurl:n},a={url:l.SWITCH_PIN,data:r};return(0,o.request)(a).then(function(e){var n=e.body;return 13==n.retcode?(0,c.doLogin)().then(function(){t()}):0==n.retcode?Promise.resolve({code:0,message:"切换成功"}):Promise.reject({code:n.retcode,message:n.errmsg})}).catch(function(e){var t=e.code,n=e.message;return Promise.reject({code:t,message:n})})}function n(e){if(null!=e){var t=/\d*/i;return e.match(t)==e}return!1}function r(e,t){var n=["日","一","二","三","四","五","六"],r=function(e,t){for(var n=0,r=t-(e+"").length;n<r;n++)e="0"+e;return e+""};return t.replace(/yyyy|YYYY/,e.getFullYear()).replace(/yy|YY/,r(e.getFullYear()%100,2)).replace(/mm|MM/,r(e.getMonth()+1,2)).replace(/m|M/g,e.getMonth()+1).replace(/dd|DD/,r(e.getDate(),2)).replace(/d|D/g,e.getDate()).replace(/hh|HH/,r(e.getHours(),2)).replace(/h|H/g,e.getHours()).replace(/ii|II/,r(e.getMinutes(),2)).replace(/i|I/g,e.getMinutes()).replace(/ss|SS/,r(e.getSeconds(),2)).replace(/s|S/g,e.getSeconds()).replace(/w/g,e.getDay()).replace(/W/g,n[e.getDay()])}function a(e){switch(e){case-1:return"未注册";case 50:case 59:return"注册";case 56:return"铜牌";case 60:case 61:return"银牌";case 62:return"金牌";case 63:return"钻石";case 64:return"经销商";case 110:return"VIP";case 66:return"京东员工";case 88:case 103:case 104:case 105:return"钻石";case 90:return"企业";case 5001:case 5002:case 5003:case 5004:case 5005:return"店铺VIP";case 6010:return"PLUS试用";case 6020:return"PLUS正式";default:return"未知"}}function s(e){if(!e)return!1;try{return JSON.parse(e.replace("\t",""))}catch(e){return!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initPromoteData=exports.switchPin=exports.queryPinStatus=exports.checkPinStatus=void 0;var o=require("../../common/request/request"),i=require("../../common/base64/base64"),c=require("../../common/login/login"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(require("../../common/navigator")),l={QUERY_PIN_STATUS:"https://wq.jd.com/pinbind/QueryPinStatus",SWITCH_PIN:"https://wq.jd.com/pinbind/switchAccount"};exports.checkPinStatus=function(n){var r=n.loginText||"您当前登录的是临时账号，为了您的资产安全，请先登录京东账号",a=n.switchText||"您当前登录的是临时账号，为了您的资产安全，先切换至您的京东账号",s=n.sceneId||521194460,o=n.pageUrl||"/pages/item/detail/detail",i=n.skuId;return new Promise(function(n,c){e({message:"网络错误，请稍后重试"}).then(function(e){1==e.defaultFlag?1==e.state||2==e.state||4==e.state?wx.showModal({title:"温馨提示",content:r,showCancel:!0,confirmText:"去登录",confirmColor:"#E93B3D",success:function(e){e.confirm?u.goto("/pages/my_pages/account/account",{sceneid:s}):e.cancel&&c({status:!1})},fail:function(){c({status:!1})}}):3==e.state&&wx.showModal({title:"温馨提示",content:a,showCancel:!0,confirmText:"去切换",confirmColor:"#E93B3D",success:function(r){if(r.confirm){var a=e.pinList.find(function(e){return 0==e.defaultFlag}),s=a?a.pin:"";t(s,o+"?sku="+i).then(function(e){n({status:!0,pin:s})}).catch(function(e){c({status:!1,message:"切换失败，请稍后重试"})})}},fail:function(){c({status:!1})}}):n({status:!0,pin:e.pin||""})}).catch(function(e){c({status:!1,message:e.message||""})})})},exports.queryPinStatus=e,exports.switchPin=t,exports.initPromoteData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.pis&&e.pis.length){var o=[],i={};try{for(var u,l,f,g=e.pis,p={1:"会员特价",3:"限购",4:"京豆优惠购",6:"赠券",7:"赠京豆",9:"限制",10:"赠品",11:"封顶",15:"满减",16:"满送",17:"加价购",18:"满赠",19:"多买优惠",20:"团购",23:"跨店铺满免",29:"赠品池",36:"跨店铺满折",60:"换购",80:"PLUS赠品"},m={15:["17"],16:["2","25","26","30","31","32","34","35"],17:["4","12","29"],18:["5","6","11","21","28"],19:["23"],23:["16"],36:["20","22"]},d=0,h=!1,v=0,P=g.length;v<P;v++)if(u=g[v],l=(u.pid||"").split("_"),!~(f=(u.etg||"").split(",")).indexOf("11"))for(var S in u){if(t.isPingou&&n(S)){if(!["15","16","17","18","19","23","36","60","10"].includes(S.toString()))break;if(m[S]){var x=JSON.parse(u.subextinfo);if(u.subextinfo&&x&&x.subExtType&&m[S].includes(x.subExtType.toString()))break}}if(n(S)&&p[S]){~"15,16,17,18,19,23,36,60".indexOf(S)&&d++;var y={},w=u.adurl,O=p[S],b=(u[S]||"").replace(/(\.00|\.0[^\d])/g,""),D=~b.indexOf("!@@!")?b.split("!@@!"):[];if("1"==S){if(D.length>0){var I=~f.indexOf("16"),T=1*D[0];c.isLogin?"1"==e.hit?(b="您享受"+a((~" 5001 5002 5003 5004 5005 ".indexOf(" "+T+" ")?1*e.vl:~" 6010 6020 ".indexOf(" "+T+" ")?1*e.pl:1*e.jl)||T)+"会员"+(I?"专享":"")+"价：￥"+D[1],!I||50!==T&&59!==T||(O="新人专享",b="您可享受新用户专享价：￥"+D[1])):b=I?"未知":"成为"+a(T)+"会员可享受会员价，最低￥"+D[1]+"起":b=I?"请登录 确认是否可享受该优惠":a(T)+"会员可享受会员价，最低￥"+D[1]+"起"}else b="未知";~b.indexOf("PLUS")&&(b="未知")}else if("10"==S||"29"==S||"80"==S){if(!(b=s(D.length>0?D[0]:b))||!b.length){b="未知";break}var N=b.filter(function(e){return e&&2===e.gt&&e.num>0});if("10"===S||"80"===S)N.length>0?("10"===S&&u.customtag&&JSON.parse(u.customtag)[2]?y.name="组套商品":y.name=O,y.title=("80"===S?"PLUS会员购买即赠热销商品":"购买即赠热销商品")+N.length+"件"+(D.length>0?" "+D.slice(1).join("，"):"，赠完即止"),y.content=N):b="未知";else{var q=u.customtag&&"1"==JSON.parse(u.customtag).ifg,_={},L=0;if((N=N.filter(function(e){return e.pno})).length>0)for(var M,U=0,Y=N.length;U<Y;U++)_[(M=N[U]).pno]||(_[M.pno]={pno:M.pno,poolName:M.poolName,list:[]},L++),_[M.pno].list.push(M);if(b="未知",L>0){var k=[];for(var j in _)_.hasOwnProperty(j)&&k.push(_[j]);i.poolList=k,i.poolFlag=q}}}else if("15"==S||"23"==S||"36"==S){var C=(new Date).getTime();~f.indexOf({15:"4",23:"9",36:"14"}[S])&&(O={15:"跨店铺满减",23:"跨店铺满免",36:"跨店铺满折"}[S],b=1e3*u.st<C?"【"+O+"进行中】"+b:r(new Date(1e3*u.st),"mm月dd日hh:ii")+"该商品参加"+O+"活动，"+b)}for(var H=0;H<f.length;H++)if(25==f[H]||26==f[H]||27==f[H]){var J=(new Date).getTime();O={25:"跨自营/店铺满减",26:"跨自营/店铺满免",27:"跨自营/店铺满折"}[f[H]],1e3*u.st<J?(u.customtag&&JSON.parse(u.customtag).mli&&(O=JSON.parse(u.customtag).mli),b="【"+O+"进行中】"+b):b=r(new Date(1e3*u.st),"mm月dd日hh:ii")+"该商品参加"+O+"活动，"+b,h=!0;break}if("未知"!==b){if(y.name||(y.name=O,y.content=b),w||(y.sale=h),y.activityId=l[0]||"","3"==S){var E=u.customtag&&JSON.parse(u.customtag)||{};y.activityType=l[1]||"",y.price=E.p||""}o.push(y)}}}return i.count=d,i.promote=o,i}catch(e){return console.log("[商详]",e),!1}}}; 
 			}); 
		define("models/pay/address_data_model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchAddressList=void 0;var e=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("./pay_request.js"));exports.fetchAddressList=function(t,r){"function"==typeof t&&(r=t);var s=t=t||{};s.t=Date.parse(new Date),e.get("https://wqdeal.jd.com/deal/recvaddr/getrecvaddrlistV3",s,{success:function(e){r&&(0!=e.errCode?r(e,[]):r(null,e.list))},fail:function(e){r&&r(e,[])}})}; 
 			}); 
		define("models/pay/pay_request.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}function r(e,r,o,s,i){var c=2==(0,d.getCookie)("wxapp_type")?1305:619;if(e){var a={operation:e,result:s,message:0==s?"":App.payPageRefer+(i||""),bizid:c,traceid:App.traceId||""};t.umpBiz(a)}if(0!==r){var p={operation:r,result:s,message:0==s?"":App.payPageRefer+"["+e+"_"+o+"]"+(i||""),bizid:c,traceid:App.traceId||""};t.umpBiz(p)}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],d=arguments[2],p=arguments[3],u={};u.url=e,App.traceId&&(t.traceid=App.traceId),u.data=t;var n=c[e]?c[e].o1:a,f=c[e]?c[e].o2:a,v=(e||"").substr(-20);99==n&&console.log("接口未监控:"+e),s.request.get(u).then(function(s){var c=s.body,a=7770;void 0!==c.errId?a=c.errId:void 0!==c.errCode?a=c.errCode:void 0!==c.errcode?a=c.errcode:void 0!==c.errno?a=c.errno:void 0!==c.retcode?a=c.retcode:void 0!==c.ret?a=c.ret:void 0!==c.iRet&&(a=c.iRet);var u=c.errMsg||c.msg||c.retmsg;0==a?(r(n,f,v,0),d&&d.success&&d.success(c,t)):p||13!=a?(r(n,f,v,a||1,"[yw]"+u),d&&d.success&&d.success(c,t)):i.doLogin().then(function(){o(e,t,d,!0)},function(e){d&&d.success&&d.success(c,t)})},function(e){e.errId=e.code,e.errMsg=e.message,r(n,f,v,e.errId,"[wg]"+e.errMsg+"("+e.code+")"),d&&d.fail&&d.fail(e,t)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=void 0;var t=e(require("../../common/fe_report/usability.js")),s=require("../../common/request/request.js"),i=e(require("../../common/login/login.js")),d=require("../../common/cookie-v2/cookie.js"),c={"https://wq.jd.com/jdpaygw/wxsapay":{o1:27,o2:99},"https://wqdeal.jd.com/deal/recvaddr/getrecvaddrlistV3":{o1:20,o2:99},"https://wq.jd.com/user/info/SecurityPwd":{o1:37,o2:99},"https://wq.jd.com/dfpaygw/wxsapay":{o1:48,o2:99},"https://wq.jd.com/bases/daifu/view":{o1:45,o2:99},"https://wq.jd.com/bases/daifu/find":{o1:46,o2:99},"https://wq.jd.com/bases/daifu/confirm":{o1:47,o2:99}},a=99;exports.get=o; 
 			}); 
		define("models/pay/recharge-pay.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a.default=e,a}(require("./wechat_pay")),a=require("../../common/fe_report/usability"),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../../common/wxcontext")),n=i.default.isXCX,l={ACCOUNT_DRK:"wxae3e8056daea8727",ACCOUNT_GWQ:"wxbb46510af80cea38",ACCOUNT_PG:"wx91447d654a7aea76",WXAPP_JD:"wx91d27dbf599dff74",WXAPP_PG:"wxca1fe42a16552094",WXAPP_GWQ:"wxf9a14e8a92b51ceb",APP_PG:"wx2c49e82e87e57ff0"},o=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,a.umpBiz)({bizid:1250,operation:e,result:i,message:n})};exports.default={pay:function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n){var s=2==i.default.JD.cookie.get("wxapp_type")?l.WXAPP_PG:l.WXAPP_JD;return new Promise(function(i,n){e.requestPay(s,a,function(e,a,l){e&&e.msg?(n(e.msg),"requestPayment:fail cancel"===e.errMsg?o(6,1,e.msg):o(6,2,e.msg)):null==e?(i(l),o(6,0,"支付成功")):(n("支付失败,请稍候再试!"),o(6,3,"支付失败"))})})}return new Promise(function(i,n){var s=window.JD.device.scene,c="mobile"===s||"jdm"===s,u=window.JD.url.getUrlParam("ufc"),p=r||"//wqs.jd.com/order/n_detail_v2.shtml?ufc="+u+"&deal_id="+a+(c?"&sceneval=2":""),d="";switch(s){case"jdpingou":d=l.APP_PG;break;case"weixin":d=l.ACCOUNT_PG;break;case"qq":case"jdm":case"mobile":d=l.ACCOUNT_DRK}if("jdpingou"===s)try{e.pingouAppWxPay({dealId:a,appid:d,color:!0,isM:!0,wgCallback:function(e){"0"!=e.errno&&(n("支付失败,请稍候再试"),o(9,1,"支付网关失败"))},jsapiCallSuc:function(){i(),o(9,0,"调用支付成功")},jsapiCallNormalErr:function(){n("支付失败,请稍候再试"),o(9,2,"普通错误类型")},jsapiCallCancel:function(){n("支付失败,请稍候再试"),o(9,3,"用户点击取消并返回")},jsapiCallSendErr:function(){n("支付失败,请稍候再试"),o(9,4,"发送失败")},jsapiCallAuthErr:function(){n("支付失败,请稍候再试"),o(9,5,"授权失败")},jsapiCallNoSup:function(){n("此笔订单暂不支持微信支付，请选择其他支付方式"),o(9,6,"微信不支持")},jsapiCallErrBan:function(){n("支付失败,请稍候再试"),o(9,7,"ErrBan")},jsapiCallErr:function(){n("支付失败,请稍候再试"),o(9,8,"其他错误")}})}catch(e){console.error(e),n("支付失败,请稍候再试"),o(9,9,"未知捕获错误"+(e?e.message:""))}else if("qq"===s)e.qqPay({dealId:a,appid:d,isM:c,backUrl:p,wgCallback:function(e){"0"==e.errno||(n("支付失败,请稍候再试!"),o(8,103,"支付网关失败"))},jsapiCallSuc:function(){i(),o(8,0,"调用支付成功")},jsapiCallFail:function(e){n("支付失败,请稍候再试"),e&&e.resultCode?-1==e.resultCode?o(8,101,"QQ支付:未知错误"):1==e.resultCode?o(8,1,"QQ支付:下单失败"):2==e.resultCode?o(8,2,"QQ支付:支付失败"):3==e.resultCode?o(8,3,"QQ支付:发货失败"):4==e.resultCode?o(8,4,"QQ支付:网络错误"):5==e.resultCode?o(8,5,"QQ支付:登录失败或无效"):6==e.resultCode?o(8,6,"QQ支付:用户取消"):7==e.resultCode?o(8,7,"QQ支付:用户关闭IAP支付"):o(8,e.resultCode,"QQ支付:未知resultCode"):o(8,102,"未知错误")}});else if(c)e.wxH5Pay({dealId:a,appid:d,isM:c,backUrl:p,wgCallback:function(e){"0"==e.errno||n("支付失败,请稍候再试!")}});else{var f=function(){e.wxPay({dealId:a,appid:d,isM:c,backUrl:p,iswxapp:!1,replaceHistory:!0,wgCallback:function(e){"0"==e.errno||(n("支付失败,请稍候再试!"),o(7,10,"支付网关失败"))},jsapiCallCancel:function(){n("支付失败,请稍候再试!"),o(7,1,"jsapi取消支付回调")},jsapiCallSuc:function(){i(),o(7,0,"支付成功")},jsapiCallFail:function(){n("支付失败,请稍候再试"),o(7,2,"jsapi失败")},jsapiCallNosup:function(){n("此笔订单暂不支持微信支付，请选择其他支付方式"),o(7,3,"jsapi不支持")},jsapiCallNoright:function(){n("支付失败,请稍候再试"),o(7,4,"jsapi调用错误")},jsapiCallElse:function(){n("支付失败,请稍候再试"),o(7,5,"jspi其他错误")}})};window.JD&&window.JD.wxapp?window.JD.wxapp.isWxapp(function(e){if(e){var i="/pages/wechatpay/index?dealId="+a+"&price="+t+"&failRedirectUrl="+encodeURIComponent("https:"+r)+"&source=wfcz";window.JD.wxapp.goto(i,"navigateTo")}else f()}):f()}})}}; 
 			}); 
		define("models/pay/wechat_pay.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e,t,n){var r={};r.appid=e,r.dealId=t,r.t=Date.parse(new Date),i.get("https://wq.jd.com/jdpaygw/wxsapay",r,{success:function(e){a(e,n)},fail:function(e){e.__dealId=o,n(e,o)}})}function a(e,t){if(0==e.errno){var a=e.data;wx.requestPayment({timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign,success:function(e){t(null,o)},fail:function(e){(e=e||{}).cgiFrom="native-wechat-api",t(e,o)},complete:function(e){}})}else t(e,o)}function n(e,t,a){var n={};n.appid=e,n.dealId=t,n.t=Date.parse(new Date),i.get("https://wq.jd.com/jdpaygw/wxmwebpay",n,{success:function(e){r(e,a)},fail:function(e){e.__dealId=o,a(e,o,"QB")}})}function r(e,t){if(0==e.errno){var a=e.data;wx.requestPayment({package:c.getUrlParam("package",a.mweb_url),prepay_id:c.getUrlParam("prepay_id",a.mweb_url),referer:"http://wqs.jd.com",success:function(e){t(null,o,"QB")},fail:function(e){t(e,o,"QB")},complete:function(e){}})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.requestPay=void 0;var i=e(require("./pay_request.js")),c=e(require("../../common/utils.js")),o=void 0;exports.requestPay=function(e,a,r){o=a,wx.getSystemInfoSync().isQB?n(e="wxae3e8056daea8727",a,r):t(e,a,r)}; 
 			}); 
		define("pages/base.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base=void 0;var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),o=e(require("../api/Ptag/Ptag_constants")),n=require("../api/Ptag/Ptag_utils"),a=require("../api/Ptag/report_manager"),i=e(require("../common/fe_helper.js")),s=e(require("../common/biz.js")),u=e(require("../common/toast/toast.js")),c=require("../common/fe_report/speed.js"),p=e(require("../common/fe_report/usability.js")),l=require("../common/request/request.js"),d=e(require("../common/navigator.js")),f=function(){function e(){t(this,e),this.helper=i,this.biz=s,this.toast=u,this.us=p,this.$request=l.request,this.$goto=d.goto}return r(e,[{key:"$report",value:function(e,t,r){r=r||{},2==arguments.length&&"[object Object]"==Object.prototype.toString.call(t)&&(r=t,t=!1),t&&(e=/[?&]?ptag=([\d.]+)&?/i.exec(t)[1]||e),/^[\d.]+$/.test(e)||(this.PtagMap&&(e=this.PtagMap[e]),e=o[e]),e&&n.PtagUtils.addPtag(e,r)}},{key:"$setReportPage",value:function(e,t){var r=o[e];r&&a.ReportManager.setCurrentPageAndAddPv(r,t)}},{key:"__getRandomID",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(36).substring(2,15)}},{key:"$gotoCart",value:function(){this.$goto("/pages/cart/cart/cart","switchTab")}},{key:"speedInit",value:function(e,t){this._speed=new c.Speed(e,t),t&&this._speed.mark(1,t)}},{key:"speedMark",value:function(e,t){return this._speed&&this._speed.mark(e,t),this}},{key:"speedReport",value:function(){var e=this;setTimeout(function(){try{e._speed&&(e._speed.report(),delete e._speed)}catch(e){console.warn("speedReport",e)}},0)}}]),e}();exports.Base=f; 
 			}); 
		define("pages/cart/cart/actions.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function e(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}function a(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.actions=void 0;var i=function(){function t(t,e){var a=[],i=!0,o=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(i=(n=s.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},r=t(require("../models/model")),n=t(require("../common/ptag-constants")),s=require("../../../common/logger"),c=t(require("../../../common/toast/toast")),d=require("../common/select-mode"),u=t(require("../../../common/modal/modal")),h=require("../../components/message-box/index"),p=t(require("../../../common/user_info")),l=require("../models/data-store.js"),g=require("../../../common/numberp"),m=t(require("../../../common/login/login.js")),f=require("../common/util/utils"),v=require("../common/speed-handle"),y=l.DataStore.isForbidCallCartOptimal,T=l.DataStore.getCoudanParams,_=l.DataStore.getVenders,C=l.DataStore.getCartCacheByKey,S=new s.Logger("购物车商品列表"),I={pingouOnScrollToLower:function(t){},jdOnScrollToLower:function(t){},onPageTouchStart:function(t){},onPageTouchMove:function(t){},onPageTouchEnd:function(t){},_toggleTarBarFixed:function(t){var e=this._getDataSet(t).scrollTop;this.scrollTop||(this.scrollTop=0);var a=Math.abs(e-this.scrollTop)>5,i=e<this.scrollTop&&e>100,o=this.data.editable,r=!o&&i!=this.addrFixed&&a;o?(this.addrFixed&&(this.scrollTop=9999999),!this.addrFixed&&(this.scrollTop=0)):(a&&(this.addrFixed=i),a&&(this.scrollTop=e)),r&&i!=this.data.addrFixed&&this.setData({addrFixed:i})},_toggleBack2Top:function(t){var e=this._getDataSet(t).scrollTop>(1*getApp().systemInfo.screenHeight||667),a=this.data.back2topVisabled!==e;return a&&this.setData({back2topVisabled:e}),!!a&&{back2topVisabled:e}},back2top:function(){wx.pageScrollTo({scrollTop:0,duration:0}),this.setData({back2topVisabled:!1})},toggleEditMode:function(t){var e=this,i=this._getDataSet(t).cartType,o=void 0===i?this.data.curCartType:i,n=this.data.editable;if(!n){var s,c=r.getCartCache(o)||{},u=c.venders,h=c.summary,p=r.getSelectedItems(o),l=d.SelectMode.updateEditChecked({venders:u,summary:h,selections:p},o)||{};return this._showLoading(),this._renderer[o].update({venders:l.venders,mergeData:(s={},a(s,"cartData["+o+"].summary",l.summary),a(s,"editable",!n),s),renderCB:function(){e._hideLoading()}})}if(!this.hasEditChanged)return this.setData({editable:!1}),d.SelectMode.clean(o);this._showLoading(),this.hasEditChanged=!1;var g=C(o,"summary")||{},m=d.SelectMode.getSelections(o)||[],f=m.length,v=m.length&&!g.editChecked?"products":"all";return r.synCheckCmdy(v,f,m,o).then(function(t){e._hideLoading(),e.refreshLocalData({cart:t,commonData:{editable:!n},services:!0,opPromo:!0,cartassist:!0,cartType:o,updateSelMode:!1,cb:d.SelectMode.clean(o)})}).catch(function(t){e.setData({editable:!n},function(){return d.SelectMode.clean(o)}),S.error(t),e._hideLoading()})},loadRecommend:function(t){var e=this.data,i=e.curCartType,o=e.editable,n=(0,f.getProperty)(""+i,this.data.cartData)||{};if(!n.showRecommend&&!o){var s;!this._isPinGouApp&&this._showLoading(),this.setData((s={},a(s,"cartData["+i+"].showRecommend",!0),a(s,"pinlikeOpts["+i+"]",r.getPinlikeOpts(i)),s))}n.showRecommend&&this.jdOnScrollToLower&&this.pingouOnScrollToLower&&(i==r.CART_TYPE.JD?this.jdOnScrollToLower(t):this.pingouOnScrollToLower(t))},updateRecId:function(t){var e=this.recList?this.recList[t?1:0].recid:"";e&&this.setData({recommendOptions:{recommendId:e,skus:r.getRecSku()||"",clkRd:"7014.18.42"}})},onRecommendReady:function(t){var e=t.detail;this.recList=e.recList||[];var a=(0,f.getProperty)(this.data.curCartType+".venders",this.data.cartData);this.updateRecId(a&&a.length>0),this._hideLoading()},onRecommendAfterAdd2Cart:function(t){var e=t.detail;e.success&&(r.addPtag("7014.18.114",{sku_id:e.skuId}),this.refresh({scrollIntoView:"#"+e.domId||""}))},onRecommendError:function(t){var e=t.detail;(0,f.getProperty)("config.currentPageNum",e)||this._hideLoading()},_getOption:function(t,e,a){var i=null,n="vender"==e?r.getVenderById(t,a):"product"==e?r.queryProductByUUID(t,a):"";return n&&(n.type=e,i={apiName:1==n.checkType?"uncheckCmdy":"checkCmdy",params:o({},n)}),i},onCheck:function(t){var e=this,a=this._getDataSet(t),i=a.uuid,o=a.optype,s=a.vid,d=a.summary,u=a.cartType,h=void 0===u?this.data.curCartType:u;v.SpeedHandle.record(47),this._showLoading();var p=null;if("all"==o?p={apiName:1==d.checkType?"uncheckCmdy":"checkCmdy",params:{type:o}}:"product"!=o&&"vender"!=o||(p=this._getOption("product"==o?i:s,o,h)),!p)return S.error("未找到数据，可能是参数错误，请检查"),this._hideLoading(),c.show({page:this.page,icon:c.ICON.WARNING,content:"操作发生点意外，请下拉刷新后再试"});v.SpeedHandle.record(48),r[p.apiName](p.params,h).then(function(t){v.SpeedHandle.recordEnd(48),v.SpeedHandle.record(52),e.refreshLocalData({cart:t,services:!0,opPromo:!0,cartassist:!0,cartType:h,cb:function(){v.SpeedHandle.recordEnd(47),v.SpeedHandle.recordEnd(52),e._spdReport(),v.SpeedHandle.clear(),"all"==o&&r.addPtag(n.CART_CHECK_ALL),"product"==o&&r.addPtag(n.CART_CHECK)}})}).catch(function(t){c.show({page:e.page,icon:c.ICON.WARNING,content:t.message}),e._hideLoading(),S.error(t),v.SpeedHandle.clear()})},showCheckTips:function(t){var e=this._getDataSet(t).product;e&&e.unCheckToast&&c.show({page:this.page,icon:c.ICON.WARNING,content:e.unCheckToast})},onEditCheck:function(t){var e=this._getDataSet(t),i=e.uuid,o=e.optype,r=e.vid,n=e.checked,s=e.cartType,c=void 0===s?this.data.curCartType:s,u=i||r;d.SelectMode.select(o,u,!n,c),this.hasEditChanged=!0;var h=C(c,"summary")||{};return this._renderer[c].update({venders:_(c),mergeData:a({},"cartData["+c+"].summary.editChecked",h.editChecked),renderCB:this._hideLoading.bind(this)})},showCouponPanel:function(t){var e=this._getDataSet(t),a=e.vid,i=e.cartType,o=void 0===i?this.data.curCartType:i;this.setData({couponsData:{show:!0,vid:a,cartType:o}})},onCouponPanelClose:function(t){var e=this.data.couponsData.cartType;this.setData({couponsData:{show:!1}}),this._refreshIfNeeded(e)},onGiftsSubmit:function(t){var e=this,i=t.hasChanged,n=void 0!==i&&i,s=t.selections,d=void 0===s?[]:s,u=t.product,h=t.extralParam;if(n){var p=h.cartType||this.data.curCartType;this.setData(a({},"cartData["+p+"].loading",!0)),r.addCmdy(r.ACTIONS.GIFT_3C,o({},u,{listSelectGiftPoolGiftIds:d,cartType:p})).then(function(t){e.setData(a({},"cartData["+p+"].loading",!1)),e.refreshLocalData({cart:o({},t,{loading:!1}),cartType:p}),(0,f.nextTick)(function(){e.toast.show({page:e.page,icon:e.toast.ICON.SUCCESS,content:"赠品更改成功"})})}).catch(function(t){S.error(t),e.setData(a({},"cartData["+p+"].loading",!1)),e.toast.show({page:e.page,icon:c.ICON.WARNING,content:t.message||"赠品更改失败，请稍候再试"})})}},gotoSharePage:function(){var t=(0,f.getCookie)("nickName");this.$goto("/pages/h5/index",{url:"https://wqs.jd.com/my/cart/cart_share_v2.shtml?wxname="+t})},gotoSimilarPage:function(t){if(!this.data.editable){var e=this._getDataSet(t).sku;r.addPtag(n.CART_SIMILAR_CLK),this.$goto("/pages/h5/index",{url:"https://wqs.jd.com/search/searchsimilar.shtml?sceneid=3&sku="+e+"&ptag="+n.CART_SIMILAR_CLK})}},gotoAttachmentsDetail:function(t){if(!this.data.editable){var e=this._getDataSet(t).skuId;if(!e)throw Error("sku:"+e+"，未找到附件");r.addPtag(n.CART_GOTO_ATTACH_DETAIL),this.$gotoItem({sku:e}),this.closeSkuInfos()}},gotoGiftDetail:function(t){if(!this.data.editable){var e=this._getDataSet(t),a=e.skuId,i=e.uuid,o=e.cartType;if(!a&&!i)throw Error("sku:"+a+"，未找到赠品");if(a)r.addPtag(n.CART_GOTO_GIFT_DETAIL),this.$gotoItem({sku:a});else if(i){var s=r.queryProductByUUID(i,o);r.addPtag(n.CART_3C_GIFT_CLK),this.$goto("../subpack/gifts/index",{product:s,extralParam:{cartType:o},onSubmit:this.onGiftsSubmit.bind(this)})}this.closeSkuInfos()}},gotoItemDetail:function(t){if(!this.data.editable){var e=this._getDataSet(t),a=e.uuid,i=e.shopId,o=void 0===i?"":i,s=e.imgclk,c=e.product,d=e.cartType,u=a.split(/_/),h=u[u.length-1],p=c||r.queryProductByUUID(a,d);if(!h||!p)return S.error("uuid:",a,"未找到商品信息");var l={sku:h,cover:p.mainSku.image,name:p.mainSku.name,price:p.price/100,shopId:o},g=1==p.mainSku.isPinGouGoods;s?r.addPtag(n.CART_PRO_IMG_CLK):r.addPtag(n.CART_PRO_CONTENT_CLK),r.addPtag(n.CART_GOTO_DETAIL),this.$gotoItem(l,{isPingou:g})}},onTapPingouTag:function(t){r.addPtag(n.CART_PINGOU_CLK),this.gotoItemDetail(t)},gotoPopItemDetail:function(t){if(!this.data.editable){var e={sku:this._getDataSet(t).sku};r.addPtag(n.CART_GOTO_DETAIL),this.$gotoItem(e)}},gotoPromotionPage:function(t){if(!this.data.editable){var e=this._getDataSet(t).itemId,a=this.data.curCartType,i=r.queryItemByItemId(e,a);if(!i)return S.error("未找到有效的促销商品");var o=i.promotion.pid,s=i.suits.length?i.suits:i.products,c=r.isPinGouCart(a),d=+i.addMoney>0;if(24==i.fullType)return r.addPtag(n.CART_MH_CLK),r.addPtag(n.CART_MZ_CLK),this.$goto("/pages/search/subPackages/exchange/index",{activityId:o,from:"cart",ptag:n.CART_GOTO_EXCHANGE_PAGE,pingouchannel:c,fromcart:1});if(o&&s.length){var u=s.find(function(t){return""!=t.selectPromotion.value}).selectPromotion.value||"",h=3==i.polyType?0:4==i.polyType?d?2:1:void 0;return"查看活动"==i.actLineTitle||"去凑单"==i.actLineTitle?r.addPtag(n.CART_ADDON_ITEM_CLK):r.addPtag(n.CART_JGJ_CLK),this.$goto("/pages/search/subPackages/sales/sales",{actId:o,tips:u,ptag:d?n.CART_DISCOUNT_PAGE:n.CART_GIFT_PAGE,promoType:h,pingouchannel:c,fromcart:1})}}},gotoShopPage:function(t){if(!this.data.editable){var e=this._getDataSet(t),a=e.vid;return 1!=e.vtype?this.$goto("/pages/shop/index/index",{venderId:a}):void 0}},showPromotionPanel:function(t){if(!this.data.editable){r.addPtag(n.CART_CLICK_PROMOTION);var e=this._getDataSet(t),a=e.uuid,i=e.product,o=e.cartType,s=i||r.queryProductByUUID(a,o);if(!s)throw Error("uuid："+a+"，商品未找到");s.selectPromotion.list.length&&this.setData({promotion:{uuid:a,list:s.selectPromotion.list}})}},onPromoSelected:function(t){var e=this,a=this._getDataSet(t.detail),i=a.uuid,o=a.pid,s=this.data.curCartType,d=r.queryProductByUUID(i,s);if(!d)return this.setData({promotion:{list:[]}});var u=!["-100","-300"].includes(o);r.addPtag(u?n.CART_SWITCH_PROMOTION:n.CART_PROMOTION_OUT),this._showLoading(),d.packId=o,r.modifyCmdyPromo(d,s).then(function(t){e.refreshLocalData({cart:t,commonData:{promotion:{list:[]},scrollIntoView:e.getScrollIntoViewId(i,d.isSuit,t.venders)||""},services:!0,opPromo:!0,cartType:s,renderAll:!0})}).catch(function(t){S.error(t),e.setData({promotion:{list:[]}},function(){return e._hideLoading()}),c.show({page:e.page,icon:c.ICON.WARNING,content:t.message})})},onOptionSwitchPromo:function(t){var e=this,a=t.detail.data,i="";a.uuid&&(i={scrollIntoView:"id_"+a.uuid}),this.refreshLocalData({cart:a,commonData:i,services:!0,opPromo:!0,cartType:this.data.curCartType,renderAll:!0,cb:function(){return c.show({page:e.page,icon:c.ICON.SUCCESS,content:"切换成功"})}})},onUseJDBean:function(t){var e=this,a=this._getDataSet(t),i=a.uuid,s=a.product,d=a.cartType,u=void 0===d?this.data.curCartType:d,h=s||r.queryProductByUUID(i,u),p=r.getBalanceBeans();if(h){var l=0==h.isUsedJBeanPromo;if(""!==p&&l&&+p<+h.jdBeanPromo.needJdBeanNum)return c.show({page:this.page,icon:c.ICON.ERROR,content:"您的京豆余额不足，无法参加活动"});h.beanOrMemberPromoId=l?h.jdBeanPromo.promoId:-1,r.addPtag(l?n.CART_USE_JDBEAN_SUBMIT_CLK:n.CART_USE_JDBEAN_CANCE_CLK),r.addPtag(n.CART_USE_JDBEAN_CLK),this._showLoading(),r.modifyCmdyPromo(h,u).then(function(t){var a=l?"兑换优惠成功，单个商品已优惠"+h.jdBeanPromo.discount/100+"元":"取消兑换成功，京豆已返还到您的账户上",r=e.updatePinGouInfos(i,u);e.refreshLocalData({cart:o({},t,{pinGouInfos:r}),commonData:{scrollIntoView:e.getScrollIntoViewId(i,s.isSuit,t.venders)||""},services:!0,opPromo:!0,cartType:u,renderAll:!0}),c.show({page:e.page,icon:c.ICON.SUCCESS,content:a})}).catch(function(t){e._hideLoading(),c.show({page:e.page,icon:c.ICON.WARNING,content:t.message})})}},add:function(t){var e=this._getDataSet(t),a=e.uuid,i=e.product,o=e.cartType,n=i||r.queryProductByUUID(a,o);if(!n)throw Error("uuid:"+a+"，未找到商品");var s=+n.num+1;s<=(n.isSuit?+n.maxNum:+n.mainSku.maxNum)&&this._doUpdateNum(Object.assign({},n),s,o)},sub:function(t){var e=this._getDataSet(t),a=e.uuid,i=e.product,o=e.cartType,n=i||r.queryProductByUUID(a,o);if(!n)throw Error("uuid:"+a+"，未找到商品");var s=+n.num,c=s-1;s>(n.isSuit?1:+n.mainSku.lowestBuy||1)&&this._doUpdateNum(Object.assign({},n),c,o)},showInputMask:function(){this.setData({showInputMask:!0})},hideInputMask:function(){this.setData({showInputMask:!1})},updateNum:function(t){var e=this._getDataSet(t),o=e.value,n=e.uuid,s=e.product,d=e.cartType,u=void 0===d?this.data.curCartType:d,h=n.split(/_/),p=i(h,1)[0],l=r.getVenderById(p,u),g=s||r.queryProductByUUID(n,u);if(!g)throw this.setData({showInputMask:!1}),Error("uuid:"+n+"，未找到商品");var m=r.queryItemByItemId(g.itemId,u),f=String(o).trim(),v=+g.num,y=f&&/^\d*$/.test(f),T=y?+f:v,_=g.isSuit?+g.maxNum:+g.mainSku.maxNum,C=Math.max(g.mainSku?+g.mainSku.lowestBuy:1,1),S="";if(y||this.setData(a({showInputMask:!1},"cartData["+u+"].venders["+l.index+"].list["+m.itemIndex+"]",m)),v===T)return this.setData({showInputMask:!1});T<C?C>1?(S="该商品最少需购买 "+C+" 件",T=C):T=1:T>_&&(S="单款最多可买 "+_+" 件",T=_),S&&c.show({page:this.page,icon:c.ICON.WARNING,content:S,duration:2500}),this._doUpdateNum(g,T,u)},_doUpdateNum:function(t,e,s){var d=this;r.addPtag(n.CART_EDIT_NUM),this._showLoading();var u=t.num;Object.assign(t,{num:e}),r.modifyCmdyNum(t,s).then(function(e){var a=d.updatePinGouInfos(t.uuid,s);d.refreshLocalData({cart:o({},e,{pinGouInfos:a}),commonData:{showInputMask:!1},services:!0,opPromo:!0,cartType:s})}).catch(function(e){S.error(e),Object.assign(t,{num:u});var n={},h=t.uuid.split(/_/),p=i(h,1)[0],l=r.getVenderById(p,s),g=r.queryItemByItemId(r.getItemId(t),s);l&&g&&Object.assign(n,a({},"cartData["+s+"].venders["+l.index+"].list["+g.itemIndex+"]",g)),c.show({page:d.page,icon:c.ICON.WARNING,content:e.message}),d.setData(o({showInputMask:!1},n),function(){return d._hideLoading()})}),r.addPtag(n.CART_EDIT_NUM)},showSwitchPrices:function(t){if(!this.data.editable){var e=this._getDataSet(t),a=e.uuid,i=e.cartType,o=void 0===i?this.data.curCartType:i,n=r.queryProductByUUID(a,o);n&&this.setData({switchPriceOpts:{show:!0,price:n.jdPrice,memberPrice:n.memberPrice,memberPriceType:n.memberPriceType,promoTag:n.promoTag,shopLevel:n.shopLevel||"",uuid:a}})}},onSwitchPricePanelClose:function(t){this.setData({switchPriceOpts:{show:!1}})},onSwitchPriceSelected:function(t){var e=this,a=this.data.curCartType,i=this._getDataSet(t.detail),n=i.uuid,s=i.name,d=r.queryProductByUUID(n,a),u=s===d.memberPriceType;if(!d)return this.onSwitchPricePanelClose(t);d.beanOrMemberPromoId=u?-1:-101,this.onSwitchPricePanelClose(t),this._showLoading(),r.modifyCmdyPromo(d,a).then(function(t){e.refreshLocalData({cart:o({},t,{pinGouInfos:e.updatePinGouInfos(n,a)}),opPromo:!0,services:!0,cartType:a,renderAll:!0})}).catch(function(t){e._hideLoading(),c.show({page:e.page,icon:c.ICON.WARNING,content:t.message})})},updatePinGouInfos:function(t,e){var a=r.queryProductByUUID(t,e),i=a&&!a.isSuit&&a.mainSku?a.mainSku.id:"",o=(0,f.getProperty)("cartData."+e+".pinGouInfos",this.data)||{},n=Object.assign({},o);if(i&&n&&n[i]){var s=a.show_price.join(".");n[i].priceDiff=(0,g.minus)(s,n[i].pinGouPrice)}return n},showSwitchSkuPanel:function(t){var e=this._getDataSet(t),a=e.uuid,i=e.product,o=e.cartType,s=void 0===o?this.data.curCartType:o,c=i||r.queryProductByUUID(a,s);if(!c)throw Error("切换sku-未找到 {$uuid} 商品");r.addPtag(n.CART_SWITCH_SKU_CLK);var d=c.mainSku.id,u=c.jdPrice,h=c.mainSku.image,p=c.num;this.setData({showSkuLayerFlag:!0,skuPanelData:{sku:d,price:u,totalNum:p,cover:h,hideSkuSwitch:c.isSuit||c.mainSku&&1==c.mainSku.locType,isSupportGift:!c.isSuit,initAddedServices:{extServices:c.selectedYanBaoList||[],jdServices:c.selectedJDHomeServiceList||[],giftServices:c.giftServiceSku&&c.giftServiceSku.id?[{id:c.giftServiceSku.id}]:[]},suitPackData:{},othersData:{oldProduct:c,cartType:s}}}),this.closeSkuInfos()},hideSwitchSkuPanel:function(t){this.setData({showSkuLayerFlag:!1,skuPanelData:{}})},onSkuChange:function(t){console.info("onSkuChange",t);var e=this._getDataSet(t),a=e.info,i=e.num,o=e.addedServices,s=void 0===o?{}:o,c=e.othersData,d=void 0===c?{}:c,u=d?d.oldProduct:null;if(!(d&&a&&a.sku&&u&&u.mainSku))return S.error("sku-layer传递的参数有误，操作被拒绝",{info:a,othersData:d}),this.hideSwitchSkuPanel(),this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"哎呀，操作发生点意外，请稍后再试"});var h=d.cartType,p=s||{},l=p.extServices,g=void 0===l?[]:l,m=p.jdServices,f=void 0===m?[]:m,v=p.giftServices,y=void 0===v?[]:v,T=[];if(g.forEach(function(t){return T.push({type:"ext_service",id:t.id})}),f.forEach(function(t){return T.push({type:"jd_service",id:t.id})}),y.forEach(function(t){return T.push({type:"gift_service",id:t.id})}),a.sku!==u.mainSku.id){var _={itemId:a.sku,mainSku:{id:a.sku},ptype:1,pid:"0",num:i,giftServiceSkuId:y.length?y[0].id:""};this.doReplaceProduct({oldProduct:u,newProduct:_,checkedServices:T,cartType:h})}else{var C=[],I=u||{},P=I.selectedYanBaoList,D=void 0===P?[]:P,w=I.selectedJDHomeServiceList,k=void 0===w?[]:w,R=I.giftServiceSku;D.forEach(function(t){return C.push({type:"ext_service",id:t.id})}),k.forEach(function(t){return C.push({type:"jd_service",id:t.id})}),R&&R.id&&C.push({type:"gift_service",id:R.id});var N=C.length&&T.length?C.filter(function(t){return!T.find(function(e){return e.id==t.id})}):C;(T.length!=C.length||!T.length||N.length)&&this.doReplaceServices({product:u,checkedServices:T,uncheckedServices:N,cartType:h})}this.hideSwitchSkuPanel(),r.addPtag(n.CART_SWITCH_SKU_SUBMIT)},doReplaceProduct:function(t){var e=this;this._showLoading(),r.replaceProduct(t).then(function(a){e.refreshLocalData({cart:a,commonData:{scrollIntoView:"top",showSkuLayerFlag:!1,skuPanelData:{}},cartassist:!0,services:!0,opPromo:!0,cartType:t.cartType})}).catch(function(t){c.show({page:e.page,icon:c.ICON.WARNING,content:t.message}),e._hideLoading()})},doReplaceServices:function(t){var e=this,a=t.product,i=t.cartType,n=t.checkedServices,s=void 0===n?[]:n,d=t.uncheckedServices,u=void 0===d?[]:d;a&&(s.length||u.length)&&(this._showLoading(),r.updateValueAddedServices({product:a,checkedServices:s,uncheckedServices:u,cartType:i}).then(function(t){e.refreshLocalData({cart:o({},t,{loading:!1}),services:!0,cartType:i}),c.show({page:e.page,icon:c.ICON.SUCCESS,content:"已成功更改服务"})}).catch(function(t){S.error(t),e._hideLoading(),c.show({page:e.page,icon:c.ICON.ERROR,content:t.message})}))},onRemoveJdService:function(t){var e=this,a=this._getDataSet(t),i=a.uuid,o=a.skuId,n=a.cartType,s=void 0===n?this.data.curCartType:n,d=r.queryProductByUUID(i,s);if(d){var u=[{type:"jd_service",id:o}];this._showLoading(),r.rmvInvalidJdService({product:d,services:u,cartType:s}).then(function(t){e._hideLoading(),e.refreshLocalData({cart:t,cartType:s}),e.closeSkuInfos()}).catch(function(t){e._hideLoading(),S.error(t),c.show({page:e.page,icon:c.ICON.ERROR,content:t.message})})}},onRemoveGift:function(t){var e=this,a=this._getDataSet(t),i=a.itemId,o=a.skuId,s=a.cartType,c=void 0===s?this.data.curCartType:s,d=r.queryItemByItemId(i,c);if(!d)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"该商品不存在，可能已经被删除"});var h=d.manGiftSkus?d.manGiftSkus.find(function(t){return t.id==o}):null;if(!h)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"该商品不存在，可能已经被删除"});var p={itemId:i,polyType:d.polyType,mainSku:{id:h.id},ptype:h.ptype,num:h.num,promotion:{pid:d.promotion.pid},vSkuId:d.vSkuId};u.show({title:"",content:"确认要删除该商品吗？",showCancel:!0,confirmText:"删除",success:function(){e._showLoading(),r.addPtag(n.CART_DELETE),r.rmvCmdy([p],c).then(function(t){e.refreshLocalData({cart:t,opPromo:!0,cartType:c}),e.toast.show({page:e.page,icon:e.toast.ICON.SUCCESS,content:"已成功删除商品"}),e._hideLoading()}).catch(function(t){e._hideLoading(),e.toast.show({page:e.page,icon:e.toast.ICON.WARNING,content:t.message})})}})},onSliderViewRemove:function(t){var e=this;r.addPtag(n.CART_SLIDER_VIEW_REMOVE);var a=this._getDataSet(t),i=a.uuid,o=a.product,s=a.cartType,c=void 0===s?this.data.curCartType:s,d=o||r.queryProductByUUID(i,c);if(!d)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"该商品不存在，可能已经被删除"});u.show({title:"",content:"确认要删除该"+(d.isSuit?"套装":"")+"商品吗？",showCancel:!0,cancelText:"取消",confirmText:"删除",success:function(){return e.onRemove({products:[d],cartType:c})}})},onRemove:function(t){var e=this,a=this._getDataSet(t),i=a.products,o=a.cartType,s=void 0===o?this.data.curCartType:o;if(!i||!i.length)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"商品不存在，可能已经被删除"});this._showLoading(),r.rmvCmdy(i,s).then(function(t){e.refreshLocalData({cart:t,opPromo:!0,cartType:s}),e.toast.show({page:e.page,icon:e.toast.ICON.SUCCESS,content:"已成功删除商品"}),e._hideLoading()}).catch(function(t){e._hideLoading(),e.toast.show({page:e.page,icon:e.toast.ICON.WARNING,content:t.message})}),r.addPtag(n.CART_DELETE)},onSliderViewOpen:function(t){r.addPtagExposure(n.CART_SLIDER_VIEW)},onSliderViewFav:function(t){var e=this,a=this._getDataSet(t),i=a.uuid,o=a.product,n=a.cartType,s=void 0===n?this.data.curCartType:n,c=o||r.queryProductByUUID(i,s);if(!c)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"该商品不存在，可能已经被删除"});u.show({title:"",content:"确认将该商品移至收藏？",showCancel:!0,cancelText:"取消",confirmText:"移至收藏",success:function(){return e.onFavorite({products:[c],cartType:s})}})},onFavorite:function(t){var e=this,a=this._getDataSet(t),i=a.products,o=a.cartType,n=void 0===o?this.data.curCartType:o;if(!i||!i.length)return!1;this._showLoading(),r.favorite(i,n).then(function(t){return r.rmvCmdy(t,n)}).then(function(t){e.refreshLocalData({cart:t,opPromo:!0,cartType:n}),e.toast.show({page:e.page,icon:e.toast.ICON.SUCCESS,content:"已成功移至收藏，请在［我的 - 商品收藏］查看"}),e._hideLoading()}).catch(function(t){e._hideLoading(),e.toast.show({page:e.page,icon:e.toast.ICON.WARNING,content:t.message})})},gotoFreightAddon:function(t){var e=this.data.curCartType,a=(0,f.getProperty)(e+".freightCoudan",this.data.cartData),i=a.category,o={1:n.CART_FREIGHT_NON_FRESH_CLK,2:n.CART_FREIGHT_FRESH_CLK,3:n.CART_FREIGHT_NON_FRESH_CLK};if(i&&o[i]){o[i]&&r.addPtag(o[i]),r.addPtag(n.CART_FREIGHT_ENTRY_CLK),1==a.fbp.statu&&r.addPtag(n.CART_FREIGHT_FBP_CLK);var s={3:0,2:1,1:2};return this.$goto("/pages/freight_addon/index",{category:s[i],params:T(s[i],e)})}},showFreightTips:function(t){var e=this.data.curCartType,a=this._getDataSet(t).cdtype,o=this.data.cartData[e].freightCoudan;if(r.addPtag(n.CART_FREIGHT_TIPS_CLK),a&&o[a]&&o[a].desc){var s=p.getAddress().areaName.split(/_/),c=i(s,2),d=c[0],u=void 0===d?"":d,l=c[1],g=void 0===l?"":l;h.MessageBox.show({title:"运费凑单说明",tpl:"tplFreigth",wrapCls:"freight",modal:!1,content:o[a].desc,list:[],area:u+g,buttons:[{text:"我知道了",handler:function(){h.MessageBox.hide()}}]})}},getScrollIntoViewId:function(t,a,o){var r="",n=t.split(/_/),s=i(n,4),c=s[0],d=s[3],u=o.find(function(t){return t.vid==c});return u&&u.list.forEach(function(t){[].concat(e(t.products),e(t.suits||[])).every(function(e){var i=e.mainSku?e.mainSku.id:e.vSkuId;return a!=e.isSuit||d!=i||(r="id_"+u.vid+"_"+t.polyType+"_"+t.itemId+"_"+i,!1)})}),r||o.forEach(function(t){t.list.forEach(function(i){[].concat(e(i.products),e(i.suits||[])).every(function(e){var o=e.mainSku?e.mainSku.id:e.vSkuId;return a!=e.isSuit||d!=o||(r="id_"+t.vid+"_"+i.polyType+"_"+i.itemId+"_"+o,!1)})})}),r},onOptionPromoShutdown:function(t){var e=t.detail.type;"promo"==e&&(this.userCloseOptionPrmo=!0),"plus"==e&&(this.userClosePlusOptionPrmo=!0)},_refreshOptionPromo:function(t,e){if(!(this._isPinGouApp||this.userCloseOptionPrmo&&this.userClosePlusOptionPrmo)){var a=this.selectComponent("#optionpromotions"),i=e||y(t);a&&(i?a.hidePromoTips():a.refresh())}},showSkuInfos:function(t){var e=this._getDataSet(t),a=e.uuid,i=void 0===a?"":a,o=e.product,s=e.cartType,c=o||r.queryProductByUUID(i,s);c&&c.attachText&&1==c.attachText.split(";").length&&c.giftSelNum&&r.addPtag(n.CART_ONLY_GIFT_CLK),r.addPtag(n.CART_EXTRA_INFO_CLK),c&&this.setData({skuInfoData:i})},closeSkuInfos:function(){this.data.skuInfoData&&this.setData({skuInfoData:""})},onTap2Login:function(){var t=this;this._showLoading(),m.doLogin({ignoreTimeLimit:!0}).then(function(){t._hideLoading();var e=t.data.curCartType;t._updateNeedRfreshFlag({mode:"anather",isNeedRefresh:!0,cartType:e}),t.refresh({cartType:e})},function(e){var a=r.getLoginErrorMsg(e);a&&t.toast.show({page:t,icon:t.toast.ICON.ERROR,content:a}),t._hideLoading()})},getLoginEvent:function(){this._updateNeedRfreshFlag({mode:"all",isNeedRefresh:!0})},showSwitchAddressPanel:function(){if(!this.data.editable){r.addPtag(n.CART_ADDR_CLK);var t=p.getAddress(),e=t.addressId,a=t.areaId;this.setData({addressOpts:{show:!0,adid:e,areaId:a}})}},onAddressPanelClose:function(t){var e=this,i=this._getDataSet(t).hasChanged;this.setData(a({},"addressOpts.show",!1),function(){i&&e._isPinGouApp&&e.toast.show({page:e.page,icon:e.toast.ICON.SUCCESS,content:"切换配送地址成功"})})},onAddressChange:function(t){var e=this.data.curCartType;this._updateNeedRfreshFlag({mode:"anather",isNeedRefresh:!0,cartType:e}),this.refresh({cartType:e,fckr:1})},onReceiveCartfresh:function(t){var e=void 0;t.detail&&void 0!==t.detail.cartType?e=t.detail.cartType:(e=this.data.curCartType,this._updateNeedRfreshFlag({mode:"anather",isNeedRefresh:!0,cartType:e})),this.refresh(t.detail?t.detail:{cartType:e})},onReceiveCartChanged:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).detail||{},e=t.cartType,a=t.doRefresh;void 0===e&&(e=this.data.curCartType,this._updateNeedRfreshFlag({mode:"all",isNeedRefresh:!0})),a?this.refresh({cartType:e}):this._updateNeedRfreshFlag({mode:"single",isNeedRefresh:!0,cartType:e})},gotoCouponPromotion:function(t){if(!this.data.editable){var e=this._getDataSet(t),a=e.batchId,i=e.couponKind,o=e.vid,r=e.startTime,n=e.endTime,s=0==i?this._isPinGouApp?"/pages/pingou/cate/cate":"/pages/cate/cate":2==i?"/pages/shop/index/index":"/pages/search/subPackages/coupon/coupon";this.$goto(s,{venderId:o,batch:a,from:"cart",kind:i,startTime:r,endTime:n})}},showQuickClearPanel:function(t){r.addPtagExposure("7014.29.13"),this.setData({quickClearOptions:{show:!0}})},onQuickClearPanelClose:function(t){var e=t.detail,a=e.needRefresh,i=e.clearAll,o=this.data.curCartType;this.setData({quickClearOptions:{show:!1},showQuickCleanButton:!i}),i&&this.toggleEditMode({cartType:o}),a&&this.refresh({cartType:o})}};exports.actions=I; 
 			}); 
		define("pages/cart/cart/view.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){return{venders:[],summary:{},viewLoaded:!1,loading:!0,hasError:!1,services:{},pinGouInfos:{},flashPurchaseSkus:{},miaShaInfos:{},freightCoudan:{},skuInfoData:"",partition:{},showRecommend:!1,rafflag:0,btmLoading:!1,isJth:0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=void 0;var s=function(){function e(e,t){var r=[],a=!0,i=!1,s=void 0;try{for(var o,n=e[Symbol.iterator]();!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(i)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=require("../../../bases/page"),d=e(require("../../../common/user_info")),c=e(require("../common/ptag-constants")),p=require("../../../api/Ptag/report_manager"),h=e(require("../models/model")),u=require("../common/select-mode"),l=require("./actions"),g=require("../common/constants"),f=require("../common/util/utils"),T=require("../common/renderer.js"),_=require("../common/speed-handle"),v=require("../common/recovery.js"),m=require("../../../common/logger"),P=e(require("../../../common/login/login.js")),C=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../common/wxcontext")),y=new m.Logger("购物车 index"),A=void 0,R=h.getCurCartType(),D={NORMAL:1,PRELOAD:2,CACHE:3},S=5,w=(C.default.getSystemInfoSync()||{}).windowHeight||619;exports.init=function(){var e,m,E;new n.JDPage({_pageId:"",_needRefresh:(e={},a(e,g.CART_TYPE.JD,!1),a(e,g.CART_TYPE.PINGOU,!1),e),_renderer:(m={},a(m,g.CART_TYPE.JD,null),a(m,g.CART_TYPE.PINGOU,null),m),data:{autoNavBack:!0,isPinGouApp:h.isPinGouApp(),showQuickCleanButton:!1,showQuickNav:!1,navHeight:0,isSupportNav:!1,navBarData:{pageKey:"",isShowCapsule:!1,isCustom:!1,title:"购物车",marginTop:0,marginLeft:0},noLogin:!1,cartMap:g.CART_TYPE,curCartType:R,showInputMask:!1,back2topVisabled:!1,loginLayerData:{hasImportLoginComponents:!0,isHideCloseLayerButton:!1},addrFixed:!1,address:h.getUserCurAddress(),areaId:"",cartData:[h.isPinGouApp()?i():"",i()],cartsSkuCount:(E={},a(E,g.CART_TYPE.JD,0),a(E,g.CART_TYPE.PINGOU,0),E),pinlikeOpts:[],showTabbar:!1,editable:!1,theme:"theme",watermarkText:"",couponsData:{show:!1},showBanner:!1},onNavigate:function(e){var t=this,r=(e.page,e.url),a=e.params;if(!A&&"/pages/cart/cart/index"!=r){var i=this.getDefultCartType(a),s={loadMode:D.PRELOAD,showLoading:!1,cartType:i};h.isPinGouApp()?(s.adaptor=void 0===a.cartType?1:0,A=this._getList(s).then(function(e){return e})):h.canIUseCacheCartData(i).then(function(e){A=e?t._getCacheCartData(i):t._getList(s).then(function(e){return e})})}},onPreLoad:function(e){var t=this,r=(e.page,e.url,e.params),a=void 0===r?{}:r;void 0===A&&h.getGlobalConf("switch.preload").then(function(e){if(1==e){var r={loadMode:D.PRELOAD,showLoading:!1,renderPreload:!0,cartType:t.getDefultCartType(a)};A=t._getList(r).then(function(e){return e})}})},canAutoNavBack:function(e,t){var r=["pages/cart/cart/cart","pages/cart/cart/index"];return"/pages/cart/cart/cart"==t&&r.indexOf(e)>-1},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_.SpeedHandle.record(11),this._isPinGouApp=h.isPinGouApp();var t=this._isPinGouApp&&void 0===e.cartType?1:0;this.manualReportPV=!0;var r=this.getDefultCartType(e);this.setCurCartType(r),this._pageId=this.helper.getRandomID();var a=getCurrentPages(),i=a.length?a.pop().route:"";this.isTab="pages/cart/cart/index"===i,this.isNonTab="pages/cart/cart/cart"===i,this._renderer[g.CART_TYPE.JD]=new T.Renderer(this,"cartData["+g.CART_TYPE.JD+"]"),this._isPinGouApp&&(this._renderer[g.CART_TYPE.PINGOU]=new T.Renderer(this,"cartData["+g.CART_TYPE.PINGOU+"]")),A||(A=!1),this.initNavBar(),this.initCart({cartType:r,adaptor:t}),this._bindEvents(),this._registerGlobalAppEvents()},render:function(e,t){this.setData(e,t)},onTabItemTap:function(e){this.isTabItemTap=!0,h.addPtag(c.CART_TAB_CLK)},onUnload:function(){A=!1,getApp().event.off("showLoginMask_"+this._pageId),getApp().event.off("hideLoginMask_"+this._pageId),P.clearLoginPromise(),this._renderer[g.CART_TYPE.JD]&&this._renderer[g.CART_TYPE.JD].destory(),this._renderer[g.CART_TYPE.JD]=null,this._renderer[g.CART_TYPE.PINGOU]&&this._renderer[g.CART_TYPE.PINGOU].destory(),this._renderer[g.CART_TYPE.PINGOU]=null,delete this._renderer},onShow:function(){var e=this.data||{},t=e.curCartType,r=e.cartData,a=void 0===r?{}:r,i=e.couponsData,s=(0,f.getProperty)(t+".viewLoaded",a);s&&(this.hasCartChanged()&&this._updateNeedRfreshFlag({mode:"all",isNeedRefresh:!0}),i&&i.show?(this._updateNeedRfreshFlag({mode:"single",isNeedRefresh:!0,cartType:t}),this._refreshCouponPanel()):this._needRefresh[t]?(this._updateNeedRfreshFlag({mode:"single",isNeedRefresh:!1,cartType:t}),h.resetTraceid(),this.refresh({cartType:t})):this._renderer[t]&&!this._renderer[t].isAllRendered&&this._renderer[t].start({venders:h.getVenders()}),this._refreshBanner()),this.addPv(),this._isPinGouApp&&this.pgReport({cartType:this.data.curCartType,pvReport:!0,viewLoaded:s})},onHide:function(){this._renderer[g.CART_TYPE.JD]&&this._renderer[g.CART_TYPE.JD].pause(),this._renderer[g.CART_TYPE.PINGOU]&&this._renderer[g.CART_TYPE.PINGOU].pause(),this.setData({promotion:{list:[]},switchPriceOpts:{show:!1},editable:!1}),u.SelectMode.clean(),this._savePageState(),this.pullRefreshStatus&&"loading"!=this.pullRefreshStatus&&this._closePullRefresh(),_.SpeedHandle.clear()},onPageScroll:function(e){if(this.scrollIndex=e.scrollTop,!this._isPinGouApp&&this._toggleTarBarFixed&&this._toggleTarBarFixed(e),this._toggleBack2Top){var t=this._toggleBack2Top(e);t&&this.setData(t)}},onReachBottom:function(e){if(this.forbidReachBottom)this.forbidReachBottom=!1;else{var t=this.data.curCartType,r=this._renderer[t]?this._renderer[t]:null;r&&r.onReachBottom();var a=(0,f.getProperty)(t+".showRecommend",this.data.cartData);this.loadRecommend&&(a||!r||r.isAllRendered)&&this.loadRecommend(e)}},onPullRefresh:function(){var e=this;h.resetTraceid(),this.pullRefreshStatus="loading",this.refresh({cartType:this.data.curCartType,showLoading:!1},function(){e._closePullRefresh()})},onPullRefreshOpen:function(){this.pullRefreshStatus="open"},onPullRefreshClose:function(){this.pullRefreshStatus=""},_closePullRefresh:function(){var e=this.selectComponent("#pullrefresh");e&&e.reset(),this.pullRefreshStatus=""},hasCartChanged:function(){if(this._needRefresh&&this._needRefresh[g.CART_TYPE.JD]&&this._needRefresh[g.CART_TYPE.PINGOU])return!0;var e=(0,f.getServerTime)(),t=this.leaveCartTime;if(t&&e-t>=6e5)return!0;var r=(0,f.getCookie)("cartLastOpTime")||"";if(!r||1e3*+r>t)return!0;var a=(d.getUserAddressID()||"").replace(/-/g,"_"),i=(this.data||{}).areaId;if(i&&a!=i)return!0;var s=(0,f.getCookie)("jdpin");return!this.userPin||s!=this.userPin},addPv:function(){var e=this;this.isTab?(0,f.nextTick)(function(){if(e.isTabItemTap)if(e._isPinGouApp)e.data.ptag=c.CART_TAB_PV_JINGXI;else{var t=h.getCartNumFromCookie();e.data.ptag=t>0?c.CART_TAB_PV_WITH_NUM:c.CART_TAB_PV_WITHOUNT_NUM}p.ReportManager.setCurrentPageAndAddPv(),e.data.ptag="",e.isTabItemTap=!1},200):p.ReportManager.setCurrentPageAndAddPv()},pgReport:function(e){var t=e.cartType,r=e.tabClk,a=void 0!==r&&r,i=e.viewLoaded,s=void 0!==i&&i,o=e.pvReport;void 0!==o&&o&&h.addPtagExposure(t==g.CART_TYPE.JD?c.CART_JD_CART_PV:c.CART_PINGOU_CART_PV),a&&h.addPtag(t==g.CART_TYPE.JD?c.CART_JD_TAB_CLK:c.CART_PINGOU_TAB_CLK),s&&h.addPtag(t==g.CART_TYPE.JD?c.CART_JD_TAB_CONTENT_SHOW:c.CART_PG_TAB_CONTENT_SHOW)},setNavInfo:function(e){var t=this._getDataSet(e),r=t.navHeight,a=void 0===r?0:r,i=t.isSupportNav,s=void 0!==i&&i,o=t.capsuleWidth,n=void 0===o?0:o,d=t.capsuleMarginLeft,c=void 0===d?0:d,p=t.mainContentHeight,h=t.capsuleHeight,u=void 0===h?0:h;this.setData({navHeight:+a,navStatusBartHeight:a>0?+a-+p:0,navTitleHeight:+p,isSupportNav:s,"navBarData.marginLeft":+n+ +c,"navBarData.capsuleHeight":u})},initNavBar:function(){var e=o({},this.data.navBarData);this._isPinGouApp?(e.isCustom=!0,e.pageKey="pingou_cart_cart"):e.pageKey="wxapp_cart_cart";var t=getCurrentPages();"pages/cart/cart/index"!==(t.length?t.pop().route:"")&&(e.isShowCapsule=!0);var r=(getApp()||{}).systemInfo.system,a=void 0===r?"":r;e.marginTop=/ios/i.test(a)?4:8,this.setData({navBarData:e})},onHeadScreenLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0===e.cartType?this.data.curCartType:e.cartType,r=_.SpeedHandle.getSpeeds()||[],i=_.SpeedHandle.getSpeeds([11,5]),n=s(i,2),d=n[0],c=n[1];if(_.SpeedHandle.clear(),e.loadMode==D.PRELOAD&&e.renderPreload)this.refresh({cartType:t,loadNextPage:!0});else{var p=h.getVenders(t)||[];(0,f.getProperty)(t+".hasError",this.data.cartData)||this._refreshDelayData({cartassist:!0,cartType:t,isEmptyCart:!p||!p.length}),this._renderer[t].start({venders:p,mergeData:a({},"cartData["+t+"].loading",!1)})}A=!1,this._isPinGouApp&&this.pgReport({cartType:t,viewLoaded:!0}),this._exReport(o({},e.cart,{adapotorSuccess:e.adapotorSuccess,cartType:t})),this.speedReport();var u=e.loadMode,l=c?c.time:0,g=d?d.time:0;this.headScreenSpdReport({cartType:t,loadMode:u,spds:r,renderTime:l,loadTime:g})},headScreenSpdReport:function(e){var t=e.cartType,a=e.loadMode,i=e.spds,s=e.renderTime,o=e.loadTime,n=h.isPinGouApp(),d=i||[];if(!s||!o)return this._spdReport(d);var c=(0,f.getProperty)(t+".summary.skuNum",this.data.cartData)||0;if(n){var p=Math.floor(c/10)||0;if(t==g.CART_TYPE.JD){var u={0:19,1:20,2:21,3:22}[p]||23;d=[].concat(r(d),[{point:u,time:s},{point:24,time:s},{point:25,time:o}])}else{var l={0:12,1:13,2:14,3:15}[p]||16;d=[].concat(r(d),[{point:l,time:s},{point:a==D.PRELOAD?26:27,time:o},{point:a==D.PRELOAD?17:18,time:o}])}}else{var _=this._renderer[t].mode==T.RENDER_MODE.AUTO,v=void 0,m=void 0,P=void 0,C=void 0;a==D.PRELOAD?(m=21,v=17,P=_?32:40,C=_?33:41):a==D.CACHE?(v=30,m=31,P=_?34:42,C=_?35:43):(v=18,m=22,P=_?36:44,C=_?37:45);var A={0:23,1:23,2:24,3:25,4:26,5:27}[Math.floor(s/500)]||27;d=[].concat(r(d),[{point:A,time:s},{point:v,time:o},{point:m,time:s},{point:P,time:s},{point:C,time:o}])}this._spdReport(d),y.info("onHeadScreenLoaded: ","cartType: "+t+", lodeMode: "+a+",renderTime: "+s+", loadTime: "+o)},_spdReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.route||"",r={"pages/cart/cart/index":this._isPinGouApp?1739:600,"pages/cart/cart/cart":this._isPinGouApp?1740:1035}[t];if(r){var a=e||_.SpeedHandle.getSpeeds()||[];_.SpeedHandle.report(r,a),_.SpeedHandle.clear()}},_exReport:function(e){var t=this;setTimeout(function(){var r=0===e.venders.length;if(e.adapotorSuccess&&h.addPtag(c.CART_ADAPTOR_TAB),r)h.addPtagExposure(c.CART_EMPTY_PV);else if(h.addPtagExposure(c.CART_PV),e.summary&&e.summary.plusPromoStatus>0&&h.addPtagExposure(c.CART_SUMMARY_CASHBACK),t._isPinGouApp){var a=h.getCartsCount()||{},i=a[g.CART_TYPE.JD],s=a[g.CART_TYPE.PINGOU];h.addPtagExposure(c.CART_NUM_PV,{jd_cart_num:i,pingou_cart_num:s})}},50)},bubble:function(){},doAction:function(e){var t=this._getDataSet(e),r=t.trigger,a=t.action;r&&getApp().event.emit(r),this[a]&&this[a](e)},_getDataSet:function(e){return o({},e.currentTarget&&e.currentTarget.dataset,e.target&&e.target.dataset,e.detail,e)},_bindEvents:function(){for(var e in l.actions)l.actions.hasOwnProperty(e)&&!this[e]&&(this[e]=l.actions[e].bind(this));this._isPinGouApp&&(this.onPageScroll=this.utils.debounce(this.onPageScroll,500)),this.onPageTouchMove=this.utils.throttle(this.onPageTouchMove,200)},_registerGlobalAppEvents:function(){var e=[["showLoginMask_"+this._pageId,this._onLoginMaskShow],["hideLoginMask_"+this._pageId,this._onLoginMaskHide]],t=getApp(),r=!0,a=!1,i=void 0;try{for(var o,n=e[Symbol.iterator]();!(r=(o=n.next()).done);r=!0){var d=s(o.value,2),c=d[0],p=d[1];t.event.on(c,p.bind(this))}}catch(e){a=!0,i=e}finally{try{!r&&n.return&&n.return()}finally{if(a)throw i}}},initCart:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.ignorPreload&&(A=!1);var a=h.isPinGouApp(),i=void 0;i=A||a?A||this._getList(r):h.canIUseCacheCartData(r.cartType).then(function(t){return t?e._getCacheCartData(r.cartType):e._getList(r)}),Promise.all([i,h.getGlobalConf("switch")]).then(function(r){var i=s(r,2),o=i[0],n=i[1],d=o.cartType,c=o.cart,p=o.renderPreload,h=o.loadMode,u=o.adapotorSuccess,l=t(o,["cartType","cart","renderPreload","loadMode","adapotorSuccess"]),g=(0,f.getProperty)("raf_render",n),T=(0,f.getProperty)("jd_ui_2020_v1",n),v=a||1!=T?"theme":"theme-jd",m=(0,f.getProperty)("summary.skuNum",c)||0,P=(0,f.copyAttr)(c,"cartData["+d+"]",["venders"])||{};Object.assign(P,l,{theme:v,jdUiSwitch:T}),_.SpeedHandle.record(5),e._renderer[d].start({venders:c.venders,mergeData:P,total:m,isRafValid:1==g,limit:S,renderCB:function(t){_.SpeedHandle.recordEnd(5),_.SpeedHandle.recordEnd(11),e._renderer[d].pause();var r={cartType:d,renderPreload:p,loadMode:h,cart:c,adapotorSuccess:u};-1==t&&P?e.render(P,e.onHeadScreenLoaded.bind(e,r)):e.onHeadScreenLoaded(r)}})})},_getCacheCartData:function(e){var t={},r=h.getCartCache(e),s=i(),o={},n=h.isPinGouApp();for(var d in s)s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&(o[d]=r[d]);return Object.assign(s,o,{viewLoaded:!0,hasError:!1,showRecommend:r.summary&&r.summary.skuNum<S,loading:!1}),Object.assign(t,a({cart:s,loadMode:D.CACHE,cartType:e,cartsSkuCount:n?h.getCartsCount():[],address:h.getUserCurAddress(),showQuickCleanButton:!this._isPinGouApp&&s.summary.skuNum>=10,showQuickNav:!this.isTab&&!this._isPinGouApp&&s.venders.length,areaId:r.areaId||"",noLogin:!1},"pinlikeOpts["+e+"]",n&&s.showRecommend?h.getPinlikeOpts(e):{})),Promise.resolve(t)},_getList:function(e){var t=this,r=e||{},n=r.scrollIntoView,d=r.fckr,c=void 0===d?0:d,p=r.showLoading,u=void 0===p||p,l=r.renderPreload,g=void 0!==l&&l,f=r.loadMode,T=void 0===f?D.NORMAL:f;if(this._isCartViewloading)return Promise.reject();this._isCartViewloading=!0;var m=void 0===e.cartType?this.data.curCartType:e.cartType;u&&this.setData(a({},"cartData["+m+"].loading",!0)),_.SpeedHandle.record(4);var P=e.adaptor||0;return delete e.adaptor,h.getCartView({cartType:m,forceLogin:!g,adaptor:P,fckr:c}).then(function(e){_.SpeedHandle.recordEnd(4),t._isCartViewloading=!1;var r={},d=T==D.PRELOAD?i():Object.assign({},t.data.cartData[m]),c=_.SpeedHandle.getSpeeds([4,"cartviewlogin"]),p=s(c,2),u=p[0],l=p[1];_.SpeedHandle.clear(["cartviewlogin"]),l?(_.SpeedHandle.addPoint({point:t._isPinGouApp?28:38,time:l.time}),_.SpeedHandle.addPoint({point:t._isPinGouApp?29:39,time:u.time})):u&&_.SpeedHandle.addPoint({point:t._isPinGouApp?30:46,time:u.time}),P&&m!=e.cartType&&(m=e.cartType,h.setCurCartType(m),r.curCartType=m,r.adapotorSuccess=!0),e.venders&&0!=e.venders.length||Object.assign(r,{editable:!1}),!d.showRecommend&&e.summary.skuNum<10&&Object.assign(r,a({},"pinlikeOpts["+m+"]",h.getPinlikeOpts(m)));var f=!(!t._renderer||!t._renderer[m])&&t._renderer[m].isAllRendered,v=n||e.scrollIntoView||"",C=e.watermarkText,y=e.areaId;return delete e.watermarkText,delete e.scrollIntoView,delete e.areaId,Object.assign(d,o({},e,{hasError:!1,loading:g,showRecommend:f||e.summary.skuNum<S,viewLoaded:!0})),Object.assign(r,{cart:d,cartType:m,loadMode:T,renderPreload:g,showTabbar:!0,cartsSkuCount:h.getCartsCount(),address:e.address||h.getUserCurAddress(),noLogin:!1,showQuickCleanButton:!t._isPinGouApp&&e.summary.skuNum>=10,showQuickNav:!t.isTab&&!t._isPinGouApp&&e.venders.length,showBanner:!0,scrollIntoView:v,watermarkText:C,areaId:y,success:!0}),Promise.resolve(r)}).catch(function(e){_.SpeedHandle.clear([4,"cartviewlogin"]),t._isCartViewloading=!1,y.error(e);var r=T==D.PRELOAD?i():Object.assign({},t.data.cartData[m]),a=r.hasError||!r.venders.length,s=e&&13==e.errId;Object.assign(r,{hasError:a,viewLoaded:!0,loading:!1});var o={renderPreload:g,loadMode:T,cartType:m,cart:r,noLogin:s,showBanner:s||!a,success:!1};if(!o.renderPreload&&r.hasError){var n=h.isPinGouApp()?{pingouchannel:h.isPinGouCart(m)?1:0}:"";v.Recovery.apply(n)}return Promise.resolve(o)})},refresh:function(e,r){var a=this;void 0===e.cartType&&(e.cartType=this.data.curCartType),e.cart?this.refreshLocalData(e):this._getList(e).then(function(i){var s=i.cartType,n=(i.hasError,i.cart),d=i.scrollIntoView,c=i.adapotorSuccess,p=i.success,h=t(i,["cartType","hasError","cart","scrollIntoView","adapotorSuccess","success"]),u=(0,f.copyAttr)(n,"cartData["+s+"]",["venders"]);Object.assign(u,h),a._renderer[s].update({venders:n.venders,mergeData:u,total:n.summary.skuNum,loadNextPage:e.loadNextPage,renderCB:function(e){-1==e&&u&&a.render(u),(0,f.getProperty)(s+".hasError",a.data.cartData)||(d&&a._pageScrollTo({type:"selector",partten:d}),a._refreshDelayData({cartassist:!0,cartType:s,isEmptyCart:!n.venders||!n.venders.length})),p&&(a._spdReport(),a._exReport(o({},n,{adapotorSuccess:c,cartType:s}))),"function"==typeof r&&r()}})}).catch(function(e){console.log(e),"function"==typeof r&&r()})},refreshLocalData:function(e){var r,i=this,s=e.cart,n=e.commonData,d=e.cartType,c=void 0===d?this.data.curCartType:d,p=e.services,l=e.opPromo,g=e.cartassist,T=e.cb,_=void 0===T?{}:T,v=e.renderAll,m=e.updateSelMode,P=void 0===m||m;if(void 0!==c&&s){var C=s||{},A=C.venders,R=C.summary,D=t(C,["venders","summary"]),w={};if(this.data.editable&&A&&(0==A.length&&Object.assign(w,{editable:!1}),P)){var E=u.SelectMode.getSelections(c),O=u.SelectMode.updateEditChecked({venders:A,summary:R,selections:E},c)||{};A=O.venders,R=O.summary,this.hasEditChanged=!0}var b=(0,f.getProperty)(c+".showRecommend",this.data.cartData),L=b||this._renderer[c].isAllRendered||R.skuNum<S;Object.assign(w,o({},n,(0,f.copyAttr)(D||{},"cartData["+c+"]"),(r={cartsSkuCount:h.getCartsCount()},a(r,"cartData["+c+"].showRecommend",L),a(r,"cartData["+c+"].summary",R),r))),!b&&L&&Object.assign(w,a({},"pinlikeOpts["+c+"]",h.getPinlikeOpts(c)));var I=w.scrollIntoView?"#"+w.scrollIntoView:"";delete w.scrollIntoView,this._renderer[c].update({venders:A||[],mergeData:w,total:R.skuNum,renderAll:v,renderCB:function(e){-1==e&&w&&i.render(w),i._hideLoading(),I&&i._pageScrollTo({type:"selector",partten:I}),i._refreshDelayData({cartassist:g,services:p,opPromo:l,cartType:c,isEmptyCart:!A||!A.length}),"function"==typeof _&&_()}})}else y.error("refreshLocalData => cartType或cart值错误：",c,s)},_refreshIfNeeded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.curCartType;void 0!==e&&this._needRefresh[e]&&(this._updateNeedRfreshFlag({mode:"single",isNeedRefresh:!1,cartType:e}),this.refresh({cartType:e}))},_refreshCartGift:function(){getApp().event.emit("cart:cart-gift:refresh_"+this._pageId)},_refreshDelayData:function(e){var t=this,r=e.cartassist,a=void 0!==r&&r,i=e.opPromo,s=void 0===i||i,o=e.services,n=void 0===o||o,d=e.cartType,c=e.isEmptyCart,p=void 0!==c&&c;setTimeout(function(){void 0!==d&&(!p&&a&&t._refreshCartAsisst(d),!p&&n&&t._refreshServices(d),s&&t._refreshOptionPromo(d,p))},0)},_refreshCartAsisst:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===e||h.isPinGouCart(e))return"function"==typeof r&&r();h.getAssist(e).then(function(i){var s,o=i.pinGouInfos,n=i.flashPurchaseSkus,d=i.miaShaInfos;t.setData((s={},a(s,"cartData["+e+"].pinGouInfos",t._isPinGouApp?{}:o),a(s,"cartData["+e+"].flashPurchaseSkus",n),a(s,"cartData["+e+"].miaShaInfos",d),s),function(){"function"==typeof r&&r()});var p=h.getSpecialProCount(e),u=p.onlyGift,l=p.extraInfo;u&&h.addPtagExposure(c.CART_ONLY_GIFT),l&&h.addPtagExposure(c.CART_EXTRA_INFO)})},_refreshServices:function(e){var t=this;void 0!==e&&h.getYbItems(e).then(function(r){t.setData(a({},"cartData["+e+"].services",r));var i=r.entries;i&&Object.keys(i).length&&h.addPtagExposure(c.CART_SERVICES)})},_refreshCouponPanel:function(){var e=this.selectComponent("#popCouponsPanel");e&&e.refresh()},_refreshBanner:function(){var e=this.selectComponent("#banner");e&&e.refresh()},switchTab:function(e){var t=this,r=this._getDataSet(e).cartType;if(!this.data.editable&&void 0!==r&&this.data.cartData){if(!this.scrollCache){var i;this.scrollCache=(i={},a(i,g.CART_TYPE.JD,0),a(i,g.CART_TYPE.PINGOU,0),i)}var s=this.data,o=s.curCartType,n=s.cartData;h.setCurCartType(r),this.scrollCache[o]=this.scrollIndex||0;var d=this.scrollCache[r],c={curCartType:r,editable:!1};this._renderer[o].pause(),this.forbidReachBottom=!0,this.setData(c,function(){return t._pageScrollTo({type:"scrollTop",partten:d,complete:function(){t.forbidReachBottom=!1}})});var p=(0,f.getProperty)(r+".viewLoaded",n);p?this._needRefresh[r]?(this._updateNeedRfreshFlag({mode:"single",isNeedRefresh:!1,cartType:r}),this.refresh({cartType:r})):this._renderer[r].recover():this.initCart({cartType:r,adaptor:0,ignorPreload:!0}),this.pgReport({cartType:r,tabClk:!0,viewLoaded:p})}},getDefultCartType:function(e){var t=e.cartType;return R=h.getCurCartType(),h.isPinGouApp()&&(R=t==g.CART_TYPE.JD?g.CART_TYPE.JD:g.CART_TYPE.PINGOU),R},setCurCartType:function(e){h.setCurCartType(e),this.setData({curCartType:e})},_updateNeedRfreshFlag:function(e){var t=e.mode,r=e.isNeedRefresh,a=e.cartType;if("single"==t){if(void 0===a)return;this._needRefresh[a]=r}else if("all"==t)this._needRefresh[g.CART_TYPE.JD]=r,this._needRefresh[g.CART_TYPE.PINGOU]=r;else if("anather"==t){var i=a==h.CART_TYPE.JD?h.CART_TYPE.PINGOU:h.CART_TYPE.JD;this._needRefresh[i]=r}},_onLoginMaskShow:function(){(this.isTab||this.isNonTab)&&(!this.wxLoadingFlag&&console.warn("登录组件弹出，强制关闭购物车页微信loading"),C.default.hideLoading())},_onLoginMaskHide:function(){if(this.wxLoadingFlag){var e="",t=(getApp()||{}).systemInfo.platform,r=/android/i;t&&r.test(t)&&(e="处理中"),C.default.showLoading({title:e,mask:!0})}},_savePageState:function(){this.leaveCartTime=(0,f.getServerTime)(),this.userPin=h.getCachePin()},_requestAnimationFrameCB:function(e){var t=this._getDataSet(e).carttype;void 0===t&&(t=this.data.curCartType),this._renderer[t]&&this._renderer[t].onRafCallback(e)},_pageScrollTo:function(e){var t=e.type,r=e.partten,a=e.complete;if("selector"==t){var i=+this.scrollIndex||0,s=.35*w;this.createSelectorQuery&&C.default.pageScrollTo&&this.createSelectorQuery().select(r).fields({rect:!0},function(e){if(e){var t=i+e.top-s;C.default.pageScrollTo({scrollTop:t,duration:0,complete:a})}}).exec()}else"scrollTop"==t&&C.default.pageScrollTo({scrollTop:r,duration:0,complete:a})},_showLoading:function(){var e="",t=(getApp()||{}).systemInfo.platform,r=/android/i;t&&r.test(t)&&(e="处理中"),C.default.showLoading({title:e,mask:!0}),this.wxLoadingFlag=!0},_hideLoading:function(){C.default.hideLoading(),this.wxLoadingFlag=!1}})}; 
 			}); 
		define("pages/cart/common/constants.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _={SINGLE:1,SUIT:2,MF_SUIT:3,MZ_SUIT:4},O={NORMAL:1,SUIT:4,PROMO_MF_NORMAL:11,PROMO_MF_GIFT:10,PROMO_MF_VIRTUAL_SUIT:24,PROMO_MF_SUIT:9,PROMO_MZ_NORMAL:13,PROMO_MZ_ADD_GIFT:15,PROMO_MZ_REMOVE_GIFT:16,PROMO_MZ_VIRTUAL_SUIT:29,PROMO_MZ_SUIT:12},M={JD:1,PINGOU:0};exports.POLY_TYPES=_,exports.PRODUCT_TYPE=O,exports.CART_TYPE=M; 
 			}); 
		define("pages/cart/common/inject-requset.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetTraceid=exports.InjectRequest=void 0;var t=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=require("../../../common/request/request.js"),a=require("../../../common/traceid.js"),o={get:n.request.get,post:n.request.post,put:n.request.put,del:n.request.del},i=Symbol("bizId"),u=Symbol("operateId"),s=Symbol("emptyFn"),c=Symbol("injectFn"),d=Symbol("getOptions"),l=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e(this,n),!t||!r)throw Error("params bizId and operateId cannot be empty");this[i]=t,this[u]=r}return r(n,[{key:d,value:function(e){var t=n.getCurrentPage();return t?(t._traiceId||(t._traiceId=(0,a.genTraceId)({bizId:this[i],operateId:this[u]})),t._traiceId&&(Object.assign(e.data,{traceid:t._traiceId}),e.ump&&Object.assign(e.ump,{traceid:t._traiceId})),e):e}},{key:c,value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=n.pop(),u=t(i,1)[0],c=u.url,l=void 0===c?"":c,p=u.data,f=void 0===p?{}:p,v=u.ump,y=void 0===v?{}:v,g=u.speedPageId,h=void 0===g?"":g,m=u.speedSamplingRate,b=void 0===m?.1:m,I=u.cb,j=void 0===I?this[s]:I,q=this[d]({url:l,data:f,ump:y,speedPageId:h,speedSamplingRate:b}),S=o[e];if(!S)throw Error("not found function：",e);return S(q,j)}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this[c]("get",t)}},{key:"post",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this[c]("post",t)}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this[c]("put",t)}},{key:"del",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this[c]("del",t)}}],[{key:"getCurrentPage",value:function(){return getCurrentPages().pop()}}]),n}();exports.InjectRequest=l,exports.resetTraceid=function(){var e=getCurrentPages().pop();e&&e._traiceId&&delete e._traiceId}; 
 			}); 
		define("pages/cart/common/ptag-constants.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CART_PV="7014.18.13",exports.CART_EMPTY_PV="7014.18.14",exports.CART_GOTO_DETAIL="7014.18.1",exports.CART_CHECK="7014.18.2",exports.CART_CHECK_ALL="7014.18.3",exports.CART_EDIT_NUM="7014.2.5",exports.CART_GOTO_GIFT_DETAIL="7014.2.65",exports.CART_GOTO_ATTACH_DETAIL="7014.2.66",exports.CART_DELETE="7014.18.7",exports.CART_GOTO_PAY="7014.18.8",exports.CART_TAB_CLK="7574.1.4",exports.CART_TAB_PV_JINGXI="138631.36.13",exports.CART_SLIDER_VIEW="7014.2.29",exports.CART_SLIDER_VIEW_REMOVE="7014.2.16",exports.CART_TAB_PV_WITH_NUM="137081.10.1",exports.CART_TAB_PV_WITHOUNT_NUM="137081.10.3",exports.CART_GOTO_SERVICE_DETAIL="7014.18.9",exports.CART_CLICK_PROMOTION="7014.2.6",exports.CART_SWITCH_PROMOTION="7014.2.45",exports.CART_PROMOTION_OUT="7014.2.43",exports.CART_GIFT_PAGE="7014.18.15",exports.CART_DISCOUNT_PAGE="7014.18.17",exports.CART_GOTO_EXCHANGE_PAGE="7014.18.18",exports.CART_ADDON_ITEM_CLK="7014.18.26",exports.CART_MZ_CLK="7014.18.28",exports.CART_JGJ_CLK="7014.18.30",exports.CART_MH_CLK="7014.18.32",exports.CART_3C_GIFT_CLK="7014.18.34",exports.CART_SWITCH_SKU_CLK="7014.2.58",exports.CART_SIMILAR_CLK="7014.2.18",exports.CART_SWITCH_SKU_SUBMIT="7014.18.37",exports.CART_ADDR_CLK="7014.1.1",exports.CART_SERVICES="7014.2.62",exports.CART_PRO_IMG_CLK="7014.2.2",exports.CART_PRO_CONTENT_CLK="7014.2.4",exports.CART_USE_JDBEAN_CLK="7014.24.4",exports.CART_USE_JDBEAN_SUBMIT_CLK="7014.24.1",exports.CART_USE_JDBEAN_CANCE_CLK="7014.24.2",exports.CART_FREIGHT_TIPS_CLK="7014.18.60",exports.CART_FREIGHT_ENTRY_CLK="7014.18.56",exports.CART_FREIGHT_FRESH_CLK="7014.18.49",exports.CART_FREIGHT_NON_FRESH_CLK="7014.18.84",exports.CART_FREIGHT_FBP_CLK="7014.18.63",exports.EMPTY_CART_GIFT_SHOW="7014.12.22",exports.EMPTY_CART_GIFT_DRAW="7014.12.23",exports.EMPTY_CART_GIFT_TO_USE="7014.12.24",exports.EMPTY_CART_GIFT_DRAW_SUCCESS="7014.12.25",exports.EMPTY_CART_GIFT_TO_BIND="7014.12.26",exports.EMPTY_CART_GIFT_DRAW_FAIL="7014.12.27",exports.CART_COUPON_RED_PACKET="137081.7.1",exports.CART_COUPON_RED_PACKET_CLK="137081.7.2",exports.CART_COUPON_RED_PACKET_LIST="137081.7.3",exports.CART_COUPON_RED_PACKET_LIST_CLK="137081.7.4",exports.CART_PINGOU_CLK="137081.9.5",exports.CART_OPTION_PROMO="137081.11.1",exports.CART_OPTION_PROMO_TIPS_CLK="137081.11.2",exports.CART_OPTION_PROMO_TIPS_CLOSE="7014.28.4",exports.CART_OPTION_PROMO_SWITCH_CLK="137081.11.3",exports.CART_PlUS_PROMO_A="137081.12.1",exports.CART_PlUS_PROMO_B="137081.12.2",exports.CART_PlUS_PROMO_TIPS_CLK="137081.12.3",exports.CART_PlUS_PROMO_TIPS_CLOSE="137081.12.8",exports.CART_PlUS_PROMO_VIEW="137081.12.4",exports.CART_PlUS_PROMO_BUY="137081.12.5",exports.CART_PlUS_PROMO_SPREAD_CLK="137081.12.7",exports.CART_SUMMARY_CASHBACK="7014.3.9",exports.CART_SUMMARY_CASHBACK_CLK="7014.3.10",exports.CART_EXTRA_INFO="7014.2.67",exports.CART_EXTRA_INFO_CLK="7014.2.68",exports.CART_ONLY_GIFT="7014.2.73",exports.CART_ONLY_GIFT_CLK="7014.2.74",exports.CART_SKUINFOCMP_SERVERCE="7014.2.81",exports.CART_SKUINFOCMP_SERVERCE_CLK=" 7014.2.82",exports.CART_PINGOU_CART_PV="7651.1.4",exports.CART_JD_CART_PV="7651.1.5",exports.CART_NUM_PV="7651.1.3",exports.CART_PINGOU_TAB_CLK="7651.2.1",exports.CART_JD_TAB_CLK="7651.2.2",exports.CART_ADAPTOR_TAB="7651.1.8",exports.CART_PG_TAB_CONTENT_SHOW="7651.1.6",exports.CART_JD_TAB_CONTENT_SHOW="7651.1.7",exports.CART_MENU_JTH="7014.1.43",exports.CART_BANNER="7014.1.45",exports.CART_BANNER_CLK="7014.1.44",exports.CART_BANNER_CLOSE="7014.1.46"; 
 			}); 
		define("pages/cart/common/recovery.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(){return new Promise(function(e,r){(0,a.getPPMS)(35042).then(function(r){var o=(0,l.getCookie)("wxapp_type"),n=r&&r.length&&r.find(function(e){return e&&e.wxapp_type&&e.wxapp_type==o})||s,t=n.enable,a=n.url;t=1==t,a=(0,i.fixProtocol)(a),e({enable:t,url:a})}).catch(function(r){p.error(r),e(s)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Recovery=void 0;var o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n=function(){function e(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,o,n){return o&&e(r.prototype,o),n&&e(r,n),r}}(),t=require("../../../common/logger.js"),a=require("../../../common/biz.js"),i=require("../../../common/utils.js"),u=require("../../../common/url_utils.js"),c=require("../../../common/navigator.js"),l=require("../../../common/cookie-v2/cookie"),p=new t.Logger("购物车容灾模式"),s={enable:0,url:"https://wq.jd.com/deal/mshopcart/mycart"},f=function(){function t(){e(this,t)}return n(t,null,[{key:"apply",value:function(e){var n="pages/cart/cart/cart"==getCurrentPages().pop().route?"redirectTo":"navigateTo";r().then(function(r){var t=(0,l.getCookie)("buildtime")||"",a=r.enable,i=r.url;i=(0,u.addUrlParam)(i,o({rongzai:1,buildtime:t},e||{})),a&&(0,c.goto)("/pages/h5/index",{url:i},{method:n})})}}]),t}();exports.Recovery=f; 
 			}); 
		define("pages/cart/common/renderer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){var i={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RENDER_MODE=exports.Renderer=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},a=function(){function e(e,t){var i=[],s=!0,a=!1,n=void 0;try{for(var r,d=e[Symbol.iterator]();!(s=(r=d.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,n=e}finally{try{!s&&d.return&&d.return()}finally{if(a)throw n}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=require("../models/data-store.js"),d=require("./util/utils.js"),l={IDLE:0,RENDING:1,STOP:2},o={AUTO:1,REACH_BOTTOM:2},u=function(){function s(){i(this,s)}return n(s,null,[{key:"getList",value:function(e){var i=e.list,s=e.lstart,a=e.skuStart,n=e.limit,r=e.allData,d=void 0!==r&&r,l=i.length;if(s>=l)return null;var o=s,u=a,h=n,f=d?i.slice(0,o):[];for(o;o<l;o++){var c=i[o],v=void 0,g=h+u,y=c.products?c.products.length:0,R=c.suits?c.suits.length:0,p=y+R;if(g>=p)v=c,h-=p-u,u=p-1;else{var m=c.products,x=(c.suits,t(c,["products","suits"]));if(v=Object.assign({},x||{}),y){var b=g>y?y:g;v.products=m.slice(0,b),u<y&&(h-=b-u)}if(h>0&&R){var D=g>y+R?R:g-y;v.suits=c.suits.slice(0,D),h=g-u}u=g-1}if(v&&f.push(v),h<=0)break;u=0}return{data:f,count:n-h,lIndex:o,skuIndex:u}}},{key:"getVenders",value:function(e){var t=e.venders,i=e.indexes,n=e.limit,r=e.allData,d=void 0!==r&&r,l=i.split("_"),o=a(l,3),u=o[0],h=void 0===u?0:u,f=o[1],c=void 0===f?0:f,v=o[2],g=void 0===v?-1:v,y=(t||{}).length;if(!y||+h>=y)return null;var R=d?t.slice(0,h)||[]:[],p=+h,m=+c,x=+g+1,b=n;for(p;p<y;p++){var D=t[p]||{};if(D.list){var O=s.getList({list:D.list,lstart:m,skuStart:x,limit:b,allData:d})||{};O&&(b-=O.count,m=O.lIndex,x=O.skuIndex,R.push(Object.assign({},D,{list:O.data})))}if(b<=0)break;m=0,x=0}return{venders:R,lastSkuIndex:p+"_"+m+"_"+x,count:n-b}}},{key:"getNextPageData",value:function(t){if(!t.venders)return null;!t.indexes&&(t.indexes="0_0_-1");var i=s.getVenders(t);if(!i||!i.venders)return null;var a={};if(t.allData)Object.assign(a,e({},(t.baseKey?t.baseKey+".":"")+"venders",i.venders));else{var n=t.baseKey?t.baseKey+".":"";i.venders.forEach(function(t){Object.assign(a,(0,d.copyAttr)(t,n+"venders["+t.index+"]",["list"])),t.list&&t.list.forEach(function(i){Object.assign(a,e({},n+".venders["+t.index+"].list["+i.itemIndex+"]",i))})})}return{data:a,lastSkuIndex:i.lastSkuIndex,count:i.count}}}]),s}(),h=function(){function t(e,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6;i(this,t),e||console.error("参数错误！！！"),this.scope=e,this.baseKey=s,this.defualtPageSize=a,this.pageSize=a,this.isRafReady=!1,this.isDataReady=!1,this.maxPageCount=n,this.mode=o.REACH_BOTTOM,this.headScreenTimeLimit=800,this.status=l.IDLE,this.headScreenLoaded=!1,this.total=0,this.renderedNum=0,this.lastSkuIndex="0_0_-1",this.isAllRendered=!1}return n(t,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.venders||this.status==l.RENDING||this.isAllRendered)return"function"==typeof e.renderCB&&e.renderCB(-1);void 0!==e.isRafValid&&(this.isRafValid=e.isRafValid),void 0!==e.total&&(this.total=+e.total),this.toggleRenderMode(),!e.indexes&&(e.indexes=this.lastSkuIndex),!e.limit&&(e.limit=this.pageSize),this.isDataReady=!0,this.status=l.IDLE,this.renderNextPage(e)}},{key:"recover",value:function(){this.status!=l.RENDING&&(this.status=l.IDLE,this.mode==o.AUTO&&this.render(e({},(this.baseKey?this.baseKey+".":"")+"rafflag",Date.now())))}},{key:"pause",value:function(){this.status=l.STOP}},{key:"update",value:function(e){var t=e.venders,i=e.mergeData,s=e.renderCB,a=e.total,n=e.renderAll,r=e.loadNextPage;if(t){void 0!==a&&(this.total=a),this.isDataReady=!0,this.status=l.IDLE;var d=n||this.isAllRendered?this.total:this.renderedNum;r&&(d+=this.pageSize),this.renderedNum=0,this.renderNextPage({venders:t,mergeData:i,renderCB:s,limit:d,allData:!0})}else"function"==typeof s&&s(-1)}},{key:"render",value:function(e,t){this.scope.setData(e,t)}},{key:"destory",value:function(){delete this.scope,delete this.prefix}},{key:"onRafCallback",value:function(e){if(this.isRafReady||(this.isRafReady=!0,this.toggleRenderMode()),this.mode!=o.AUTO||!this.total||this.isAllRendered||!this.isDataReady)return null;this.renderNextPage({indexes:this.lastSkuIndex,limit:this.pageSize})}},{key:"onReachBottom",value:function(e){if(this.mode!=o.REACH_BOTTOM||!this.total||this.isAllRendered||!this.isDataReady)return null;this.renderNextPage({indexes:this.lastSkuIndex,limit:this.pageSize})}},{key:"renderNextPage",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.status==l.IDLE){this.status=l.RENDING,!i.venders&&(i.venders=r.DataStore.getVenders()),!i.baseKey&&(i.baseKey=this.baseKey),!i.limit&&(i.limit=this.pageSize),i.limit==this.total&&(this.isAllRendered=!0);var a=void 0,n=void 0,d=void 0;if(this.isAllRendered||!i.venders.length)this.renderedNum=this.total,!i.venders.length&&(this.lastSkuIndex="0_0_-1"),a=e({},(i.baseKey?i.baseKey+".":"")+"venders",i.venders),d=!1;else{this.headScreenLoaded||(i.allData=!0);var h=u.getNextPageData(i)||{},f=h.data,c=h.lastSkuIndex,v=h.count;if(!f)return"function"==typeof i.renderCB&&i.renderCB(-1),void(this.status=l.IDLE);this.renderedNum+=v,this.lastSkuIndex=c,i.limit>v&&(this.isAllRendered=!0),a=f,n=Date.now(),d=!this.isAllRendered}var g=this.baseKey?this.baseKey+".":"";n&&Object.assign(a,e({},g+"rafflag",n));var y=Date.now();this.render(s({},a||{},i.mergeData||{},e({},g+"btmLoading",d)),function(){if(console.info("renderNextPage ====> renderTime:"+(Date.now()-y)+" ,index:"+t.lastSkuIndex+", renderednum:"+t.renderedNum+",isAllRendered: "+t.isAllRendered),!t.headScreenLoaded){var e=Date.now()-y;t.headScreenLoaded=!0,e>t.headScreenTimeLimit&&t.toggleRenderMode(o.REACH_BOTTOM)}t.status=l.IDLE,"function"==typeof i.renderCB&&i.renderCB()})}else"function"==typeof i.renderCB&&i.renderCB(-1)}},{key:"toggleRenderMode",value:function(e){e==o.REACH_BOTTOM||!this.isRafReady||!this.isRafValid||this.total>=50?(this.mode=o.REACH_BOTTOM,this.pageSize=this.defualtPageSize):(this.pageSize=this.total>this.defualtPageSize?Math.ceil(+this.total/this.maxPageCount):this.total,this.mode=o.AUTO)}}]),t}();exports.Renderer=h,exports.RENDER_MODE=o; 
 			}); 
		define("pages/cart/common/select-mode.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!e)throw Error("not found uuid");var n=e.split(/_/),u=s(n,3)[2],d=C(u,r)||e.split(/_/).length<=3&&E(e,r);if(!d)return b.error("uuid:"+e+"，未找到商品");var c=this[D][r];return 2==d.polyType?(t?c[d.uuid]=d:delete c[d.uuid],d.editChecked=t):(d.suits&&d.suits.forEach(function(r,i){r.uuid==e&&(t?c[r.uuid]=r:delete c[r.uuid],r.editChecked=t)}),d.products.forEach(function(r,i){r.uuid==e&&(t?c[r.uuid]=r:delete c[r.uuid],r.editChecked=t)})),y(d,r),i&&o.call(this,r)}function n(e,t,n){var u=this,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=k(e,n);if(!c)return b.error("vid:"+e+"，未找到店铺");c.editChecked=t,c.list.forEach(function(e){2==e.polyType?i.call(u,e.uuid,t,n,d):[].concat(r(e.suits||[]),r(e.products)).forEach(function(e){i.call(u,e.uuid,t,n,d)})}),d&&o.call(this,n)}function u(e,t){var r=this,i=g(t);if(!i)return b.error("没有数据,venders:"+i);i.forEach(function(i){n.call(r,i.vid,e,t,!1)}),o.call(this,t)}function o(e){var t=g(e);if(!t)return b.error("没有数据,venders:"+t);var r=this[D][e],i=d({venders:t}),n=!0,u=!1,o=void 0;try{for(var c,a=Object.entries(r)[Symbol.iterator]();!(n=(c=a.next()).done);n=!0){var l=s(c.value,1)[0].split(/_/),f=s(l,1)[0],h=i[f];h&&(h.checked+=1)}}catch(e){u=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(u)throw o}}var y=Object.entries(i),p=0;t.forEach(function(t){var r=i[t.vid],n=r.sum==r.checked;n&&p++,t.editChecked!=n&&(t.editChecked=n,v(t,e,!0))}),m(e,{editChecked:y.length==p})}function d(e){var t={};return e.venders.forEach(function(e){t[e.vid]={sum:0,checked:0,index:e.index},e.list.forEach(function(i){2==i.polyType?t[e.vid].sum+=1:[].concat(r(i.suits||[]),r(i.products)).forEach(function(){t[e.vid].sum+=1})})}),t}function c(e,t){var r=e.venders,i=void 0===r?[]:r,n=e.summary,u=void 0===n?{}:n,o=e.selections,d=[];return i&&u?(u.editChecked=!0,i.forEach(function(e){e.editChecked=!0,e.list.forEach(function(t){t.editChecked=!0,t.isSuit?o.find(function(e){return t.uuid==e.uuid})?d[t.uuid]=t:t.editChecked=!1:(t.products&&t.products.forEach(function(e){o.find(function(t){return e.uuid==t.uuid})?(e.editChecked=!0,d[e.uuid]=e):(e.editChecked=!1,t.editChecked=!1)}),t.suits&&t.suits.forEach(function(e){o.find(function(t){return e.uuid==t.uuid})?(e.editChecked=!0,d[e.uuid]=e):(e.editChecked=!1,t.editChecked=!1)}),!t.editChecked&&(e.editChecked=!1))}),v(e,t,!0),!e.editChecked&&(u.editChecked=!1)}),m(t,{editChecked:u.editChecked}),{venders:i,summary:u,selections:d}):b.error("入参错误，venders:"+i+", summary: "+u)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectMode=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(){function e(e,t){var r=[],i=!0,n=!1,u=void 0;try{for(var o,d=e[Symbol.iterator]();!(i=(o=d.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){n=!0,u=e}finally{try{!i&&d.return&&d.return()}finally{if(n)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=require("../../../common/logger"),f=require("../common/constants.js"),h=require("../models/data-store.js"),v=h.DataStore.updateVender,y=h.DataStore.updateItem,p=h.DataStore.getCurCartType,m=h.DataStore.updateSummary,k=h.DataStore.getVenderById,C=h.DataStore.queryItemByItemId,E=h.DataStore.queryProductByUUID,g=h.DataStore.getVenders,b=new l.Logger("购物车编辑模式选择"),S={PRODUCT:"product",VENDER:"vender",ALL:"all"},D=Symbol("selections"),T=function(){function r(){t(this,r)}return a(r,null,[{key:"updateEditChecked",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p();if(!this[D]){var i;this[D]=(i={},e(i,f.CART_TYPE.JD,{}),e(i,f.CART_TYPE.PINGOU,{}),i)}var n=c(t,r),u=n.venders,o=n.summary,d=n.selections;return this[D][r]=d,{venders:u,summary:o}}},{key:"clean",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();this[D]&&(this[D][e]={})}},{key:"getSelections",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p(),t=this[D][e];return Object.values(t)}},{key:"select",value:function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p();return e==S.PRODUCT?i.apply(this,[t,r,o]):e==S.VENDER?n.apply(this,[t,r,o]):e==S.ALL?u.apply(this,[r,o]):void 0}}]),r}();exports.SelectMode=T; 
 			}); 
		define("pages/cart/common/speed-handle.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpeedHandle=void 0;var n=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),r=require("../../../common/fe_report/speed"),o={},a=function(){function a(){e(this,a)}return t(a,null,[{key:"record",value:function(e,n){o[e]&&console.warn("测速点重复，将覆盖"),o[e]={start:n||Date.now()}}},{key:"recordEnd",value:function(e,n){if(!o[e]||!o[e].start)return console.warn("测速点不存在，操作取消");o[e].end=n||Date.now(),o[e].time=o[e].end-o[e].start}},{key:"clear",value:function(e){e&&e.length?e.forEach(function(e){return delete o[e]}):o={}}},{key:"addPoint",value:function(e){var n=e.point,t=e.time;o[n]&&console.warn("测速点重复，将覆盖"),o[n]={time:t}}},{key:"getSpeeds",value:function(e){var t=[];return(e||Object.keys(o)).forEach(function(e){o[e]&&t.push(n({point:e},o[e]))}),t}},{key:"report",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.getSpeeds();if(e&&n&&n.length){var t={};n.forEach(function(e){e.point&&e.time&&(t["s"+e.point]=e.time)}),r.Speed.reportAlone(e,t,{isReportPerformance:!0})}}}]),a}();exports.SpeedHandle=a; 
 			}); 
		define("pages/cart/common/util/price.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processPrice=exports.plus=exports.times=exports.minus=exports.divide=void 0;var e=require("../../../../common/numberp.js");exports.divide=e.divide,exports.minus=e.minus,exports.times=e.times,exports.plus=e.plus,exports.processPrice=function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return s=(0,e.divide)(s,100).toFixed(r),i?s.split("."):s}; 
 			}); 
		define("pages/cart/common/util/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.copyAttr=exports.isPinGouApp=exports.getWeek=exports.nextTick=exports.judgeForPageScroll=exports.sequence=exports.getProperty=exports.removeCookie=exports.setCookies=exports.setCookie=exports.getCookie=exports.only=exports.isObject=exports.getPageUrl=exports.getServerTimeAsnyc=exports.getServerTime=exports.debounce=exports.throttleTail=exports.throttle=exports.getImg=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=require("../../../../common/fe_helper.js"),r=require("../../../../common/utils"),n=require("../../../../common/cookie-v2/cookie.js"),i=require("../../../../common/buildVersion"),s=null;exports.getImg=r.getImg,exports.throttle=r.throttle,exports.throttleTail=r.throttleTail,exports.debounce=r.debounce,exports.getServerTime=o.getServerTime,exports.getServerTimeAsnyc=o.getServerTimeAsnyc,exports.getPageUrl=r.getPageUrl,exports.isObject=r.isObject,exports.only=r.only,exports.getCookie=n.getCookie,exports.setCookie=n.setCookie,exports.setCookies=n.setCookies,exports.removeCookie=n.removeCookie,exports.getProperty=function(e,o){var r="string"==typeof e?e.split("."):[];return"object"===(void 0===o?"undefined":t(o))?r.reduce(function(e,o){return"object"===(void 0===e?"undefined":t(e))?e[o]:null},o):null},exports.sequence=function(e){function t(e){return o.push(e),Promise.resolve(o)}var o=[];return e.reduce(function(e,o){return e.then(o).then(t)},Promise.resolve())},exports.judgeForPageScroll=function(e){e&&(s&&(clearTimeout(s),s=null),s=setTimeout(function(){s=null,e()},100))},exports.nextTick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;wx.nextTick?wx.nextTick(e):setTimeout(e,t)},exports.getWeek=function(){var e=new Date,t=new Date;t.setMonth(0),t.setDate(1);var o=e-t,r=Math.ceil(o/864e5);return Math.ceil(r/7)},exports.isPinGouApp=function(){return 2==((0,n.getCookie)("wxapp_type")||i.WXAPP_TYPE||1)},exports.copyAttr=function(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={},i=Object.keys(t);return i&&i.forEach(function(i){r.indexOf(i)<0&&t.hasOwnProperty(i)&&Object.assign(n,e({},(o?o+".":"")+i,t[i]))}),n}; 
 			}); 
		define("pages/cart/components/banner/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function r(e,r){return e&&r?(0,o.get)("banner_"+e).then(function(e){var t=e?e[r]:0;return Promise.resolve(~~t)},function(e){return Promise.resolve(0)}):Promise.resolve(0)}function t(e,t){var n=Array.isArray(e)&&e.filter(function(e){return e.ppmskey===t})[0];if(!(n&&1==n.enable&&n.list&&Array.isArray(n.list)&&n.list.length))return Promise.resolve(null);var o=n.list.find(function(e){if(!(e&&e.id&&1==e.enable&&e.img&&e.wxappUrl&&e.starttime&&e.endtime))return!1;var r=new Date(e.starttime).getTime(),t=new Date(e.endtime).getTime(),n=Date.now();return n>=r&&n<=t});return o?r(t,o.id).then(function(e){return!e||e<i?o:null}):Promise.resolve(null)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setCloseCount=exports.getCloseCount=exports.getBanner=void 0;var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../../../common/biz")),o=require("../../../../common/localStorage"),i=2;exports.getBanner=function(e){return n.getPPMS(37280).then(function(r){return t(r,e)}).catch(function(){return Promise.resolve(null)})},exports.getCloseCount=r,exports.setCloseCount=function(r,t,n){if(!r||!t)return null;(0,o.set)("banner_"+r,e({},t,n))}; 
 			}); 
		define("pages/cart/components/option-promotions/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o.default=e,o}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[];return e.forEach(function(e){return i.push(e.skuId+"_"+e.promotionId)}),n.request.get({url:"https://wqdeal.jd.com/deal/mshopcart/selectoptimalpromo",data:{templete:1,locationid:(0,n.getLocationId)(),skupromolist:i.join(",")},ump:{bizId:p,opId:g.SELECT_OPTIMAL_PROMO}}).then(function(i){var s=i.body,c=0==s.errId,a=13==s.errId;if(c){var d=[],m=[];e.forEach(function(e){var o={1:"PLUS价",2:"京东价",3:"优惠价"}[e.unitPromoTag+""];o&&m.push({skuId:e.skuId,imgUrl:(0,l.getImg)(e.imgUrl,162),desc:o,price:e.skuPrice?t(e.skuPrice):""})}),m.length&&d.push({wxKey:1,promoDesc:"将以下商品的价格类型切换为：",skus:m});var p=[];return s.productPos.forEach(function(e){var o=e.promoNote,r=e.skuId,t=e.imageUrl;p.push({skuId:r,imgUrl:(0,l.getImg)(t,162),desc:o})}),p.length&&d.push({wxKey:2,promoDesc:"将以下商品的促销类型切换为：",skus:p}),Promise.resolve(d)}return a&&r<2?(r+=1,u.doLogin().then(function(){return o(e,r)},function(e){return Promise.reject(new Error("哎呀，操作发生点意外，请重新试试"))})):Promise.reject(new Error((0,n.formatErrMsg)(s.errMsg,s.errId)))},function(e){return Promise.reject(new Error((0,n.formatErrMsg)("",e.code)))})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[];return e.forEach(function(e){var o=e.skuId+"_"+(e.promotionId||0),r=2==e.unitPromoTag?-101:[1,3].indexOf(+e.unitPromoTag)>-1?-1:"";r&&(o+="_"+r),t.push(o)}),n.request.get({url:"https://wqdeal.jd.com/deal/mshopcart/batchchangepromo",data:{templete:1,locationid:(0,n.getLocationId)(),skupromolist:t.join(",")},ump:{bizId:p,opId:g.BATCH_CHANGE_PROMO}}).then(function(t){var i=t.body,s=0==i.errId,c=13==i.errId;if(s){var a=m(i,!0);return Promise.resolve(a)}return c&&o<2?(o+=1,u.doLogin().then(function(){return r(e,o)},function(e){return Promise.reject(new Error("哎呀，操作发生点意外，请重新试试"))})):Promise.reject(new Error((0,n.formatErrMsg)(i.errMsg,i.errId)))},function(e){return Promise.reject(new Error((0,n.formatErrMsg)("",e.code)))})}function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(0,d.divide)(e,100).toFixed(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formateCounpons=exports.getPlusPromoData=exports.plusCloseCount=exports.checkPlusPromoEnable=exports.getPPMSConfig=exports.getAllSkuId=exports.batchChangePromo=exports.selectoptimalpromo=exports.getoptimalpromo=void 0;var n=require("../../models/model"),i=require("../../models/data-store"),u=e(require("../../../../common/login/login.js")),s=e(require("../../../../common/biz")),c=e(require("../../../../common/cookie-v2/cookie")),a=e(require("../../../../common/localStorage")),l=require("../../common/util/utils"),d=require("../../../../common/numberp"),m=i.DataStore.format,p=(0,n.isPinGouApp)()?1271:616,g={GET_OPTIMAL_PROMO:26,SELECT_OPTIMAL_PROMO:27,BATCH_CHANGE_PROMO:28},f={day:{date:0,count:0},week:{week:0,count:0}},P=!0;exports.getoptimalpromo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o={templete:1,locationid:(0,n.getLocationId)()};return e&&Object.assign(o,{plus:1}),n.request.get({url:"https://wqdeal.jd.com/deal/mcartassit/getoptimalpromo",data:o,ump:{bizId:p,opId:g.GET_OPTIMAL_PROMO}}).then(function(e){var o=e.body;if(0==o.errId&&"0"==o.hasNonPromotion&&o.relationMapNew&&o.relationMapNew.length){var r=(0,d.divide)((0,d.minus)(o.totalFactPrice,o.totalPromoPrice),100).toFixed(2);return Promise.resolve({relationMap:o.relationMapNew,discount:r,plusGraySwitch:o.plusGraySwitch||0,recommendCoupon:o.recommendCoupon})}return Promise.reject(o)},function(e){return Promise.reject(e)})},exports.selectoptimalpromo=o,exports.batchChangePromo=r,exports.getAllSkuId=n.getAllSkuId,exports.getPPMSConfig=function(){return s.getPPMS(28656,{expire:"5m"}).then(function(e){var o=e.find(function(e){return"cart_plus_op_promo_abtest"==e.grayName})||{},r=+o.grayFil||0,t=c.getCookie("visitkey"),n=c.getCookie("jdpin");if(!o||"1"!==o.grayIsOpen||!t.length)return Promise.resolve(null);var i=+t.slice(t.length-2),u=o.grayWhiteName.split(",").indexOf(n)>-1,s=100===r||r>=i||u;return Promise.resolve({limitA:+o.grayExt1,ABTest:s})}).catch(function(e){return Promise.resolve(null)})},exports.checkPlusPromoEnable=function(){return P?new Promise(function(e,o){a.get("plusPromoCount",0).then(function(o){var r=new Date,t=r.getFullYear()+"."+(r.getMonth()+1)+"."+r.getDate(),n=o?o.day.count:0,i=o?o.day.date:0,u=(0,l.getWeek)(),s=o?o.day.count:0,c=o?o.week.week:0;return f={day:{date:t,count:n},week:{week:u,count:s}},(t!=i||+n<1)&&(u!=c||+s<3)?e(!0):(P=!1,e(!1))})}):Promise.resolve(!1)},exports.plusCloseCount=function(){P=!1,f.day.count+=1,f.week.count+=1,a.set("plusPromoCount",f)},exports.getPlusPromoData=function(e,o){var r=(0,n.getAllSkuId)(o),i=[];return e.forEach(function(e){var u=r[e.skuId]||[],s=u&&u.length?(0,n.queryProductByUUID)(u[0],o):"";i.push({name:e.name,skuId:e.skuId,plusPrice:t(e.plusPrice),show_price:t(e.price).split("."),spread:t((0,d.minus)(e.price,e.plusPrice)),imgUrl:(0,l.getImg)(e.imgUrl,150),num:e.num||0,spec:s&&s.mainSku&&s.mainSku.dimensions?s.mainSku.dimensions:""})}),i},exports.formateCounpons=function(){var e=[],o={0:"type_jing",1:"type_dong",2:"type_yun"};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(r){var t=3==r.couponStyle,n=(0,d.divide)(r.discount,100),i=void 0;if(2==r.couponType)i="运费券";else if(t&&r.discountInfo&&r.discountInfo.length){var u=[];r.discountInfo.sort(function(e,o){return+o.discount-+e.discount}).forEach(function(e){u.push((0,d.times)(e.discount,10))}),n=u.join("/")+"折";var s=r.discountInfo.sort(function(e,o){return+e.quota-+o.quota});console.info("formateCounpons",s),i="满"+s[0].quota+"元可用"}else if(28==r.couponStyle&&r.discountInfo&&r.discountInfo.length){var c=r.discountInfo[0];i=c.quota?"每满"+c.quota+"元可减":"",n=c.discount}else i=0==r.couponType?"":"满"+(0,d.divide)(r.quota,100)+"可用";i&&e.push({cls:o[+r.couponType]||"type_dong",quotaDesc:i,discountDesc:n,isDiscount:t,batchId:r.batchId})}),e}; 
 			}); 
		define("pages/cart/components/popup-coupons/api.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,n){var r=[];return e&&e.forEach(function(e){var u=1==e.couponType&&3==e.couponStyle&&0!==e.discountDesc.length,i=t(u,e),c=s({},e,{discountText:i.discount,quotaText:i.quota||"",highText:i.highText||"",isMutilDiscount:i.isMutilDiscount,mutilDiscountText:i.desc||[],isDiscount:u,status:e.couponDo,redpacket:1==e.couponSrc&&!!e.couponId&&1==e.couponDo,isJing:0==e.couponType});if(l.ALL!==e.couponKind&&c.skuItemList&&c.skuItemList.length){var d=[];c.skuItemList.forEach(function(e){var t=e.id+"_"+e.skuItemType,r=n[t];r&&d.push({uuid:t,isSuit:r.isSuit,imgUrl:r.imgUrl,price:r.price,num:r.num,cbCls:o(r.checkType)})}),c.skus=d}delete c.skuItemList,delete c.skuidlist,r.push(c)}),r}function o(e){return 0==e?"":{1:"checked",3:"disabled"}[e+""]||"disabled"}function t(e,o){var t={discount:"",quota:"",desc:"",isMutilDiscount:!1},n=0==o.couponType;if(e){var r={info:[]},u=[],i=[];if(!(r=o.discountDesc||{hight:"",discountInfo:[]}).discountInfo.length)return;t.isMutilDiscount=r.discountInfo.length>1,r.discountInfo.sort(function(e,o){return+e.discount-+o.discount}).forEach(function(e){u.push(e),i.push({qtext:"满"+e.quota+"元",dtext:""+(0,a.times)(e.discount,10)})}),t.discount=u.map(function(e){return"满"+e.quota+"元可用"}),t.desc=i,t.quota="最高可减"+r.high+"元"}else if(28==o.couponStyle){var s=o.discountDesc||{hight:"",discountInfo:[]};if(!s.discountInfo.length)return;var c=s.discountInfo[0];t.discount=c.discount,!n&&(t.quota="每满"+c.quota+"元可减"),s.high&&(t.highText="最高可减"+s.high+"元")}else t.discount=o.discount,t.desc=o.discountDesc,!n&&(t.quota="满"+o.quota+"元可用");return t}function n(e){var o={};return e&&e.forEach(function(e){var t=(e.vSkuId||(4==e.skuItemType?e.promotionId:e.skuId))+"_"+e.skuItemType;e.imgUrl=(0,p.getImg)(e.imgUrl,120),e.isSuit=e.vSkuId||4==e.skuItemType,o[t]=e}),o}function r(o){var t={venderid:o.vid,pingouchannel:(0,c.isPinGouCart)(o.cartType),locationid:(0,c.getLocationId)()};if(o.sku){if([0,1].indexOf(+o.sku.checkType)<0)return console.error("参数错误，无法识别该商品的勾选类型，skuId:"+o.sku.skuId+",checkType:"+o.sku.checkType);t.method=1==o.sku.checkType?"uncheck":"check",t.commlist=i(o.sku)}return c.request.get({url:"https://wq.jd.com/deal/mshopcart/querycoupon",data:t,ump:{bizId:c.BIZ_ID,opId:c.OP_CODE.SHOP_COUPON,errOpId:c.OP_CODE.SHOP_COUPON,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(t){var u=t.body,i=0==u.errId,s=13==u.errId;if(i){var a=n(u.skuItem),p=e(u.coupons,a),l=e(u.usableCoupons,a);return Promise.resolve({gettable:p,useable:l,skuInfos:a,loginCount:o.loginCount})}return o.loginCount||(o.loginCount=0),s&&o.loginCount<3?(o.loginCount+=1,d.doLogin().then(function(){return r(o)},function(e){return console.error(e),Promise.reject(new Error((0,c.formatErrMsg)(u.errMsg,u.errId)))})):Promise.reject(new Error((0,c.formatErrMsg)(u.errMsg,u.errId)))},function(e){return Promise.reject(new Error((0,c.formatErrMsg)("",e.code)))})}function u(e){return 4==e.skuItemType&&e.promotionId?e.promotionId:e.vSkuId?e.vSkuId:e.skuId}function i(e){var o=u(e),t=e.skuId,n=e.skuItemType,r=e.promotionId;return[o,"",e.num,t,n,r,0,"","","","",""].join(",")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTimeStamp=exports.queryCoupon=void 0;var s=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},c=require("../../models/model"),d=function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}(require("../../../../common/login/login.js")),a=require("../../../../common/numberp.js"),p=require("../../../../common/fe_helper.js"),l={ALL:"0",LIMIT:"1",VENDER:"2",VENDER_LIMIT:"3"};exports.queryCoupon=r,exports.getTimeStamp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=e?e.replace(/-/g,"/"):"";return o?new Date(o).getTime():0}; 
 			}); 
		define("pages/cart/components/popup-coupons/draw.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(){var e={source:I.WE_CHAT};return f.request.get({url:"https://wq.jd.com/pinbind/QueryPinStatus",data:e}).then(function(e){var t=e.body;return 0==t.errcode?d.default.resolve(t):d.default.reject(new Error("code:"+t.errcode+"，message:"+t.errmsg))},function(e){return d.default.reject(e)})}function r(){var e=getCurrentPages().slice(0).pop(),t=e.route||e.__route__||"";return t?"/"+t:t}function n(e){return e?f.request.get({url:"https://wq.jd.com/pinbind/switchAccount",data:{expectPin:h.base64encode(encodeURIComponent(e)),fromtype:"x",sceneid:"521192167",atk:9,rurl:r()}}).then(function(e){var t=e.body;return 0==t.retcode?d.default.resolve(t):d.default.reject(t)},function(e){return d.default.reject(e)}):d.default.reject(new Error("没有找到有效的账号"))}function o(e,t){var r=e.encryptedKey,n=e.roleId;return t?new d.default(function(e,t){l.getcoupon(r,n,function(r,n,o){return r?t(r):e({code:n,message:o})},{sceneid:3})}):d.default.reject(new Error("未通过 pin 校验，不允许抽奖"))}function c(e){p.MessageBox.confirm({title:e,buttons:[{text:"稍后再说",handler:function(){p.MessageBox.hide()}},{text:"去实名认证",cls:"btn_red",handler:function(){u(),p.MessageBox.hide()}}]})}function u(){var e=r();f.request.get({url:"https://wq.jd.com/vipplus/LoginBrigdeAuthName",data:{scene:"weixin",bussinessType:726,rurl:e}}).then(function(e){var t=e.body;if(0==t.retcode||45==t.retcode){var r={url:String(t.redirect).replace(/source=5/,"source=15")};v.goto("/pages/h5/index",r)}else m.show({page:getCurrentPages().pop(),icon:m.ICON.WARNING,content:"领券的人太多，请稍后重试～"})},function(e){C.error(e),m.show({page:getCurrentPages().pop(),icon:m.ICON.WARNING,content:"领券的人太多，请稍后重试～"})})}function a(e){var t=e.code,r=e.message,n=!1,o=getCurrentPages().pop();switch(+t){case 34:case 54:c(r),n=!1;break;case 147:m.show({page:o,icon:m.ICON.WARNING,content:"优惠券已抢光啦，下次早点来哟~"}),n=!1;break;case 14:case 15:m.show({page:o,icon:m.ICON.SUCCESS,content:"您今天已经参加过此活动，别太贪心哟，明天再来~"}),n=!0;break;case 999:m.show({page:o,icon:m.ICON.SUCCESS,content:"领券成功，可到个人中心-我的优惠券查看。"}),n=!0;break;default:m.show({page:o,icon:m.ICON.WARNING,content:r}),n=!1}return d.default.resolve({success:n,code:t})}function s(e){var o=this;return t().then(function(t){return x.NEED_UPDATE_PROFILE==t.state||x.NO_ASSET_HAS_ACCOUNT==t.state?(p.MessageBox.alert({icon:p.MessageBox.ICONS.INFO,title:"您正在领取优惠券，请先登录正式京东账号",buttons:[{text:"去登录",handler:function(){e.triggerEvent("cartchanged");var t={sceneid:"531",returnUrl:r()};v.goto("/pages/my_pages/accountv2/index",t),p.MessageBox.hide()}}]}),d.default.reject(!1)):x.SWITHCHABLE==t.state&&1==t.defaultFlag?(p.MessageBox.confirm({scope:o,title:"您需要切换为正式京东账号才能领取优惠券",buttons:[{text:"立即切换",handler:function(){p.MessageBox.hide();var r=t.pinList.find(function(e){return"0"==e.defaultFlag}),c=r?r.pin:"";n.call(o,c).then(function(t){b(_,!0).then(a).catch(function(e){C.error(e),m.show({page:getCurrentPages().pop(),icon:m.ICON.WARNING,content:"活动太火爆了，请稍后重试"})}),e.triggerEvent("cartchanged"),e.onClose()}).catch(function(e){C.error(e),m.show({page:getCurrentPages().pop(),icon:m.ICON.WARNING,content:"切换失败，请稍后重试("+(e.retcode||"")+")"})})}}]}),d.default.reject(!1)):d.default.resolve(!0)},function(e){return d.default.reject(e)})}function i(e){var t=this,r={vid:e.vid,rid:e.rid,aid:e.aid};return f.request.get({url:"https://wq.jd.com/deal/couponquery/obtaincoupon",data:r}).then(function(e){var n=e.body,o=0==n.errId,c=13==n.errId;return o?d.default.resolve({code:999}):c?N.doLogin().then(i.bind(t,r),function(e){return d.default.reject(e)}):d.default.resolve({code:n.resultCode||n.errId,message:n.errMsg})},function(e){return d.default.reject(e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hieRealNameMsgBox=exports.draw=void 0;var d=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../libs/promise.min")),l=e(require("../../../../models/coupon/coupon_model.js")),f=require("../../../../common/request/request"),g=require("../../../../common/logger.js"),p=require("../../../components/message-box/index"),h=e(require("../../../../common/base64/base64")),m=e(require("../../../../common/toast/toast")),v=e(require("../../../../common/navigator")),N=e(require("../../../../common/login/login.js")),C=new g.Logger("购物车-优惠券抽奖组件"),I={WE_CHAT:2},x={NEED_UPDATE_PROFILE:1,NO_ASSET_HAS_ACCOUNT:2,SWITHCHABLE:3,UNBINED:4},b=function(){},_={};exports.draw=function(e,t){var r=t.encryptedKey,n=t.roleId,c=t.redpacket,u=t.shopId,d=t.actRuleId;return c?(_={vid:u,rid:d,aid:n},b=i.bind(this,_)):(_={encryptedKey:r,roleId:n},b=o.bind(this,_)),s(e).then(b).then(a)},exports.hieRealNameMsgBox=function(e){p.MessageBox.hide()}; 
 			}); 
		define("pages/cart/models/data-store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(){return{venders:[],prevProductSize:0,isForbidCallCartOptimal:1,coudanDetail:{},summary:{},specialNum:{onlyGift:0,extraInfo:0},timesstamp:0,areaId:"",pin:""}}function o(){return D}function n(e){D=e}function u(e,t,i){var r=e==x.CART_TYPE.JD?x.CART_TYPE.PINGOU:x.CART_TYPE.JD;if(null!=t&&(L[e]=t),null!=i){var o=(0,b.getProperty)(r+".summary.skuNum",U);L[r]=0===o||o>0?o:i}S()}function a(e,t){return{index:t,type:e.popInfo.type,vid:e.popInfo.vid,isVirtual:!1,vname:e.popInfo.vname||"店铺"+e.popInfo.vid,fbpVender:e.popInfo.fbpVender,list:[],checkType:e.checkType,editChecked:!1,hasCoupon:~~e.hasCoupon,cls:k(e.popInfo.type)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],r=arguments[3],o=arguments[4],n=x.CART_TYPE.PINGOU===r,u=e.mainSku;if(n?(delete e.jdBeanPromo,delete e.servicePrjInfo,delete u.presell,delete u.lsname,delete e.memberPrice):(delete u.fanXianNote,delete u.fanXianAmountDesc,delete u.fanXianTypeDesc),/^http/i.test(u.image)||(u.image=M+u.image),u.image=(0,b.getImg)(u.image,200),u.lowestBuy<=0&&(u.lowestBuy=1),u.presell&&u.presell.dateDesc&&(u.presellDesc=u.presell.statusDesc+"，"+u.presell.dateDesc,u.presell.skuDetailDesc&&(u.presellDesc+="，"+u.presell.skuDetailDesc)),delete u.presell,u.cartMessageList.length?e.limitMsg=u.cartMessageList[0].messageInfo||"":+e.mainSku.lowestBuy>1&&(e.limitMsg=e.mainSku.lowestBuy+"件起购"),delete u.cartMessageList,e.areaStockState){e.noStock=34==e.areaStockState.attr_a;var a=34==e.areaStockState.attr_a?"无货":36==e.areaStockState.attr_a?"采购中":!n&&e.areaStockState.attr_c>0?"剩余"+e.areaStockState.attr_c+"件":"";a&&(e.stockDesc=a)}if(delete e.areaStockState,o&&u.skuLables&&u.skuLables.length){var c=[];u.skuLables.forEach(function(e){return o[e]&&c.push(o[e])}),c.length&&(u.lableList=c)}delete u.skuLables,e.margin=!u.presellDesc&&e.margin>0?(0,Y.divide)(e.margin,100):"",e.show_price=(0,Y.processPrice)(e.price).split(/\./),e.productCashBack=e.productCashBack>0?(0,Y.divide)(e.productCashBack,100):"",e.selectPromotion.length&&(e.selectPromotion=l(e.selectPromotion)),e.showGifts=[],e.showAttachments=[];var p=0,d=0,f=e.gifts.listGiftPools&&e.gifts.listGiftPools.length&&e.gifts.extProp&&1!=e.gifts.extProp.cgm;e.gifts.skus.forEach(function(r){1==r.type?(e.showAttachments.push(r),p+=r.num*+e.num):i&&f||1==e.gifts.virtualSuit||2!=r.type||(e.showGifts.push(r),d+=2==e.mgiftFlag?+r.num:(0,Y.times)(r.num,t||e.num))}),!i&&e.gifts.listGiftPools.length&&(d=0,e.gifts.listGiftPools=e.gifts.listGiftPools.map(function(t){return t.skus=t.skus.map(function(t){return Object.assign(t,{image:(0,b.getImg)("http://img10.360buyimg.com/n4/"+t.image,175)}),2==t.selectState&&(d+=28==e.giftPoolType?+t.num:(0,Y.times)(t.num,e.num)),t}),t}),28==e.giftPoolType&&e.gifts.skus.length>5&&(d=e.num)),y(e,t),e.giftTitle=s(e.gifts,i),d&&(e.giftSelNum=d);var m=v(E({},e,{attachSelNum:p}));return m&&(e.attachText=m),e.jdBeanPromo&&0!=e.jdBeanPromo.promoId&&0==e.isUsedJBeanPromo&&(e.jdBeanPromoPrice=(0,Y.times)((0,Y.divide)(e.jdBeanPromo.promoPrice,100),e.num).toFixed(2)),e}function s(e,t){return 1==e.isPLUSPromotion?"PLUS赠品":!t&&e.listGiftPools.length||!e.extProp||!e.extProp.glt||1==e.extProp.glt?"赠品":e.extProp.gli}function l(e){var t={list:[],value:"",desc:"",index:0};return e.every(function(e,i){return 1!=e.sstate||(t.value=e.pnote,t.index=i,t.desc=e.reducePromoteDesc||e.pnote,!1)}),t.list=e.slice(0,e.length),t}function p(e){var t=[],i=0,r=0,o=0;if([{name:"global"}].forEach(function(n,u){var a=e[n.name];a&&0!=a.chkMainSkuNum&&(t.push({category:n.name,text:a.skuTitle||"",checkedNum:a.chkMainSkuNum,checkedSkuCount:a.checkedSkuCount,price:(0,Y.processPrice)(a.factPrice),checked:!1}),i+=+a.chkMainSkuNum,r+=+a.factPrice,o+=+a.checkedSkuCount)}),t.length){var n=e.chkMainSkuNum-i,u=e.checkedSkuCount-o;n&&t.push({category:"other",text:"其它商品",checkedSkuCount:u,checkedNum:n,price:(0,Y.processPrice)(e.factPrice-r),checked:!1,globalMix:e.globalMix}),t[0].checked=!0}return t}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2],r=(0,b.getProperty)(i+".prevProductSize",U);t&&T(i);var o=e.cart||{},n=o.skuNumAndPrice,s=void 0===n?{}:n,d=o.partition,v=void 0===d?{}:d,y=o.freightCoudan,h=void 0===y?{}:y,S=o.freightconfig,k=void 0===S?[]:S,I=o.coudanDetail,C=void 0===I?{}:I,_=o.isForbidCallCartOptimal,O=void 0===_?1:_,M=o.checkType,D=void 0===M?0:M,L=o.totalParallelDiscount,A=void 0===L?0:L,R=o.totalAmount,N=void 0===R?0:R,j=o.balanceAmount,B=void 0===j?0:j,F=o.promoStatus,w=o.couponTotalDiscount,G=o.optimalCoupon,V=o.venderCart,J=void 0===V?[]:V,q=o.lableIcons,Z=void 0===q?{}:q,X=o.isJth,z=void 0===X?0:X,K=[],H={},Q="";m(k,C,i);var W=(0,b.getProperty)(i+".specialNum",U)||{},$=g(Z);u(i,s.mainSkuCount,null),Object.assign(H,{editChecked:!1,checkType:D,skuNum:+s.mainSkuCount||0,checkedNum:s.chkMainSkuNum||0,checkedSkuCount:s.checkedSkuCount||0,price:(0,Y.processPrice)(s.factPrice||0),cashback:(0,Y.processPrice)(s.cashBack||0),total:(0,Y.processPrice)(+(s.factPrice||0)+ +(s.cashBack||0)),totalFanXianAmount:s.totalFanXianAmount>0?(0,Y.processPrice)(s.totalFanXianAmount):0,details:p(s),globalMix:s.globalMix||0,promoDiscount:(0,Y.processPrice)(s.promoDiscount||0),couponCashBack:(0,Y.processPrice)(w||0),coupons:P(G),plus95CashBack:(0,Y.processPrice)(A),plus95TotalAmount:(0,Y.processPrice)(N),plus95BalanceAmount:(0,Y.processPrice)(B),plusPromoStatus:"0"===B&&"0"===F&&s.chkMainSkuNum>0?2:[0,3,5].indexOf(+F)<0?-1:s.cashBack>0?1:0}),J.forEach(function(e,t){var r=a(e,t);e.sortedItems.forEach(function(e,t){var o=E({itemIndex:t,itemId:e.itemId,polyType:e.polyType},e.polyItem);if(o.promoPrice&&(o.showPromoPrice=(0,Y.processPrice)(o.promoPrice,!0),o.promoPrice&&(o.promoPrice=(0,Y.processPrice)(o.promoPrice))),-1==r.vid&&Object.assign(r,{vid:e.itemId,isVirtual:!0}),o.polyType==x.POLY_TYPES.SUIT){o.ptype=o.polyType==x.POLY_TYPES.SINGLE?x.PRODUCT_TYPE.NORMAL:o.polyType==x.POLY_TYPES.SUIT?x.PRODUCT_TYPE.SUIT:o.polyType==x.POLY_TYPES.MF_SUIT?x.PRODUCT_TYPE.PROMO_MF_NORMAL:o.polyType==x.POLY_TYPES.MZ_SUIT?x.PRODUCT_TYPE.PROMO_MZ_NORMAL:void 0;var n=r.vid+"_"+o.polyType+"_"+o.itemId;Object.assign(o,{uuid:n,editChecked:!1,isSuit:!0,isVirtualSuit:!!o.vSkuId})}o.suits&&o.suits.forEach(function(e,t){e.promoPrice&&(e.showPromoPrice=(0,Y.processPrice)(e.promoPrice,!0),e.promoPrice&&(e.promoPrice=(0,Y.processPrice)(e.promoPrice))),e.selectPromotion=l(e.selectPromotion),e.ptype=o.polyType==x.POLY_TYPES.MF_SUIT?x.PRODUCT_TYPE.PROMO_MF_VIRTUAL_SUIT:o.polyType==x.POLY_TYPES.MZ_SUIT?x.PRODUCT_TYPE.PROMO_MZ_VIRTUAL_SUIT:void 0,e.isSuit=!0;var n=r.vid+"_"+o.polyType+"_"+o.itemId+"_"+e.vSkuId;Object.assign(e,{isSuit:!0,isVirtualSuit:!0,uuid:n,itemIndex:t,polyType:o.polyType,itemId:o.itemId}),e.products.forEach(function(t,r,u){t=c(t,e.num,!0,i,$);var a=n+"_"+t.mainSku.id;Object.assign(t,{uuid:a,wxKey:o.polyType+"_"+e.vSkuId+"_"+t.mainSku.id,itemId:e.vSkuId,polyType:o.polyType,isSuit:!0,isVirtualSuit:!0,pid:e.promotion?e.promotion.pid:0}),t.attachText&&(W.extraInfo++,t.attachText.indexOf("；")<0&&t.giftSelNum&&W.onlyGift++),t.serveId=f(t)})}),o.products.forEach(function(e,t,n){e=c(e,o.polyType==x.POLY_TYPES.SUIT?o.num:0,o.isVirtualSuit,i,$);var u=r.vid+"_"+o.polyType+"_"+o.itemId+"_"+e.mainSku.id;Object.assign(e,{itemIndex:t,uuid:u,wxKey:o.polyType+"_"+o.itemId+"_"+e.mainSku.id,itemId:o.isVirtualSuit?o.vSkuId:o.itemId,polyType:o.polyType,pid:o.promotion?o.promotion.pid:0,isSuit:o.isSuit,isVirtualSuit:o.isVirtualSuit}),o.polyType!=x.POLY_TYPES.SUIT&&(e.ptype=o.polyType==x.POLY_TYPES.SINGLE?x.PRODUCT_TYPE.NORMAL:o.polyType==x.POLY_TYPES.SUIT?x.PRODUCT_TYPE.SUIT:o.polyType==x.POLY_TYPES.MF_SUIT?x.PRODUCT_TYPE.PROMO_MF_NORMAL:o.polyType==x.POLY_TYPES.MZ_SUIT?x.PRODUCT_TYPE.PROMO_MZ_NORMAL:void 0,Object.assign(e,{editChecked:!1,isSuit:!1})),e.attachText&&(W.extraInfo++,e.attachText.indexOf("；")<0&&e.giftSelNum&&W.onlyGift++),e.serveId=f(e)}),o.manGiftSkus&&(o.manGiftSkus=o.manGiftSkus.map(function(e){return e.ptype=o.polyType==x.POLY_TYPES.MF_SUIT?x.PRODUCT_TYPE.PROMO_MF_GIFT:o.polyType==x.POLY_TYPES.MZ_SUIT?x.PRODUCT_TYPE.PROMO_MZ_REMOVE_GIFT:void 0,e.image=(0,b.getImg)(e.image,150),e.promoPrice=(0,Y.processPrice)(e.promoPrice).split(/\./),e})),o.isSuit?o.isLast=!0:o.suits&&o.suits.length?o.suits[o.suits.length-1].isLast=!0:o.products&&o.products.length&&(o.products[o.products.length-1].isLast=!0),r.list.push(o)}),K.push(r)}),s.mainSkuCount!=r&&(Q="#top",r=+s.mainSkuCount);var ee=U[i]||{},te={scrollIntoView:Q,venders:K,summary:H,partition:v,freightCoudan:h,isJth:z,cartType:i,areaId:(e.areaId||"").replace(/-/g,"_")};return Object.assign(ee,te,{prevProductSize:r,isForbidCallCartOptimal:O,timesstamp:(0,b.getServerTime)(),pin:e.pin||""}),te}function f(e){var t="";return e.isSuit?t=e.pid:3!=e.polyType&&4!=e.polyType||(t=e.itemId),t?t+"_"+e.mainSku.id:e.mainSku.id}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o(),r={},n={1:"fresh",0:"nofresh"};e&&e.forEach(function(e){var i=n[e.sequence]||"";if(i&&t[i]&&t[i].skus&&e.basefreightconfig&&e.basefreightconfig.length){var o=t[i];r[i]={price:(0,Y.divide)((0,Y.minus)(o.freePrice,o.price),100).toFixed(2),weight:(0,Y.divide)(o.weight,1e3),skus:o.skus,rule:e.basefreightconfig||[],total:(0,Y.divide)(o.price,100).toFixed(2)}}}),U[i].coudanDetail=r}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)e.hasOwnProperty(t)&&(e[t].lableImgUrl=(0,b.getImg)(e[t].lableImgUrl));return e}function v(e){var t=[];e.servicePrjInfo&&t.push("门店服务x"+(0==e.servicePrjInfo.status?1:e.servicePrjInfo.num)),e.giftSelNum&&t.push(e.giftTitle+"x"+e.giftSelNum),1*e.mainSku.score>0&&t.push("赠京豆"),e.donatedCouponList.length&&t.push("赠券"),e.attachSelNum&&t.push("附件x"+e.attachSelNum);var i=t.join("；");return i&&e.serviceSelNum&&(i="；"+i),i}function y(e,t){var i=0,r=0;return e.giftServiceSku&&(Object.assign(e.giftServiceSku,{promoPrice:(0,Y.divide)(e.giftServiceSku.promoPrice,100).toFixed(2)}),e.giftServiceSku.id&&(i+=1,r=(0,Y.plus)(r,e.giftServiceSku.promoPrice))),e.selectedYanBaoList&&e.selectedYanBaoList.forEach(function(e){e.price=(0,Y.divide)(e.price,100).toFixed(2);var o=+e.num*(t||1);i+=o,r=(0,Y.plus)(r,(0,Y.times)(e.price,o))}),e.selectedJDHomeServiceList&&e.selectedJDHomeServiceList.forEach(function(e){e.price=(0,Y.divide)(e.price,100).toFixed(2);var o=+e.num*(t||1);i+=o,r=(0,Y.plus)(r,(0,Y.times)(e.price,o))}),i>0&&(e.serviceSelNum=i,e.serviceSelPrice=r.toFixed(2)),e}function P(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t="";if(!e.discount)return t;var i=0==e.couponType?"京券":"";if(2==e.couponType)t="运费券";else if(3==e.couponStyle&&e.discountInfo)if(1==e.discountInfo.length){var r=(0,Y.times)(e.discountInfo[0].discount,10);t="满"+e.discountInfo[0].quota+"享"+r+"折"+i}else{var o=[];e.discountInfo.sort(function(e,t){return+t.discount-+e.discount}).forEach(function(e){e.discount&&o.push((0,Y.times)(e.discount,10))}),t=o.length?o.join("/")+"折"+i:""}else if(28==e.couponStyle&&e.discountInfo&&e.discountInfo.length){var n=e.discountInfo[0].quota,u=e.discountInfo[0].discount;t=n?"每满"+n+"减"+u:""}else{var a=(0,Y.divide)(e.discount,100),c=(0,Y.divide)(e.quota,100);t=c?"满"+c+"减"+a+i:a+"元"+i}return t})}function h(e){var t=e.polyType==x.POLY_TYPES.SUIT&&e.vSkuId,i=e.itemId;return t&&e.promotion&&(i=e.vSkuId),i}function T(e){U[e]=r()}function S(){var e=+L[x.CART_TYPE.JD];(0,b.isPinGouApp)()&&(e+=+L[x.CART_TYPE.PINGOU]),(0,b.setCookie)({data:{mainSkuCount:e,cartNum:e},defaultExpires:!0})}function k(e){return{1:"type_jd",2:"type_jd",3:"type_good",4:"type_cate_good",5:"type_3rd",6:"type_haitun_good"}[+e]||"type_3rd"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataStore=void 0;var I,C,_=function(){function e(e,t){var i=[],r=!0,o=!1,n=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(i.push(u.value),!t||i.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Y=require("../common/util/price.js"),b=require("../common/util/utils"),x=require("../common/constants.js"),M="http://img10.360buyimg.com/n4/",D=x.CART_TYPE.JD,L=(I={},i(I,x.CART_TYPE.JD,0),i(I,x.CART_TYPE.PINGOU,0),I),U=(C={},i(C,x.CART_TYPE.JD,r()),i(C,x.CART_TYPE.PINGOU,r()),C),A=function(){function i(){t(this,i)}return O(i,null,[{key:"getCurCartType",value:function(){return o()}},{key:"setCurCartType",value:function(e){e!=x.CART_TYPE.JD&&e!=x.CART_TYPE.PINGOU&&console.error("参数错误！！！！"),n(e)}},{key:"format",value:function(e,t){return d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.getCurCartType())}},{key:"getAllProducts",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType(),r=i.getVenders(t),o=[];return r&&r.forEach(function(t){t.list.forEach(function(t){t.suits&&t.suits.forEach(function(t){return t.products&&(o=[].concat(e(o),e(t.products)))}),t.products&&(o=[].concat(e(o),e(t.products)))})}),o}},{key:"getAllSkuId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType(),t={};return i.getAllProducts(e).forEach(function(e){e.mainSku&&(t[e.mainSku.id]?t[e.mainSku.id].push(e.uuid):t[e.mainSku.id]=[e.uuid])}),t}},{key:"getVenders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType();return(0,b.getProperty)(e+".venders",U)||[]}},{key:"getVenderById",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getCurCartType();return i.getVenders(t).find(function(t){return t.vid==e})}},{key:"updateVender",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getCurCartType(),o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=i.getVenderById(t.vid,r);return t=Object.assign({},t),!!n&&(n.list=o?[].concat(e(t.list)):n.list.map(function(e){return t.list.find(function(t){return h(e)==h(t)})||e}),delete t.list,delete t.vname,t.index=n.index,Object.assign(n,E({},t)),n)}},{key:"queryProductByUUID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getCurCartType(),r=void 0;if(!e)return r;var o=e.split(/_/),n=_(o,1)[0],u=i.getVenderById(n,t)||{};return u.list&&u.list.find(function(t){return t.uuid==e&&(r=t),!r&&t.products&&t.products.find(function(t){return t.uuid==e&&(r=t)}),!r&&t.suits&&t.suits.find(function(t){return t.uuid==e&&(r=t),!r&&t.products&&t.products.find(function(t){return t.uuid==e&&(r=t)}),r}),r}),r}},{key:"queryItemByItemId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getCurCartType(),r=void 0;return(i.getVenders(t)||[]).find(function(t){return t.list&&t.list.find(function(t){return i.getItemId(t)==e&&(r=t,!0)})}),r}},{key:"updateItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getCurCartType(),r=h(e),o=i.queryItemByItemId(r,t);return!!o&&(e.itemIndex=o.itemIndex,o=e,e)}},{key:"getItemId",value:function(e){return h(e)}},{key:"getCoudanParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.getCurCartType(),r=(0,b.getProperty)(t+".coudanDetail",U),o=r?Object.assign({},r):{};return 2==e?delete o.fresh:1==e&&delete o.nofresh,o}},{key:"isForbidCallCartOptimal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType();return 1==(0,b.getProperty)(e+".isForbidCallCartOptimal",U)}},{key:"getCachePin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType();return(0,b.getProperty)(e+".pin",U)||{}}},{key:"getSpecialProCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType();return(0,b.getProperty)(e+".specialNum",U)||{}}},{key:"getCartCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType();return(0,b.getProperty)(""+e,U)}},{key:"getCartCacheByKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType(),t=arguments[1];return(0,b.getProperty)(e+"."+t,U)||[]}},{key:"updateCartsCount",value:function(e,t,i){u(e,t,i)}},{key:"getCartsCount",value:function(){return L}},{key:"getSelectedItems",value:function(e){var t=(0,b.getProperty)(e+".venders",U)||[],i={};return t&&t.forEach(function(e){e.list&&e.list.forEach(function(e){2==e.polyType?1==e.checkType&&(i[e.uuid]=e):(e.suits&&e.suits.forEach(function(e,t){1==e.checkType&&(i[e.uuid]=e)}),e.products&&e.products.forEach(function(e,t){1==e.checkType&&(i[e.uuid]=e)}))})}),Object.values(i)}},{key:"updateSummary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getCurCartType(),t=arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return!1;if(r)U.summary=Object.assign({},t);else{var o=(0,b.getProperty)(e+".summary",U)||{};Object.assign(o,t)}}},{key:"POLY_TYPES",get:function(){return x.POLY_TYPES}}]),i}();exports.DataStore=A; 
 			}); 
		define("pages/cart/models/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(){var e=O.getUserAddressID();return(e=3===e.split(/_/).length?e+"_0":e).replace(/_/g,"-")}function n(e){return e==N.CART_TYPE.PINGOU?1:0}function i(e){if(b.isLogin())return s(e);B.SpeedHandle.record("cartviewlogin");var r=(e||{}).forceLogin?"common":"silent";return b.getLoginPromise({mode:r}).then(function(){return B.SpeedHandle.recordEnd("cartviewlogin"),s(e)}).catch(function(e){return Promise.reject({errId:13,errMsg:"用户未登录"})})}function s(e){var r=this,t=e.cartType,s=e.forceLogin,a=void 0===s||s,d=e.adaptor,c=e.fckr,u=void 0===c?0:c;!e.times&&(e.times=0);var p={fckr:u,templete:1,locationid:o()};return d?p.adaptor=1:p.pingouchannel=n(t),F.get({url:"https://wq.jd.com/deal/mshopcart/cartview",data:p,ump:{bizId:ue,opId:pe.LIST,errOpId:pe.LIST,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(o){var n=o.body,s=0==n.errId,c=8994==n.errId,u=13==n.errId,p=n.watermarkText||"";if(s){var m=t;d&&(m=0==n.pingouchannel?1:0);var l=(0,q.getProperty)("cart.mainCurrentCount",n);void 0!==l&&ne(m,null,l),n=z(n,!0,m);var g=o.body.addrInfo;return g&&g.areaId&&g.areaName&&(O.updateAddress({addressId:g.addrId||0,areaId:g.areaId.replace(/-/g,"_"),areaName:g.areaName.replace(/-/g,"_"),addressName:g.fullAddr||"",coordinate:g.coordnate||""}),n.address=T(g.areaName)),n.watermarkText=p,Promise.resolve(n)}return c?(n=z(n,!0,t),n.watermarkText=p,Promise.resolve(z(n,!0,t))):u?(e.times+=1,a&&e.times<3?b.doLogin().then(i.bind(r,e)).catch(function(e){return Promise.reject(n)}):(e.times>=3&&(0,V.umpBiz)({bizid:ue,operation:pe.LOGIN,result:13,message:"登录死循环"}),Promise.reject(n))):Promise.reject(new Error(n.errMsg||"哎呀，操作发生点意外，请重新试试 "+(n.errId||"")))},function(e){return Promise.reject(e)})}function a(e){var r=[];return(Array.isArray(e)?e:[e]).forEach(function(e){var t=e.isSuit,o=t?e.polyType==Q.SUIT?e.promotion.pid:e.vSkuId:e.mainSku.id,n=e.num,i=t?e.polyType==Q.SUIT?e.promotion.pid:e.vSkuId:e.mainSku.id,s=e.ptype,a=e.polyType==Q.SUIT||e.polyType==Q.MZ_SUIT||e.polyType==Q.MF_SUIT?e.itemId:"",d=e.packId||0,c=function(){if(!e.listSelectGiftPoolGiftIds)return"";var r=28==e.giftPoolType;return(r?"newgiftpool":"giftpool")+":"+e.listSelectGiftPoolGiftIds.map(function(e){return r?e.id+"|"+e.num:e.id}).join("_")}(),u=e.giftServiceSkuId||"",p=e.beanOrMemberPromoId||"";r.push([o,"",n,i,s,a,d,c,u,"","",p].join(","))}),r.join("$")}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",r=arguments[1],t=[],o=[],n=[],i={};if(arguments[2].forEach(function(e){"gift_service"==e.type&&t.push(e.id),"jd_service"==e.type&&o.push(e.id),"ext_service"==e.type&&n.push(e.id)}),n.length){var s=n.map(function(e){return[e,"",1,r.mainSku.id,r.polyType!=Q.SINGLE?7:8,r.mainSku.id,0==r.pid?"":r.pid,0].join(",")}).join("$");s&&Object.assign(i,{ybcommlist:s})}if(o.length){var a=r.isVirtualSuit||r.isSuit?r.itemId:"",d=("add"==e?o:[o.pop()]).map(function(e){return[e,"","","","",r.mainSku.id,a,r.isVirtualSuit?"suitType:1":""].join(",")}).join("$");d&&Object.assign(i,{jdhscommlist:d})}if(t.length){var c=t.map(function(t){return[t,"","add"===e?1:0,t,1,r.mainSku.id,0,0].join(",")}).join("$");Object.assign(i,{commlist:c})}return i}function c(e,r){var t=this,i=k({templete:1,commlist:"",type:10,locationid:o(),reg:1},e,{pingouchannel:n(r)});return F.get({url:"https://wq.jd.com/deal/mshopcart/addCmdy",data:i,ump:{bizId:ue,opId:pe.ADD_CMDY,errOpId:pe.ADD_CMDY,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(o){var n=o.body,i=0==n.errId,s=13==n.errId;return i?Promise.resolve(z(n,!0,r)):s?b.doLogin().then(c.bind(t,e,r)):Promise.reject(new Error(C(n.errMsg,n.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function u(e,r){var t=this,i=k({templete:1,commlist:"",type:10,locationid:o(),reg:1,pingouchannel:n(r)},e);return F.get({url:"https://wq.jd.com/deal/mshopcart/rmvCmdy",data:i,ump:{bizId:ue,opId:pe.REMOVE,errOpId:pe.REMOVE},reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}).then(function(o){var n=o.body,i=0==n.errId,s=13==n.errId;return i?Promise.resolve(z(n,!0,r)):s?b.doLogin().then(u.bind(t,e,r)):Promise.reject(new Error(C(n.errMsg,n.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce.NORMAL_ITEM,r=arguments[1],t=arguments[2],i=a(r=Array.isArray(r)?r:[r]);return F.get({url:"https://wq.jd.com/deal/mshopcart/addCmdy",data:{templete:1,commlist:i,type:e,locationid:o(),reg:1,scene:0,pingouchannel:n(t)},ump:{bizId:ue,opId:pe.ADD_CMDY,errOpId:pe.ADD_CMDY,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(o){var n=o.body,i=0==n.errId,s=13==n.errId;return i?Promise.resolve(z(n,!0,t)):s?b.doLogin().then(p.bind(null,e,r,t)):Promise.reject(new Error(C(n.errMsg,n.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function m(e,r){var t=a(e);return F.get({url:"https://wq.jd.com/deal/mshopcart/modifycmdynum",data:{templete:1,commlist:t,type:0,locationid:o(),scene:0,reg:1,pingouchannel:n(r)},ump:{bizId:ue,opId:pe.MODIFY_CMDY_NUM,errOpId:pe.MODIFY_CMDY_NUM,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(t){var o=t.body,n=0==o.errId,i=13==o.errId;return n?Promise.resolve(z(o,!0,r)):i?b.doLogin().then(function(){return m(e,r)},function(e){return H.error(e),Promise.reject(new Error(C(o.errMsg,o.errId)))}):Promise.reject(new Error(C(o.errMsg,o.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function l(e,t,i,s){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c="",u={templete:1,commlist:c,type:0,all:"all"===t.type?1:0,locationid:o(),reg:1,pingouchannel:n(s)};if(d&&Object.assign(u,{scene:d}),"all"===t.type);else if("vender"===t.type){var p=[];t.list.forEach(function(e){e.polyType==Q.SUIT?p.push(e):p=e.suits&&e.suits.length?[].concat(r(p),r(e.suits),r(e.products)):[].concat(r(p),r(e.products))}),c=a(p)}else"product"===t.type?c=a(t):"products"===t.type&&(c=a(t.products));return F.get({url:e,speedPageId:me,speedSamplingRate:.5,data:Object.assign(u,{commlist:c}),ump:{bizId:ue,opId:i,errOpId:i,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(r){B.SpeedHandle.recordEnd(49);var o=r.body,n=0==o.errId,a=13==o.errId;if(n){B.SpeedHandle.record(51);var d=z(o,!0,s);return B.SpeedHandle.recordEnd(51),Promise.resolve(d)}return a?(B.SpeedHandle.record(50),b.doLogin().then(function(){return B.SpeedHandle.recordEnd(50),l(e,t,i,s)},function(e){return H.error(e),Promise.reject(new Error(C(o.errMsg,o.errId)))})):Promise.reject(new Error(C(o.errMsg,o.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function g(e){var r=e.oldProduct,t=e.newProduct,i=e.checkedServices,s=e.cartType,c={templete:1,commlist:a([r,t]),type:Q.SUIT==t.polyType?ce.VIRTUAL_SUIT:ce.NORMAL_ITEM,locationid:o(),scene:5,reg:O.gUserData().definePin,pingouchannel:n(s)},u=i&&i.length?d("add",t,i):{},p=u.ybcommlist,m=void 0===p?"":p,l=u.jdhscommlist,I=void 0===l?"":l;return m&&(c.ybcommlist=m),I&&(c.jdhscommlist=I),F.get({url:"https://wq.jd.com/deal/mshopcart/replaceitems",data:c,ump:{bizId:ue,opId:pe.REPLACE_ITEMS,errOpId:pe.REPLACE_ITEMS,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(e){var o=e.body,n=0==o.errId,i=13==o.errId;return n?Promise.resolve(z(o,!0,s)):i?b.doLogin().then(function(){return g(r,t,s)},function(e){return H.error(e),Promise.reject(new Error(C(o.errMsg,o.errId)))}):Promise.reject(new Error(C(o.errMsg,o.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function I(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce.NORMAL_ITEM,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s={templete:1,commlist:-1==i?a(e):i,type:t,checked:0,locationid:o(),reg:1,t:Math.random(),pingouchannel:n(r)};return F.get({url:"https://wq.jd.com/deal/mshopcart/rmvCmdy",data:s,ump:{bizId:ue,opId:pe.REMOVE,errOpId:pe.REMOVE,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(o){var n=o.body,s=8994==n.errId,a=0==n.errId,d=13==n.errId;return s?Promise.resolve(z(n,!0,r)):a?Promise.resolve(z(n,!0,r)):d?b.doLogin().then(function(){return I(e,r,t,i)},function(e){return H.error(e),Promise.reject(new Error(C(n.errMsg,n.errId)))}):Promise.reject(new Error(C(n.errMsg,n.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function f(e,r){var t={url:"https://wq.jd.com/deal/mshopcart/modifyCmdyPromo",data:{templete:1,commlist:a(e),type:0,locationid:o(),scene:0,reg:1,pingouchannel:n(r)},ump:{bizId:ue,opId:pe.MODIFY_CMDY_PROMO,errOpId:pe.MODIFY_CMDY_PROMO,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}};return F.get(t).then(function(t){var o=t.body,n=0==o.errId,i=13==o.errId;return n?Promise.resolve(z(o,!0,r)):i?b.doLogin().then(function(){return f(e,r)},function(e){return H.error(e),Promise.reject(new Error(C(o.errMsg,o.errId)))}):Promise.reject(new Error(C(o.errMsg,o.errId)))},function(e){return Promise.reject(new Error(C("",e.code)))})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};return e.length&&e.forEach(function(e){e.skuId&&r[e.skuId]&&+e.isPriceValid>0&&+e.tuanMemberCount>0&&+e.pinGouPrice>0&&(t[e.skuId]={tuanMemberCount:e.tuanMemberCount,pinGouPrice:(0,R.divide)(e.pinGouPrice,100).toFixed(2),priceDiff:(0,R.divide)((0,R.minus)(+e.cartShowPrice,+e.pinGouPrice),100)})}),t}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},o=L.getServerTime();return e.length&&e.forEach(function(e){if(e.skuId&&r[e.skuId]&&+e.endTime>o){var n=(+e.endTime-o)/36e5,i="";if(n>24){var s=new Date(+e.endTime);i="秒杀中，"+(s.getMonth()+1)+"月"+s.getDate()+"日结束"}else i=n>1?"秒杀中，"+(n=parseInt(n))+"小时后结束":"秒杀中，即将结束";t[e.skuId]=i}}),t}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={},n=L.getServerTime();return e.length&&e.forEach(function(e){if(e.skuId&&r[e.skuId]&&!t[e.skuId]&&+e.price>0&&+e.primePrice>+e.price&&+e.startTime<n&&+e.endTime>n){var i=(+e.endTime-n)/36e5,s="";if(i>24){var a=new Date(+e.endTime);s="闪购中，"+(a.getMonth()+1)+"月"+a.getDate()+"日结束"}else s=i>1?"闪购中，"+(i=parseInt(i))+"小时后结束":"闪购中，即将结束";o[e.skuId]={primePrice:(0,R.divide)(e.primePrice,100).toFixed(2),desc:s}}}),o}function P(e,r){var t={url:"https://wq.jd.com/fav/comm/FavCommBatchAdd",data:{pingouchannel:n(r)},ump:{bizId:ue,opId:pe.FAVORITE,errOpId:pe.FAVORITE,reportHook:function(e){return{code:+e.iRet,message:e.errMsg||""}}}},o=[];return e.forEach(function(e){var r=e.itemId;e.polyType!=Q.MF_SUIT&&e.polyType!=Q.MZ_SUIT||(r=e.vSkuId||e.mainSku.id),o.push(r)}),Object.assign(t.data,{callback:"favorite",commId:o.join(",")}),F.get(t).then(function(t){var o=t.body,n=0==o.iRet,i=9999==o.iRet;return n?Promise.resolve(e):i?b.doLogin().then(function(){return P(e,r)},function(e){return H.error(e),Promise.reject(new Error(S(e)))}):Promise.reject(new Error("哎呀，收藏商品失败了，请稍后再试~"))},function(e){return Promise.reject(new Error(C("",e.code)))})}function C(e,r){return e||"哎呀，操作发生点意外，请重新试试 ("+r+")"}function S(e){var r="";return[41,42,28,32,204].indexOf(e)<0&&(r="登录出错，请稍后再试～"),r}function x(e){var r=Object.keys(K(e)||{});return(r&&r.length?r:[]).join(",")}function E(e){return(0,Y.globalConfigGet)("cart").then(function(r){var t=(0,q.getProperty)(e,r);return Promise.resolve(t)},function(e){return Promise.resolve(0)})}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return"";var r=e.replace(/-/g,"_"),t=r.split("_");return t.length<2?r.replace(/_/g,""):t.splice(1,2).join("")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUserCurAddress=exports.formatAddress=exports.resetTraceid=exports.getCartCacheByKey=exports.getSelectedItems=exports.getCartCache=exports.canIUseCacheCartData=exports.getGlobalConf=exports.getRecSku=exports.getPinlikeOpts=exports.getLoginErrorMsg=exports.addPtagExposure=exports.addPtag=exports.getCartsCount=exports.getCachePin=exports.getCurCartType=exports.setCurCartType=exports.isPinGouCart=exports.CART_TYPE=exports.isPinGouApp=exports.getSpecialProCount=exports.rmvInvalidJdService=exports.formatErrMsg=exports.getCartNumFromCookie=exports.getLocationId=exports.updateValueAddedServices=exports.getPPMS=exports.getItemId=exports.getVenderById=exports.getCommonList=exports.queryItemByItemId=exports.queryProductByUUID=exports.getAssist=exports.getBalanceBeans=exports.getVenders=exports.favorite=exports.replaceProduct=exports.getAllSkuId=exports.getYbItems=exports.rmvCmdy=exports.modifyCmdyPromo=exports.modifyCmdyNum=exports.synCheckCmdy=exports.uncheckCmdy=exports.checkCmdy=exports.getCartView=exports.addCmdy=exports.ACTIONS=exports.OP_CODE=exports.BIZ_ID=exports.request=void 0;var j,k=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},M=require("../../../common/logger.js"),_=require("../common/inject-requset.js"),O=e(require("../../../common/user_info.js")),b=e(require("../../../common/login/login.js")),D=e(require("../../../common/biz")),A=e(require("../../../common/cookie-v2/cookie")),w=require("./data-store"),R=require("../../../common/numberp"),L=e(require("../../../common/fe_helper.js")),N=require("../common/constants"),q=require("../common/util/utils.js"),U=require("../../../api/Ptag/Ptag_utils.js"),G=require("../../../api/Ptag/report_manager"),Y=require("../../../common/global_config"),V=require("../../../common/fe_report/usability.js"),B=require("../common/speed-handle"),H=new M.Logger("购物车Model"),F=new _.InjectRequest(6,28),z=w.DataStore.format,K=w.DataStore.getAllSkuId,J=w.DataStore.getVenders,Z=w.DataStore.getVenderById,$=w.DataStore.queryProductByUUID,W=w.DataStore.queryItemByItemId,Q=w.DataStore.POLY_TYPES,X=w.DataStore.getItemId,ee=w.DataStore.getCachePin,re=w.DataStore.getSpecialProCount,te=w.DataStore.setCurCartType,oe=w.DataStore.getCurCartType,ne=w.DataStore.updateCartsCount,ie=w.DataStore.getCartsCount,se=w.DataStore.getCartCache,ae=w.DataStore.getSelectedItems,de=w.DataStore.getCartCacheByKey,ce={NORMAL_ITEM:0,GIFT_SUIT:1,SERVICE_CONNTRACT:2,VIRTUAL_SUIT:3,GIFT_3C:6,SERVICE_GIFT:7,INVALID_JD_SERVICE:11},ue=(0,q.isPinGouApp)()?1271:616,pe={STOCK:1,MARGIN:2,YB_SERVICES:3,LIST:4,ADD_CMDY:5,MODIFY_CMDY_NUM:6,CHECK:7,UNCHECK:8,REPLACE_ITEMS:9,REMOVE:10,MODIFY_CMDY_PROMO:11,VENINFOS:12,SHOP_COUPON:13,ADDRESS_LIST:14,FAVORITE:15,SYNCHECK:38,OLDBUY:36,LOGIN:37,SUCCESS:0,FAIL:1},me="";me=1916;var le="",ge=(j={},t(j,N.CART_TYPE.PINGOU,{}),t(j,N.CART_TYPE.JD,{}),j);exports.request=F,exports.BIZ_ID=ue,exports.OP_CODE=pe,exports.ACTIONS=ce,exports.addCmdy=p,exports.getCartView=i,exports.checkCmdy=function(e,r){return B.SpeedHandle.record(49),l("https://wq.jd.com/deal/mshopcart/checkcmdy",e,pe.CHECK,r)},exports.uncheckCmdy=function(e,r){return B.SpeedHandle.record(49),l("https://wq.jd.com/deal/mshopcart/uncheckcmdy",e,pe.UNCHECK,r)},exports.synCheckCmdy=function(e,r,t,o){var n="https://wq.jd.com/deal/mshopcart/"+(r?"checkcmdy":"uncheckcmdy"),i=r&&"products"===e?4:"";return l(n,{type:e,products:t},pe.SYNCHECK,o,i)},exports.modifyCmdyNum=m,exports.modifyCmdyPromo=f,exports.rmvCmdy=I,exports.getYbItems=function(e){var r={url:"https://wq.jd.com/deal/mcartassit/getybitems",data:{templete:1,isnewyb:1,locationid:o(),pingouchannel:n(e)},ump:{bizId:ue,opId:pe.YB_SERVICES,errOpId:pe.YB_SERVICES,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}},t={invalidHomeSkus:ge,entries:{}},i=K(e);if(!Object.keys(i).length)return Promise.resolve(t);ge[e]={};var s={};return F.get(r).then(function(r){var o=r.body;return 0==o.errId&&(o.platformInfos.forEach(function(e){var r=e.rSuitId?e.rSuitId+"_"+e.skuId:e.skuId;t.entries[r]=1}),o.homeservices&&o.homeservices.forEach(function(r){r.invalidserviceskus&&r.invalidserviceskus.forEach(function(e){s[e]=1});var o=0;if(r.servicegroups&&r.servicegroups.length&&r.servicegroups.forEach(function(e){return e.serviceskus&&(o+=e.serviceskus.length)}),o>0){var n=r.vskuId||r.suitPromoId,a=n?n+"_"+r.skuId:r.skuId,d=i[a];!n&&d&&d.every(function(t){var o=$(t,e);return!(o&&!o.isSuit&&o.polyType!=Q.SUIT&&o.polyType!=Q.SINGLE&&(a=o.pid+"_"+r.skuId,1))}),t.entries[a]=1}})),t.invalidHomeSkus=s,ge[e]=s,Promise.resolve(t)},function(e){return Promise.resolve({invalidHomeSkus:s,entries:{}})})},exports.getAllSkuId=K,exports.replaceProduct=g,exports.favorite=P,exports.getVenders=J,exports.getBalanceBeans=function(){return le},exports.getAssist=function(e){var r={iou:{},balanceBeans:0,pinGouInfos:{},flashPurchaseSkus:{},miaShaInfos:{}};return F.get({url:"https://wq.jd.com/deal/mcartassit/getcartassisit",data:{templete:1,pingouchannel:n(e)},ump:{bizId:ue,opId:pe.MARGIN,errOpId:pe.MARGIN,reportHook:function(e){return{code:+e.errId,message:e.errMsg||""}}}}).then(function(t){var o=t.body;if(0==o.errId){var n=K(e);return r.miaShaInfos=h(o.miaoShaInfos,n),r.flashPurchaseSkus=y(o.flashPurchaseSkus,n,r.miaShaInfos),r.balanceBeans=+o.balanceBeans,le=o.balanceBeans,r.pinGouInfos=o.pinGouInfos?Object.assign({},v(o.pinGouInfos,n)):{},Promise.resolve(r)}return Promise.resolve(r)},function(e){return Promise.resolve(r)})},exports.queryProductByUUID=$,exports.queryItemByItemId=W,exports.getCommonList=a,exports.getVenderById=Z,exports.getItemId=X,exports.getPPMS=function(e){var r=e.ppmsId,t=void 0===r?28656:r,o=e.grayName,n=void 0===o?"":o,i=e.doABtest,s=void 0!==i&&i,a=e.expire,d=void 0===a?"":a;return n?D.getPPMS(t,{expire:d}).then(function(e){var r=e.find(function(e){return e.grayName==n})||{},t="1"===r.grayIsOpen;if(!s)return Promise.resolve(t);var o=+r.grayFil||0,i=A.getCookie("visitkey"),a=A.getCookie("jdpin"),d=i.length;if(!r||!t||!d)return Promise.resolve(null);var c=+i.slice(i.length-2),u=r.grayWhiteName.split(",").indexOf(a)>-1,p=100===o||o>=c||u;return Promise.resolve(p)}).catch(function(e){return Promise.resolve(null)}):Promise.resolve(null)},exports.updateValueAddedServices=function(e){var r=e.product,t=e.checkedServices,o=e.uncheckedServices,n=e.cartType;if(!r||!t||!o)return Promise.reject(new Error("抱歉，商品未选中合适的服务，请稍候重试"));var i=[],s=!1,a=!1,p=!1,m=[];if(o.forEach(function(e){var r=t.find(function(r){return e.type===r.type});s||(s=!r&&"gift_service"==e.type)&&m.push(e),a||(a=!r&&"jd_service"==e.type)&&m.push(e),p||(p=!r&&"ext_service"==e.type)&&m.push(e)}),m.length){var l=d("removed",r,m);i.push(u.bind(null,l,n))}if(t.length){var g=d("add",r,t);i.push(c.bind(null,g,n))}return i.reduce(function(e,r){return e.then(r)},Promise.resolve())},exports.getLocationId=o,exports.getCartNumFromCookie=function(){return A.getCookie("cartNum")},exports.formatErrMsg=C,exports.rmvInvalidJdService=function(e){var r=e.product,t=e.services,o=e.cartType,n=d("remove",r,t).jdhscommlist;return I([r],o,ce.INVALID_JD_SERVICE,n)},exports.getSpecialProCount=re,exports.isPinGouApp=q.isPinGouApp,exports.CART_TYPE=N.CART_TYPE,exports.isPinGouCart=n,exports.setCurCartType=te,exports.getCurCartType=oe,exports.getCachePin=ee,exports.getCartsCount=ie,exports.addPtag=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n(oe())?"1":"0";U.PtagUtils.addPtag(e,Object.assign({},r,{pingou_cart:t}))},exports.addPtagExposure=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n(oe())?"1":"0";G.ReportManager.addPtagExposure(e,Object.assign({},r,{pingou_cart:t}))},exports.getLoginErrorMsg=S,exports.getPinlikeOpts=function(e){var r="";if((0,q.isPinGouApp)()){var t=x(e);r={title:"可能你还想要",appType:"jd-pingou",paging:!0,recId:t?5713:5783,reachBottom:"pingouOnScrollToLower",rdConfig:{click:"7651.5.1"},queryParams:{sku:t}},e==N.CART_TYPE.JD&&Object.assign(r,{recId:t?5724:5784,rdConfig:{click:"7014.18.42"},reachBottom:"jdOnScrollToLower"})}return r},exports.getRecSku=x,exports.getGlobalConf=E,exports.canIUseCacheCartData=function(e){var r=se(e),t=r.timesstamp,o=A.getCookie("cartLastOpTime")||"";if(!t||!o||1e3*+o>t)return Promise.resolve(!1);if((O.getUserAddressID()||"").replace(/-/g,"_")!=(r.areaId||"").replace(/-/g,"_"))return Promise.resolve(!1);var n=A.getCookie("pin")||A.getCookie("jdpin");return r.pin&&n==r.pin?E("switch.cache").then(function(e){if(!e)return Promise.resolve(!1);var r=(0,q.getServerTime)();return t&&r-t>=+e?Promise.resolve(!1):Promise.resolve(!0)}):Promise.resolve(!1)},exports.getCartCache=se,exports.getSelectedItems=ae,exports.getCartCacheByKey=de,exports.resetTraceid=_.resetTraceid,exports.formatAddress=T,exports.getUserCurAddress=function(){return T(O.getUserAddressDes()||"")}; 
 			}); 
		define("pages/cate/log.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initLog=void 0;var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../api/JDReport/JDReport.js")),t=require("../../common/utils.js");exports.initLog=function(){var r=e.default.init(),i=wx.getLaunchOptionsSync(),n=i.path,o=i.query,s=i.scene;return r.set({pname:n,pparam:(0,t.querystr)(o),pageId:"JDShopping_Classification"}),e.default.setScene(s),r}; 
 			}); 
		define("pages/cate/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e,t){var r="mpjsmpv2_"+(e||117)+(t?"_"+t:"")+".jsonp";return new Promise(function(e,n){wx.$.request.get({url:"https://wq.360buyimg.com/data/coss/keyword/project/"+r,speedPointId:2,ump:{bizId:441,opId:7},expire:"12h",cacheKey:"cate_"+r,header:{referer:"pages/cate/cate"}}).then(function(r){var o=r.body,a=r.handler,i=o.errCode,c=o.areaInfo,s=void 0===c?"":c,l=o.keywordAreas,u=void 0===l?[]:l;0==i?(t||(console.log("[CATE] areaInfo: ",s),w=s),e(u[0]||{})):("function"==typeof a.clearCache&&a.clearCache(),n(p.genErrMsg("数据异常，请稍候再试",i)))},function(e){var t=e.code,r=e.message;n(p.genErrMsg(r,t))})})}function r(e){return Promise.all([t(e),i(),c(297,15)]).then(function(e){var t=e[0],r=e[1],n=e[2];return n&&n.length?((t&&t.level1words||[]).forEach(function(e){"热门搜索"==e.keyword&&(e.level2words=n)}),{cateData:t,blockConfig:r}):{cateData:t,blockConfig:r}})}function n(){v.splice(0,v.length),w.split(";").forEach(function(e,t){var r=e.split(":"),n=f(r,3),o=n[0],a=n[1],i=n[2];o&&a&&!new RegExp("\\b"+o+"\\b").test(y.areaId)&&v.push({areaId:o,name:a,ptag:i})}),console.log("[CATE] tabEntries: ",v)}function o(e){var t=e;if(t.level1words_1=[],t.level1words_2=[],t.level1words=t.level1words.filter(function(e,t){return e.level2words||(e.level2words=[]),e.level2words=e.level2words.filter(function(e){if(e.keywordId&&new RegExp("\\b"+e.keywordId+"\\b").test(y.keywordId))return!1;if(e.url){var t=e.url.match(/\bkey=([^&#]+)/i);if(t)try{/catid_str,,/.test(t[1])?e.key=e.keyword:e.key=decodeURIComponent(t[1])}catch(e){console.warn("decodeURIComponent error")}return e.key=e.key||e.keyword,e.imageUrl=p.getImg(e.imageUrl,140),!0}return!1}),e.level2words.length>0}),t.level1words.forEach(function(e){if(4==e.pattern){var r=String(+new Date);(r=r.substring(0,r.length-3))>=e.patternStartTime&&r<e.patternEndTime&&t.level1words_2.push(e)}else t.level1words_1.push(e)}),t.extInfo2){var r=t.extInfo2.split("|"),n=f(r,3),o=n[0],a=n[1],i=n[2];o&&i&&(t.channelInfo={name:o,url:s(i,a)})}return delete t.extInfo2,delete t.level1words,t}function a(e){var t={};if(!e||!e.length)return t;var r=!0,n=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var c=a.value;if(c&&c.groupid){var s={};t[c.groupid]=s;var l=c.locations;if(l&&l.length){var u=!0,d=!1,f=void 0;try{for(var p,g=l[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var v=p.value;if(v){var h=v.plans;h&&h.length?s[v.locationid]=h:s[v.locationid]=[]}}}catch(e){d=!0,f=e}finally{try{!u&&g.return&&g.return()}finally{if(d)throw f}}}}}}catch(e){n=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw o}}return t}function i(){var e=getApp(),t="",r="";return e&&1019!=e.scene?Promise.resolve({areaId:t,keywordId:r}):new Promise(function(e,n){g.getPPMS(34262,{expire:"1h"}).then(function(n){console.log("[CATE] blockConfig: ",n&&n[0]),n.forEach(function(e){t+=e.areaId+",",r+=e.keywordId+","}),e({areaId:t,keywordId:r})}).catch(function(n){e({areaId:t,keywordId:r})})})}function c(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r={proids:e,totals:t,recpos:31242};return new Promise(function(e,t){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/floorv2/eshow",data:r,ump:{bizId:441,opId:41},expire:"1h",cacheKey:"cate_floor_v2"}).then(function(t){var r=t.body,n=t.handler;if(0==r.errcode){var o=[];(r.data&&r.data[0]&&r.data[0].floor||[]).forEach(function(e,t){var r=e.list&&e.list[0];r&&o.push({keywordId:e.cid,url:r.url||"",keyword:e.cname,imageUrl:r.img,pps:r.pps,ptag:e.ext1})}),e(o)}else"function"==typeof n.clearCache&&n.clearCache(),e([])},function(t){e([])})})}function s(e,t){var r=String(e);return t&&(/ptag/i.test(r)||(/\?\w+/.test(r)?r+="&ptag="+t:r+="?ptag="+t)),r}function l(){return new Promise(function(e){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/keyword/keywordsearch",data:{ruleid:1205,pi:1,pc:15}}).then(function(t){var r=t.body,n=void 0===r?{}:r,o=n.errCode,a=n.data,i=0===Number(o);e(i&&a&&a.list&&a.list.length?a.list:[])}).catch(function(t){console.warn("暗文接口出错",t),e([])})})}function u(){return new Promise(function(e){g.getPPMS(37088).then(function(){var t={};(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some(function(e){e.keyword_conf&&e.keyword_conf.some(function(e){return t=e,!0})}),e(t)}).catch(function(t){e({})})})}function d(e,t){var r=Date.now();/^\d{10}$/.test(e+"")&&(e*=1e3),/^\d{10}$/.test(t+"")&&(t*=1e3);var n=!e||(parseInt(e)==e?r>=e:r>=Date.parse(e)),o=!t||(parseInt(t)==t?r<t:r<Date.parse(t));return n&&o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEntryDataById=exports.getEntryConfig=exports.getHiddenWord=exports.getInitCateData=exports.addPtag=exports.getCpcData=exports.getData=void 0;var f=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=e(require("../../common/utils.js")),g=e(require("../../common/biz.js")),v=[],h={},w=void 0,y=void 0;exports.getData=function(e,a){var i=e+"_"+a;return a?h[i]?Promise.resolve({cateData:h[i]}):t(e,a).then(function(e){return h[i]=o(e),{cateData:h[i]}}):r(e).then(function(e){return y=e.blockConfig,n(),a=e.cateData.areaId,h[i]=o(e.cateData),{tabEntries:v,cateData:h[i]}})},exports.getCpcData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(n,o){var i=e.join("|"),c=t.map(function(e){return e+":"+(r[e]||1)}).join(",");wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/focusbi/show_new",data:{gids:i,pcs:c}}).then(function(e){var t=e.body;0==t.errCode?n(a(t.list||[])):o({code:t.errCode,message:t.msg})},function(e){o(e)})})},exports.addPtag=s,exports.getInitCateData=r,exports.getHiddenWord=function(){return new Promise(function(e){Promise.all([u(),l()]).then(function(t){var r=f(t,2),n=r[0],o=r[1];e({config:n,list:o})})})},exports.getEntryConfig=function(){return new Promise(function(e,t){g.getPPMS(34460).then(function(t){var r=t.filter(function(e){return d(e.begin,e.end)&&e.proid});r.length||e({}),r[0].img=p.getImg(r[0].img,550),e(r[0])}).catch(function(t){e({})})})},exports.getEntryDataById=function(e,t){var r={proids:e,totals:t,recpos:31242};return new Promise(function(t,n){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/floorv2/eshow",data:r,ump:{bizId:441,opId:41},expire:"1h",cacheKey:"cate_entry_"+e}).then(function(e){var r=e.body,n=e.handler;if(0==r.errcode){var o=[];(r.data&&r.data[0]&&r.data[0].floor||[]).forEach(function(e,t){var r=e.list&&e.list[0];r&&o.push({uid:""+e.cid+t,title:e.cname,desc:r.content,image:p.getImg(r.img,100),url:r.url?s(r.url,e.ext1):"",ptag:e.ext1})}),t(o)}else"function"==typeof n.clearCache&&n.clearCache(),t([])},function(e){t([])})})}; 
 			}); 
		define("pages/component.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){for(var r=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),a=0,o=r.length;a<o;++a){var i=r[a];if(!(i in t))return t[i]=n,n;t=t[i]}return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Component=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=require("./base.js"),u=function(u){function s(t,r){e(this,s);var a=n(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t));return a.target=t,a.path=r,a._events={},a.data.fn={},"function"==typeof t.setData&&(a.page=t),a._initComponents(),a._mergeLifeCircle(),a}return r(s,i.Base),o(s,[{key:"defaultData",value:function(){return{}}},{key:"components",value:function(){return{}}}]),o(s,[{key:"_mergeDefaultData",value:function(){var t=this.defaultData();for(var e in t)void 0===this.data[e]&&(this.data[e]=t[e]);this.page&&this.setData(this.data)}},{key:"_initComponents",value:function(){var t=this.components();this.components={};for(var e in t)this.components[e]=new t[e](this.target,this.path+"."+e)}},{key:"_replaceLoadFunc",value:function(){}},{key:"_mergeLifeCircle",value:function(){var t=this,e=this,n=["onLoad","onReady","onShow","onHide","onUnload"],r=!0,a=!1,o=void 0;try{for(var i,u=n[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){(function(){var n=i.value;if(!t[n])return"continue";var r=t.target[n];t.target[n]=function(){"onLoad"===n&&(e.page=this),r&&r.apply(this,arguments),"onLoad"===n&&e._mergeDefaultData(),e[n].apply(e,arguments)}})()}}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}}},{key:"_getFuncName",value:function(t){return t+"_"+this.cid}},{key:"setData",value:function(t){var e;if(!this.page)throw Error("no page object~  @JD");var n=this.path,r={};for(var a in t)r[n+"."+a]=t[a];for(var o=arguments.length,i=Array(o>1?o-1:0),u=1;u<o;u++)i[u-1]=arguments[u];(e=this.page).setData.apply(e,[r].concat(i))}},{key:"onLoad",value:function(){}},{key:"addFunc",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;if(this.data[e])throw new Error("function name "+e+" is already exists~   @JD");var a=this._getFuncName(e);this.page?this.setData(t({},""+e,a)):this.data[e]=a,"number"==typeof r&&(n=this.helper.throttle(n,r)),this.target[a]=n.bind(this)}},{key:"on",value:function(t,e){this._events[t]||(this._events[t]=[]),e=e.bind(this),this._events[t].push(e),this.target.emitter.on(t,e)}},{key:"emit",value:function(){var t;(t=this.target.emitter).emit.apply(t,arguments)}},{key:"cid",get:function(){return this._cid||(this._cid=this.__getRandomID("Cx")),this._cid}},{key:"data",get:function(){return a((this.page||this.target).data,this.path,{})},set:function(t){throw console.log("~~~~~~~~~ set: ",t),Error("cannot set data yet!  @JD")}},{key:"route",get:function(){return this.page?this.page.route:""}}]),s}();exports.Component=u; 
 			}); 
		define("pages/components/message-box/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(){}function s(){return{icon:"",title:"",titleAlign:"",content:"",wrapCls:"",tpl:h.SHOW,closable:!0,modal:!0,show:!1,scope:null,buttons:[]}}function i(t){g.hide()}function r(t){p.PtagUtils.addPtag("7014.18.45"),this.$goto("/pages/item/subPackages/freight/freight",{ptag:"7014.18.44"}),i(t)}function u(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(36).substring(2,15)}function c(t){var e=this;t.forEach(function(t){t.name="msgbox:press"+e.pageId+"_"+u(),e[t.name]=t.handler.bind(e)}),this["msgbox:close"]=i.bind(this),this["msgbox:noscroll"]=o.bind(this),this["msgbox:emptyFn"]=o.bind(this),this["msgbox:gotoViewRule"]=r.bind(this)}function a(t){if(1===t.length){var e=t[0].cls||"";t[0].cls+=e+" btn_red"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageBox=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=require("../../../api/Ptag/Ptag_utils.js"),b=(function(t){t&&t.__esModule}(require("../../../libs/promise.min.js")),require("../../component.js")),f=(new(require("../../../common/logger.js").Logger)("消息弹窗组件"),{NONE:"",INFO:"icon_success",WARNING:"icon",ERROR:""}),h={SHOW:"tplShow",INFO:"tplInfo"},g=function(o){function i(){return t(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return n(i,b.Component),l(i,[{key:"defaultData",value:function(){return s()}}],[{key:"alert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(),e=t.buttons&&t.buttons.length>=1?t.buttons.splice(0,1):[{cls:"btn_red",text:"确认",handler:function(){i.hide()}}];return Object.assign(t,{icon:f.WARNING,tpl:h.SHOW,content:"",buttons:e}),i.show(t)}},{key:"confirm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s();if(0===t.buttons.length)throw new Error("至少需要提供一个按钮");var e=[];1===t.buttons.length?(e.push({text:"取消",handler:function(){i.hide()}}),e.push(Object.assign({cls:"btn_red"},t.buttons.pop()))):e=t.buttons,Object.assign(t,{icon:f.WARNING,tpl:h.SHOW,content:"",closable:!1,buttons:e}),i.show(t)}},{key:"info",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(),e=[];t.buttons&&0!==t.buttons.length||e.push({text:"知道了",handler:function(){i.hide()}}),Object.assign(t,{wrapCls:t.content?"info":"",icon:f.NONE,tpl:h.INFO,closable:!1,buttons:e}),i.show(t)}},{key:"hide",value:function(){var t=getCurrentPages().slice(0).pop(),e={};e["msgbox.show"]=!1,t&&t.setData(e)}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(),e=t.scope?t.scope:getCurrentPages().slice(0).pop();a((t=Object.assign(s(),t,{show:!0})).buttons),c.apply(e,[t.buttons]),e&&e.setData({msgbox:t})}},{key:"ICONS",get:function(){return f}}]),i}();exports.MessageBox=g; 
 			}); 
		define("pages/index/mallv2/common-behavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Behavior({properties:{refreshTime:{type:Number,observer:function(){this.refresh()}}},methods:{refresh:function(){}}}); 
 			}); 
		define("pages/index/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function t(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null===o&&(o=""),"object"==(void 0===o?"undefined":a(o))&&(o=o.code+" - "+o.message),c.umpBiz({bizid:p,operation:e,result:~~t,message:o})}function o(e){var t={};if(!e||!e.length)return t;for(var o,n=0;n<e.length;n++)if((o=e[n])&&o.groupid){var r={};t[o.groupid]=r;var s=o.locations;if(s&&s.length)for(var a,i=0;i<s.length;i++)if(a=s[i]){var c=a.plans;c&&c.length?r[a.locationid]=c:r[a.locationid]=[]}}return t}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.getLoginPromise,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(o,n){var r=(new Date).getDate();d.get("index_show_login_mask_day").then(function(e){r!=e?(o((0,i.doLogin)()),d.set("index_show_login_mask_day",r)):t?n(-4):o()}).catch(function(t){o(e()),d.set("index_show_login_mask_day",r)})})}function r(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={appchannel:getApp().scene,tpl:"wxapp_v8"};if(t){t=t.includes(":")||t.includes("/")||t.includes("-")?t:parseInt(t);var r=new Date(t);n.pretime=+r/1e3,n.norecovery=1}var s="index_direct_data_"+e;return o.fetchCache?d.get("Request_"+s).then(function(e){var t=e.body,o=void 0===t?{}:t;return o.data?o.data:Promise.reject()}):new Promise(function(e,t){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/wxportal/mainentry",data:n,channel:"http",retry:0,exchange:!1,expire:"7d",cacheKey:s,ignoreCache:!0,speedPointId:14,ump:{bizId:m,opId:1,errBizId:m,errOpId:5}}).then(function(t){var o=t.body,n=void 0===o?{}:o,r=t.handler,s=n.errcode,a=n.errmsg,i=n.data;0==s?e(i||{}):("function"==typeof r.clearCache&&r.clearCache(),console.warn("[首页v2] 直出接口错误",s,a),e({isError:!0}))}).catch(function(t){console.warn("[首页v2] 直出接口错误",t),d.get("Request_"+s,{}).then(function(t){var o=t.body,n=void 0===o?{}:o;return n.data?e(n.data):wx.$.request.get({url:"https://wqs.jd.com/wxsq-orbackup-bucket1/d2d99cacc24a837b59123781376bd014/1.js",channel:"http",retry:0,exchange:!1,ignoreCache:!0}).then(function(t){var o=t.body,n=(void 0===o?{}:o).data;e(n)}).catch(function(){e({isError:!0})})})})})}function s(e,t){var o={action:e,activeId:t,bizType:4,activeType:2};wx.$.request.get({url:"https://wq.jd.com/bases/yuyue/wxauthreport",data:o}).catch(function(e){console.warn("上报小程序授权状态出错",e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChannelData=exports.getSearchV3=exports.getActiveResult=exports.postYuyue=exports.addFormId=exports.get188Gift=exports.queryNewGiftStatus=exports.getNewGift=exports.findGoods=exports.getMallMainV2=exports.getNewsFeed=exports.getFloorTabData=exports.getFloorData=exports.getRankInfoData=exports.getCsortData=exports.getRecommendList=exports.getBrandSale=exports.getSmartData=exports.getCpcData=exports.parseCpcList=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=require("../../common/login/login.js"),c=e(require("../../common/fe_report/usability.js")),d=e(require("../../common/localStorage")),u=require("../../common/fe_report/speed.js"),f=e(require("../../components/subscribe-guider/helper")),p=648,m=1141,g="Zg035pHqQ_2zmBjiQuO9l2KbuBXgdwEEfYf5it8ssrg",l=getApp()&&getApp().systemInfo&&getApp().systemInfo.platform||"",h=void 0;exports.parseCpcList=o,exports.getCpcData=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise(function(i,c){var d={gids:e.join("|"),pcs:n.map(function(e){return e+":"+(r[e]||1)}).join(",")};s&&(d.pretime=Math.floor(s/1e3)),wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/focusbi/show_new",data:d,speedPointId:a.speedPointId}).then(function(e){var n=e.body;0==n.errCode?i(a.raw?n.list||[]:o(n.list||[])):c({code:n.errCode,message:n.msg}),t(1,n.errCode,n.msg)},function(e){c(e),t(1,1,e)})})},exports.getSmartData=function(e){return new Promise(function(o,n){var r=(""+e.id).split(";");wx.$.request.get({url:"https://wq.jd.com/mcoss/smart/pagshow",data:Object.assign({id:"0",offset:"0",count:"0",unshowskus:"",venderids:"",cgids:""},e),header:{referer:"http://wq.jd.com/wxapp/pages/index/index"}}).then(function(e){var s=e.body;if(0==s.errcode){var a={};(s.data||[]).forEach(function(e){e&&-1!=r.findIndex(function(t){return t==e.smartid})&&(a[e.smartid]=e.list||[])}),o(a)}else n({code:s.errcode,message:s.msg});t(6,s.errcode,s.msg)},function(e){n(e),t(6,1,e)})})},exports.getBrandSale=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise(function(r,s){wx.$.request.get({url:"https://wq.jd.com/mcoss/brandspecial/show",data:{aid:e,sid:o,filtermark:n}}).then(function(e){var o=e.body;0==o.errCode?(r(o),t(27,0)):(s({code:o.errCode,message:"res body errCode != 0"}),t(27,1))}).catch(function(e){s(e),t(27,1,e)})})},exports.getRecommendList=function(e){return new Promise(function(e,o){wx.$.request.get({url:"https://wq.jd.com/youhaohuo/GetRecommendList",data:{size:1}}).then(function(n){var r=n.body,s=r.ret,a=r.data,i=r.msg;0==s&&a&&a.list&&a.list.length?e(a.list[0]):o({code:s,message:i}),t(40,s,i)},function(e){o(e),t(40,1,e)})})},exports.getCsortData=function(e,o){return new Promise(function(n,r){wx.$.request.get({url:"https://wq.jd.com/mcoss/floor/csort",data:{proid:e,total:o}}).then(function(e){var o=e.body;0==o.retcode?n(o.pro||[]):r({code:o.retcode,message:o.errmsg}),t(43,o.retcode,o.errmsg)},function(e){r(e),t(43,1,e)})})},exports.getRankInfoData=function(e,o,n){return new Promise(function(r,s){var a={cateId:e+"",provinceId:o+"",cityId:n+"",source:"wx",time:"1DAY",rankId:"rank3001"};wx.$.request.get({url:"https://rankcore.m.jd.com/rankInfo",data:{client:"wxphb",clientVersion:"1.0.0",body:JSON.stringify(a)}}).then(function(e){var o=e.body;o.isSuccess?r(o.result||[]):s({code:o.code}),t(44,o.code)},function(e){s(e),t(44,1,e)})})},exports.getFloorData=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={proids:e.join(";"),totals:t.join(";")};return o.intervals&&(n.intervals=o.intervals.join(";")),o.pretime&&(n.pretime=Math.floor(o.pretime/1e3)),o.recpos&&(n.recpos=o.recpos),new Promise(function(e,t){wx.$.request.get({url:"https://wq.jd.com/mcoss/floorv2/eshow",data:n,ump:{bizId:p,opId:65}}).then(function(o){var n=o.body;0==n.errcode?e(n.data&&n.data[0]&&n.data[0].floor||[]):t({code:n.errcode,message:n.msg})},function(e){t(e)})})},exports.getFloorTabData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={proids:e.join(";"),totals:t.join(";")};return o.intervals&&(n.intervals=o.intervals.join(";")),o.pretime&&(n.pretime=Math.floor(o.pretime/1e3)),new Promise(function(e,t){wx.$.request.get({url:"https://wq.jd.com/mcoss/floorv2/tshow",data:n}).then(function(o){var n=o.body;0==n.errcode?e(n.data||[]):t({code:n.errcode,message:n.msg})},function(e){t(e)})})},exports.getNewsFeed=function(e,t,o){return new Promise(function(n,r){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/newsfeed/show",data:{source:"wxsq_mainentry_wxapp",offset:e,count:t,recpos:o}}).then(function(e){var t=e.body,o=void 0===t?{}:t,s=o.errcode,a=o.msg,i=o.data;0!=s&&1!=s||!i?r({code:s,message:a}):n(o.data)},function(e){r(e)})})},exports.getMallMainV2=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=function(){return-1===h||o.fetchCache||(u.Speed.reportAlone(1596,{s7:Date.now()-h}),h=-1),r(e,t,o).then(function(e){var t=e.page_version,o=e.mrrr,n=1===Number(t),r=2===Number(t),s=!(!o||!o.ug||2!==Number(o.ug));return Object.assign({isNewUserVersion:n,isDiscoveryVersion:r,isNewUser:s},e)})};return o.fetchCache?n():(h=Date.now(),(0,i.getLoginPromise)({mode:"silent"}).then(n,n))},exports.findGoods=function(){return new Promise(function(e,t){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/findgoods/show",data:{page:1,tabid:0,client:"m",clientVersion:"1.0.0"}}).then(function(o){var n=o.body,r=void 0===n?{}:n,s=r.errcode,a=r.msg,i=r.data;0!=s&&1!=s||!i?t({code:s,message:a}):e(r.data)},function(e){t(e)})})},exports.getNewGift=function(e){var t=function(){return new Promise(function(t,o){wx.$.request.get({url:"https://wq.jd.com/activep2/mysterybox/awardnewgift",data:{callabck:"awardnewgift",active:e}}).then(function(e){var o=e.body,n=void 0===o?{}:o,r=n.ret,s=n.data;s||t({});var a=s.awardstatus;t({ret:r,awardstatus:a})}).catch(function(e){console.warn("[新人首页] 2018新人礼包迭代优化--发奖接口",e),t({})})})};return n().then(t,t)},exports.queryNewGiftStatus=function(){return new Promise(function(e,t){wx.$.request.get({url:"https://wq.jd.com/activep2/mysterybox/weakquerynewgift",data:{callabck:"weakquerynewgift",stationfalg:0}}).then(function(t){var o=t.body,n=(void 0===o?{}:o).data,r=!0;n||e({isReceived:r});var s=n.newgiftstatus;r=1===Number(s),e({isReceived:r})}).catch(function(t){console.warn("[新人首页] 2018新人礼包迭代优化--发奖接口",t),e({isReceived:!0})})})},exports.get188Gift=function(){return new Promise(function(e,t){wx.$.request.get({url:"https://wqcoss.jd.com/mcoss/data/get?func=newuser_banner"}).then(function(t){var o=t.body,n=void 0===o?{}:o,r=n.errcode,s=n.data,a=0===Number(r);e(a&&s?s:{})}).catch(function(t){console.warn("新版188礼包三重礼出错",t),e({})})})},exports.addFormId=function(e){var t={appId:"wx91d27dbf599dff74",formId:e,businessType:2};return new Promise(function(e,o){wx.$.request.get({url:"https://wq.jd.com/user/info/AddFormIdInfo",data:t}).then(function(t){var n=t.body,r=(void 0===n?{}:n).errcode;0===Number(r)?e():o()}).catch(function(e){console.warn("增加活动预约formId 接口出错",e),o()})})},exports.postYuyue=function(e){return new Promise(function(t,o){if(!wx.canIUse("requestSubscribeMessage"))return o({messageTxt:"当前版本过低暂无法使用该功能，请升级至微信最新版本",iconType:"warning"});f.delayShow(),wx.requestSubscribeMessage({tmplIds:[g],success:function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})[g];if("accept"!==n)return f.hide(),o({});wx.$.request.get({url:"https://wq.jd.com/bases/yuyue/activev1",data:{activeId:e,activeType:2}}).then(function(r){var a=r.body,i=void 0===a?{}:a,c=i.retCode,d=i.list,u=void 0===d?[]:d,p=!1,m="warning",g="预约失败，请稍候再试";if(0===Number(c)&&u&&u.length)switch(Number(u[0].bizCode)){case 11:p=!0,m="success",g="您已成功预约活动，请留意微信服务通知";break;case 10004:p=!1,m="warning",g="抱歉，活动不存在";break;case 10005:p=!1,m="warning",g="活动预约未开始，请留意预约开启时间";break;case 10006:p=!1,m="warning",g="抱歉，活动预约已结束";break;case 10007:p=!1,m="warning",g="您已经预约过了，请留意微信服务通知";break;default:p=!1,m="warning",g="预约失败，请稍候再试"}p?(s(n,e),t({messageTxt:g,iconType:m})):o({messageTxt:g,iconType:m}),f.hide()}).catch(function(e){console.warn("预约活动接口出错",e),o({messageTxt:"网络异常，请稍后再试",iconType:"warning"}),f.hide()})},fail:function(){o({messageTxt:"预约失败，请稍候再试",iconType:"warning"}),f.hide()}})})},exports.getActiveResult=function(e){return new Promise(function(t,o){return e&&e.length||o("查询活动预约参数错误"),wx.$.request.get({url:"https://wq.jd.com/bases/yuyuelist/activeinfo",data:{activeId:e.join(","),activeType:e.map(function(e){return 2}).join(",")}}).then(function(e){var o=e.body||{},n=o.retCode,r=o.state;if(0===Number(n)&&r){var s=[];r.forEach(function(e){101===Number(e.bizCode)&&s.push(Number(e.activeId))}),t(s)}else t([])}).catch(function(e){o("查询接口出错",e)})})},exports.getSearchV3=function(e){return new Promise(function(t,o){wx.$.request.get({url:"https://wqsou.jd.com/searchv3/xhome",data:{client:l,body:JSON.stringify(e)}}).then(function(e){var n=e.body,r=void 0===n?{}:n,s=r.code,a=r.wareInfo;0==s&&a?t(r):o({code:s,message:"接口异常"})}).catch(function(e){console.warn("请求搜索接口出错",e),o("请求搜索接口出错")})})},exports.getChannelData=function(e,t,o,n){var r={proid:e,sid:n},s=[];for(var a in r)s.push('"'+encodeURIComponent(a)+'": "'+encodeURIComponent(r[a])+'"');var i="{"+s.join(",")+"}";return new Promise(function(e,n){wx.$.request.post({url:"https://wqcoss.jd.com/mcoss/data/get?func="+t+"&recpos="+o,data:{param:i}}).then(function(t){var o=t.body,r=void 0===o?{}:o,s=r.errcode,a=r.data,i=r.errmsg;0===Number(s)&&Object.keys(a).length>0?e(a):n(i)}).catch(function(e){console.warn("拉取小首页数据接口出错",e),n("拉取小首页数据数据接口出错")})})}; 
 			}); 
		define("pages/index/page-behavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Behavior({properties:{onLoad:{type:Object,observer:function(o){this.onLoad(o)}},onShow:{type:Object,observer:function(o){this.onShow(o)}},onHide:{type:Object,observer:function(o){this.onHide(o)}},onRefresh:{type:Object,observer:function(o){this.refresh(o)}},onReachBottom:{type:Object,observer:function(o){this.onReachBottom(o)}},onPageScroll:{type:Object,observer:function(o){this.onPageScroll(o)}}},methods:{onShow:function(){this.setData({showTime:+new Date})},onReachBottom:function(){this.setData({reachBottom:+new Date})},onPageScroll:function(o){this.setData({scrollTop:o.scrollTop})},back2top:function(){wx.pageScrollTo({scrollTop:0})}}}); 
 			}); 
		define("pages/index/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();/^\d{10}$/.test(e+"")&&(e*=1e3),/^\d{10}$/.test(t+"")&&(t*=1e3);var n=!e||(parseInt(e)==e?r>=e:r>=Date.parse(e)),i=!t||(parseInt(t)==t?r<t:r<Date.parse(t));return n&&i}Object.defineProperty(exports,"__esModule",{value:!0}),exports._get=exports._pick=exports.getAppSchema=exports.logger=exports.isH5Url=exports.parseFocusUrl=exports.dateFormat=exports.getUrlPtag=exports.replaceParam=exports.addPtag=exports.isPingouPath=exports.Shake=exports.exposureUrlPtag=exports.getActiveConfig=exports.greyScale=exports.vkGreyScale=exports.clipImg=exports.report=exports.fixUrl=exports.checkTime=exports.genErrMsg=void 0;var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=require("../../api/Ptag/Ptag_utils"),o=require("../../common/cookie-v2/cookie.js"),a=require("../../common/utils.js"),s=require("../../api/Ptag/report_manager.js"),p=function(e){return e&&e.__esModule?e:{default:e}}(require("../../api/JDReport/JDReport.js")),u=function(){function t(){var r=this;e(this,t),this.listening=!0,this.reachTop=!1,this.emit=(0,a.throttle)(this.emit,4e3),wx.onAccelerometerChange(function(e){var t=e.x,n=e.y,i=e.z,o=Math.sqrt(t*t+n*n+i*i);!r.reachTop&&o>3?r.reachTop=!0:r.reachTop&&o<1.2&&(r.reachTop=!1,r.emit("shake"))})}return r(t,null,[{key:"init",value:function(){return t.instance?t.instance.start():t.instance=new t,t.instance}}]),r(t,[{key:"on",value:function(e){this.cb=e}},{key:"emit",value:function(){this.cb()}},{key:"start",value:function(){var e=this;this.listening||wx.startAccelerometer({success:function(){e.listening=!0,e.reachTop=!1}})}},{key:"stop",value:function(){this.listening&&(wx.stopAccelerometer(),this.listening=!1)}}]),t}(),c=function(){var e=p.default.init(),t=wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():{},r=t.path,n=void 0===r?"pages/index/index":r,i=t.query,o=void 0===i?{}:i,s=t.scene,u=void 0===s?1019:s;return e.set({pname:n,pparam:(0,a.querystr)(o),pageId:"JDShopping_Home"}),p.default.setScene(u),e}();exports.genErrMsg=function(e,t){return(e||"网络繁忙，请稍候再试")+(t?"("+t+")":"")},exports.checkTime=t,exports.fixUrl=function(e){return e.replace(/^(http:)?\/\//,"https://")},exports.report=function(e){2==e.split(".").length?i.PtagUtils.addPtag("137889."+e):i.PtagUtils.addPtag(e)},exports.clipImg=function(e,t,r){if("string"!=typeof e)return"";if(0===e.indexOf("data:image")&&-1!=e.indexOf("base64"))return e;if(/\.gif/i.test(e))return e;if(!/jfs\//.test(e)||!/(m|img\d{2})\.360buyimg\.com/.test(e)||!/\.(jpg|jpeg|png|webp)/.test(e))return e;var n="!cc_"+t+"x"+r;return/!cc_(\d)+x(\d)+/.test(e)?e=e.replace(/!cc_(\d)+x(\d)+/,n):e.endsWith(".webp")?e=""+(e=e.replace(/(.*).webp/,"$1"))+n+".webp":e+=n,e},exports.vkGreyScale=function(e){if("string"!=typeof e||!e.includes("-"))return!0;var t=e.split("-"),r=n(t,2),i=r[0],a=r[1];if(i=parseInt(i),a=parseInt(a),100===i&&100===a)return!1;if(isNaN(i)||isNaN(a)||i<0||a>99||i>a)return!0;var s=(0,o.getCookie)("visitkey"),p=parseInt(s.slice(-2));return!!isNaN(p)||p>=i&&p<=a},exports.greyScale=function(e,t){if(isNaN(+e))return!1;var r=(0,o.getCookie)("visitkey"),n=parseInt(r.slice(-2))+1,i=parseInt(e);if(100===i||i>0&&i<=100&&n<=i)return!0;if(t&&"string"==typeof t){var a=t.split(";"),s=(0,o.getCookie)("pin")||"";if(a.find(function(e){return e===s}))return!0}return!1},exports.getActiveConfig=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.length){var n=r.date||Date.now(),i=r.hasOwnProperty("default")?r.default:{};return e.find(function(e){return t(e.beginTime,e.endTime,n)})||i}},exports.exposureUrlPtag=function(e,t){if(t)e&&s.ReportManager.addPtagExposure(e);else{var r=e.split("?")[1],n=r?(0,a.querystr)(r).query:{},i=n.ptag||n.PTAG;i&&s.ReportManager.addPtagExposure(i)}},exports.Shake=u,exports.isPingouPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&(e.match(/pages\/pingou/)||e.match(/pages\/pingou_second/))&&(e="/pages/h5/index?encode_url="+encodeURIComponent(t)),e},exports.addPtag=function(e,t){if(!e||!t)return e;if(e.match(/\?\w+/)){var r=(0,a.getUrlParam)("ptag",String(e));e=r?e.replace(r,t):e+"&ptag="+t}else e=e+"?ptag="+t;return e},exports.replaceParam=function(e,t){if(!e)return"";for(var r in t){var n=t[r],i=new RegExp("("+r+"=)([^&#]*)","gi");e=e.includes(r+"=")||e.includes(r.toUpperCase()+"=")?e.replace(i,r+"="+n):e.indexOf("?")>0?e+"&"+r+"="+n:e+"?"+r+"="+n}return e},exports.getUrlPtag=function(e){if(!e)return"";var t=e.split("?")[1],r=t?(0,a.querystr)(t).query:{};return r.ptag||r.PTAG},exports.dateFormat=function(e,t){var r={"M+":(t=t||new Date).getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return e},exports.parseFocusUrl=function(e){if(!e||0!==e.indexOf("wxa://"))return e;var t="";return e.split("://")[1].split("/").forEach(function(e,r){0!==r&&(t=t+"/"+e)}),t},exports.isH5Url=function(e){return/^(https?:)?\/\//i.test(e)},exports.logger=c,exports.getAppSchema=function(e){var t=e.source,r=void 0===t?"wxapp":t,n=e.ptag,i=(0,o.getCookie)("PPRD_P").split("-").find(function(e){return e.indexOf("EA")>=0})||"",a={category:"jump",des:"HomePage",m_source:r,visitkey:(0,o.getCookie)("visitkey"),pin:(0,o.getCookie)("jdpin"),sid:(0,o.getCookie)("visitkey")+"|"+(0,o.getCookie)("__wga").split(".").pop(),__jda:(0,o.getCookie)("__jda"),__jdv:(0,o.getCookie)("__jdv"),unpl:(0,o.getCookie)("unpl"),cookie_ptag:i};return n&&(a.ptag=n),a=JSON.stringify(a),"openApp.jdMobile://virtual?params="+encodeURIComponent(a)},exports._pick=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(t,r){return e&&e.hasOwnProperty(r)&&(t[r]=e[r]),t},{})},exports._get=function(e,t,r){if(!e||!t)return r;var n=function(r){return String.prototype.split.call(t,r).filter(Boolean).reduce(function(e,t){return null!==e&&void 0!==e?e[t]:e},e)},i=n(/[,[\]]+?/)||n(/[,[\].]+?/);return void 0===i||i===e?r:i}; 
 			}); 
		define("pages/my/common/js/bind.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var i=e.rurl,o=e.activeid,r=e.level,a=e.ptag,c=e.forceScene,d=e.sceneid;i=i||(n.default.isXCX?"/pages/my/index/index":window.location.href);var u={returnText:"个人中心",returnUrl:i=n.default.isXCX?i:encodeURIComponent(decodeURIComponent(i)),activeid:o,activeLevel:r,forceScene:!!c,ptag:a,sceneid:d,navigateType:"navigateBack"};this.$xgoto(["/pages/my_pages/accountv2/index","//wqs.jd.com/my/bindpopupv2/index.shtml"],t.delObjUndefinedKey(u))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mustBind=exports.goBindPage=void 0;var t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(require("./utils")),n=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../common/wxcontext"));exports.goBindPage=e,exports.mustBind=function(t,n,i){if(t&&"singleDefault"==t.accountStatus)return e.call(this,{ptag:i,sceneid:n,forceScene:!0}),!0}; 
 			}); 
		define("pages/my/common/js/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){return!(e&&Object.keys(e).length>0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatDate=exports.isEmptyObj=exports.reportUMP=exports.fixProtocol=exports.isValidUserInfo=exports.getPpmsData=exports.formatNum=exports.formatMoney=exports.isWopayWallet=exports.isSqSimple=exports.isViomiFridge=exports.mSiteReport=exports.getServerTime=exports.debounce=exports.throttle=exports.isValidUrl=exports.unique=exports.addPromiseFinally=exports.delObjUndefinedKey=exports.batchThrottle=exports.getEnv=exports.getCurDatePpms=exports.toTenThousands=exports.toThousands=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../../../common/request/request")),o=e(require("../../../../common/wxcontext")),n=e(require("../../../../libs/promise.min")),i=require("../../../../common/fe_helper"),s=require("../../../../common/utils"),a=function(e){return e.indexOf(".")<0?(e||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"):(e=parseFloat(e.replace(/(\.\d{3})\d+$/,"$1")).toFixed(2).toString().split("."),e[0]=e[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),e.join("."))},u=function(e){return(parseFloat(e)/1e4).toString().split(".")[0]+"万"+(parseFloat(e)%1e4==0?"":"+")},p=function(){n.default.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e(r))},function(r){return t.resolve(e(r))})}};p();exports.toThousands=a,exports.toTenThousands=u,exports.getCurDatePpms=function(e,t,r){return e.filter(function(e){var o=(0,i.getServerTime)();if(o>=new Date(e.startTime).getTime()&&o<=new Date(e.endTime).getTime())return void 0===t||e[t]==r})},exports.getEnv=function(){var e=["wxapp","weixin","qq"].findIndex(function(e){return e==o.default.JD.device.scene});return-1==e?3:e},exports.batchThrottle=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;e.forEach(function(e){t[e]=(0,i.throttle)(t[e],r)})},exports.delObjUndefinedKey=function(e){return Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),e},exports.addPromiseFinally=p,exports.unique=function(e,t){var r={};return e.reduce(function(e,o){return r[o[t]]||(r[o[t]]=!0,e.push(o)),e},[])},exports.isValidUrl=function(e){return e.startsWith("/pages")||e.startsWith("http")||e.startsWith("//")},exports.throttle=i.throttle,exports.debounce=i.debounce,exports.getServerTime=i.getServerTime,exports.mSiteReport=function(e){try{if("jdpingou"==window.JD.device.scene)return;var t=e.eventId,r=e.eventParam,o=e.eventLevel,n=new MPing.inputs.Click(t);n.event_param=r,n.event_level=o,n.updateEventSeries(),(new MPing).send(n)}catch(e){console.error(e)}},exports.isViomiFridge=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase()||"";return/provider\/viomifridge21face/.test(e)},exports.isSqSimple=function(){return 1==o.default.JD.cookie.get("sq_index_simple")},exports.isWopayWallet=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase()||"";return/wopaywallet/.test(e)},exports.formatMoney=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return isNaN(e)||void 0===e||null===e||"NaN"==e||""===e||e<0?"":("0.00"===e.toString()&&(e=0),(e=0==t||0==e?e:parseFloat(e).toFixed(t))>=1e4?u(e.toString()):a(e.toString()))},exports.formatNum=function(e,t){return!e&&0!==e||e<0?"":void 0!==t&&e>t?t+"+":e.toString()},exports.getPpmsData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.key,s=void 0===i?"":i,a=t.bizId,u=void 0===a?"":a,p=t.opId,d=void 0===p?"":p,c=t.errBizId,l=void 0===c?"":c,f=t.errOpId,x=void 0===f?"":f,v=t.v,m="https://wq.360buyimg.com/data/ppms/js/ppms.page"+(void 0===v||v?"v":"")+e+".jsonp";return new n.default(function(t,n){r.get({url:m,ump:{key:s,bizId:u,opId:d,errBizId:l,errOpId:x,reportHook:function(e){return e&&e.data&&e.data[0]?{code:0}:{code:1,message:"ppms config 配置不全"}}},dataType:o.default.isXCX?"":"jsonp",jsonpCallback:"showPageData"+e}).then(function(e){var r=e.body,o=(e.header,r.data||[]);t(o)}).catch(function(e){e.code,e.message,n()})})},exports.isValidUserInfo=function(e,r){return e!=r&&!t(e)&&e.success},exports.fixProtocol=s.fixProtocol,exports.reportUMP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";o.default.JD.report.umpBiz({bizid:e,operation:t,result:r,source:"0",message:n})},exports.isEmptyObj=t,exports.formatDate=s.formatDate; 
 			}); 
		define("pages/my/index/components/bind-curtain/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(require("./store")),t=e(require("../../../../../common/localStorage")),i=e(require("../../../common/js/bind")),o=e(require("../../../common/js/utils")),r={store:n.default,props:{userInfo:{type:Object,default:function(){return{}}},newBindConfig:{type:Array,default:function(){return[]}}},watch:{newBindConfig:function(e){e.length&&this.initPage()},userInfo:function(e,n){o.isValidUserInfo(e,n)&&this.initPage()}},methods:{initPage:function(){var e=this;if(this.newBindConfig.length&&this.userInfo&&this.userInfo.success&&"singleDefault"==this.userInfo.accountStatus){var n=o.getCurDatePpms(this.newBindConfig,"type","bind"),i=n&&n[0]&&n[0].num;i&&t.get("bindCurtainShow",0).then(function(t){t&&t==i||e.showMyBindCurtain(n[0])})}},hideXModal:function(){this.bindWindow.show=!1},goBindPage:function(){var e=this.bindWindow,n=e.rurl,t=e.activeid,o=e.level,r=e.sceneid;this.hideXModal(),i.goBindPage.call(this,{rurl:n,activeid:t,level:o,sceneid:r,ptag:"7155.1.169"})}}};exports.default=r; 
 			}); 
		define("pages/my/index/components/bind-curtain/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i.default=e,i}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=i(require("../../../../../api/Ptag/report_manager_wqvue")),n=i(require("../../../../../common/wxcontext")),t=e(require("../../../../../common/localStorage")),o=e(require("../../../common/js/utils"));exports.default=function(){return{state:{bindWindow:{show:!1,bindactiveid:"",bindlevel:"",rurl:"",img:""}},actions:{showMyBindCurtain:function(e){var i=e.img,a=e.num,u=e.env,d=e.activeid,l=e.level,c=e.sceneid;if((-1==a||0==a)&&t.remove("bindCurtainShow"),-1!=a&&-1!==u.indexOf(n.default.JD.device.scene)){if(this.bindWindow={show:!0,activeid:d,level:l,sceneid:c,img:o.fixProtocol(i),rurl:n.default.isXCX?"/pages/my/index/index":location.href},0!=a){var s=a+"d";t.set("bindCurtainShow",a,{expire:s}).catch(function(){console.error("my bindCurtainShow写storage失败")})}r.default.addPtagExposure("7155.1.171")}}}}}; 
 			}); 
		define("pages/my/index/components/bind-floor/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){return e&&e.__esModule?e:{default:e}}(require("./store")),n=e(require("../../../common/js/utils")),i=e(require("../../../common/js/bind")),o={props:{userInfo:{type:Object,default:function(){return{}}},newBindConfig:{type:Array,default:function(){return[]}}},store:t.default,watch:{newBindConfig:function(e){e.length&&(this.bindConfig=n.getCurDatePpms(e,"type","bindfloor")[0],this.newConfig=n.getCurDatePpms(e,"type","newfloor")[0])}},created:function(){this.navToBindPage=n.throttle(this.navToBindPage,1e3)},methods:{navToBindPage:function(){var e=this.bindConfig||{},t=e.activeid,n=e.level,o=e.sceneid,r=(this.newConfig||{}).link;this.userInfo.isNewUser&&r?this.$xgoto([r]):i.goBindPage.call(this,{activeid:t,level:n,sceneid:o,ptag:"7155.1.136"})}}};exports.default=o; 
 			}); 
		define("pages/my/index/components/bind-floor/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(){return{state:{bindConfig:null,newConfig:null},actions:{}}}; 
 			}); 
		define("pages/my/index/components/my-activity/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./store")),i=t(require("../../../common/js/utils")),n=t(require("../../../common/js/bind")),s=e(require("../../../../../api/Ptag/report_manager_wqvue")),r=t(require("../../../../../common/modal/modal.js")),c={store:o.default,data:{activityUrlKey:["actUrl","actUrl_wq","actUrl_qq","actUrl_m"],env:i.getEnv(),lineNum:3},props:{userInfo:{type:Object,default:null}},created:function(){this.navToTools=i.throttle(this.navToTools,1500),this.fetchActivityInfo()},methods:{showAllActivity:function(){this.wrapHeight=65*this.lineNum},navToTools:function(t){var e=this,o=this.activityList[t.currentTarget.dataset.idx],c=o.actName,a=o.limit,u=o.ptag,l=o[this.activityUrlKey[this.env]];u&&s.default.addPtag(u),1!=a||this.userInfo&&(!this.userInfo.success||"noPin"!=this.userInfo.accountStatus&&"singleDefault"!=this.userInfo.accountStatus)?1==a&&this.userInfo.success&&"doubleDefault"==this.userInfo.accountStatus?r.show({title:"提示",content:"使用该功能需切换至京东账号"+this.userInfo.pinlist+"，立即切换？",showCancel:!0,align:"left",cancelText:"下次再说",confirmText:"确认",confirmColor:"#E93B3D",success:function(){e.$emit("changeAccount")}}):0==l.indexOf("/pages")?this.$goto(l):this.$xgoto([i.fixProtocol(l)]):r.show({title:"提示",content:"登录京东账号，立即体验"+c+"！",showCancel:!0,align:"left",cancelText:"下次再说",confirmText:"立即登录",confirmColor:"#E93B3D",success:function(){n.goBindPage.call(e,{forceScene:!0})}})}}};exports.default=c; 
 			}); 
		define("pages/my/index/components/my-activity/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(t){return t&&t.__esModule?t:{default:t}}(require("../../../../../common/wxcontext")),e=require("../../../common/js/utils");exports.default=function(){return{state:{activityList:[],wrapHeight:""},actions:{fetchActivityInfo:function(){var i=this,a=t.default.isXCX&&1019==getApp().scene?1:0;(0,e.getPpmsData)(35174,{key:"wq.webmonitor.my.fetchActivityInfo",bizId:"1358",opId:"29",errBizId:"1358",errOpId:"30"}).then(function(r){var c=r[0].actSet[0].defalutAct.filter(function(t){return!!t[i.activityUrlKey[i.env]].trim()}).reduce(function(r,c){var n=(0,e.getServerTime)();if(n>=new Date(c.startTime)&&n<=new Date(c.endTime)){var u=c.actName,l=c.actUrl,m=c.actUrl_wq,o=c.actUrl_qq,f=c.actUrl_m,s=c.actImg,d=c.limit,v=c.ptag;return c.actName.indexOf("充值")>=0&&1==a?r:3==i.env&&"应用推荐"==c.actName&&window.isQuickApp?r:r.concat([{actName:u,actUrl:l,actUrl_wq:m,actUrl_qq:o,actUrl_m:f,actImg:t.default.JD.img.getImgUrl(s),limit:d,ptag:v}])}return r},[]);i.activityList=c,i.lineNum=Math.ceil(i.activityList.length/4),i.wrapHeight=i.lineNum>3?235:65*i.lineNum}).catch(function(t){i.activityList=[],i.wrapHeight=0})}}}}; 
 			}); 
		define("pages/my/index/components/my-asset/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeRedIcon=exports.couponsFilter=exports.loadCouponData=void 0;var t=o(require("../../../../../libs/promise.min")),n=o(require("../../../../../common/wxcontext")),r=e(require("../../../../../common/login/loginv1.js")),i=require("../../../../../common/request/request.js"),u=e(require("../../../common/js/utils"));exports.loadCouponData=function(e){return new t.default(function(o,t){r.getLoginPromise().then(function(){i.request.get({url:"https://wq.jd.com/activeapi/queryjdcouponlistwithfinance",data:{state:e,wxadd:1},ump:{key:"wq.webmonitor.my.queryjdcouponlistwithfinance",bizId:"1358",opId:"7",errBizId:"1358",errOpId:"8",reportHook:function(e){return 0==e.errorCode?{code:0}:{code:e.errorCode,message:e.errMsg}}},dataType:n.default.isXCX?"":"jsonp",jsonpCallback:"QueryJdCouponListCallBack"}).then(function(e){var n=e.body;if(0==n.errorCode){var r=n.coupon;o(r)}else t(n.errMsg||"请求数据出错，请稍后再试")}).catch(function(e){t("网络出错，请稍后再试")})}).catch(function(e,o){t(o||"登录出错，请稍后再试")})})},exports.couponsFilter=function(e){var o=[];return!(e instanceof Array)&&(e=[]),e.forEach(function(e){var t=e.coupontype,n=e.couponStyle;e.extInfo&&e.extInfo.limit_organization&&"[9]"==e.extInfo.limit_organization?e.couponTypeNum=6:e.couponTypeNum=0==n&&1==t?1:3==n&&1==t?2:0==n&&0==t?3:2==n&&2==t?4:10==n&&10==t?5:12!=n||300!=t&&301!=t?12==n&&302==t?8:10==n&&(401==t||402==t)||22==n&&(800==t||801==t)?9:10==n&&403==t||22==n&&802==t?10:0:7,["1","2","3","4","5","6","7","8","9","10"].indexOf(""+e.couponTypeNum)>=0&&o.push(e)}),o},exports.removeRedIcon=function(e){return new t.default(function(o,t){var c={type:e};3==u.getEnv()&&(c.sceneid=2),r.getLoginPromise().then(function(e){i.request.get({url:"https://wq.jd.com/user_redpoint/ClearUserRedPoint",data:c,ump:{key:"wq.webmonitor.my.ClearCouponRedPoint",bizId:"1358",opId:"5",errBizId:"1358",errOpId:"6",reportHook:function(e){return[0].indexOf(e.iRet)>=0?{code:0}:{code:e.iRet,message:e.msg}}},dataType:n.default.isXCX?"":"jsonp"}).then(function(e){var n=e.body;e.header,0==n.iRet?o(n):t()}).catch(function(e){var o=e.code,n=e.message;t({code:o,message:n})})}).catch(function(e){t({})})})}; 
 			}); 
		define("pages/my/index/components/my-asset/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("./store")),o=t(require("../../../../../common/wxcontext")),a=e(require("../../../common/js/utils")),i=e(require("../../../common/js/bind")),s=t(require("../../../../../api/Ptag/report_manager_wqvue")),c=e(require("../../../../../common/modal/modal")),u={props:{assetInfo:{type:Object,default:function(){return{}}},userInfo:{type:Object,default:function(){return{}}}},store:n.default,data:{env:a.getEnv(),balanceDetail:""},created:function(){a.batchThrottle(["navToCouponPage","navToBalancePage","navToBeanPage","navToECardPage","navToAssetPage"],this,1e3)},watch:{assetInfo:function(e){Object.keys(e).length&&(this.initData(e),this.fetchCouponData())}},methods:{navToCouponPage:function(){var e=this,t=function(){e.$xgoto(["/pages/my_pages/coupon/coupon","//wqs.jd.com/my/coupon/index.shtml"],3==e.env?{ptag:"7155.1.18",sceneval:2}:{ptag:"7155.1.18"})};this.isCouponRed?this.removeRedIcon(3).then(function(t){e.isCouponRed=!1}).catch(function(e){}).finally(function(){t()}):t()},navToBalancePage:function(){this.showNoticeForBind("7155.1.182")||this.$goto("/pages/my_pages/balance/balance",{ptag:"7155.1.182",balance:this.balanceDetail})},navToBaiTiaoPage:function(){var e=this,t=this.env,n=["WX_H","WX_H5","QQ_H5"];s.default.addPtag("7155.1.19"),this.showNoticeForBind("7155.1.19")||("doubleDefault"!=this.userInfo.accountStatus?this.$xgoto([3==t?"//bt.jd.com/v3/mobile/rGuide_initGuideMobile":"//wq.jd.com/pinbind/tokenredirect"],3==t?{channelName:177,source:"JD_m"}:{biz:"jdbt",url:encodeURIComponent("//bt.jd.com/v3/mobile/rGuide_initGuideMobileWXQQ?channelName=166&source="+n[t])}):c.show({title:"提示",content:"使用该功能需切换至京东账号"+this.userInfo.pinlist+"，立即切换",showCancel:!0,align:"left",cancelText:"立即切换",confirmText:"下次再说",confirmColor:"#E93B3D",fail:function(){e.$emit("changeAccount")}}))},navToBeanPage:function(){var e=["/pages/bean/index/index","//wqsh.jd.com/promote/201801/bean/mybean.html","//wqs.jd.com/promote/201801/bean/mybean.html","//wqs.jd.com/my/jingdou/my.shtml?sceneval=2"];this.$xgoto([e[0],e[this.env]],{ptag:"7155.1.17"})},navToRedpacketPage:function(){var e="7155.1.44";this.$xgoto(["//wqs.jd.com/my/redpacket.shtml"],o.default.isXCX?{iswxappEnv:1,wxAppScene:getApp().scene,ptag:e}:3==this.env?{ptag:e,sceneval:2}:{ptag:e})},navToAssetPage:function(){var e="7155.1.58";this.$xgoto(["//wqs.jd.com/my/asset.html"],o.default.isXCX?{iswxappEnv:1,wxAppScene:getApp().scene,ptag:e}:3==this.env?{ptag:e,sceneval:2}:{ptag:e})},showNoticeForBind:function(e){var t=this;if(this.userInfo&&("noPin"==this.userInfo.accountStatus||"singleDefault"==this.userInfo.accountStatus))return c.show({title:"",content:"当前账号为临时京东账号，该账号仅可用于快捷购物，需要完善账号信息后才可享受完整会员特权",showCancel:!0,align:"left",cancelText:"取消",confirmText:"完善信息",confirmColor:"#E93B3D",success:function(){i.mustBind.call(t,t.userInfo,o.default.isXCX?721394567:721394553,e)}}),!0}}};exports.default=u; 
 			}); 
		define("pages/my/index/components/my-asset/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function a(a){return a&&a.__esModule?a:{default:a}}function i(a){if(a&&a.__esModule)return a;var i={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t]);return i.default=a,i}Object.defineProperty(exports,"__esModule",{value:!0});var t=i(require("./model")),o=a(require("../../../../../libs/promise.min")),e=i(require("../../../common/js/utils")),n=a(require("../../../../../common/wxcontext")),u=a(require("../../../../../api/Ptag/report_manager_wqvue"));exports.default=function(){return{state:{isXcx:n.default.isXCX,isViomiFridge:e.isViomiFridge(),couponNum:0,balance:0,redpacketNum:0,isCouponRed:!1,baiTiaoNum:0,baiTiaoText:"白条额度",isBaiTiaoNum:!0,beanNum:0},actions:{initData:function(a){this.isCouponRed=1==a.couponRed,this.isCouponRed&&u.default.addPtag("7155.1.54");var i=parseFloat(a.accountBalance<0?"0":e.formatNum(a.accountBalance)).toFixed(2);if(this.balance=e.formatMoney(i),this.balanceDetail=i?e.toThousands(i):"","0.00"===this.balanceDetail.toString()&&(this.balanceDetail="0"),this.redpacketNum=e.formatMoney(a.redBalance),this.beanNum=a.beanNum<0?"-"+e.formatMoney(Math.abs(a.beanNum),0):e.formatMoney(a.beanNum,0),!n.default.isXCX&&a.baitiaoInfo){var t=a.baitiaoInfo;if("0"==t.baiTiaoStatus){var o=e.formatMoney(t.availableLimit),r=e.formatMoney(t.outstanding7Amount),s=e.formatMoney(t.unpaidForMonth);1==t.bill?(this.baiTiaoNum=0!=s?s:o,this.baiTiaoText=0!=s?"本月待还":"白条额度"):0!=r?(this.baiTiaoNum=r,this.baiTiaoText="7天待还"):0!=s?(this.baiTiaoNum=s,this.baiTiaoText="本月待还"):(this.baiTiaoNum=o,this.baiTiaoText="白条额度")}else 1==t.baiTiaoStatus?(this.baiTiaoNum="开通有礼",this.baiTiaoText="白条"):(this.baiTiaoNum="查询额度",this.baiTiaoText="白条额度");this.isBaiTiaoNum=/^[0-9]+.?[0-9]*/.test(this.baiTiaoNum),1!=t.baiTiaoStatus&&e.reportUMP(1358,35,t.baiTiaoStatus,"base_info_status:"+t.baiTiaoStatus)}},fetchCouponData:function(){var a=this;t.loadCouponData(1).then(function(i){if(!i)throw new Error;var o=n.default.isXCX?t.couponsFilter(i.useable):i.useable;a.couponNum=e.formatMoney(Array.isArray(o)?o.length.toString():"",0)}).catch(function(i){a.couponNum=""})},removeRedIcon:function(a){return new o.default(function(i,o){t.removeRedIcon(a).then(function(a){0==a.iRet?i(a):i()}).catch(function(a){o(a)})})}}}}; 
 			}); 
		define("pages/my/index/components/my-fav/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearShopFavRedDot=exports.clearGoodFavRedDot=exports.getShopFavRed=exports.getGoodsFavRed=exports.showRecentNum=void 0;var t=require("../../../../../common/request/request.js"),r=o(require("../../../../../common/login/loginv1.js")),n=require("../../../../../common/timer-manage"),i=e(require("../../../../../libs/promise.min.js")),a=require("../../../../../common/logger.js"),d=e(require("../../../../../common/wxcontext")),s=o(require("../../../common/js/utils")),c=new a.Logger("assetsinfo"),u=s.getEnv();exports.showRecentNum=function(e){return new i.default(function(o,n){var i={};r.getLoginPromise().then(function(r){t.request.get({url:"https://wq.jd.com/bases/footprints/getcount",data:i,ump:{key:"wq.webmonitor.my.footprints",bizId:"1358",opId:"9",errBizId:"1358",errOpId:"10",reportHook:function(e){return 0==e.errcode?{code:0}:{code:e.errcode,message:e.msg}}},dataType:d.default.isXCX?"":"jsonp",jsonpCallback:"CallbackGetnum"}).then(function(t){var r=t.body;t.header,0==r.errcode?o(r):e?o({}):n()}).catch(function(t){var r=t.code,i=t.message;e?o({code:r,message:i}):n({code:r,message:i})})}).catch(function(e){n({}),c.error(e)})})},exports.getGoodsFavRed=function(){return new i.default(function(e,o){var n={};3==u&&(n.sceneval=2),r.getLoginPromise().then(function(r){t.request.get({url:"https://wq.jd.com/fav/comm/FavQueryGoodsTotalAndRedPoint",data:n,ump:{key:"wq.webmonitor.my.FavQueryGoodsTotalAndRedPoint",bizId:"1358",opId:"11",errBizId:"1358",errOpId:"12",reportHook:function(e){return 0==e.iRet?{code:0}:{code:e.iRet,message:e.errMsg}}},dataType:d.default.isXCX?"":"jsonp"}).then(function(t){var r=t.body;t.header,0==r.iRet?e(r):o("iRet = "+r.iRet)}).catch(function(e){var t=e.code,r=e.message;o({code:t,message:r})})}).catch(function(e){o("login failed:"+e)})})},exports.getShopFavRed=function(){return new i.default(function(e,o){r.getLoginPromise().then(function(r){t.request.get({url:"https://wq.jd.com/user/msgcenter/QueryShopRedPoint",dataType:d.default.isXCX?"":"jsonp",ump:{key:"wq.webmonitor.my.QueryShopRedPoint",bizId:"1358",opId:"13",errBizId:"1358",errOpId:"14",reportHook:function(e){return[0].indexOf(e.iRet)>=0?{code:0}:{code:e.iRet,message:e.msg}}}}).then(function(t){var r=t.body;t.header,0==r.iRet?e(r):o("iRet = "+r.iRet)}).catch(function(e){var t=e.code,r=e.message;o({code:t,message:r})})}).catch(function(e){o("login failed:"+e)})})},exports.clearGoodFavRedDot=function(){return new i.default(function(e,o){var i=(0,n.createTimeout)(function(){o("clearGoodFavRedDotTime > 1000ms"),d.default.JD.report.umpBiz({bizid:"563",operation:31,result:1100,message:"clearGoodFavRedDotTime > 1000ms"})},1e3),a={};3==u&&(a.sceneval=2),r.getLoginPromise().then(function(r){t.request.get({url:"https://wq.jd.com/fav/comm/clearFavGoodsRedPoint",data:a,ump:{key:"wq.webmonitor.my.clearFavGoodsRedPoint",bizId:"1358",opId:"15",errBizId:"1358",errOpId:"16",reportHook:function(e){return[0].indexOf(e.iRet)>=0?{code:0}:{code:e.iRet,message:e.msg}}},dataType:d.default.isXCX?"":"jsonp"}).then(function(t){var r=t.body;t.header,0==r.iRet?(e(r),(0,n.stopTimeout)(i)):(o("iRet = "+r.iRet),(0,n.stopTimeout)(i))}).catch(function(e){var t=e.code,r=e.message;o({code:t,message:r}),(0,n.stopTimeout)(i)})}).catch(function(e){o("login failed:"+e)})})},exports.clearShopFavRedDot=function(){return new i.default(function(e,o){var i=(0,n.createTimeout)(function(){o("clearShopFavRedDotTime > 1000ms"),d.default.JD.report.umpBiz({bizid:"563",operation:31,result:1100,message:"clearShopFavRedDotTime > 1000ms"})},1e3);r.getLoginPromise().then(function(r){t.request.get({url:"https://wq.jd.com/user/msgcenter/ClearShopRedPoint",dataType:d.default.isXCX?"":"jsonp",ump:{key:"wq.webmonitor.my.ClearShopRedPoint",bizId:"1358",opId:"17",errBizId:"1358",errOpId:"18",reportHook:function(e){return[0].indexOf(e.iRet)>=0?{code:0}:{code:e.iRet,message:e.msg}}}}).then(function(t){var r=t.body;t.header,0==r.iRet?(e(r),(0,n.stopTimeout)(i)):(o("iRet = "+r.iRet),(0,n.stopTimeout)(i))}).catch(function(e){var t=e.code,r=e.message;o({code:t,message:r}),(0,n.stopTimeout)(i)})}).catch(function(e){o("login failed:"+e)})})}; 
 			}); 
		define("pages/my/index/components/my-fav/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./store")),n=e(require("../../../../../common/wxcontext")),a=t(require("./model")),i=t(require("../../../common/js/utils")),s=require("../../../../../common/timer-manage"),r={store:o.default,data:{isMenv:3==i.getEnv()},props:{favInfo:{type:Object,default:function(){return{}}},userInfo:{type:Object,default:function(){return{}}}},watch:{favInfo:function(t){Object.keys(t).length&&(this.initData(t),this.getGoodsFavRed(),this.getShopFavRed(),this.getRecentNum())}},created:function(){i.batchThrottle(["navToGoodsFav","navToShopFav","navToFootPrint"],this,1e3)},methods:{navToGoodsFav:function(t){var e=this,o=function(){e.$xgoto(["//wqs.jd.com/my/fav/goods_fav.shtml"],n.default.isXCX?{iswxappEnv:1,ptag:"7155.1.8"}:{ptag:"7155.1.8",sceneval:e.isMenv?2:""})};this.goodsRedPoint?a.clearGoodFavRedDot().then(function(){e.goodsRedPoint=!1}).finally(o):o()},navToShopFav:function(t){var e=this,o=function(){e.$xgoto(["//wqs.jd.com/my/fav/shop_fav.shtml"],n.default.isXCX?{iswxappEnv:1,ptag:"7155.1.9"}:{ptag:"7155.1.9",sceneval:e.isMenv?2:""})};this.shopRedPoint?a.clearShopFavRedDot().then(function(){e.shopRedPoint=!1}).finally(o):o()},navToFootPrint:function(t){var e=this;this.isMenv&&i.mSiteReport({eventId:"MMyJD_BrowserHistory",eventParam:"",eventLevel:2}),(0,s.createTimeout)(function(){e.$xgoto([e.isMenv?"//wqs.jd.com/wxsq_project/mhistory/index.html":"//wqs.jd.com/search/searchfootprint.shtml#level1=1"],{ptag:"7155.1.10"})},200)}}};exports.default=r; 
 			}); 
		define("pages/my/index/components/my-fav/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./model")),o=e(require("../../../common/js/utils")),n=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../../common/wxcontext"));exports.default=function(){return{state:{goodsFavNum:"",shopFavNum:"",recentNum:"",goodsRedPoint:!1,shopRedPoint:!1},actions:{initData:function(e){this.goodsFavNum=o.formatMoney(e.favGoodsNum,0),this.shopFavNum=o.formatMoney(e.favShopNum,0)},getRecentNum:function(){var e=this;if(this.isMenv){var i=n.default.JD.cookie.get("warehistory"),r=(i=i.replace(/^"|,?"$/g,""))&&i.split(",").length||0;this.recentNum=r.toString()}else t.showRecentNum().then(function(t){e.recentNum=o.formatMoney(0==t.errcode?parseInt(t.itemcount||0).toString():"",0)})},getGoodsFavRed:function(){var e=this;this.isMenv||t.getGoodsFavRed().then(function(t){e.goodsRedPoint=t&&t.redpointCount})},getShopFavRed:function(){var e=this;this.isMenv||t.getShopFavRed().then(function(t){e.shopRedPoint=t&&1==t.data})}}}}; 
 			}); 
		define("pages/my/index/components/my-header/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../models/account_data"),n=t(require("../../../../../libs/promise.min")),o=e(require("../../../../../common/login/loginv1")),i=t(require("../../../../../common/wxcontext")),c=require("../../../../../common/request/request"),u=e(require("../../../common/js/utils")).getEnv();exports.default={getVerifyAuthUrl:function(){return new n.default(function(e,t){var r=["weixin","weixin","qq","m"],n={bussinessType:"535",rurl:0==u?"/pages/my/index/index":location.href};3==u&&(n.sceneval=2),n.scene=r[u],o.getLoginPromise().then(function(r){c.request.get({url:"https://wq.jd.com/vipplus/LoginBrigdeAuthName",data:n,ump:{key:"wq.webmonitor.my.LoginBrigdeAuthName",bizId:"1358",opId:"21",errBizId:"1358",errOpId:"22",reportHook:function(e){return[0,45].indexOf(e.retcode)>=0?{code:0}:{code:e.retcode,message:e.msg}}},dataType:i.default.isXCX?"":"jsonp"}).then(function(r){var n=r.body;r.header,0==n.retcode?e(n):t({code:n.retcode})}).catch(function(e){var r=e.code,n=e.message;t({code:r,message:n})})}).catch(function(e){t({})})})},changeAccount:r.changeAccount,changeNickName:function(e){return new n.default(function(t,r){o.getLoginPromise().then(function(n){c.request.get({url:"https://wq.jd.com/user/info/SetUserBirthday",data:{nick:e,sceneval:3==u?2:""},ump:{key:"wq.webmonitor.my.SetUserBirthday",bizId:"1358",opId:"19",errBizId:"1358",errOpId:"20",reportHook:function(e){return 0==e.retcode||103==e.retcode?{code:0}:{code:e.retcode,message:e.msg}}},dataType:i.default.isXCX?"":"jsonp"}).then(function(e){var r=e.body;t(r)}).catch(function(e){r(e)})})})}}; 
 			}); 
		define("pages/my/index/components/my-header/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(require("./store")),n=e(require("../../../../../common/toast/toast")),a=t(require("../../../../../common/wxcontext")),o=e(require("../../../common/js/utils")),c=t(require("../../../../../api/Ptag/report_manager_wqvue")),s=e(require("../../../common/js/bind")),u=e(require("../../../../../common/login/loginv1")),r=require("../../../../../common/timer-manage"),d={props:{userInfo:{type:Object,default:function(){return{}}},plusText:{type:Object,default:function(){return{}}},newBindConfig:{type:Array,default:function(){return[]}}},watch:{userInfo:function(e,t){o.isValidUserInfo(e,t)&&(this.nickName=this.userInfo.nickName,this.getWindowWidth()>=360&&(this.showXBCredit=!0),a.default.isXCX&&"formal"==this.userInfo.accountStatus&&this.getFamilyConfig())},newBindConfig:function(e){e.length&&(this.bindConfig=o.getCurDatePpms(e,"type","bindheader")[0],this.isBindDraw=!!this.bindConfig)}},store:i.default,data:{bindConfig:null,env:o.getEnv(),familyUrl:"",familyPopConf:{}},created:function(){o.batchThrottle(["navToAccountPage","navToJdMember","navToRealName","changeToJd","navToBindPage","navToXBCredit","navToPlus"],this)},methods:{navToPlus:function(){c.default.addPtag("7155.1.51"),s.mustBind.call(this,this.userInfo,a.default.isXCX?721394565:721394554,"7155.1.51")||this.$xgoto(["//plus.m.jd.com/index"],3==this.env?{flow_system:"myhome",flow_entrance:"myhome2",flow_channel:"m",sceneval:2}:{s:a.default.isXCX?"xcx":"wq"})},navToAccountPage:function(){var e="7155.1.2";2==this.userInfo.accountType&&s.mustBind.call(this,this.userInfo,a.default.isXCX?721394568:721194545,e)||this.$xgoto(["//wqs.jd.com/my/accountv2.shtml"],3==this.env?{ptag:e,sceneval:2}:{sceneid:11110,state:0,rurl:a.default.isXCX?"/pages/my/index/index":encodeURIComponent(window.location.href),ptag:e})},navToJdMember:function(){c.default.addPtag("7155.1.57"),this.$xgoto(["https://vip.m.jd.com"],{loginFrom:3==this.env?"M":"WQ"})},navToXBCredit:function(){var e=o.getEnv(),t=["xcxmine","wechatmine","qqmine","m"];c.default.addPtag("7155.1.157"),this.$xgoto(["//credit.jd.com/xbCredit/wq/index"],{channel:"wq",from:t[e]})},navToFamily:function(){var e=a.default.JD.url.getUrlParam(this.familyUrl);e&&c.default.addPtag(e);var t="https://wq.jd.com/pinbind/pintokenredirect?biz=xcxmyfamily&url="+encodeURIComponent(this.familyUrl);this.$xgoto(this.familyUrl.startsWith("/pages")?[this.familyUrl,""]:[t])},tapFamilyPop:function(){(0,r.stopTimeout)(this.familyPopConf.closeSettimeout),this.hideFamilyPop(),c.default.addPtag("7155.1.257")},showEditName:function(){c.default.addPtag("7155.1.125"),this.editNameShow=!0},cancleEditName:function(){this.editNameShow=!1,this.nickName=this.userInfo.nickName,!a.default.isXCX&&(document.getElementById("nickName").value=this.nickName),this.editNameFail=!1},editNickNameBlur:function(e){this.nickName=e.detail.value,a.default.isXCX?this.inputTop="":a.default.pageScrollTo({scrollTop:0})},editNickNameFocus:function(e){if(a.default.isXCX){var t=e.detail.height||0;if(t){var i=a.default.getSystemInfoSync().windowHeight-t-103;this.inputTop=i+"px"}else this.inputTop="150px"}this.editNameFail=!1},clickSaveNickName:function(){var e=this;(0,r.createTimeout)(function(){var t=e.nickName,i=t.replace(/[\u4e00-\u9fa5]/g,"***").length;return i<4||i>20||!/^[0-9a-zA-Z\u4e00-\u9fa5\-_]+$/.test(t)?(e.editNameFailMSg="您的昵称不符合规则，请重新修改",void(e.editNameFail=!0)):/^[0-9]+$/.test(t)?(e.editNameFailMSg="昵称不能设置为手机号等纯数字格式，请修改",void(e.editNameFail=!0)):void e.saveNickName(t)},100)},navToRealName:function(){var e=this;this.getVerifyAuthUrl().then(function(t){e.$xgoto([t.redirect],{ptag:"7155.1.188"})}).catch(function(e){45==e.code?n.show({icon:n.ICON.SUCCESS,content:"您已完成实名认证！",duration:1e3}):n.show({icon:n.ICON.WARNING,content:"网络错误，请稍后重试~",duration:1e3})})},changeToJd:function(){var e=this;a.default.isXCX&&wx.showLoading({title:"登录中...",mask:!0});var t=this.userInfo.pinlist;this.changeToJdData(t).then(function(t){a.default.isXCX?(0,r.createTimeout)(function(){e.$emit("emitEvent",{eventName:"changeAccountSuccess"})},500,e):window.location.href=a.default.JD.url.addUrlParam(location.href,{time:(new Date).getTime()})}).catch(function(e){wx.hideLoading(),n.show({icon:n.ICON.WARNING,content:"切换账号失败，请稍后再试！",duration:1e3})})},navToBindPage:function(e){var t=this.bindConfig||{},i=t.activeid,n=t.level,a=t.sceneid;s.goBindPage.call(this,{activeid:i,level:n,sceneid:a,ptag:"7155.1.190"})},getAuth:function(e){var t=this;u.doLogin(!0).then(function(){t.refreshPage()}).catch(function(e){t.delLogin(e)})},goLogin:function(e){var t=this;u.clearLoginPromise();var i={ptag:"7155.1.235"};"string"==typeof e&&(i.rurl=e),u.doLogin(i).then(function(){t.refreshPage()}).catch(function(e){t.delLogin(e)})},delLogin:function(e){var t=~[28,41,42,32].indexOf(+e)?"noAuth":"noLogin";this.$emit("emitEvent",{eventName:"changeAccountStatus",param:t})},refreshPage:function(){this.$emit("emitEvent",{eventName:"initPage"})}}};exports.default=d; 
 			}); 
		define("pages/my/index/components/my-header/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i.default=e,i}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=i(require("./model")),o=require("../../../../../common/logger"),a=e(require("../../../../../common/toast/toast")),r=i(require("../../../../../libs/promise.min")),n=i(require("../../../../../common/wxcontext")),m=e(require("../../../common/js/utils")),u=i(require("../../../../../api/Ptag/report_manager_wqvue")),c=e(require("../../../../../common/localStorage")),l=require("../../../../../common/timer-manage"),d=new o.Logger("my/indexv2");exports.default=function(){return{state:{isXCX:n.default.isXCX,nickName:"",showXBCredit:!1,showFamily:!1,familyText:"",XBCreditScore:"",editNameShow:!1,editNameFail:!1,editNameFailMSg:"此昵称已被其他用户抢注，请修改",inputTop:"",isBindDraw:!1,isSqSimple:m.isSqSimple(),isViomiFridge:m.isViomiFridge(),isWopayWallet:m.isWopayWallet()},actions:{getFamilyConfig:function(){var e=this;m.getPpmsData(36568,{key:"wq.webmonitor.my.FamilyConfig",bizId:"1358",opId:"27",errBizId:"1358",errOpId:"28"}).then(function(i){var t=i[0],o=t.isCheckFamily,a=t.isShow,r=t.url,n=t.popConf,d=void 0===n?[]:n;if(e.familyUrl=r,"true"==a&&r&&(e.showFamily="true"!=o||e.userInfo.isHomeWhite||e.userInfo.isJTH,e.showFamily&&u.default.addPtagExposure("7155.1.254")),e.showFamily){var f=m.getCurDatePpms(d)[0];if(!f)return;var s=f.startTime,p=f.endTime,h=f.popShowTime,g=void 0===h?5:h;c.get("familyPop"+s.replace(/[^0-9]/gi,"")+"_"+p.replace(/[^0-9]/gi,""),0).then(function(i){1!=i&&(e.familyPopConf=f,e.familyText=f.popText||"点击进入家庭号",e.familyPopConf.closeSettimeout=(0,l.createTimeout)(function(){e.hideFamilyPop()},1e3*g,e),e.familyText&&u.default.addPtagExposure("7155.1.256"))})}})},hideFamilyPop:function(){var e=this.familyPopConf,i=e.startTime,t=e.endTime;this.familyText="",c.set("familyPop"+i.replace(/[^0-9]/gi,"")+"_"+t.replace(/[^0-9]/gi,""),1,{expire:"365d"}).catch(function(){console.error("familyPop存储失败")})},getVerifyAuthUrl:function(){return new r.default(function(e,i){t.default.getVerifyAuthUrl().then(function(i){0==i.retcode&&e(i)}).catch(function(e){i({code:e.code}),d.error(e)})})},changeToJdData:function(e){return new r.default(function(i,o){t.default.changeAccount(e).then(function(e){0==e.retcode?i(e):o(e.retcode)}).catch(function(e){o(e)})})},getWindowWidth:function(){var e=void 0;try{e=n.default.isXCX?getApp().systemInfo.windowWidth:window.screen.width}catch(e){d.error(e)}return e||0},saveNickName:function(e){var i=this;return new r.default(function(o,r){t.default.changeNickName(e).then(function(t){0==t.retcode?(i.editNameShow=!1,i.$emit("emitEvent",{eventName:"changeNickName",param:e}),a.show({content:"修改昵称成功",icon:a.ICON.SUCCESS,duration:1e3})):103==t.retcode?(i.editNameFailMSg="此昵称已被其他用户抢注，请修改",i.editNameFail=!0):1==t.retcode?(i.editNameFailMSg="您的昵称不符合规则，请重新修改",i.editNameFail=!0):(i.editNameFailMSg="昵称修改失败，请稍后再试",i.editNameFail=!0)}).catch(function(e){d.error(e),i.editNameFailMSg="昵称修改失败，请稍后再试",i.editNameFail=!0})})}}}}; 
 			}); 
		define("pages/my/index/components/my-logistics/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../../common/js/utils")),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../../common/wxcontext")),r={props:{dealLogList:{type:Array,default:function(){return[]}}},data:{currentSwiper:0,isXCX:t.default.isXCX},watch:{dealLogList:function(e,t){t.length>e.length&&(this.currentSwiper=0)}},mounted:function(){this.jumpLogisDetail=e.throttle(this.jumpLogisDetail,1e3)},methods:{swiperChange:function(e){this.currentSwiper=e.detail.current},animationfinish:function(e){t.default.isXCX||e.detail.swiper.slideToLoop(e.detail.swiper.realIndex,0)},jumpLogisDetail:function(r){var i=r.currentTarget.dataset.idx,o=this.dealLogList[i]||{},n=o.orderId,a=o.state,s=o.orderType,u=o.venderId;this.$xgoto(["/pages/order/follow/follow","//wqs.jd.com/order/deal_wuliu.shtml?from=my"],{dealId:n,dealState:a,ptag:"7155.1.117",venderId:t.default.isXCX?u:"",orderType:t.default.isXCX?s:"",source:t.default.isXCX?"userCenter":"",sceneval:3==e.getEnv()?2:0})}}};exports.default=r; 
 			}); 
		define("pages/my/index/components/my-order/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o.default=e,o}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLogisticsInfo=void 0;var r=o(require("../../../../../libs/promise.min")),t=e(require("../../../../../common/login/loginv1")),n=o(require("../../../../../common/wxcontext")),i=require("../../../../../common/request/request"),u=e(require("../../../common/js/utils"));exports.getLogisticsInfo=function(){return new r.default(function(e,o){t.getLoginPromise().then(function(r){i.request.get({url:"https://wq.jd.com/bases/wuliudetail/notify",data:{sceneval:3==u.getEnv()?2:0},ump:{key:"wq.webmonitor.my.notify",bizId:"1358",opId:"41",errBizId:"1358",errOpId:"42",reportHook:function(e){return[0].indexOf(e.errCode)>=0?{code:0}:{code:e.errCode,message:e.errMsg}}},dataType:n.default.isXCX?"":"jsonp"}).then(function(r){var t=r.body;r.header,0==t.errCode?e(t):o()}).catch(function(e){var r=e.code,t=e.message;o({code:r,message:t})})}).catch(function(e){o({})})})}; 
 			}); 
		define("pages/my/index/components/my-order/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./store")),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../../common/js/utils")),o=e(require("../../../../../api/Ptag/report_manager_wqvue")),a=e(require("../../../../../common/wxcontext")),n={store:t.default,props:{orderInfo:{type:Object,default:function(){return{}}},userInfo:{type:Object,default:function(){return{}}}},created:function(){this.navToOrderListPage=r.throttle(this.navToOrderListPage,1e3),this.navToAfterSale=r.throttle(this.navToAfterSale,1e3)},watch:{orderInfo:function(e){!r.isEmptyObj(e)&&this.initData(e)}},methods:{navToOrderListPage:function(e){var t=e.currentTarget.dataset,r={orderType:t.type,ptag:t.ptag};"jdm"==a.default.JD.device.scene&&(r.sceneval=2),this.$xgoto(["/pages/order/list/list","//wqs.jd.com/order/orderlist_merge.shtml"],r)},navToAfterSale:function(){o.default.addPtag("7155.1.15"),this.$xgoto(["//tuihuan.jd.com/afs/orders"],{sceneval:this.isMenv?2:""})}}};exports.default=n; 
 			}); 
		define("pages/my/index/components/my-order/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../../api/Ptag/report_manager_wqvue")),a=e(require("../../../common/js/utils")),s=e(require("./model"));exports.default=function(){return{state:{waitPayCount:0,receiveCount:0,isMenv:3==a.getEnv(),dealLogList:[]},actions:{initData:function(e){var s=e&&"0"==e.orderCountStatus;this.waitPayCount=s?a.formatNum(e.waitPayCount,99):"",this.receiveCount=s?a.formatNum(e.receiveCount,99):"",s&&e.receiveCount>0&&this.getLogisticsInfoData(),this.waitPayCount&&t.default.addPtag("7155.1.53"),a.reportUMP(1358,"33",e.orderCountStatus,"base_info_status:"+e.orderCountStatus)},getLogisticsInfoData:function(){var e=this;return new Promise(function(a,r){s.getLogisticsInfo().then(function(a){if(a&&0==a.errCode){var s=a.dealLogList,r=void 0===s?[]:s;if(0===r.length)return void(e.dealLogList=[]);for(var o=0;o<r.length;o++){var i=r[o];if(i.id=o,i.stateName)switch(i.state){case"4":case"5":case"6":case"7":case"32":i.stateText="待发货";break;case"15":i.stateText="配送中";break;case"18":i.stateText="已签收";break;case"21":i.stateText="审核中";break;case"22":case"23":i.stateText="处理中";break;case"11":i.stateText="待自提";break;case"13":i.stateText="已签收";break;case"12":i.stateText="自提超时";break;case"8":i.stateText="待出库";break;case"9":case"10":i.stateText="配送中";break;case"20":i.stateText="收款确认";break;default:r.splice(o,1),o--}else r.splice(o,1),o--}e.dealLogList=r,e.dealLogList.length&&t.default.addPtagExposure("7155.1.189")}else e.dealLogList=[]}).catch(function(t){e.dealLogList=[]})})}}}}; 
 			}); 
		define("pages/my/index/components/new-curtain/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=t(require("./store")),i=t(require("../../../../../common/wxcontext")),r=e(require("../../../../../common/localStorage")),o=t(require("../../../../../api/Ptag/report_manager_wqvue")),u=e(require("../../../common/js/utils")),s={store:n.default,data:{isXCX:i.default.isXCX,initNum:3},props:{userInfo:{type:Object,default:function(){return{}}},newBindConfig:{type:Array,default:function(){return[]}}},watch:{userInfo:function(e,t){u.isValidUserInfo(e,t)&&e.isNewUser&&this.initPage()},newBindConfig:function(e){e.length&&this.initPage()}},methods:{initPage:function(){var e=this;if(this.newBindConfig.length&&this.userInfo&&this.userInfo.success&&this.userInfo.isNewUser){var t=u.getCurDatePpms(this.newBindConfig,"type","new"),n=t&&t[0]&&t[0].num;n&&r.get("newCurtainShow",0).then(function(i){i&&i==n||e.showMyNewCurtain(t[0])})}},hideXModal:function(){this.newWindow.show=!1},goPage:function(){var e=this.newWindow,t=e.rurl,n=e.sceneid;o.default.addPtag("7155.1.167"),this.hideXModal(),this.$xgoto([i.default.JD.url.addUrlParam(t,{sceneid:n})])}}};exports.default=s; 
 			}); 
		define("pages/my/index/components/new-curtain/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var o=r(require("../../../../../api/Ptag/report_manager_wqvue")),n=r(require("../../../../../common/wxcontext")),t=e(require("../../../../../common/localStorage")),i=require("../../../../../common/logger.js"),u=e(require("../../../common/js/utils")),a=new i.Logger("my/indexv2");exports.default=function(){return{state:{newWindow:{show:!1,sceneid:"",rurl:"",img:""}},actions:{showMyNewCurtain:function(e){var r=e.img,i=e.link,c=e.sceneid,s=e.num,l=e.env;if((-1==s||0==s)&&t.remove("newCurtainShow"),-1!=s&&-1!==l.indexOf(n.default.JD.device.scene)){if(this.newWindow={show:!0,sceneid:c,rurl:0===i.indexOf("//")?u.fixProtocol(i):i,img:u.fixProtocol(r)},0!=s){var d=s+"d";t.set("newCurtainShow",s,{expire:d}).catch(function(){a.error("my newCurtainShow写storage失败")})}o.default.addPtagExposure("7155.1.168")}}}}}; 
 			}); 
		define("pages/my/index/components/plus-curtain/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./store")),s=e(require("../../../../../api/Ptag/report_manager_wqvue")),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}(require("../../../common/js/utils")),i=e(require("../../../../../common/wxcontext")),r=require("../../../../../common/timer-manage"),o={store:t.default,data:{hadShowFlag:!1},props:{userInfo:{type:Object,default:function(){return{}}},plusPinBaseInfo:{type:Object,default:function(){return{}}}},watch:{userInfo:function(e,t){n.isValidUserInfo(e,t)&&!this.userInfo.isNewUser&&this.initPage()},plusPinBaseInfo:function(e){Object.keys(e).length&&this.initPage()}},methods:{initPage:function(){(i.default.isXCX?!this.hadShowFlag:!window.sessionStorage.getItem("hadShowPlusCurtain"))&&this.userInfo&&this.userInfo.success&&!this.userInfo.isNewUser&&Object.keys(this.plusPinBaseInfo).length&&this.showPlusCurtain()},goPage:function(){var e=this,t=this.plusWindow,n=t.rurl,i=t.click_rd;s.default.addPtag(i),this.plusWindow.show=!1,n&&(0,r.createTimeout)(function(){e.$xgoto([n])},300)}}};exports.default=o; 
 			}); 
		define("pages/my/index/components/plus-curtain/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(require("../../../../../api/Ptag/report_manager_wqvue")),i=require("../../../../../common/logger.js"),a=e(require("../../../common/js/utils")),n=e(require("../../../../../common/localStorage")),o=t(require("../../../../../common/wxcontext")),u=new i.Logger("my/indexv2");exports.default=function(){return{state:{plusWindow:{show:!1,rurl:"",click_rd:"",vipStatus:"",img:""}},actions:{showPlusCurtain:function(){var e=this;a.getPpmsData(34966,{key:"wq.webmonitor.my.showPlusCurtain",bizId:"1358",opId:"31",errBizId:"1358",errOpId:"32"}).then(function(t){var r=a.getCurDatePpms(t)[0];if(r){var i=r.link,o=r.rate;(-1==o||0==o)&&n.remove("plusCurtainShow"),-1!=o&&n.get("plusCurtainShow",0).then(function(t){t&&t==o||e.filterPlusConfig(o,i,r)})}})},filterPlusConfig:function(e,t,i){var s=this.plusPinBaseInfo||{},l=s.flag,c=s.curStageStatus,f=s.curPlusSpecType,d=s.endDate,g=l;if(~[4020,4030].indexOf(+c)&&1e3==f&&(201==l||203==l)){var h=this.getExpiredays(d);g+=h>30?"_30+":"_30"}var m=i.curtainSet&&i.curtainSet.filter(function(e){return e.status==g})[0];if(m||(m=i.curtainSet&&i.curtainSet.filter(function(e){return"default"==e.status})[0]),m&&m.img){var p=m,w=p.exposure_rd,v=p.click_rd,P=["xcx","wq","wq"],S=a.getEnv();if(this.plusWindow={show:!0,rurl:o.default.JD.url.addUrlParam(a.fixProtocol(t),3==S?{flow_system:"myhome",flow_entrance:"myhome2",flow_channel:"m",sceneval:2}:{s:P[S]}),click_rd:v,img:a.fixProtocol(m.img)},this.addFlag(),0!=e){var _=e+"d";n.set("plusCurtainShow",e,{expire:_}).catch(function(){u.error("my plusCurtainShow写storage失败")})}w&&r.default.addPtagExposure(w)}},getExpiredays:function(e){if(!e)return 100;var t=a.getServerTime(),r=new Date(e.replace(/-/g,"/")).getTime();return Math.floor(Math.abs(t-r)/864e5)},hideXModal:function(){r.default.addPtag("7155.1.85"),this.plusWindow.show=!1},addFlag:function(){this.hadShowFlag=!0,o.default.isXCX||window.sessionStorage.setItem("hadShowPlusCurtain",1)}}}}; 
 			}); 
		define("pages/my/index/components/promote-floor/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("./store")),r=t(require("../../../../../common/wxcontext")),a=t(require("../../../../../api/Ptag/report_manager_wqvue")),o={props:{},store:e.default,data:{},created:function(){this.setPromoteFloor()},methods:{gotoPurchase:function(){var t=this,e=this.promoteData.entryH5Url.trim();e&&a.default.addPtag(r.default.JD.url.getUrlParam("ptag",e));var o=this.promoteData.entryXcxUrl.trim().replace(/^pages/g,"/pages"),u=o?[o,""]:[r.default.JD.url.getPageUrl(e)];setTimeout(function(){return t.$xgoto(u)},100)},gotoPage:function(t){var e=this,o=t.currentTarget.dataset.index,u=this.promoteData.list[o],l=u.imageXcxUrl.replace(/^pages/g,"/pages"),i=u.imageH5Url.trim();i&&a.default.addPtag(r.default.JD.url.getUrlParam("ptag",i));var g=l?[l,""]:[r.default.JD.url.getPageUrl(i)];setTimeout(function(){return e.$xgoto(g)},100)}}};exports.default=o; 
 			}); 
		define("pages/my/index/components/promote-floor/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e.find(function(e){return t(e.startTime,e.endTime)})}function t(e,t){var r=new Date-0;return r>=new Date(e)&&r<=new Date(t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../../common/js/utils")),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../../common/wxcontext"));exports.default=function(){return{state:{promoteData:{}},actions:{setPromoteFloor:function(){var n=this;r.getPpmsData(37292,{key:"wq.webmonitor.my.getPromoteFloor",bizId:"1358",opId:"48",errBizId:"1358",errOpId:"49"}).then(function(r){if(r&&Array.isArray(r)&&r.length){var a=e(r);if(a){var l=a.backgroundImage,o=a.startTime,m=a.endTime,c=a.titleEntry,u=a.titleEntryImage,s=a.titleEntryh5Url,g=a.titleEntryXcxUrl,f=t(o,m),d=a.resourcePlace.filter(function(e){return e.image&&(e.imageH5Url||e.imageXcxUrl)});if(l&&d.length>=4&&f&&c&&u){var y=a.title.trim(),p=a.titleEntry.trim();y=y.length<=10?y:y.slice(0,9)+"...",p=p.length<=4?p:p.slice(0,3)+"...";var h=a.shopImage.trim(),I=a.titleEntryImage.trim(),v=a.resourcePlace.map(function(e){return{image:i.default.JD.performance.getScaleImg(e.image.trim()),title:e.title.length<=6?e.title:e.title.slice(0,5)+"...",imageH5Url:e.imageH5Url,imageXcxUrl:e.imageXcxUrl}}).slice(0,4);n.promoteData={title:y,entry:p,entryH5Url:s,entryXcxUrl:g,shopImage:h,titleEntryImage:I,backgroundImage:l,list:v}}}}}).catch(function(e){var t=e.message;console.error(t)})}}}}; 
 			}); 
		define("pages/my/index/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o.default=e,o}function t(){var e={orgFlag:"JD_PinGou_New",callSource:c.default.isXCX?"wxprogram":"mainorder",channel:a+1,isHomewhite:c.default.isXCX?1:0};3==a&&(e.sceneval=2);var o=["1","","","3"],f=["2","","","4"];return new i.default(function(i,l){r.getLoginPromise(!!c.default.isXCX&&{mode:"silent"}).then(function(m){n.request.get({url:"https://wq.jd.com/user_new/info/GetJDUserInfoUnion",data:e,ump:{key:"wq.webmonitor.my.GetUserInfoUnion",bizId:"1358",opId:o[a],errBizId:"1358",errOpId:f[a],reportHook:function(e){return 0==e.retcode||1001==e.retcode?{code:0}:{code:e.retcode,message:e.msg}}},dataType:c.default.isXCX?"":"jsonp",jsonpCallback:"GetJDUserInfoUnion"}).then(function(e){var o=e.body,n=(e.header,o);if(1001==n.retcode)return d.get("JD_MY_LOGIN_RETRY_TIMES",0).then(function(e){e<3?d.set("JD_MY_LOGIN_RETRY_TIMES",++e).then(function(e){r.getLoginPromise(!c.default.isXCX||{mode:"silent",isIgnoreCookie:!0}).then(function(){i(t())}).catch(function(e,o){l({errcode:e,isLoginCode:!0})})}).catch(function(e){l({errcode:13,isLoginCode:!0})}):(u.show({icon:u.ICON.WARNING,content:"登录失败，请稍后再试~",duration:2e3}),s.reportUMP(1358,"43",1,c.default.isXCX?c.default.JD.cookie.get():document.cookie),l({errcode:13,isLoginCode:!0}))}).catch(function(e){l({errcode:13,isLoginCode:!0})}),!1;0==n.retcode?(d.remove("JD_MY_LOGIN_RETRY_TIMES"),i(n)):l(n.retcode)}).catch(function(e){var o=e.code;e.message;l(o)})}).catch(function(e){l({errcode:e,isLoginCode:!0})})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUnionInfo=exports.getKplInfo=exports.getPlusInfo=void 0;var n=require("../../../common/request/request.js"),r=o(require("../../../common/login/loginv1.js")),i=e(require("../../../libs/promise.min.js")),c=e(require("../../../common/wxcontext")),s=o(require("../common/js/utils")),u=o(require("../../../common/toast/toast")),d=o(require("../../../common/localStorage")),a=s.getEnv();exports.getPlusInfo=function(){return new i.default(function(e,o){r.getLoginPromise().then(function(t){n.request.get({url:"https://wqdeal.jd.com/bases/ordermisc/plusinfo",ump:{key:"wq.webmonitor.my.getPlusInfo",bizId:"1358",opId:"39",errBizId:"1358",errOpId:"40",reportHook:function(e){return 0==e.errCode?{code:0}:{code:e.errCode,message:e.errMsg}}},dataType:c.default.isXCX?"":"jsonp",jsonpCallback:"getPlusInfoCb"}).then(function(t){var n=t.body;0==n.errCode?e(n):o()}).catch(function(e){o()})})})},exports.getKplInfo=function(){return new i.default(function(e,o){n.request.get({url:"https://wqdeal.jd.com/deal/massit/getkplinfo",ump:{key:"wq.webmonitor.my.getkplinfo",bizId:"1358",opId:"37",errBizId:"1358",errOpId:"38",reportHook:function(e){return 0==e.errId?{code:0}:{code:e.errId,message:e.errMsg}}},dataType:c.default.isXCX?"":"jsonp"}).then(function(t){var n=t.body;t.header,n&&0==n.errId?e(n):o()}).catch(function(e){var t=e.code,n=e.message;o({code:t,message:n})})})},exports.getUnionInfo=t; 
 			}); 
		define("pages/my/index/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("./store")),o=e(require("../../../common/wxcontext")),i=t(require("../common/js/utils")),a=t(require("../../../common/toast/toast")),r=e(require("../../../api/Ptag/report_manager_wqvue")),c=require("../../../common/timer-manage"),u={store:n.default,data:{isFirstOnShow:!0},watch:{"userInfo.accountStatus":function(t){this.$set(this.userInfo,"isShowRongZai",["noLogin","noPin","noAuth","requestError"].indexOf(t)>-1)}},created:function(){this.initPage(),i.batchThrottle(["navToService","navToAdBanner"],this,600),this.onPageScroll=i.debounce(this.onPageScroll,400)},onShow:function(){!this.isFirstOnShow&&this.initPage(),this.isFirstOnShow=!1,this.guideWxappShowTime=Date.now()},onHide:function(){a.hide()},methods:{initPage:function(t){var e=this;this.fetchUserInfo().then(function(t){e.fetchPlusInfo(),e.setAdConfig(),e.setContentBg(),3==e.env&&e.getKplInfo()}).catch(function(t){13!=t&&28!=t&&e.changeAccountStatus("requestError")}).finally(function(){e.delayRender=!0,o.default.isXCX&&"changeAccount"==t&&(wx.hideLoading(),a.show({icon:a.ICON.SUCCESS,content:"登录账号成功",duration:2e3}))})},listenEvent:function(t){var e=t.detail,n=e.eventName,o=e.param;this[n]&&this[n](o)},changeAccount:function(){this.runComponentEvent("myHeader","changeToJd")},changeAccountSuccess:function(){this.initPage("changeAccount"),o.default.isXCX&&this.runComponentEvent("jxappdl","init")},changeNickName:function(t){this.userInfo.nickName=t.detail||t},navToService:function(){this.$xgoto([3==this.env?"//ihelp.jd.com/mindex.html?sceneval=2":"//wqs.jd.com/refund/help.shtml"],{ptag:"7155.1.27"})},navToAdBanner:function(t){var e=this,n=t.currentTarget.dataset.url,i=o.default.JD.url.getUrlParam("ptag",n);!o.default.isXCX&&i&&r.default.addPtag(i),(0,c.createTimeout)(function(){e.$xgoto(0==n.indexOf("/pages/")?[n,""]:[n])},200)},back2top:function(){o.default.pageScrollTo({scrollTop:0})},runComponentEvent:function(t,e){try{var n=this.selectComponent("#"+t);if(!n)return;"function"==typeof n[e]&&n[e]()}catch(t){console.error(t)}}},onPageScroll:function(t){this.showBack=t.scrollTop>800}};exports.default=u; 
 			}); 
		define("pages/my/index/store.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}Object.defineProperty(exports,"__esModule",{value:!0});var t=n(require("../../../common/toast/toast")),o=n(require("../common/js/utils")),i=n(require("../common/js/bind")),a=n(require("./model")),s=e(require("../../../libs/promise.min.js")),r=e(require("../../../common/wxcontext"));exports.default=function(){return{state:{delayRender:!1,userInfo:{avatarUrl:"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t21160/90/706848746/2813/d1060df5/5b163ef9N4a3d7aa6.png",pin:"亲爱的用户",accountStatus:"formal",isRealName:!0},plusPinBaseInfo:{},plusText:{title:"",subtitle:""},env:o.getEnv(),isSqSimple:o.isSqSimple()||!1,newBindConfig:[],adConfig:{},adConfigTop:{},showBack:!1,isViomiFridge:o.isViomiFridge()||!1,isWopayWallet:o.isWopayWallet()||!1,hideActivity:!1,hideRecommend:!1,guideWxappShowTime:Date.now(),contentBgColor:"#f7f7f7",loginLayerData:{hasImportLoginComponents:!0,isHideCloseLayerButton:!1},orderInfo:{},assetInfo:{},favInfo:{}},actions:{fetchUserInfo:function(e){var n=this;return new s.default(function(o,i){a.getUnionInfo().then(function(e){var t=e.data||{},i=Date.now();n.speedMark(4),n.dealUserInfo(t.userInfo||{}),n.orderInfo=Object.assign({t:i},t.orderInfo||{}),n.assetInfo=Object.assign({t:i},t.assetInfo||{}),n.favInfo=Object.assign({t:i},t.favInfo||{}),n.$nextTick().then(function(){n.speedMark(5).speedReport()}),o()}).catch(function(a){if(console.error(a),a&&a.isLoginCode){var s=a.errcode;return~[28,41,42,32].indexOf(+s)?(i(28),n.changeAccountStatus("noAuth")):(i(13),n.changeAccountStatus("noLogin"))}e?("-20"!=a&&"-40"!=a&&"-30"!=a&&"-10"!=a||t.show({icon:t.ICON.WARNING,content:"请检查你的网络是否正常！",duration:2e3}),i(a)):o(n.fetchUserInfo(!0))})})},changeAccountStatus:function(e){this.userInfo.accountStatus=e},fetchPlusInfo:function(){var e=this;a.getPlusInfo().then(function(n){if(n&&n.plusPinBaseInfo&&n.plusText){var t=n.plusPinBaseInfo,o=n.plusText;e.plusPinBaseInfo=t,e.plusText=o}})},dealUserInfo:function(e){var n=e.baseInfo&&e.baseInfo.baseInfoStatus||1;if(e&&"0"==n){var t=e.baseInfo.levelName,i=e.baseInfo.definePin,a={v5:"钻石用户",v4:"金牌用户",v3:"银牌用户",v2:"铜牌用户",v1:"注册用户",v0:"企业用户"},s=Object.keys(a).filter(function(e){return a[e]==t})[0],r=(1==i||2==i)&&3!=e.baseInfo.accountType,f=3==this.env?"formal":r||1!=i?r&&1==i?"singleDefault":r&&2==i?"noPin":"formal":"doubleDefault";this.userInfo={pin:e.baseInfo.curPin,nickName:e.baseInfo.nickname,avatarUrl:o.fixProtocol(e.baseInfo.headImageUrl)||"https://img11.360buyimg.com/jdphoto/s120x120_jfs/t21160/90/706848746/2813/d1060df5/5b163ef9N4a3d7aa6.png",definePin:e.baseInfo.definePin,accountType:e.baseInfo.accountType,level:s,XBCreditScore:e.xbScore?parseFloat(e.xbScore).toFixed(1):"",isRealName:"0"!=e.isRealNameAuth,isPlus:"1"==e.isPlusVip,isJTH:"1"==e.isJTH,isHomeWhite:"1"==e.isHomeWhite,jvalue:e.jvalue,pinlist:(e.baseInfo.pinlist||"").split("|")[0],isNewUser:"formal"==f&&"0"==e.orderFlag,accountStatus:f,success:!0,isShowRongZai:["noLogin","noPin","noAuth","requestError"].indexOf(f)>-1},3==this.env&&(1!=e.isHideNavi&&window.addCssRule("#commonNav","display:block !important;"),1!=e.isKaiPu&&window.addCssRule("#m_common_header","display:block !important;")),this.forceBind(r,i)}else this.changeAccountStatus("requestError");var c=["12","27","27","29"];o.reportUMP(601,c[this.env],n,"base_info_status:"+n)},forceBind:function(e,n){if(3!=this.env&&(e||this.userInfo.isNewUser)){var t=2==this.userInfo.accountType&&2==n,o=2==this.userInfo.accountType&&1==n,a=t?721394549:o?721394549:"";if(!a)return void this.getMyNewBindConfig();i.goBindPage.call(this,{forceScene:!0,sceneid:a})}},getMyNewBindConfig:function(){var e=this;o.getPpmsData(34862,{key:"wq.webmonitor.my.getMyNewBindConfig",bizId:"1358",opId:"23",errBizId:"1358",errOpId:"24"}).then(function(n){e.newBindConfig=n}).catch(function(n){e.newBindConfig=[]})},setAdConfig:function(){var e=this;o.getPpmsData(35020,{key:"wq.webmonitor.my.getAdConfig",bizId:"1358",opId:"25",errBizId:"1358",errOpId:"26"}).then(function(n){var t=o.getCurDatePpms(n);t.length&&t.forEach(function(n){if(n.env.split(";").indexOf(e.env.toString())>-1){var t=n.urlH5,o=n.urlXcx;e["behindAssets"==n.bannerPosition?"adConfigTop":"adConfig"]={img:r.default.JD.performance.getScaleImg(n.img),url:r.default.isXCX?o:t}}})}).catch(function(e){e.code;var n=e.message;console.error(n)})},getKplInfo:function(){var e=this;a.getKplInfo().then(function(n){var t=n.otherdata||{};e.hideActivity=1==t.mopenbp17,e.hideRecommend=1==t.mopenbp22}).catch(function(e){e.code;var n=e.message;console.error(n)})},setContentBg:function(){var e=this;o.getPpmsData(37288,{key:"wq.webmonitor.my.getContentBgLinear",bizId:"1358",opId:"46",errBizId:"1358",errOpId:"47"}).then(function(n){if(n.constructor===Array&&n.length){var t=n[0],o=new Date-0,i=t.linearColorStart;o>=new Date(t.startTime)&&o<=new Date(t.endTime)&&i&&(i.startsWith("#")||(i="#"+i),e.contentBgColor=i)}}).catch(function(e){var n=e.message;console.error(n)})}}}}; 
 			}); 
		define("pages/my/models/account_data.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}function o(e){return p.info("accountChange："),new s.default(function(n,s){i.getLoginPromise().then(function(d){c.request.get({url:"https://wq.jd.com/pinbind/switchAccount",data:{fromtype:h,sceneid:621194780,expectPin:r.base64encode(encodeURIComponent(e)),rurl:m,atk:9,flogin:1,flogin_chn:_,flogin_appid:q},ump:{bizId:"558",opId:"4",errBizId:"558",errOpId:"17",reportHook:function(e){return 0==e.retcode||13==e.retcode?{code:0}:{code:e.retcode,message:e.errmsg}}},dataType:a.default.isXCX?"":"jsonp"}).then(function(r){var c=r.body;r.header;13!=c.retcode?0==c.retcode?0==c.retcode&&(a.default.isXCX?(t(c),u.getUserInfo(function(e,o){0==e?(c.wq_skey&&a.default.isXCX&&u.updateUserData({pin:c.flogin_pin,wq_skey:c.wq_skey,pinId:c.flogin_pinId,pinsign:c.flogin_pinsign}),n(c)):n(c)})):n(c)):s({}):x<3?(x++,i.doLogin().then(function(){n(o(e))}).catch(function(e){s({})})):(f.reportUMP(1358,"44",1,a.default.isXCX?a.default.JD.cookie.get():document.cookie),s({}))}).catch(function(e){e.code,e.message;s({})})})})}function t(e){e.wq_skey&&(e.pin=e.flogin_pin,e.pinsign=e.flogin_pinsign,e.pinId=e.flogin_pinId,a.default.JD.cookie.set("data",e,30,"/","jd.com"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeAccount=void 0;var i=n(require("../../../common/login/loginv1.js")),r=n(require("../../../common/base64/base64.js")),c=require("../../../common/request/request"),u=n(require("../../../common/userinfo_wqvue")),s=e(require("../../../libs/promise.min.js")),a=e(require("../../../common/wxcontext")),d=require("../../../common/logger.js"),f=n(require("../common/js/utils")),p=new d.Logger("accountData"),l="weixin"==a.default.JD.device.scene?"wx":"sq",g="weixin"==a.default.JD.device.scene?"wxae3e8056daea8727":"100273020",m="",_="",q="",h="";if(a.default.isXCX){var w="function"==typeof getCurrentPages?getCurrentPages():[];m=w.length?w[w.length-1].route||w[w.length-1].__route__:"pages/index/index",_="wxapp",q=getApp().appId,h="x"}else m=location.href,_=l,q=g,h=l;var x=0;exports.changeAccount=o; 
 			}); 
		define("pages/page.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JDPage=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;if(void 0!==i)return i.call(r)},s=require("./base.js"),p=t(require("../libs/emitter.js")),u=require("../api/Ptag/Ptag_utils.js"),l=require("../common/jdwebm.js"),c=e(require("../common/h5jump.js")),g=e(require("../common/utils.js")),d=e(require("../common/wdref.js")),h=t(require("../common/report/pps.js")),f=require("../api/Ptag/report_manager.js"),v=e(require("../common/navigator.js")),y=require("../common/pretreatment"),m={},b={},_={},j=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.obj=e,a.obj.pageId=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__getRandomID",a).call(a),a.initPlugins(),a.initComponents(),a.initLifeCircle();for(var o=arguments.length,s=Array(o>1?o-1:0),p=1;p<o;p++)s[p-1]=arguments[p];return Page.apply(void 0,[e].concat(s)),y.Pretreatment.register(e),a}return a(t,s.Base),o(t,[{key:"initLifeCircle",value:function(){var e=this,t=["onLoad","onReady","onShow","onHide","onUnload","onRouteEnd"],n=this,r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)!function(){var t=i.value,r=e.obj[t];e.obj[t]=function(){for(var e=arguments.length,a=Array(e),o=0;o<e;o++)a[o]=arguments[o];n[t]&&(a=n[t].apply(this,a)||a),r&&r.apply(this,a)}}()}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}}},{key:"initComponents",value:function(){var e=this.obj.components;if(e){this.components={};for(var t in e)this.components[t]=new e[t](this.obj,t);_["components"+this.obj.pageId]=this.components}}},{key:"initPlugins",value:function(){var e=this;b={toast:this.toast,helper:this.helper,biz:this.biz,us:this.us,$request:this.$request,_events:{},$goto:this.$goto,$preload:y.Pretreatment.preload},this.obj._events={},this.obj.emitter=new p.default(this.obj),Object.getOwnPropertyNames(this.__proto__.__proto__).map(function(n){"constructor"!==n&&(e.obj[n]=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),n,e))});var n=["on","emit"],r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;this.obj[l]=this[l]}}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}var c=["onWrapperTap"],g=!0,d=!1,h=void 0;try{for(var f,v=c[Symbol.iterator]();!(g=(f=v.next()).done);g=!0)!function(){var t=f.value,n=e.obj[t]||null;e.obj[t]=function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];n&&n.apply(e,a),e[t].apply(e,a)}}()}catch(e){d=!0,h=e}finally{try{!g&&v.return&&v.return()}finally{if(d)throw h}}}},{key:"onLoad",value:function(e){this.pvTime={start:Date.now(),end:0,loadTime:0,needRefresh:!1};for(var t in b)b.hasOwnProperty(t)&&(this[t]=b[t]);this.components=_["components"+this.pageId];var n=new Date,r=v.getParams(e),a=m[this.route];a&&(this.speedInit(a,r&&r.navStart),this.speedMark(2,n)),r.pps&&(f.ReportManager.setPPS(r.pps),(0,h.default)(r.pps));var o=r.ptag;o&&"string"==typeof o&&(u.PtagUtils.addPtag(o),this.setData({ptag:o})),this.setData({__report_props__:r});var i=r&&r.pr||"";i&&(getApp().pr=i),d.addUrlParams(this.pageId,r),d.onLoadSet(this.pageId),c.updateCookie(r);var s=this.events;if(s)for(var p in s)this.on(p,this[s[p]]);this.$pages=getCurrentPages(),this.$pages.length>1&&(this.$prev=this.$pages[this.$pages.length-2]);for(var l=arguments.length,g=Array(l>1?l-1:0),y=1;y<l;y++)g[y-1]=arguments[y];if(r)return[r].concat(g)}},{key:"onUnload",value:function(){for(var e in this._events){for(var t in this._events[e]){var n=this._events[e][t];this.emitter.off(e,n)}delete this._events[e]}var r=d.getUrlParams(this.pageId,!0);"pages/h5/index"==g.getPageUrl().route&&r&&(r=c.removeH5Params(r),console.log("back: h5 to wxa",r),d.backSet(r))}},{key:"onReady",value:function(){this.speedMark(3)}},{key:"onShow",value:function(){this.pvTime&&this.pvTime.needRefresh&&(this.pvTime.start=Date.now(),this.pvTime.loadTime=0),(0,l.Jdwebm)(),this.manualReportPV?f.ReportManager.clearPPS():(f.ReportManager.setCurrentPageAndAddPv(),u.PtagUtils.tabbarReport())}},{key:"on",value:function(e,t){this._events[e]||(this._events[e]=[]),t=t.bind(this),this._events[e].push(t),this.emitter.on(e,t)}},{key:"emit",value:function(){var e;(e=this.emitter).emit.apply(e,arguments)}},{key:"onWrapperTap",value:function(e){if(console.log("in page=======",e),e){var t=e.target.dataset.ptag;t&&(console.log("====>",t),this.$report(t))}}}]),t}();m={"pages/index/index":1024,"pages/search/list/list":1157,"pages/cart/cart/index":600,"pages/cart/cart/cart":1035,"pages/item/detail/detail":601,"pages/store/index/index":602,"pages/pay/index/index":603,"pages/coupon/index":604,"pages/cate/cate":605,"pages/my_pages/coupon/coupon":606,"pages/my_pages/coupon_detail/coupon_detail":900,"pages/order/list/list":608,"pages/order/detail/detail":609,"pages/my_pages/ecard/index/index":775,"pages/my_pages/ecard/bind/bind":776,"pages/my_pages/account/account":786,"pages/pingou/item/item":851,"pages/pingou/ziying/ziying":854,"pages/pingou/tuan99/tuan99":855,"pages/pingou/my/my":856,"pages/pingou/index/index":853,"pages/pingou/detail/index":867,"pages/pingou_second/darentuan/darentuan":1123,"pages/pingou/brand/index":1092,"pages/pingou/brand/detail":1093,"pages/penny/index/index":1053,"pages/penny/item/item":1054,"pages/penny/pay/pay":1055,"pages/penny/detail/detail":1056,"pages/my/index/index":1102,"pages/events/sportshb/index/index":1214,"pages/events/qsq/qsq":1350,"pages/activity/tradehb/index/index":1619,"pages/activity/beanlb/index/index":1701,"pages/activity/rebate/index/index":1722,"pages/pingou/my/withdraw/records/records":1726},exports.JDPage=j; 
 			}); 
		define("pages/recommend/components/common-behavior.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Behavior({properties:{refreshTime:{type:Number,observer:function(){this.refresh()}}},methods:{refresh:function(){}}}); 
 			}); 
		define("pages/recommend/model.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSmartData=function(e){return new Promise(function(t,r){var o=(""+e.id).split(";");wx.$.request.get({url:"https://wq.jd.com/mcoss/smart/pagshow",data:Object.assign({id:"0",offset:"0",count:"0",unshowskus:"",venderids:"",cgids:""},e),header:{referer:"http://wq.jd.com/wxapp/pages/recommend/index"}}).then(function(e){var n=e.body;if(0==n.errcode){var s={};(n.data||[]).forEach(function(e){e&&-1!=o.findIndex(function(t){return t==e.smartid})&&(s[e.smartid]=e.list||[])}),t(s)}else r({code:n.errcode,message:n.msg})},function(e){r(e)})})},exports.getFloorData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={proids:e.join(";"),totals:t.join(";")};return r.intervals&&(o.intervals=r.intervals.join(";")),r.pretime&&(o.pretime=Math.floor(r.pretime/1e3)),new Promise(function(e,t){wx.$.request.get({url:"https://wq.jd.com/mcoss/floorv2/tshow",data:o}).then(function(r){var o=r.body;0==o.errcode?e(o.data||[]):t({code:o.errcode,message:o.msg})},function(e){t(e)})})}; 
 			}); 
		define("pages/recommend/utils.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();/^\d{10}$/.test(e+"")&&(e*=1e3),/^\d{10}$/.test(t+"")&&(t*=1e3);var n=!e||(parseInt(e)==e?r>=e:r>=Date.parse(e)),i=!t||(parseInt(t)==t?r<t:r<Date.parse(t));return n&&i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUrlPtag=exports.replaceParam=exports.addPtag=exports.isPingouPath=exports.Shake=exports.exposureUrlPtag=exports.getActiveConfig=exports.greyScale=exports.vkGreyScale=exports.clipImg=exports.report=exports.fixUrl=exports.checkTime=exports.genErrMsg=void 0;var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=require("../../api/Ptag/Ptag_utils"),a=require("../../common/cookie-v2/cookie.js"),o=require("../../common/utils.js"),s=require("../../api/Ptag/report_manager.js"),u=function(){function t(){var r=this;e(this,t),this.listening=!0,this.reachTop=!1,this.emit=(0,o.throttle)(this.emit,4e3),wx.onAccelerometerChange(function(e){var t=e.x,n=e.y,i=e.z,a=Math.sqrt(t*t+n*n+i*i);!r.reachTop&&a>3?r.reachTop=!0:r.reachTop&&a<1.2&&(r.reachTop=!1,r.emit("shake"))})}return r(t,null,[{key:"init",value:function(){return t.instance?t.instance.start():t.instance=new t,t.instance}}]),r(t,[{key:"on",value:function(e){this.cb=e}},{key:"emit",value:function(){this.cb()}},{key:"start",value:function(){var e=this;this.listening||wx.startAccelerometer({success:function(){e.listening=!0,e.reachTop=!1}})}},{key:"stop",value:function(){this.listening&&(wx.stopAccelerometer(),this.listening=!1)}}]),t}();exports.genErrMsg=function(e,t){return(e||"网络繁忙，请稍候再试")+(t?"("+t+")":"")},exports.checkTime=t,exports.fixUrl=function(e){return e.replace(/^(http:)?\/\//,"https://")},exports.report=function(e){2==e.split(".").length?i.PtagUtils.addPtag("137889."+e):i.PtagUtils.addPtag(e)},exports.clipImg=function(e,t,r){if("string"!=typeof e)return"";if(0===e.indexOf("data:image")&&-1!=e.indexOf("base64"))return e;if(/\.gif/i.test(e))return e;if(!/jfs\//.test(e)||!/(m|img\d{2})\.360buyimg\.com/.test(e)||!/\.(jpg|jpeg|png|webp)/.test(e))return e;var n="!cc_"+t+"x"+r;return/!cc_(\d)+x(\d)+/.test(e)?e=e.replace(/!cc_(\d)+x(\d)+/,n):e.endsWith(".webp")?e=""+(e=e.replace(/(.*).webp/,"$1"))+n+".webp":e+=n,e},exports.vkGreyScale=function(e){if("string"!=typeof e||!e.includes("-"))return!0;var t=e.split("-"),r=n(t,2),i=r[0],o=r[1];if(i=parseInt(i),o=parseInt(o),100===i&&100===o)return!1;if(isNaN(i)||isNaN(o)||i<0||o>99||i>o)return!0;var s=(0,a.getCookie)("visitkey"),u=parseInt(s.slice(-2));return!!isNaN(u)||u>=i&&u<=o},exports.greyScale=function(e,t){if(isNaN(+e))return!1;var r=(0,a.getCookie)("visitkey"),n=parseInt(r.slice(-2))+1,i=parseInt(e);if(100===i||i>0&&i<=100&&n<=i)return!0;if(t&&"string"==typeof t){var o=t.split(";"),s=(0,a.getCookie)("pin")||"";if(o.find(function(e){return e===s}))return!0}return!1},exports.getActiveConfig=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.length){var n=r.date||Date.now(),i=r.hasOwnProperty("default")?r.default:{};return e.find(function(e){return t(e.beginTime,e.endTime,n)})||i}},exports.exposureUrlPtag=function(e,t){if(t)e&&s.ReportManager.addPtagExposure(e);else{var r=e.split("?")[1],n=r?(0,o.querystr)(r).query:{},i=n.ptag||n.PTAG;i&&s.ReportManager.addPtagExposure(i)}},exports.Shake=u,exports.isPingouPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&(e.match(/pages\/pingou/)||e.match(/pages\/pingou_second/))&&(e="/pages/h5/index?encode_url="+encodeURIComponent(t)),e},exports.addPtag=function(e,t){if(!e||!t)return e;if(e.match(/\?\w+/)){var r=(0,o.getUrlParam)("ptag",String(e));e=r?e.replace(r,t):e+"&ptag="+t}else e=e+"?ptag="+t;return e},exports.replaceParam=function(e,t){if(!e)return"";for(var r in t){var n=t[r],i=new RegExp("("+r+"=)([^&#]*)","gi");e=e.includes(r+"=")||e.includes(r.toUpperCase()+"=")?e.replace(i,r+"="+n):e.indexOf("?")>0?e+"&"+r+"="+n:e+"?"+r+"="+n}return e},exports.getUrlPtag=function(e){if(!e)return"";var t=e.split("?")[1],r=t?(0,o.querystr)(t).query:{};return r.ptag||r.PTAG}; 
 			}); 
		define("pages/taro/base/appFloating.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={};exports.default=e; 
 			}); 
		define("pages/taro/base/fe_report.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.umpBiz=exports.reportUMP=exports.Speed=void 0;var e=require("../../../common/fe_report/speed"),r=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}(require("../../../common/fe_report/usability"));exports.Speed=e.Speed,exports.reportUMP=function(e,o,t){r.report(e,o,t,"1277",!1)},exports.umpBiz=function(){for(var e=arguments.length,o=Array(e),t=0;t<e;t++)o[t]=arguments[t];r.umpBiz(o)}; 
 			}); 
		define("pages/taro/base/get_assets.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return{errorIcon:e+"../../../assets/images/page-error.jpg",loadingIcon:e+"../../../assets/images/loading.png",skeletonImg:e+"../../../assets/images/pg_skeleton.png"}}; 
 			}); 
		define("pages/taro/base/goto.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../../common/navigator");exports.default=e.goto; 
 			}); 
		define("pages/taro/base/localstorage.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../../common/localStorage"));exports.default=e; 
 			}); 
		define("pages/taro/base/login.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../../common/login/login"));exports.default=e; 
 			}); 
		define("pages/taro/base/modal.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../../common/modal/modal"));exports.default=e; 
 			}); 
		define("pages/taro/base/numberp.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../../common/numberp"));exports.default=e; 
 			}); 
		define("pages/taro/base/report_manager.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReportManager=void 0;var e=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../api/Ptag/report_manager_wqvue"));exports.ReportManager=e.default; 
 			}); 
		define("pages/taro/base/request.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.request=void 0;var e=require("../../../common/request/request");exports.request=e.request; 
 			}); 
		define("pages/taro/base/toast.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../../common/toast/toast"));exports.default=e; 
 			}); 
		define("pages/taro/base/wxcontext.weapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../../common/wxcontext")),u=e(require("../../../common/JD"));t.default.isXcx=!0,t.default.JD=u.default,exports.default=t.default; 
 			}); 
		define("pages/taro/common.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(o=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return void 0===t?"undefined":e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":e(t)},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};exports._slicedToArray=t,exports._typeof=r,exports._createClass=o,exports._classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},exports._possibleConstructorReturn=function(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==(void 0===r?"undefined":e(r))&&"function"!=typeof r?t:r},exports._inherits=function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+(void 0===r?"undefined":e(r)));t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)},exports._get=function e(t,r,o){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,r);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,o)}if("value"in n)return n.value;var u=n.get;if(void 0!==u)return u.call(o)},exports._extends=n,exports._toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},exports._defineProperty=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},exports._objectWithoutProperties=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}; 
 			}); 
		define("pages/taro/constant/icons-tpl.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ICONS_TPL={2001:["txt1"],2002:["url1","txt1"],2003:["txt1"],2004:["txt1"],2005:["txt1","txt2"],2006:["url1"],2007:["url1","txt1"],2008:["txt1"],2009:["txt1"],2010:["url1","txt1"],2011:["txt1"],2012:["txt1"],2013:["url1","txt1"],2014:["url1","url2","txt1"],2015:["url1","txt1"],2016:["txt1"],2017:["url1","txt1"],2018:["txt1"],2019:["url1","txt1","txt2"],2020:["url1","txt1","txt2","txt3","txt4"],2021:["url1","txt1"],2022:["url1","txt1"],2023:["url1","txt1"],2024:["url1","txt1"]}; 
 			}); 
		define("pages/taro/npm/@tarojs/taro-weapp/dist/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"===ae(Symbol.iterator)?function(e){return void 0===e?"undefined":ae(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":ae(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!==(void 0===t?"undefined":ae(t))&&"function"!=typeof t?u(e):t}function p(e){return f(e)||h(e)||d()}function f(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function h(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t,n){if("object"!==e(t)&&"object"!==e(n))return t===n;if(null===t&&null===n)return!0;if(null===t||null===n)return!1;if(ue(t,n))return!0;var o=t?Object.keys(t):[],r=n?Object.keys(n):[];if(o.length!==r.length)return!1;for(var i=0;i<o.length;i++){var a=o[i];if(!n.hasOwnProperty(a)||!ue(t[a],n[a]))return!1}return!0}function m(e){return"/"===e.charAt(0)?e:"/"+e}function g(){var e=getCurrentPages(),t=e[e.length-1];return m(t.route||t.__route__)}function _(t){if(!t||"object"!==e(t)||"[object Object]"!={}.toString.call(t))return!1;var n=Object.getPrototypeOf(t);if(null===n)return!0;var o=hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof o&&o instanceof o&&Function.prototype.toString.call(o)===Function.prototype.toString.call(Object)}function y(e){if(!e||!_(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function b(e){return void 0===e}function $(e){return"function"==typeof e}function w(e){return Array.isArray(e)}function C(e){var t;if(w(e)){t=[];for(var n=e.length,o=0;o<n;o++)t.push(C(e[o]))}else{if(!_(e))return e;t={};for(var r in e){var i=C(e[r]);t[r]=i}}return t}function P(t,n){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.length,a=0;a<i;a++){(function(i){var a=t[i],s=n[i],c="".concat(r,"[").concat(i,"]");if(a===s)return"continue";if(e(a)!==e(s))o[c]=a;else if("object"!==e(a))o[c]=a;else{var u=w(a),l=w(s);if(u!==l)o[c]=a;else if(u&&l)a.length<s.length?o[c]=a:P(a,s,o,"".concat(c));else if(!a||!s||fe(a).length<fe(s).length)o[c]=a;else{var p=_(a);p&&Object.keys(s).some(function(e){if(void 0===a[e]&&void 0!==s[e])return p=!1,!0}),p?S(a,s,o,"".concat(c,".")):o[c]=a}}})(a)}return o}function S(t,n){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=fe(t),a=i.length,s=0;s<a;s++){(function(a){var s=i[a],c=t[s],u=n[s],l="".concat(r).concat(s);if(/^\$compid__/.test(s))o[l]=c;else{if(c===u)return"continue";if(he.call(n,s))if(e(c)!==e(u))o[l]=c;else if("object"!==e(c))o[l]=c;else{var p=w(c),f=w(u);if(p!==f)o[l]=c;else if(p&&f)c.length<u.length?o[l]=c:P(c,u,o,"".concat(l));else if(c&&u){var h=_(c);h&&Object.keys(u).some(function(e){if(void 0===c[e]&&void 0!==u[e])return h=!1,!0}),h?S(c,u,o,"".concat(l,".")):o[l]=c}else o[l]=c}else o[l]=c}})(s)}return o}function O(e){for(var t,n,o,r=decodeURIComponent,i=e.split("&"),a={},s=0,c=i.length;s<c;++s)if((o=i[s]).length){var u=o.indexOf("=");u<0?(t=r(o),n=""):(t=r(o.slice(0,u)),n=r(o.slice(u+1))),"string"==typeof a[t]&&(a[t]=[a[t]]),w(a[t])?a[t].push(n):a[t]=n}return a}function j(){return de+ve++}function x(){return String(me++)}function E(){return String(ge++)}function k(e,t){_e[e]=t}function R(e,t){var n=_e[e];return t&&delete _e[e],n}function T(e){return e in _e}function D(e,t,n){if(e.properties={},n){e.properties[$e]={type:null,value:null},e.properties[we]={type:null,value:null};var o=t.defaultParams||{};for(var r in o)o.hasOwnProperty(r)&&(e.properties[r]={type:null,value:null})}e.properties.compid={type:null,value:null,observer:function(e,o){var r=this;if(z.apply(this,[t,n]),o&&o!==e){var i=this.data.extraProps,a=this.$component;ye.observers[e]={component:a,ComponentClass:a.constructor};var s=W(a.constructor.defaultProps,ye.map[e],a.props,i||null);this.$component.props=s,pe(function(){r.$component._unsafeCallUpdate=!0,V(r.$component),r.$component._unsafeCallUpdate=!1})}}},e.properties.extraProps={type:null,value:null,observer:function(){var e=this;if(this.$component&&this.$component.__isReady){var n=W(t.defaultProps,{},this.$component.props,this.data.extraProps);this.$component.props=n,pe(function(){e.$component._unsafeCallUpdate=!0,V(e.$component),e.$component._unsafeCallUpdate=!1})}}}}function A(e,t){t.behaviors&&(e.behaviors=t.behaviors)}function U(e,t){t.options&&(e.options=t.options)}function L(e,t){var n=t.multipleSlots;n&&(e.options=i({},e.options,{multipleSlots:n}))}function M(e,t){for(var n in t)"function"==typeof t[n]&&(e[n]=t[n]);Object.getOwnPropertyNames(t).forEach(function(n){["arguments","caller","length","name","prototype"].indexOf(n)<0&&"function"==typeof t[n]&&(e[n]=t[n])})}function F(e,t){t[e]||(t[e]=function(t){t&&(t.preventDefault=function(){},t.stopPropagation=function(){},t.currentTarget=t.currentTarget||t.target||{},t.target&&Object.assign(t.target,t.detail),Object.assign(t.currentTarget,t.detail));var n=this.$component,o=n,r=e.indexOf(be)>-1,i=[],a=[],s=[],c=!1,u=t.currentTarget.dataset||{},l={},f=t.type.toLocaleLowerCase();if(Object.keys(u).forEach(function(e){var t=e.toLocaleLowerCase();if(/^e/.test(t)&&(t=t.replace(/^e/,"")).indexOf(f)>=0){var n=t.replace(f,"");/^(a[a-z]|so)$/.test(n)&&(l[n]=u[e])}}),t.detail&&t.detail.__arguments&&t.detail.__arguments.length>0&&(a=t.detail.__arguments),r){var h=null;"so"in l&&("this"!==l.so&&(h=l.so),c=!0,delete l.so),a.length>0&&(!c&&a[0]&&(o=a[0]),a.shift()),y(l)||(s=Object.keys(l).sort().map(function(e){return l[e]})),i=[h].concat(p(s),p(a),[t])}else"so"in l&&("this"!==l.so&&(o=l.so),c=!0,delete l.so),a.length>0&&(!c&&a[0]&&(o=a[0]),a.shift()),y(l)||(s=Object.keys(l).sort().map(function(e){return l[e]})),i=p(s).concat(p(a),[t]);return n[e].apply(o,i)})}function I(e,t,n){e.methods=e.methods||{};var o=e.methods;t.forEach(function(e){F(e,o)})}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,r=Object.assign({},n,t);if(!y(e))for(var i in e)void 0===r[i]&&(r[i]=e[i]);return o&&(r=Object.assign({},r,o)),r}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};for(var o in t)n[o]=o in e?e[o]:t[o];return n}function H(e,t,n){var o;if(n=n||[],"componentDidMount"===t){if(e.$$refs&&e.$$refs.length>0){var r={};e.$$refs.forEach(function(t){var n;n="component"===t.type?(n=e.$scope.selectComponent("#".concat(t.id)))?n.$component||n:null:wx.createSelectorQuery().in(e.$scope).select("#".concat(t.id)),ce.commitAttachRef(t,n,e,r,!0),t.target=n}),e.refs=Object.assign({},e.refs||{},r)}e.$$hasLoopRef&&(ce.Current.current=e,ce.Current.index=0,e._disableEffect=!0,e._createData(e.state,e.props,!0),e._disableEffect=!1,ce.Current.current=null)}if("componentWillUnmount"===t){var i=e.$scope.data.compid;i&&ye.delete(i)}e[t]&&"function"==typeof e[t]&&(o=e[t]).call.apply(o,[e].concat(p(n))),"componentWillMount"===t&&(e._dirty=!1,e._disable=!1,e.state=e.getState()),"componentWillUnmount"===t&&(e._dirty=!0,e._disable=!0,e.$router={params:{},path:""},e._pendingStates=[],e._pendingCallbacks=[],ce.detachAllRef(e))}function z(e,t){if(!this.$component.__isReady){if(this.$component.__isReady=!0,t)this.$component.$router.path=g();else{var n=this.data.compid;n&&(ye.observers[n]={component:this.$component,ComponentClass:e});var o=W(e.defaultProps,ye.map[n],this.$component.props,this.data.extraProps);this.$component.props=o}G(this.$component)}}function Q(e){var t=e.constructor.getDerivedStateFromProps,n=e.getSnapshotBeforeUpdate;return $(t)||$(n)}function N(e,t,n){var o,r=e.constructor.getDerivedStateFromProps;if($(r)){var i=r(t,n);b(i)?console.warn("getDerivedStateFromProps 没有返回任何内容，这个生命周期必须返回 null 或一个新对象。"):o=Object.assign({},n,i)}return o}function B(e,t,n){var o,r=e.getSnapshotBeforeUpdate;return $(r)&&(o=r.call(e,t,n)),o}function V(e){var t=e.props,n=e.__propTypes;if(Oe&&n){var o=e.constructor.name;if(b(o)){var r=e.constructor.toString().match(/^function\s*([^\s(]+)/);o=w(r)?r[0]:"Component"}}var i=e.prevProps||t;e.props=i,e.__mounted&&!0===e._unsafeCallUpdate&&!Q(e)&&e.componentWillReceiveProps&&(e._disable=!0,e.componentWillReceiveProps(t),e._disable=!1);var a=e.getState(),s=e.prevState||a,c=N(e,t,a);b(c)||(a=c);var u=!1;e.__mounted&&("function"!=typeof e.shouldComponentUpdate||e._isForceUpdate||!1!==e.shouldComponentUpdate(t,a)?!Q(e)&&$(e.componentWillUpdate)&&e.componentWillUpdate(t,a):u=!0),e.props=t,e.state=a,e._dirty=!1,e._isForceUpdate=!1,u||Y(e,i,s),e.prevProps=e.props,e.prevState=e.state}function G(e){var t=e.props;e.__componentWillMountTriggered||e._constructor&&e._constructor(t);var n=N(e,t,e.state);b(n)||(e.state=n),e._dirty=!1,e._disable=!1,e._isForceUpdate=!1,e.__componentWillMountTriggered||(e.__componentWillMountTriggered=!0,Q(e)||H(e,"componentWillMount")),Y(e,t,e.state),e.prevProps=e.props,e.prevState=e.state}function X(e){var t=e.constructor.contextType;if(t){var n=t.context,o=n.emitter;if(null===o)return void(e.context=n._defaultValue);e._hasContext||(e._hasContext=!0,o.on(function(t){return J(e)})),e.context=o.value}}function Y(t,n,o){var r=t.state,i=t.props,a=void 0===i?{}:i,s=r||{};if(t._createData&&(t.__isReady&&(X(t),ce.Current.current=t,ce.Current.index=0,ce.invokeEffects(t,!0)),s=t._createData(r,a)||s,t.__isReady&&(ce.Current.current=null)),s=Object.assign({},a,s),t.$usedState&&t.$usedState.length){var c={};t.$usedState.forEach(function(t){var n=ce.internal_safe_get(s,t);if(void 0!==n)if("object"===e(n)){if(y(n))return ce.internal_safe_set(c,t,{});y(n=C(n))||ce.internal_safe_set(c,t,n)}else ce.internal_safe_set(c,t,n)}),s=c}s.$taroCompReady=!0;var u,l=ce.getIsUsingDiff()?S(s,t.$scope.data):s,p=t.__mounted;p&&(u=B(t,n,o));var f=[];t._pendingCallbacks&&t._pendingCallbacks.length&&(f=t._pendingCallbacks,t._pendingCallbacks=[]);var h=function(){if(p&&(ce.invokeEffects(t),t.$$refs&&t.$$refs.length>0&&t.$$refs.forEach(function(e){if("component"===e.type){var n=t.$scope.selectComponent("#".concat(e.id));(n=n?n.$component||n:null)!==e.target&&(ce.commitAttachRef(e,n,t,t.refs),e.target=n)}}),t.$$hasLoopRef&&(ce.Current.current=t,ce.Current.index=0,t._disableEffect=!0,t._createData(t.state,t.props,!0),t._disableEffect=!1,ce.Current.current=null),$(t.componentDidUpdate)&&t.componentDidUpdate(n,o,u)),f.length)for(var e=f.length;--e>=0;)"function"==typeof f[e]&&f[e].call(t)};0===Object.keys(l).length?h():t.$scope.setData(l,h)}function J(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e._isForceUpdate=t,!e._dirty&&(e._dirty=!0)&&1===je.push(e)&&pe(function(){K()})}function K(){var e,t=je;for(je=[];e=t.pop();)e._dirty&&V(e,!0)}function Z(e){"string"==typeof(e=e||{})&&(e={url:e});var t,n=e.success,o=e.fail,r=e.complete,i=new Promise(function(i,a){e.success=function(e){n&&n(e),i(e)},e.fail=function(e){o&&o(e),a(e)},e.complete=function(e){r&&r(e)},t=ke.request(e)});return i.abort=function(e){return e&&e(),t&&t.abort(),i},i}function ee(e){var t=Object.assign({},ce.onAndSyncApis,ce.noPromiseApis,ce.otherApis),n={navigateTo:!0,redirectTo:!0,reLaunch:!0};Object.keys(t).forEach(function(t){t in wx?ce.onAndSyncApis[t]||ce.noPromiseApis[t]?e[t]=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=n.length,i=n.concat(),a=i[r-1];return a&&a.isTaroComponent&&a.$scope&&i.splice(r-1,1,a.$scope),wx[t].apply(wx,i)}:e[t]=function(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];e=e||{};var a=null,s=Object.assign({},e);if("string"==typeof e){if(r.length){var c;return(c=wx)[t].apply(c,[e].concat(r))}return wx[t](e)}if("navigateTo"===t||"redirectTo"===t){var u=s.url?s.url.replace(/^\//,""):"";u.indexOf("?")>-1&&(u=u.split("?")[0]);var l=R(u);if(l){var p=new l;if(p.componentWillPreload){var f=j(),h=s.url.indexOf("?"),d=h>-1,v=O(d?s.url.substring(h+1,s.url.length):"");s.url+=(d?"&":"?")+"".concat("__preload_","=").concat(f),k(f,p.componentWillPreload(v)),k("$preloadComponent",p)}}}if(n[t]){var m=s.url=s.url||"",g=m.indexOf("?"),_=g>-1,y=O(_?m.substring(g+1,m.length):""),b=j();s.url+=(_?"&":"?")+"".concat("__key_","=").concat(b),k(b,y)}var $=new Promise(function(n,o){if(["fail","success","complete"].forEach(function(r){s[r]=function(i){e[r]&&e[r](i),"success"===r?n("connectSocket"===t?Promise.resolve().then(function(){return Object.assign(a,i)}):i):"fail"===r&&o(i)}}),r.length){var i;a=(i=wx)[t].apply(i,[s].concat(r))}else a=wx[t](s)});return"uploadFile"!==t&&"downloadFile"!==t||($.progress=function(e){return a&&a.onProgressUpdate(e),$},$.headersReceived=function(e){return a&&a.onHeadersReceived(e),$},$.abort=function(e){return e&&e(),a&&a.abort(),$}),$}:e[t]=function(){console.warn("微信小程序暂不支持 ".concat(t))}})}function te(e){var t=this.config||{},n=t.designWidth,o=void 0===n?750:n,r=t.deviceRatio,i=void 0===r?{640:1.17,750:1,828:.905}:r;if(!(o in i))throw new Error("deviceRatio 配置中不存在 ".concat(o," 的设置！"));return parseInt(e,10)/i[o]+"rpx"}function ne(){var e=wx.getSystemInfoSync().platform.toLowerCase();return"android"===e||"devtools"===e}function oe(e){var t=wx.cloud||{},n={};["init","database","uploadFile","downloadFile","getTempFileURL","deleteFile","callFunction","CloudID"].forEach(function(e){n[e]=t[e]}),e.cloud=n}function re(e){var t=wx.env||{},n={};["USER_DATA_PATH"].forEach(function(e){return n[e]=t[e]}),e.env=n}function ie(e){ee(e),e.request=Re.request.bind(Re),e.addInterceptor=Re.addInterceptor.bind(Re),e.cleanInterceptors=Re.cleanInterceptors.bind(Re),e.getCurrentPages=getCurrentPages,e.getApp=getApp,e.requirePlugin=requirePlugin,e.initPxTransform=ce.initPxTransform.bind(e),e.pxTransform=te.bind(e),e.canIUseWebp=ne,oe(e),re(e)}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var se,ce=require("../../taro/index.js"),ue=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},le=function(){function e(){t(this,e),this.cache=[],this.size=0}return o(e,[{key:"set",value:function(e,t){var n=this.cache.length;if(!n)return this.cache.push({k:e,v:t}),void(this.size+=1);for(var o=0;o<n;o++){var r=this.cache[o];if(r.k===e)return void(r.v=t)}this.cache.push({k:e,v:t}),this.size+=1}},{key:"get",value:function(e){var t=this.cache.length;if(t)for(var n=0;n<t;n++){var o=this.cache[n];if(o.k===e)return o.v}}},{key:"has",value:function(e){var t=this.cache.length;if(!t)return!1;for(var n=0;n<t;n++)if(this.cache[n].k===e)return!0;return!1}},{key:"delete",value:function(e){for(var t=this.cache.length,n=0;n<t;n++)if(this.cache[n].k===e)return this.cache.splice(n,1),this.size-=1,!0;return!1}},{key:"clear",value:function(){var e=this.cache.length;if(this.size=0,e)for(;e;)this.cache.pop(),e--}}]),e}(),pe=function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e="function"==typeof e?(t=e).bind.apply(t,[null].concat(o)):e,(wx.nextTick?wx.nextTick:setTimeout)(e)},fe=Object.keys,he=Object.prototype.hasOwnProperty,de=(new Date).getTime().toString(),ve=1,me=0;try{se=new Map}catch(e){se=new le}var ge=0,_e={},ye=new(function(){function e(){t(this,e),r(this,"map",{}),r(this,"observers",{})}return o(e,[{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t){n&&this.delete(n);var o=this.observers;this.map[t]||Object.defineProperty(this.map,t,{configurable:!0,get:function(){return this["__".concat(t)]},set:function(e){this["__".concat(t)]=e;var n=o[t]&&o[t].component,r=o[t]&&o[t].ComponentClass;if(n&&r&&n.__isReady){var i=n.$scope&&n.$scope.data&&n.$scope.data.extraProps||null,a=W(r.defaultProps,e,n.props,i);n.props=a,pe(function(){n._unsafeCallUpdate=!0,V(n),n._unsafeCallUpdate=!1})}}}),this.map[t]=e}}},{key:"delete",value:function(e){delete this.map[e],delete this.map["__".concat(e)],delete this.observers[e]}}]),e}()),be="funPrivate",$e="__key_",we="__preload_",Ce="preload",Pe="$preloadComponent",Se=["onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onTabItemTap","onResize"],Oe="undefined"==typeof process||!process.env||!1,je=[],xe=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;t(this,n),r(this,"__computed",{}),r(this,"__props",{}),r(this,"__isReady",!1),r(this,"__mounted",!1),r(this,"context",{}),r(this,"_dirty",!0),r(this,"_disable",!0),r(this,"_isForceUpdate",!1),r(this,"_pendingStates",[]),r(this,"_pendingCallbacks",[]),r(this,"$componentType",""),r(this,"$router",{params:{},path:""}),r(this,"_afterScheduleEffect",!1),r(this,"_disableEffect",!1),r(this,"hooks",[]),r(this,"effects",[]),r(this,"layoutEffects",[]),this.state={},this.props=e,this.$componentType=o?"PAGE":"COMPONENT",this.$prefix=E(),this.isTaroComponent=this.$componentType&&this.$router&&this._pendingStates}return o(n,[{key:"_constructor",value:function(e){this.props=e||{}}},{key:"_init",value:function(e){this.$scope=e}},{key:"setState",value:function(e,t){e&&(this._pendingStates=this._pendingStates||[]).push(e),$(t)&&(this._pendingCallbacks=this._pendingCallbacks||[]).push(t),this._disable||J(this,t===ce.internal_force_update)}},{key:"getState",value:function(){var e=this,t=this._pendingStates,n=this.state,o=this.props,r=Object.assign({},n);if(delete r.__data,!t.length)return r;var i=t.concat();return this._pendingStates.length=0,i.forEach(function(t){$(t)&&(t=t.call(e,r,o)),Object.assign(r,t)}),r}},{key:"forceUpdate",value:function(e){$(e)&&(this._pendingCallbacks=this._pendingCallbacks||[]).push(e),this._isForceUpdate=!0,V(this)}},{key:"$preload",value:function(t,n){var o=R("preload")||{};if("object"===e(t))for(var r in t)o[r]=t[r];else o[t]=n;k("preload",o)}},{key:"__triggerPropsFn",value:function(e,t){var n=e.split("."),o="__event_"+n.shift();if(o in this){var r=t.shift();(n.length>0?ce.internal_safe_get(this[o],n.join(".")):this[o]).apply(r,t)}else{var i=e.toLocaleLowerCase(),a={__isCustomEvt:!0,__arguments:t};t.length>0&&(a.value=t.slice(1)),this.$scope.triggerEvent(i,a)}}}]),n}(),Ee=function(e){function n(){var e,o;t(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return o=l(this,(e=s(n)).call.apply(e,[this].concat(a))),r(u(u(o)),"isPureComponent",!0),o}return a(n,xe),o(n,[{key:"shouldComponentUpdate",value:function(e,t){return!v(this.props,e)||!v(this.state,t)}}]),n}(),ke={MAX_REQUEST:10,queue:[],pendingQueue:[],request:function(e){return this.queue.push(e),this.run()},run:function(){var t=this;if(this.queue.length)for(;this.pendingQueue.length<this.MAX_REQUEST;){var n=function(){var e=t.queue.shift(),n=e.success,o=e.fail;return e.success=function(){t.pendingQueue=t.pendingQueue.filter(function(t){return t!==e}),t.run();for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];n&&n.apply(e,r)},e.fail=function(){t.pendingQueue=t.pendingQueue.filter(function(t){return t!==e}),t.run();for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];o&&o.apply(e,r)},t.pendingQueue.push(e),{v:wx.request(e)}}();if("object"===e(n))return n.v}}},Re=new ce.Link(function(e){return Z(e.requestParams)}),Te={Component:xe,PureComponent:Ee,createApp:function(e){var t=new e,n={onLaunch:function(e){t.$app=this,t.$app.$router=t.$router={params:e},t.componentWillMount&&t.componentWillMount(),t.componentDidMount&&t.componentDidMount()},onShow:function(e){Object.assign(t.$router.params,e),t.componentDidShow&&t.componentDidShow()},onHide:function(){t.componentDidHide&&t.componentDidHide()},onError:function(e){t.componentDidCatchError&&t.componentDidCatchError(e)},onPageNotFound:function(e){t.componentDidNotFound&&t.componentDidNotFound(e)}};return Object.assign(n,t)},initNativeApi:ie,Events:ce.Events,eventCenter:ce.eventCenter,getEnv:ce.getEnv,createRef:ce.createRef,render:ce.render,ENV_TYPE:ce.ENV_TYPE,internal_safe_get:ce.internal_safe_get,internal_safe_set:ce.internal_safe_set,internal_inline_style:ce.internal_inline_style,createComponent:function(e,t){var n={},o=W(e.defaultProps),r=new e(o);r._constructor&&r._constructor(o);try{ce.Current.current=r,ce.Current.index=0,r.state=r._createData()||r.state}catch(e){t?console.warn("[Taro warn] 请给页面提供初始 `state` 以提高初次渲染性能！"):console.warn("[Taro warn] 请给组件提供一个 `defaultProps` 以提高初次渲染性能！"),console.warn(e)}var i={data:n=Object.assign({},n,r.props,r.state),created:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&T(Pe)?(this.$component=R(Pe,!0),this.$component.$componentType="PAGE"):this.$component=new e({},t),this.$component._init(this),this.$component.render=this.$component._createData,this.$component.__propTypes=e.propTypes,Object.assign(this.$component.$router.params,n)},attached:function(){var n;if(t){var o={};if(n=T(this.data[$e]),o=n?Object.assign({},e.defaultParams,R(this.data[$e],!0)):q(this.data,e.defaultParams),T(Ce)){var r=R(Ce,!0);this.$component.$router.preload=r}Object.assign(this.$component.$router.params,o),T(this.data[we])?this.$component.$preloadData=R(this.data[we],!0):this.$component.$preloadData=null}!n&&t||z.apply(this,[e,t])},ready:function(){t||this.$component.__mounted||(this.$component.__mounted=!0,H(this.$component,"componentDidMount"))},detached:function(){var e=this.$component;H(e,"componentWillUnmount"),e.hooks.forEach(function(e){$(e.cleanup)&&e.cleanup()});var t=e.$$renderPropsEvents;w(t)&&t.forEach(function(e){return ce.eventCenter.off(e)})}};return t?(i.methods=i.methods||{},i.methods.onLoad=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$component.__isReady||(Object.assign(this.$component.$router.params,n),z.apply(this,[e,t]))},i.methods.onReady=function(){this.$component.__mounted=!0,H(this.$component,"componentDidMount")},i.methods.onShow=function(){H(this.$component,"componentDidShow")},i.methods.onHide=function(){H(this.$component,"componentDidHide")},Se.forEach(function(e){r[e]&&"function"==typeof r[e]&&(i.methods[e]=function(){var t=this.$component;if(t&&t[e]&&"function"==typeof t[e]){var n;return(n=t[e]).call.apply(n,[t].concat(Array.prototype.slice.call(arguments)))}})}),__wxRoute&&k(__wxRoute,e)):(i.pageLifetimes=i.pageLifetimes||{},i.pageLifetimes.show=function(){H(this.$component,"componentDidShow")},i.pageLifetimes.hide=function(){H(this.$component,"componentDidHide")},i.pageLifetimes.resize=function(){H(this.$component,"onResize")}),D(i,e,t),A(i,e),M(i,e),U(i,e),L(i,e),e.$$events&&I(i,e.$$events,t),e.externalClasses&&e.externalClasses.length&&(i.externalClasses=e.externalClasses),i},internal_get_original:ce.internal_get_original,handleLoopRef:ce.handleLoopRef(function(e,t,n){if(!e)return null;var o;return(o="component"===n?(o=e.selectComponent(t))?o.$component||o:null:wx.createSelectorQuery().in(e).select(t))||null}),propsManager:ye,interceptors:ce.interceptors,RefsArray:ce.RefsArray,genCompid:function(e,t){if(!ce.Current||!ce.Current.current||!ce.Current.current.$scope)return[];var n=se.get(e);if(t){var o=x();return se.set(e,o),[n,o]}var r=n||x();return!n&&se.set(e,r),[null,r]},useEffect:ce.useEffect,useLayoutEffect:ce.useLayoutEffect,useReducer:ce.useReducer,useState:ce.useState,useDidShow:ce.useDidShow,useDidHide:ce.useDidHide,usePullDownRefresh:ce.usePullDownRefresh,useReachBottom:ce.useReachBottom,usePageScroll:ce.usePageScroll,useResize:ce.useResize,useShareAppMessage:ce.useShareAppMessage,useTabItemTap:ce.useTabItemTap,useRouter:ce.useRouter,useScope:ce.useScope,useRef:ce.useRef,useCallback:ce.useCallback,useMemo:ce.useMemo,useImperativeHandle:ce.useImperativeHandle,useContext:ce.useContext,createContext:ce.createContext,memo:ce.memo,shallowEqual:v,setIsUsingDiff:ce.setIsUsingDiff};ie(Te),exports.Taro=Te,exports.default=Te; 
 			}); 
		define("pages/taro/npm/@tarojs/taro-weapp/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";module.exports=require("./dist/index.js").default,module.exports.default=module.exports; 
 			}); 
		define("pages/taro/npm/@tarojs/taro/dist/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return void 0===e?"undefined":qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":qe(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function f(e,t,n){return(f=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o}).apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){function n(){return f(e,arguments,c(this).constructor)}if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==(void 0===t?"undefined":qe(t))&&"function"!=typeof t?d(e):t}function g(e){return y(e)||v(e)||b()}function y(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function v(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e,t){return null==e?void 0:e[t]}function x(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e,t){for(var n=e.length;n--;)if(M(e[n][0],t))return n;return-1}function A(e,t){for(var n=0,r=(t=T(t,e)?[t]:E(t)).length;null!=e&&n<r;)e=e[R(t[n++])];return n&&n==r?e:void 0}function P(e){return!(!N(e)||O(e))&&(W(e)||x(e)?bt:ot).test(D(e))}function k(e){if("string"==typeof e)return e;if(U(e))return wt?wt.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function E(e){return Pt(e)?e:At(e)}function I(e,t){var n=e.__data__;return j(t)?n["string"==typeof t?"string":"hash"]:n.map}function B(e,t){var n=m(e,t);return P(n)?n:void 0}function T(t,n){if(Pt(t))return!1;var r=e(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!U(t))||(Ze.test(t)||!Je.test(t)||null!=n&&t in Object(n))}function j(t){var n=e(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function O(e){return!!ht&&ht in e}function R(e){if("string"==typeof e||U(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function D(e){if(null!=e){try{return gt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function L(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(Qe);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(L.Cache||C),n}function M(e,t){return e===t||e!==e&&t!==t}function W(e){var t=N(e)?vt.call(e):"";return t==ze||t==Ke}function N(t){var n=e(t);return!!t&&("object"==n||"function"==n)}function F(t){return!!t&&"object"===e(t)}function U(t){return"symbol"===e(t)||F(t)&&vt.call(t)==Ye}function V(e){return null==e?"":k(e)}function $(t,n){var r=e(t);return!!(n=null==n?ut:n)&&("number"==r||"symbol"!=r&&st.test(t))&&t>-1&&t%1==0&&t<n}function q(e,t,n){"__proto__"==t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function H(e,t,n){var r=e[t];yt.call(e,t)&&M(r,n)&&(void 0!==n||t in e)||q(e,t,n)}function Q(e,t,n,r){if(!N(e))return e;for(var o=(t=E(t,e)).length,i=o-1,a=-1,c=e;null!=c&&++a<o;){var u=R(t[a]),s=n;if(a!=i){var f=c[u];void 0===(s=r?r(f,u,c):void 0)&&(s=N(f)?f:$(t[a+1])?[]:{})}H(c,u,s),c=c[u]}return e}function G(e,t,n){var r=null==e?void 0:A(e,t);return void 0===r?n:r}function z(e,t,n){return null==e?e:Q(e,t,n)}function K(e){return e.replace(kt,Y)}function Y(e){return"-"+e.toLowerCase()}function J(t){return null!=t&&"object"===e(t)&&!1===Array.isArray(t)}function Z(e){if(null==e)return"";if("string"==typeof e)return e;if(null===e||void 0===e)return"";if(!J(e))throw new TypeError("style 只能是一个对象或字符串。");return Object.keys(e).map(function(t){return K(t).concat(":").concat(e[t])}).join(";")}function X(){return It||("undefined"!=typeof jd&&jd.getSystemInfo?(It=Et.JD,Et.JD):"undefined"!=typeof qq&&qq.getSystemInfo?(It=Et.QQ,Et.QQ):"undefined"!=typeof tt&&tt.getSystemInfo?(It=Et.TT,Et.TT):"undefined"!=typeof wx&&wx.getSystemInfo?(It=Et.WEAPP,Et.WEAPP):"undefined"!=typeof qa&&qa.getSystemInfo?(It=Et.QUICKAPP,Et.QUICKAPP):"undefined"!=typeof swan&&swan.getSystemInfo?(It=Et.SWAN,Et.SWAN):"undefined"!=typeof my&&my.getSystemInfo?(It=Et.ALIPAY,Et.ALIPAY):"undefined"!=typeof global&&global.__fbGenNativeModule?(It=Et.RN,Et.RN):"undefined"!=typeof window?(It=Et.WEB,Et.WEB):"Unknown environment")}function ee(e){return e===Object(e)&&"function"!=typeof e}function te(e){return null===Bt&&(Bt=X()),ee(e)?e[Bt===Et.SWAN?"privateOriginal":"$original"]||e:e}function ne(){}function re(){return{current:null}}function oe(t,n,r,o){arguments.length>4&&void 0!==arguments[4]&&arguments[4]&&!n||("refName"in t&&t.refName?o[t.refName]=n:"fn"in t&&"function"==typeof t.fn?t.fn.call(r,n):t.fn&&"object"===e(t.fn)&&"current"in t.fn&&(t.fn.current=n))}function ie(t){t.$$refs&&t.$$refs.length>0&&(t.$$refs.forEach(function(n){"function"==typeof n.fn?n.fn.call(t,null):n.fn&&"object"===e(n.fn)&&"current"in n.fn&&(n.fn.current=null),"target"in n&&delete n.target}),t.refs={})}function ae(t){return function(n,r,o,i){if(!n)return null;var a=t(n,r,o),c=e(i);if("function"!==c&&"object"!==c)return console.warn("循环 Ref 只支持函数或 createRef()，当前类型为：".concat(c));"object"===c?i.current=a:"function"===c&&i.call(n.$component,a)}}function ce(e){var t=e.designWidth,n=void 0===t?700:t,r=e.deviceRatio,o=void 0===r?{640:1.17,750:1,828:.905}:r;this.config=this.config||{},this.config.designWidth=n,this.config.deviceRatio=o}function ue(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function se(e){return"function"==typeof e}function fe(e){return void 0===e}function le(e){return Array.isArray(e)}function pe(e){return fe(e)||null===e}function de(){return Ft}function he(e){Ft=Boolean(e)}function ge(){}function ye(e){if(null===exports.Current.current)throw new Error("invalid hooks call: hooks can only be called in a stateless component.");var t=exports.Current.current.hooks;return e>=t.length&&t.push({}),t[e]}function ve(e){se(e)&&(e=e());var t=ye(exports.Current.index++);return t.state||(t.component=exports.Current.current,t.state=[e,function(e){var n=se(e)?e(t.state[0]):e;t.state[0]!==n&&(t.state[0]=n,t.component._disable=!1,t.component.setState({},ge))}]),t.state}function be(e,t){var n=ye(exports.Current.index++);if(n.marked)n.callback=e;else{n.marked=!0,n.component=exports.Current.current,n.callback=e;var r=n.component,o=r[t];n.component[t]=function(){var e=n.callback;return o&&o.call.apply(o,[r].concat(Array.prototype.slice.call(arguments))),e&&e.call.apply(e,[r].concat(Array.prototype.slice.call(arguments)))}}}function me(e){be(e,"componentDidShow")}function xe(e){be(e,"componentDidHide")}function Se(e){be(e,"onPullDownRefresh")}function _e(e){be(e,"onReachBottom")}function Ce(e){be(e,"onPageScroll")}function we(e){be(e,"onResize")}function Ae(e){be(e,"onShareAppMessage")}function Pe(e){be(e,"onTabItemTap")}function ke(){var e=ye(exports.Current.index++);return e.router||(e.component=exports.Current.current,e.router=e.component.$router),e.router}function Ee(){var e=ye(exports.Current.index++);return e.scope||(e.component=exports.Current.current,e.scope=e.component.$scope),e.scope}function Ie(e,t,n){se(t)&&(t=t());var r=ye(exports.Current.index++);return r.state||(r.component=exports.Current.current,r.state=[fe(n)?t:n(t),function(t){r.state[0]=e(r.state[0],t),r.component._disable=!1,r.component.setState({},ge)}]),r.state}function Be(e,t){return!(!pe(e)&&!pe(t))||t.some(function(t,n){return!ue(t,e[n])})}function Te(e,t){(t?e.effects:e.layoutEffects).forEach(function(e){se(e.cleanup)&&e.cleanup();var t=e.effect();se(t)&&(e.cleanup=t)}),t?e.effects=[]:e.layoutEffects=[]}function je(e){e._afterScheduleEffect||(e._afterScheduleEffect=!0,Ut.push(e),1===Ut.length&&Nt(function(){setTimeout(function(){Ut.forEach(function(e){e._afterScheduleEffect=!1,Te(e,!0)}),Ut=[]},0)}))}function Oe(e,t,n){var r=ye(exports.Current.index++);!exports.Current.current._disableEffect&&exports.Current.current.__isReady&&Be(r.deps,t)&&(r.effect=e,r.deps=t,n?(exports.Current.current.effects=exports.Current.current.effects.concat(r),je(exports.Current.current)):exports.Current.current.layoutEffects=exports.Current.current.layoutEffects.concat(r))}function Re(e,t){Oe(e,t,!0)}function De(e,t){Oe(e,t)}function Le(e){var t=ye(exports.Current.index++);return t.ref||(t.ref={current:e}),t.ref}function Me(e,t){var n=ye(exports.Current.index++);return Be(n.deps,t)&&(n.deps=t,n.callback=e,n.value=e()),n.value}function We(e,t){return Me(function(){return e},t)}function Ne(e,t,n){De(function(){return se(e)?(e(t()),function(){return e(null)}):fe(e)?void 0:(e.current=t(),function(){delete e.current})},le(n)?n.concat([e]):void 0)}function Fe(e){var t=e.context,n=t.emitter;if(null===n)return t._defaultValue;var r=ye(exports.Current.index++);return fe(r.context)&&(r.context=!0,r.component=exports.Current.current,n.on(function(e){r.component&&(r.component._disable=!1,r.component.setState({}))})),n.value}function Ue(e){var t={emitter:null,_id:"__context_"+$t+++"__",_defaultValue:e};return{Provider:function(n){var r=t.emitter;r?r.set(n):t.emitter=new Vt(e)},context:t}}function Ve(t,n){if("object"!==e(t)&&"object"!==e(n))return t===n;if(null===t&&null===n)return!0;if(null===t||null===n)return!1;if(qt(t,n))return!0;var r=t?Object.keys(t):[],o=n?Object.keys(n):[];if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++){var a=r[i];if(!n.hasOwnProperty(a)||!qt(t[a],n[a]))return!1}return!0}function $e(e,t){return e.prototype.shouldComponentUpdate=function(e){return se(t)?!t(this.props,e):!Ve(this.props,e)},e}var qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(t,n){if("object"!==e(t)||null===t)throw new TypeError("bad obj");n=Object(n);for(var r=Object.keys(n),o=[],i=0;i<r.length;i++)o.push([r[i],function(t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return"function"==typeof e}if("object"!==e(t)||null===t)throw new TypeError("bad desc");var o={};if(n(t,"enumerable")&&(o.enumerable=!!t.enumerable),n(t,"configurable")&&(o.configurable=!!t.configurable),n(t,"value")&&(o.value=t.value),n(t,"writable")&&(o.writable=!!t.writable),n(t,"get")){var i=t.get;if(!r(i)&&void 0!==i)throw new TypeError("bad get");o.get=i}if(n(t,"set")){var a=t.set;if(!r(a)&&void 0!==a)throw new TypeError("bad set");o.set=a}if(("get"in o||"set"in o)&&("value"in o||"writable"in o))throw new TypeError("identity-confused descriptor");return o}(n[r[i]])]);for(i=0;i<o.length;i++)Object.defineProperty(t,o[i][0],o[i][1]);return t});var He=function e(n){t(this,e),this.state={},this.props=n||{}},Qe="Expected a function",Ge="__lodash_hash_undefined__",ze="[object Function]",Ke="[object GeneratorFunction]",Ye="[object Symbol]",Je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ze=/^\w*$/,Xe=/^\./,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,rt=/\\(\\)?/g,ot=/^\[object .+?Constructor\]$/,it="object"===("undefined"==typeof global?"undefined":e(global))&&global&&global.Object===Object&&global,at="object"===("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,ct=it||at||Function("return this")(),ut=9007199254740991,st=/^(?:0|[1-9]\d*)$/,ft=Array.prototype,lt=Function.prototype,pt=Object.prototype,dt=ct["__core-js_shared__"],ht=function(){var e=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),gt=lt.toString,yt=pt.hasOwnProperty,vt=pt.toString,bt=RegExp("^"+gt.call(yt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=ct.Symbol,xt=ft.splice,St=B(ct,"Map"),_t=B(Object,"create"),Ct=mt?mt.prototype:void 0,wt=Ct?Ct.toString:void 0;S.prototype.clear=function(){this.__data__=_t?_t(null):{}},S.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},S.prototype.get=function(e){var t=this.__data__;if(_t){var n=t[e];return n===Ge?void 0:n}return yt.call(t,e)?t[e]:void 0},S.prototype.has=function(e){var t=this.__data__;return _t?void 0!==t[e]:yt.call(t,e)},S.prototype.set=function(e,t){return this.__data__[e]=_t&&void 0===t?Ge:t,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(e){var t=this.__data__,n=w(t,e);return!(n<0||(n==t.length-1?t.pop():xt.call(t,n,1),0))},_.prototype.get=function(e){var t=this.__data__,n=w(t,e);return n<0?void 0:t[n][1]},_.prototype.has=function(e){return w(this.__data__,e)>-1},_.prototype.set=function(e,t){var n=this.__data__,r=w(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new S,map:new(St||_),string:new S}},C.prototype.delete=function(e){return I(this,e).delete(e)},C.prototype.get=function(e){return I(this,e).get(e)},C.prototype.has=function(e){return I(this,e).has(e)},C.prototype.set=function(e,t){return I(this,e).set(e,t),this};var At=L(function(e){e=V(e);var t=[];return Xe.test(e)&&t.push(""),e.replace(et,function(e,n,r,o){t.push(r?o.replace(rt,"$1"):n||e)}),t});L.Cache=C;var Pt=Array.isArray,yt=Object.prototype.hasOwnProperty,kt=/([A-Z])/g,Et={WEAPP:"WEAPP",WEB:"WEB",RN:"RN",SWAN:"SWAN",ALIPAY:"ALIPAY",QUICKAPP:"QUICKAPP",TT:"TT",QQ:"QQ",JD:"JD"},It=null,Bt=null,Tt=function(){function e(n){t(this,e),void 0!==n&&n.callbacks?this.callbacks=n.callbacks:this.callbacks={}}return r(e,[{key:"on",value:function(t,n,r){var o,i,a,c,u;if(!n)return this;for(t=t.split(e.eventSplitter),o=this.callbacks;i=t.shift();)(a=(u=o[i])?u.tail:{}).next=c={},a.context=r,a.callback=n,o[i]={tail:c,next:u?u.next:a};return this}},{key:"once",value:function(e,t,n){var r=this;return this.on(e,function o(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];t.apply(r,a),r.off(e,o,n)},n),this}},{key:"off",value:function(t,n,r){var o,i,a,c,u,s;if(!(i=this.callbacks))return this;if(!(t||n||r))return delete this.callbacks,this;for(t=t?t.split(e.eventSplitter):Object.keys(i);o=t.shift();)if(a=i[o],delete i[o],a&&(n||r))for(c=a.tail;(a=a.next)!==c;)u=a.callback,s=a.context,(n&&u!==n||r&&s!==r)&&this.on(o,u,s);return this}},{key:"trigger",value:function(t){var n,r,o,i,a;if(!(o=this.callbacks))return this;for(t=t.split(e.eventSplitter),a=[].slice.call(arguments,1);n=t.shift();)if(r=o[n])for(i=r.tail;(r=r.next)!==i;)r.callback.apply(r.context||this,a);return this}}]),e}();Tt.eventSplitter=/\s+/;var jt=function(e){function n(){var e,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t(this,n),r=h(this,(e=c(n)).call.apply(e,[this].concat(g(o)))),r.inited=!1,r}return a(n,p(Array)),r(n,[{key:"pushRefs",value:function(e){var t=this;this.inited||(e.forEach(function(e){return t.pushRef(e)}),this.inited=!0)}},{key:"pushRef",value:function(e){!this.find(function(t){return t.id===e.id})&&this.push(e)}}]),n}(),Ot=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t(this,e),this.index=o,this.requestParams=n,this.interceptors=r}return r(e,[{key:"proceed",value:function(e){if(this.requestParams=e,this.index>=this.interceptors.length)throw new Error("chain 参数错误, 请勿直接修改 request.chain");var t=this._getNextInterceptor()(this._getNextChain()),n=t.catch(function(e){return Promise.reject(e)});return"function"==typeof t.abort&&(n.abort=t.abort),n}},{key:"_getNextInterceptor",value:function(){return this.interceptors[this.index]}},{key:"_getNextChain",value:function(){return new e(this.requestParams,this.interceptors,this.index+1)}}]),e}(),Rt=function(){function e(n){t(this,e),this.taroInterceptor=n,this.chain=new Ot}return r(e,[{key:"request",value:function(e){var t=this;return this.chain.interceptors=this.chain.interceptors.filter(function(e){return e!==t.taroInterceptor}),this.chain.interceptors.push(this.taroInterceptor),this.chain.proceed(i({},e))}},{key:"addInterceptor",value:function(e){this.chain.interceptors.push(e)}},{key:"cleanInterceptors",value:function(){this.chain=new Ot}}]),e}(),Dt=Object.freeze({timeoutInterceptor:function(e){var t,n=e.requestParams,r=new Promise(function(r,o){var i=setTimeout(function(){i=null,o(new Error("网络链接超时,请稍后再试！"))},n&&n.timeout||6e4);(t=e.proceed(n)).then(function(e){i&&(clearTimeout(i),r(e))}).catch(function(e){i&&clearTimeout(i),o(e)})});return"function"==typeof t.abort&&(r.abort=t.abort),r},logInterceptor:function(e){var t=e.requestParams,n=t.method,r=t.data,o=t.url;console.log("http ".concat(n||"GET"," --\x3e ").concat(o," data: "),r);var i=e.proceed(t),a=i.then(function(e){return console.log("http <-- ".concat(o," result:"),e),e});return"function"==typeof i.abort&&(a.abort=i.abort),a}}),Lt={onSocketOpen:!0,onSocketError:!0,onSocketMessage:!0,onSocketClose:!0,onBackgroundAudioPlay:!0,onBackgroundAudioPause:!0,onBackgroundAudioStop:!0,onNetworkStatusChange:!0,onAccelerometerChange:!0,onCompassChange:!0,onBluetoothAdapterStateChange:!0,onBluetoothDeviceFound:!0,onBLEConnectionStateChange:!0,onBLECharacteristicValueChange:!0,onBeaconUpdate:!0,onBeaconServiceChange:!0,onUserCaptureScreen:!0,onHCEMessage:!0,onGetWifiList:!0,onWifiConnected:!0,offWifiConnected:!0,offGetWifiList:!0,onDeviceMotionChange:!0,setStorageSync:!0,getStorageSync:!0,getStorageInfoSync:!0,removeStorageSync:!0,clearStorageSync:!0,getSystemInfoSync:!0,getExtConfigSync:!0,getLogManager:!0,onMemoryWarning:!0,reportMonitor:!0,reportAnalytics:!0,navigateToSmartGameProgram:!0,getFileSystemManager:!0,getLaunchOptionsSync:!0,onPageNotFound:!0,onError:!0,onAppShow:!0,onAppHide:!0,offPageNotFound:!0,offError:!0,offAppShow:!0,offAppHide:!0,onAudioInterruptionEnd:!0,onAudioInterruptionBegin:!0,onLocationChange:!0,offLocationChange:!0},Mt={stopRecord:!0,getRecorderManager:!0,pauseVoice:!0,stopVoice:!0,pauseBackgroundAudio:!0,stopBackgroundAudio:!0,getBackgroundAudioManager:!0,createAudioContext:!0,createInnerAudioContext:!0,createVideoContext:!0,createCameraContext:!0,createLivePlayerContext:!0,createLivePusherContext:!0,createMapContext:!0,canIUse:!0,startAccelerometer:!0,stopAccelerometer:!0,startCompass:!0,stopCompass:!0,hideToast:!0,hideLoading:!0,showNavigationBarLoading:!0,hideNavigationBarLoading:!0,createAnimation:!0,createSelectorQuery:!0,createOffscreenCanvas:!0,createCanvasContext:!0,drawCanvas:!0,hideKeyboard:!0,stopPullDownRefresh:!0,createIntersectionObserver:!0,nextTick:!0,getMenuButtonBoundingClientRect:!0,onWindowResize:!0,offWindowResize:!0,arrayBufferToBase64:!0,base64ToArrayBuffer:!0,getAccountInfoSync:!0,getUpdateManager:!0,createWorker:!0,createRewardedVideoAd:!0,createInterstitialAd:!0,getRealtimeLogManager:!0},Wt={uploadFile:!0,downloadFile:!0,connectSocket:!0,sendSocketMessage:!0,closeSocket:!0,chooseImage:!0,chooseMessageFile:!0,previewImage:!0,getImageInfo:!0,compressImage:!0,saveImageToPhotosAlbum:!0,startRecord:!0,playVoice:!0,setInnerAudioOption:!0,getAvailableAudioSources:!0,getBackgroundAudioPlayerState:!0,playBackgroundAudio:!0,seekBackgroundAudio:!0,chooseVideo:!0,saveVideoToPhotosAlbum:!0,loadFontFace:!0,saveFile:!0,getFileInfo:!0,getSavedFileList:!0,getSavedFileInfo:!0,removeSavedFile:!0,openDocument:!0,setStorage:!0,getStorage:!0,getStorageInfo:!0,removeStorage:!0,clearStorage:!0,navigateBack:!0,navigateTo:!0,redirectTo:!0,switchTab:!0,reLaunch:!0,startLocationUpdate:!0,startLocationUpdateBackground:!0,stopLocationUpdate:!0,getLocation:!0,chooseLocation:!0,openLocation:!0,getSystemInfo:!0,getNetworkType:!0,makePhoneCall:!0,scanCode:!0,setClipboardData:!0,getClipboardData:!0,openBluetoothAdapter:!0,closeBluetoothAdapter:!0,getBluetoothAdapterState:!0,startBluetoothDevicesDiscovery:!0,stopBluetoothDevicesDiscovery:!0,getBluetoothDevices:!0,getConnectedBluetoothDevices:!0,createBLEConnection:!0,closeBLEConnection:!0,getBLEDeviceServices:!0,getBLEDeviceCharacteristics:!0,readBLECharacteristicValue:!0,writeBLECharacteristicValue:!0,notifyBLECharacteristicValueChange:!0,startBeaconDiscovery:!0,stopBeaconDiscovery:!0,getBeacons:!0,setScreenBrightness:!0,getScreenBrightness:!0,setKeepScreenOn:!0,vibrateLong:!0,vibrateShort:!0,addPhoneContact:!0,getHCEState:!0,startHCE:!0,stopHCE:!0,sendHCEMessage:!0,startWifi:!0,stopWifi:!0,connectWifi:!0,getWifiList:!0,setWifiList:!0,getConnectedWifi:!0,startDeviceMotionListening:!0,stopDeviceMotionListening:!0,pageScrollTo:!0,showToast:!0,showLoading:!0,showModal:!0,showActionSheet:!0,setNavigationBarTitle:!0,setNavigationBarColor:!0,setTabBarBadge:!0,removeTabBarBadge:!0,showTabBarRedDot:!0,hideTabBarRedDot:!0,setTabBarStyle:!0,setTabBarItem:!0,showTabBar:!0,hideTabBar:!0,setTopBarText:!0,startPullDownRefresh:!0,canvasToTempFilePath:!0,canvasGetImageData:!0,canvasPutImageData:!0,setBackgroundColor:!0,setBackgroundTextStyle:!0,getSelectedTextRange:!0,hideHomeButton:!0,getExtConfig:!0,login:!0,checkSession:!0,authorize:!0,getUserInfo:!0,checkIsSupportFacialRecognition:!0,startFacialRecognitionVerify:!0,startFacialRecognitionVerifyAndUploadVideo:!0,faceVerifyForPay:!0,requestPayment:!0,showShareMenu:!0,hideShareMenu:!0,updateShareMenu:!0,getShareInfo:!0,chooseAddress:!0,addCard:!0,openCard:!0,openSetting:!0,getSetting:!0,getWeRunData:!0,navigateToMiniProgram:!0,navigateBackMiniProgram:!0,chooseInvoice:!0,chooseInvoiceTitle:!0,checkIsSupportSoterAuthentication:!0,startSoterAuthentication:!0,checkIsSoterEnrolledInDevice:!0,requestSubscribeMessage:!0,setEnableDebug:!0,getOpenUserInfo:!0,ocrIdCard:!0,ocrBankCard:!0,ocrDrivingLicense:!0,ocrVehicleLicense:!0,textReview:!0,textToAudio:!0,imageAudit:!0,advancedGeneralIdentify:!0,objectDetectIdentify:!0,carClassify:!0,dishClassify:!0,logoClassify:!0,animalClassify:!0,plantClassify:!0,setPageInfo:!0,getSwanId:!0,requestPolymerPayment:!0,navigateToSmartProgram:!0,navigateBackSmartProgram:!0,preloadSubPackage:!0},Nt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ft=!0;exports.Current={current:null,index:0};var Ut=[],Vt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.value=n,this.handlers=[]}return r(e,[{key:"on",value:function(e){this.handlers.push(e)}},{key:"off",value:function(e){this.handlers=this.handlers.filter(function(t){return t!==e})}},{key:"set",value:function(e){var t=this;ue(e,this.value)||(this.value=e,this.handlers.forEach(function(e){return e(t.value)}))}}]),e}(),$t=0,qt=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t};exports.eventCenter=new Tt;var Ht={Component:He,Events:Tt,eventCenter:exports.eventCenter,getEnv:X,ENV_TYPE:Et,render:ne,internal_safe_get:G,internal_safe_set:z,internal_inline_style:Z,internal_get_original:te,internal_force_update:ge,noPromiseApis:Mt,onAndSyncApis:Lt,otherApis:Wt,initPxTransform:ce,createRef:re,commitAttachRef:oe,detachAllRef:ie,Link:Rt,interceptors:Dt,RefsArray:jt,handleLoopRef:ae,Current:exports.Current,useEffect:Re,useLayoutEffect:De,useReducer:Ie,useState:ve,useDidShow:me,useDidHide:xe,usePullDownRefresh:Se,useReachBottom:_e,usePageScroll:Ce,useResize:we,useShareAppMessage:Ae,useTabItemTap:Pe,useRouter:ke,useScope:Ee,useRef:Le,useCallback:We,useMemo:Me,useImperativeHandle:Ne,invokeEffects:Te,useContext:Fe,createContext:Ue,memo:$e,getIsUsingDiff:de,setIsUsingDiff:he};exports.Component=He,exports.Events=Tt,exports.getEnv=X,exports.ENV_TYPE=Et,exports.render=ne,exports.internal_safe_get=G,exports.internal_safe_set=z,exports.internal_inline_style=Z,exports.internal_get_original=te,exports.internal_force_update=ge,exports.noPromiseApis=Mt,exports.onAndSyncApis=Lt,exports.otherApis=Wt,exports.initPxTransform=ce,exports.createRef=re,exports.commitAttachRef=oe,exports.detachAllRef=ie,exports.Link=Rt,exports.interceptors=Dt,exports.RefsArray=jt,exports.handleLoopRef=ae,exports.useEffect=Re,exports.useLayoutEffect=De,exports.useReducer=Ie,exports.useState=ve,exports.useDidShow=me,exports.useDidHide=xe,exports.usePullDownRefresh=Se,exports.useReachBottom=_e,exports.usePageScroll=Ce,exports.useResize=we,exports.useShareAppMessage=Ae,exports.useTabItemTap=Pe,exports.useRouter=ke,exports.useScope=Ee,exports.useRef=Le,exports.useCallback=We,exports.useMemo=Me,exports.useImperativeHandle=Ne,exports.invokeEffects=Te,exports.useContext=Fe,exports.createContext=Ue,exports.memo=$e,exports.getIsUsingDiff=de,exports.setIsUsingDiff=he,exports.default=Ht; 
 			}); 
		define("pages/taro/npm/@tarojs/taro/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";module.exports=require("./dist/index.js").default,module.exports.default=module.exports; 
 			}); 
		define("pages/taro/npm/classnames/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function o(){for(var t=[],r=0;r<arguments.length;r++){var f=arguments[r];if(f){var i=void 0===f?"undefined":e(f);if("string"===i||"number"===i)t.push(f);else if(Array.isArray(f)&&f.length){var u=o.apply(null,f);u&&t.push(u)}else if("object"===i)for(var l in f)n.call(f,l)&&f[l]&&t.push(l)}}return t.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof module&&module.exports?(o.default=o,module.exports=o):"function"==typeof define&&"object"===e(define.amd)&&define.amd?define("classnames",[],function(){return o}):window.classNames=o}(); 
 			}); 
		define("pages/taro/utils/format.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatIcons=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i={},c={1:"titleIcons",2:"underTitleIcons",3:"priceIcons",4:"underPriceIcons",5:"underCoverIcons",6:"floatingIcons",7:"beforePriceIcons",8:"bottomImageIcons",9:"footIcons"};return t&&t.length?t.forEach(function(e){var r=c[e];r&&(i[r]=[])}):Object.keys(c).forEach(function(e){var r=c[e];r&&(i[r]=[])}),o.forEach(function(r){var o=r.type,t=r.tpl,s=i[c[o]];if(s){var u=e.ICONS_TPL[t];if(u){var a=!0,f=Object.assign({},r),l=["url1","url2"],v=["urlsize1","urlsize2"];u.forEach(function(e){if(r[e]){if(!["8","9"].includes(o)&&l.includes(e)){var t=l.indexOf(e),i=r[v[t]],c=(0,n.parseImgUrl)(r[e],i);c?f[e]=c:a=!1}}else a=!1}),a&&s.push(f)}}}),(0,r._extends)({},i)},exports.formatPrice=function(e){var r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Number(e).toFixed(2):Number(e).toString()).split(".");return{intPrice:r[0],floatPrice:r[1]||""}};var e=require("../constant/icons-tpl.js"),r=require("../common.js"),n=require("./util.js"); 
 			}); 
		define("pages/taro/utils/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./var.js");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./report-pps.js");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./report-ptag.js");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var u=require("./report-speed.js");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return u[e]}})});var n=require("./util.js");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return n[e]}})});var o=require("./format.js");Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return o[e]}})}); 
 			}); 
		define("pages/taro/utils/report-pps.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reportPps=function(t,s){if(t){var o={pps:(0,r.decode)(t)};s&&(o.type=s),(0,e.request)({method:"GET",url:"https://wq.jd.com/mcoss/rpds/report",data:o,priority:"REPORT"}).then(function(){console.log("pps 点击上报成功")}).catch(function(){console.warn("pps 点击上报失败")})}};var e=require("../base/request.weapp.js"),r=require("./util.js"); 
 			}); 
		define("pages/taro/utils/report-ptag.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addPtagBatchExposure=function(e){e&&(Array.isArray(e)?r=r.concat(e.filter(function(e){return!!e})):r.push(e),t())},exports.clearPtagList=function(){r=[]},exports.addPtag=function(){e.ReportManager.addPtag.apply(e.ReportManager,arguments)};var e=require("../base/report_manager.weapp.js"),r=[],t=(0,require("./util.js").throttleTail)(function(){var t=r.splice(0,60);t.length&&e.ReportManager.addPtagExposure(t.join("_"),{click_type:1})},300); 
 			}); 
		define("pages/taro/utils/report-speed.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSpeed=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1737";r=new e.Speed(t)},exports.markSpeed=function(e){Number.isNaN(+e)||r&&r.mark(e)},exports.getSpeed=function(e){if(!Number.isNaN(+e))return r?r.get(e):void 0},exports.reportSpeed=function(){r&&r.report()};var e=require("../base/fe_report.weapp.js"),r=null; 
 			}); 
		define("pages/taro/utils/util.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){if("string"!=typeof e)return"";if(0===e.indexOf("data:image")&&-1!=e.indexOf("base64"))return e;if(/\.gif/i.test(e))return e;if(!/jfs\//.test(e)||!/(m|img\d{2})\.360buyimg\.com/.test(e)||!/\.(jpg|jpeg|png|webp)/.test(e))return e;var n="!cc_"+t+"x"+r;return/!cc_(\d)+x(\d)+/.test(e)?e=e.replace(/!cc_(\d)+x(\d)+/,n):e.endsWith(".webp")?e=""+(e=e.replace(/(.*).webp/,"$1"))+n+".webp":e+=n,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=function(e){try{return decodeURIComponent(e)}catch(t){return e}},exports.compareVersion=function(e,t){for(var r=e.split("."),n=t.split("."),a=Math.max(r.length,n.length);r.length<a;)r.push("0");for(;n.length<a;)n.push("0");for(var o=0;o<a;o++){var i=parseInt(r[o]),u=parseInt(n[o]);if(i>u)return 1;if(i<u)return-1}return 0},exports.getImgUrl=function(e,r,a,o){if(e){var i=(e=e.toLowerCase()).match(/((?:(?!(jpg|jpeg|png|webp|gif)).)*(jpg|jpeg|png|webp|gif))/);e=i&&i[0]||e;var u=void 0;return u=n.default.JD.img.getImgUrl(e,r,a),o&&(u=t(u,r,a)),u}},exports.parseImgUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){if(a[e])return a[e];var o=t?/(\d+)x(\d+)/:/s(\d+)x(\d+)_jfs/,i=t?t.match(o):e.match(o);if(i){var u=+i[1],p=+i[2];if(u&&p){var f={src:e,width:n?r.default.pxTransform(u):u,height:n?r.default.pxTransform(p):p};return a[e]=f,f}}}},exports.addUrlParam=function(e,t){var r={};for(var a in t)t.hasOwnProperty(a)&&void 0!==t[a]&&(r[a]=t[a]);return n.default.JD.url.addUrlParam(e,r)},exports.getRealPx=function(e){var t=void 0;return t=r.default.getSystemInfoSync().windowWidth,Math.floor(e*t/750)},exports.throttle=function(e,t){var r=0;return function(){var n=Date.now();if(!(n-r<t))return r=n,e.apply(this,arguments)}},exports.throttleTail=function(e,t){var r=Date.now(),n=null;return function(){var a=this,o=Date.now(),i=arguments;o-r<t&&n&&clearTimeout(n),n=setTimeout(function(){n=null,e.apply(a,i)},t),r=o}};var r=e(require("../npm/@tarojs/taro-weapp/index.js")),n=e(require("../base/wxcontext.weapp.js")),a={}; 
 			}); 
		define("pages/taro/utils/var.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.scene=exports.events=void 0;var t=e(require("../npm/@tarojs/taro-weapp/index.js")),n=e(require("../base/wxcontext.weapp.js"));exports.events={on:function(){var e;return(e=t.default.getApp().event).on.apply(e,arguments)},once:function(){var e;return(e=t.default.getApp().event).once.apply(e,arguments)},off:function(){var e;return(e=t.default.getApp().event).off.apply(e,arguments)},trigger:function(){var e;return(e=t.default.getApp().event).emit.apply(e,arguments)}},exports.scene=function(){var e=n.default.JD.device.scene;return"mobile"===e||"jdm"===e?e="m":"weixin"===e&&"1"===n.default.JD.cookie.get("wxapp_type")&&(e="gwwxapp"),e}(); 
 			}); 
		define("app.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r.default=e,r}function r(e){return e&&e.__esModule?e:{default:e}}var o=r(require("./global.js"));require("./common/polyfill.js");var t=require("./common/report/report"),n=r(require("./common/checkForUpdate.js")),i=e(require("./common/localStorage.js")),s=require("./common/report/device.js"),a=require("./api/Ptag/v.js"),p=r(require("./libs/emitter")),u=require("./common/http_access"),c=r(require("./common/recovery/init.js")),l=e(require("./common/cookie-v2/cookie.js")),f=e(require("./common/user_info.js")),d=e(require("./common/login/login.js")),m=e(require("./common/request/plugins/dispatcher")),h=e(require("./common/utils.js")),g=require("./common/buildVersion"),w=require("./common/request/request.js"),y=r(require("./common/report/memory.js")),q=require("./common/global_config.js"),v=r(require("./api/JDReport/weixinAppReport.js")),S=require("./common/biz.js"),x=require("./common/fe_report/usability"),b=require("./common/navigator"),C=require("./common/visitkey"),A=require("./api/Ptag/report_manager.js");wx.$=o.default,wx.isXCX=!0,wx.$request=w.request,App({systemInfo:{},networkType:"wifi",webpSupport:!1,firstOnShow:!0,userInfo:{},scene:"",referrerInfo:{},wxacode:{},indexTips:{path:"",text:""},wxAppName:"jd",isWXSearchScene:!1,version:"6.5.300",appId:"wx91d27dbf599dff74",appKey:"2286f36a57a36d3a2a6a2b953a4946e7",debug:require("./common/debug.js").debug,monitorInfo:{appLaunch:"",appShow:"",appHide:""},onLaunch:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("App onLaunch"),h.handleQueryScene(r.query),l.setCookie({data:{buildtime:g.VERSION_BUILD_TIME,wxapp_type:1,wxapp_version:this.version,wxapp_scene:r.scene||""},defaultExpires:!0}),(0,C.checkVisitKey)(),i.checkAndClearAllIfNeeded(),(0,q.globalConfigInit)(),r.query&&/^(http|httpDirect|ws)$/.test(r.query.debugChannel)&&m.setDebugChannel(r.query.debugChannel),d.getLoginPromise({mode:"silent"}).then(function(){e.userInfo=f.gUserData(),(0,q.globalConfigGet)("promise").then(function(e){t.Report.reportPromiseErr=!!+(e.default&&e.default.promiseErrReport||0)})}),f.initUserData(),(0,a.initAppReport)(),s.reportDevice.call(this),y.default.call(this),wx.getNetworkType({success:function(r){e.networkType=r.networkType}}),wx.onNetworkStatusChange&&wx.onNetworkStatusChange(function(r){e.networkType=r.networkType}),wx.getSystemInfo({success:function(r){var o=r.platform,t=r.SDKVersion;e.webpSupport="android"==o||"devtools"==o,e.bRenderCb=t>="1.5.0",e.systemInfo=r,e.systemInfo.isQB&&(l.setCookie({data:{wxapp_type:5},defaultExpires:!0}),m.setDebugChannel("http"))}}),this.scene=r.scene||"",this.monitorInfo.appLaunch=(new Date).getTime()},onShow:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("============App onShow"),console.log("App onShow 参数: ",r),h.handleQueryScene(r.query),(0,c.default)(),l.setCookie({data:{wxapp_scene:r.scene||""},defaultExpires:!0}),1036==r.scene?(console.log("app分享参数:"),console.log(r),"pages/item/detail/detail"===r.path&&r.query.sku&&(this.isAppShare={status:!0,sku:r.query.sku,isAppBarClosed:!1,isCommentAskGuideClosed:!1,fromJdapp:r.referrerInfo&&"wxe75a2e68877315fb"==r.referrerInfo.appId,fromJxapp:r.referrerInfo&&"wx2c49e82e87e57ff0"==r.referrerInfo.appId},this.event.on("appBarClosed",function(){e.isAppShare.isAppBarClosed=!0}),this.event.on("commentAskGuideClosed",function(){e.isAppShare.isCommentAskGuideClosed=!0}))):this.isAppShare={status:!1,fromJxapp:!1},(this.scene!=r.scene||r.query&&(r.query.EA_PTAG||r.query.ea_ptag))&&(this.EA_PTAG=r.query?r.query.EA_PTAG||r.query.ea_ptag||"":""),this.referrerInfo=r.referrerInfo||{},this.scene=r.scene||this.scene||"",r&&r.scene&&v.default.setScene(r.scene),this.monitorInfo.appShow=(new Date).getTime();var o=["1000","1005","1042","1053","1055"];if(this.scene&&o.indexOf(""+this.scene)>=0?this.isWXSearchScene=!0:this.isWXSearchScene=!1,(0,n.default)(),this.firstOnShow)return setTimeout(function(){e.firstOnShow=!1},2e3),!0;(0,q.globalConfigUpdate)(),-1!=[1038,1037].indexOf(r.scene)&&f.getUserInfo(function(e,r){0==e?console.log("frontend update account success"):console.warn("frontend update account fail")}),f.initUserData(),(0,S.notifyCartRefresh)()},onHide:function(){console.log("App onHide"),i.checkAndClearExpired(),this.monitorInfo.appHide=(new Date).getTime();var e=A.ReportManager.getMonitorInfo();e.monitor_type="app",A.ReportManager.appHideReport(e)},onError:function(e){var r=(0,q.getCustomGlobalConfig)().usabilityReportStartTimestamp;if(r&&new Date-new Date(r)<0)return console.warn("当前webmonitor服务负载过重，badjs上报中止"),!1;console.log("app内错误信息上报",e.replace(/(\r\n|\r|\n)+/g," "));var o=this.systemInfo,t=o.SDKVersion,n=void 0===t?"":t,i=o.version,s=void 0===i?"":i,a=o.platform,p=void 0===a?"":a;if("devtools"==p)return!1;for(var c=["getStorage:fail","getStorageSync:fail","Callback was already called"],l=0,f=c.length;l<f;l++){var d=c[l];if(-1!=e.indexOf(d))return}var m=getCurrentPages(),h=m&&m.length&&m[m.length-1]&&m[m.length-1].__route__||"(can not get path)",g=[this.version+"("+this.wxAppName+")","path="+h,"sdk="+n,"wx="+s,"platform="+p].join("&");wx.$request({url:u.errorLog.url,method:"POST",data:u.errorLog.getData({url:"APP",errCode:"-1",errMsg:e.replace(/(\r\n|\r|\n)+/g," "),responseTime:"-1",page:"pages/index/index",env:g}),channel:"http-direct",priority:"REPORT"}).then(function(e){var r=e.body;r&&1==r.status&&(0,q.updateCustomGlobalConfig)({updateUsabilityStatus:!0})})},onPageNotFound:function(e){var r=e.path,o=void 0===r?"":r,t=e.query,n=void 0===t?{}:t,i=e.isEntryPage,s=void 0!==i&&i;(0,x.umpBiz)({bizid:777,operation:108,result:0,message:"url="+o+"?query="+JSON.stringify(n)+"&isEntryPage="+s}),(0,b.onGotoFail)()},event:new p.default(void 0)}),wx.JD=require("./common/JD.js").default; 
 			}); 	require("app.js");
 		__wxRoute = 'common/dialog/dialog';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'common/dialog/dialog.js';	define("common/dialog/dialog.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";new(require("../../bases/component.js").JDComponent)({properties:{show:{type:Boolean,value:!1},title:{type:String,value:""},cancelText:{type:String,value:"取消"},confirmText:{type:String,value:"确认"},cancelTextColor:{type:String,value:"#333333"},confirmTextColor:{type:String,value:"#E93B3D"},showClose:{type:Boolean,value:!1},showCancel:{type:Boolean,value:!1},enableCancel:{type:Boolean,value:!0},enableConfirm:{type:Boolean,value:!0},moreButtons:{type:Array,value:[]},dialogContentStyle:{type:String,value:""}},data:{showBottomMask:!1},methods:{_cancelTap:function(){this.setData({show:!1}),this.triggerEvent("dialogcancel")},_confirmTap:function(){this.setData({show:!1}),this.triggerEvent("dialogconfirm")},_moreButtonTap:function(t){var e=t.currentTarget.dataset.index;this.setData({show:!1}),this.triggerEvent("dialogmorebtnstap",e)},_closeTap:function(){this.setData({show:!1}),this.triggerEvent("dialogclosebtntap")},_showMask:function(){var t=this,e=this.createSelectorQuery().in(this).select(".dialog_content");e&&e.boundingClientRect(function(e){e&&e.height>=220&&t.setData({showBottomMask:!0})}).exec()}},ready:function(){this._showMask()}}); 
 			}); 	require("common/dialog/dialog.js");
 		__wxRoute = 'components/add-wxapp-entry/add-wxapp-entry';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/add-wxapp-entry/add-wxapp-entry.js';	define("components/add-wxapp-entry/add-wxapp-entry.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}var a=require("../../bases/component.js"),e=t(require("./model")),s=t(require("./util")),o=getApp();new a.JDComponent({options:{},properties:{type:{type:String,value:"capsule"},onShowTimestamp:{type:String,value:"",observer:function(t,a){t&&this.initData()}},onHideTimestamp:{type:String,value:"",observer:function(t,a){t&&this.data&&this.data.t&&(clearTimeout(this.data.t),this.setData({t:null}))}},navHeight:{type:Number,value:0},bannerBgPlan:{type:Number,value:0}},data:{addWxappData:{},showtype:0,taskone:{taskstatus:0,amount:0},tasktwo:{taskstatus:0,amount:0},system:0,totleAward:0,getAward:0,t:null,isWidth0:!1,ppmsData:{}},observers:{},lifetimes:{created:function(){},attached:function(){},ready:function(){}},pageLifetimes:{show:function(){},hide:function(){}},methods:{initData:function(){var t=this,a=this;e.getPPMSConfig().then(function(t){a.setData({ppmsData:t})});var n=o.systemInfo&&o.systemInfo.system;n=/ios/i.test(n)?0:1,a.setData({system:n}),e.queryaddminiprogram(o.scene,"pages/index/index"==s.currentPageUrl()?1:0,a.data&&a.data.system).then(function(e){if(e&&0==e.errcode){if(a.setData(Object.assign(e.data,{isWidth0:!1})),console.log("setdata============",a.data),a.data){var o=0;a.data.taskone&&3!=a.data.taskone.taskstatus&&a.data.taskone.amount&&(o+=a.data.taskone.amount),a.data.tasktwo&&3!=a.data.tasktwo.taskstatus&&a.data.tasktwo.amount&&(o+=a.data.tasktwo.amount),o&&t.setData({totleAward:o});var n=0;a.data.taskone&&2==a.data.taskone.taskstatus&&a.data.taskone.amount&&(n+=a.data.taskone.amount),a.data.tasktwo&&2==a.data.tasktwo.taskstatus&&a.data.tasktwo.amount&&(n+=a.data.tasktwo.amount),n&&t.setData({getAward:n})}a.data&&"capsule"==a.data.type&&a.data.showtype&&(a.data.t&&(clearTimeout(a.data.t),a.setData({t:null})),a.setData({t:setTimeout(function(){a.close()},1e4)})),a.data.showtype&&("pages/index/index"==s.currentPageUrl()?a.$report("138489.3.1"):"pages/my/index/index"==s.currentPageUrl()?a.$report("138489.3.3"):"pages/order/detail/detail"==s.currentPageUrl()&&a.$report("138489.3.5"))}else a.setData({showtype:0}),console.log("addwxapp fail",e)}).catch(function(t){a.setData({showtype:0}),console.log("addwxapp err",t)})},close:function(t){this.setData({isWidth0:!0}),this.data.t&&(clearTimeout(this.data.t),this.setData({t:null})),t&&e.showaddminiprogram(1)},entryAddWxapp:function(){this.data.t&&(clearTimeout(this.data.t),this.setData({t:null})),this.setData({showtype:0,addWxappData:{showtype:this.data.showtype,taskone:this.data.taskone,tasktwo:this.data.tasktwo}}),"pages/index/index"==s.currentPageUrl()?this.$report("138489.3.2"):"pages/my/index/index"==s.currentPageUrl()?this.$report("138489.3.4"):"pages/order/detail/detail"==s.currentPageUrl()&&this.$report("138489.3.6")}}}); 
 			}); 	require("components/add-wxapp-entry/add-wxapp-entry.js");
 		__wxRoute = 'components/add-wxapp/add-wxapp';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/add-wxapp/add-wxapp.js';	define("components/add-wxapp/add-wxapp.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../bases/component.js"),a=function(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s]);return a.default=t,a}(require("./model")),s=getApp();new t.JDComponent({options:{},properties:{addWxappData:{type:Object,value:{showtype:0,taskone:{taskstatus:0,amount:0},tasktwo:{taskstatus:0,amount:0}},observer:function(t,s){t&&t.showtype&&(a.showaddminiprogram(0),wx.hideTabBar(),3==t.showtype?this.$report("138489.3.7"):this.$report("138489.3.8"),t.taskone&&3!=t.taskone.taskstatus&&t.tasktwo&&3==t.tasktwo.taskstatus?this.$report("138489.3.9"):t.taskone&&3==t.taskone.taskstatus&&t.tasktwo&&3!=t.tasktwo.taskstatus?this.$report("138489.3.10"):this.$report("138489.3.11"));var e=0;t.taskone&&3!=t.taskone.taskstatus&&t.taskone.amount&&(e+=t.taskone.amount),t.tasktwo&&3!=t.tasktwo.taskstatus&&t.tasktwo.amount&&(e+=t.tasktwo.amount),e&&this.setData({totleAward:e})}},navHeight:{type:Number,value:0}},data:{system:"",totleAward:0},lifetimes:{created:function(){},attached:function(){var t=s.systemInfo&&s.systemInfo.system;t=/ios/i.test(t)?"ios":"android",this.setData({system:t})}},methods:{close:function(t){t.target&&t.target.dataset&&t.target.dataset.type&&"closetarget"==t.target.dataset.type&&(wx.showTabBar(),this.setData({addWxappData:{}}))},preventTouchMove:function(){}}}); 
 			}); 	require("components/add-wxapp/add-wxapp.js");
 		__wxRoute = 'components/address-layer/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/address-layer/index.js';	define("components/address-layer/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},r=require("../../bases/component"),a=require("../../common/cookie-v2/cookie"),t=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r}(require("../../common/user_info")),o=require("./addr-layer"),s=require("./addr-picker"),i=require("./api");new r.JDComponent({behaviors:[o.addrLayer,s.addrPicker],options:{pureDataPattern:/^__/},properties:{title:{type:String,value:"配送至"},adid:String,areaid:String,addressList:{type:Array,value:[]},showAddressLayerFlag:{type:Boolean,value:!1,observer:"observeFlagChange"},isUpdateCookie:{type:Boolean,value:!0},filterProvinceIds:{type:Array,value:[]},allAreaBtnStartLevel:{type:Number,value:0},showOverseaTabBar:{type:Boolean,value:!1},isDIYLayout:{type:Boolean,value:!1},showBack:{type:Boolean,value:!1},showClose:{type:Boolean,value:!0},loadAddressList:{type:Boolean,value:!1}},data:{isShowAddrLayer:!1,isShowAddrPicker:!1,showAnim:!1},methods:{observeFlagChange:function(e){if(e){var r=this.data,a=r.addressList,t=r.areaid;r.loadAddressList||a&&a.length?this.showAddrLayer(a):this.showAddrPicker(t)}else this.setData({isShowAddrLayer:!1,isShowAddrPicker:!1,showAnim:!1}),this.resetAddrPicker(),this.resetAddrLayer()},complete:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.apiSave=0,!this.data.isUpdateCookie||!r.areaId||!r.areaName)return console.info("addr",r),this.triggerEvent("switchAddress",r),void this.close();t.updateAddress(r);var o=(0,a.getCookie)("wq_addr");(0,i.reportAddr)(o).then(function(a){a&&(r.apiSave=1),console.info("addr",r),e.triggerEvent("switchAddress",r),e.close()})},close:function(){var e=this;this.setData({showAnim:!1}),setTimeout(function(){e.triggerEvent("closeAddress",{hasChanged:e.hasAddrChanged}),e.hasAddrChanged=!1,e.setData({isShowAddrLayer:!1,isShowAddrPicker:!1}),e.resetAddrPicker(),e.resetAddrLayer()},100)},onCloseTap:function(){this.hasAddrChanged=!1,this.close()},_getDataSet:function(r){return e({},r.currentTarget&&r.currentTarget.dataset,r.target&&r.target.dataset,r.detail,r)},noscroll:function(){}}}); 
 			}); 	require("components/address-layer/index.js");
 		__wxRoute = 'components/bonus-header-down/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/bonus-header-down/index.js';	define("components/bonus-header-down/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../common/wqvue/indexv1.2").WqComponent)(e.default,"bonus-header-down"); 
 			}); 	require("components/bonus-header-down/index.js");
 		__wxRoute = 'components/bottom-widget/bottom-widget';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/bottom-widget/bottom-widget.js';	define("components/bottom-widget/bottom-widget.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},e=function(){function t(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=require("../../bases/component.js"),n=require("../../common/request/request"),o=require("../../common/fe_report/usability.js"),r=require("../../common/utils"),a=require("../../api/Ptag/Ptag_utils.js"),s=require("../../api/Ptag/report_manager"),l=require("../../common/url_utils");new i.JDComponent({options:{styleIsolation:"isolated"},properties:{bottomWidgetData:{type:Object,value:{}}},data:{isShowWidget:!1,longAddClass:"",iconAddClass:"",finalAddClass:""},lifetimes:{ready:function(){var t=this;this.timmer=setTimeout(function(){t.init()},2e3)},detached:function(){clearTimeout(this.timmer),clearTimeout(this.timmer2)}},methods:{init:function(){var i=this,n=this.properties.bottomWidgetData||{},a=n.exposePtag,l=n.isSkipAPI,g=n.version;if(!a)return console.error("【吸底组件】请传入曝光Ptag！"),!1;var u="";Promise.all([this.fetchPPMS(),this.fetchAPI(a,l)]).then(function(n){var a=e(n,2),c=a[0],m=a[1],d=c.data,p=m.ret,f=m.show;if(!l&&(0!=p||1!=f))return console.warn("【吸底组件】API接口不展示"),(0,o.umpBiz)({bizid:1466,operation:2,result:1,message:"API接口不展示：ret:"+p+" show:"+f}),!1;if(!(0,r.isType)(d,"Array")||0===d.length||"1"!==d[0].isShow)return console.warn("【吸底组件】PPMS为空或配置了不展示"),(0,o.umpBiz)({bizid:1466,operation:2,result:2,message:"PPMS为空或配置了不展示"}),!1;var h=Object.assign({},d[0],i.properties.bottomWidgetData),I=h.finalIconLink,P=h.leftIconLink,y=h.longImgLink,b=h.leftIconWidth,v=h.finalIconWidth,j=h.longImgWidth,A=h.leftIconHeight,z=h.finalIconHeight,k=h.longImgHeight,w=h.finalIconRight,q=h.bottom,H=h.right,L=h.zIndex,W=h.clickPtag,S=h.exposePtag,T=h.duration,C=h.jumpLink,x=[I,P,y].some(function(t){return!/\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(t)}),B=[W,S,C,L,T].some(function(t){return""===t||(0,r.isType)(t,"Undefined")}),M=!1,O={bottom:q,right:H,finalIconWidth:v,leftIconWidth:b,longImgWidth:j,leftIconHeight:A,finalIconHeight:z,longImgHeight:k,finalIconRight:w};for(var D in O)!(0,r.isType)(O[D],"Undefined")&&/^(-?\d)/g.test(O[D])||(M=!0),/\d$/g.test(O[D])&&(O[D]+="rpx");if(x||B||M)return console.warn("【吸底组件】isHasIllegalImageLink:"+x+" isHasEmptyValue:"+B+" isHasIllegalLengthUnit:"+M),(0,o.umpBiz)({bizid:1466,operation:2,result:3,message:"isHasIllegalImageLink:"+x+" isHasEmptyValue:"+B+" isHasIllegalLengthUnit:"+M}),!1;I=(0,r.getImg)(I),P=(0,r.getImg)(P),y=(0,r.getImg)(y);var U=O.leftIconWidth.split(/[0-9.]+/g)[1],E=O.leftIconWidth.split(/[a-zA-Z]+/g)[0]/2+U;"2.0"===g&&(u=O.longImgHeight),i.setData(t({isShowWidget:!0,finalIconLink:I,leftIconLink:P,longImgLink:y,clickPtag:W,exposePtag:S,zIndex:L,duration:T,jumpLink:C,longImgRight:E,containerHeight:u},O)),i.timmer2=setTimeout(function(){i.setData({longAddClass:"long-animation",iconAddClass:"icon-animation",finalAddClass:"final-animation"})},1e3*+T),s.ReportManager.addPtagExposure(S)}).catch(function(t){(0,o.umpBiz)({bizid:1466,operation:2,result:4,message:"【吸底组件】获取PPMS或调用后台接口失败"}),console.error("【吸底组件】获取PPMS或调用后台接口失败",t)})},longAnimationEnd:function(){this.setData({longAddClass:"display-none"})},fetchPPMS:function(){return n.request.get({url:"https://wq.360buyimg.com/data/ppms/js/ppms.pagev37282.json"}).then(function(t){return t.body})},fetchAPI:function(t,e){return e?Promise.resolve({}):n.request.get({url:"https://wq.jd.com/signup618/queryfloating",data:{source:t}}).then(function(t){var e=t.body,i=e.ret;return(0,o.umpBiz)({bizid:1466,operation:1,result:i,message:"成功"}),e}).catch(function(t){var e=t,i=t;return(0,r.isType)(t,"Object")&&(e=t.retCode||t.code||11111,i=t.message||t.retMsg||"未知错误"),(0,o.umpBiz)({bizid:1466,operation:1,result:e,message:i}),t})},jumpToBiz:function(){var t=this.data,e=t.jumpLink,i=t.clickPtag;/^(https|\/\/)/g.test(e)&&(e=(0,l.setUrlParamByObject)(e,{ptag:i})),a.PtagUtils.addPtag(i),this.$goto(e)}}}); 
 			}); 	require("components/bottom-widget/bottom-widget.js");
 		__wxRoute = 'components/bubble-message/bubble-message';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/bubble-message/bubble-message.js';	define("components/bubble-message/bubble-message.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){for(var e,i=arguments.length,s=Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];(e=console)[t].apply(e,["【气泡消息组件】"].concat(s))}function e(e,i){return(0,n.isType)(e,"Object")&&(0,n.isType)(i,"Object")?JSON.stringify(e)===JSON.stringify(i):(t("error","不是Object"),!1)}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},s=require("../../bases/component.js"),a=require("../../api/Ptag/Ptag_utils.js"),n=require("../../common/utils"),o=require("../../api/Ptag/report_manager"),r={zIndex:999,duration:3,title:"10元下单立减金",text:"恭喜您被红包砸中，下单立减10元！",buttonText:"点击领取",leftIconLink:"https://img12.360buyimg.com/img/s80x81_jfs/t1/127606/17/412/7380/5eb51586Ef16a72c8/5a136c72b4361d89.png",isShowButton:!0,isNeedTriangle:!1};new s.JDComponent({options:{styleIsolation:"isolated"},properties:{bubbleMessageData:{type:Object,value:{},observer:function(t,i){this.initDebounce||(this.initDebounce=(0,n.debounce)(this.init,1e3)),e(t,i)||this.initDebounce()}}},data:{isShowBubbleMessage:!1,addClass:""},lifetimes:{attached:function(){var t=this;this.initDebounce||(this.initDebounce=(0,n.debounce)(this.init,1e3));var e=(this.properties.bubbleMessageData||{}).isCustomShow;this.initDebounce(),e||(this.timmer1=setTimeout(function(){clearTimeout(t.timmer1),t.show()},2e3))},detached:function(){}},methods:{init:function(){var t=Object.assign({},r,this.properties.bubbleMessageData);this.setData(i({},t))},show:function(){var t=this,e=Object.assign({},r,this.properties.bubbleMessageData),i=e.duration,s=e.exposePtag;this.setData({isShowBubbleMessage:!0,addClass:"fade-in"}),this.timmer2=setTimeout(function(){clearTimeout(t.timmer2),t.hide()},1e3*i),s&&o.ReportManager.addPtagExposure(s)},hide:function(){this.setData({addClass:"fade-out"}),this.triggerEvent("triggerhide",{})},onClick:function(){var t=Object.assign({},r,this.properties.bubbleMessageData),e=t.isCustomClick,i=t.jumpLink,s=t.clickPtag;e?this.triggerEvent("triggerclick",{}):this.$goto(i),s&&a.PtagUtils.addPtag(s)}}}); 
 			}); 	require("components/bubble-message/bubble-message.js");
 		__wxRoute = 'components/canvas-share/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/canvas-share/index.js';	define("components/canvas-share/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../common/wqvue/indexv1.2").WqComponent)(e.default,"canvas-share"); 
 			}); 	require("components/canvas-share/index.js");
 		__wxRoute = 'components/horn/horn';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/horn/horn.js';	define("components/horn/horn.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}var a=require("../../bases/component.js"),e=t(require("./model")),n=require("../../common/timer-manage"),o=require("../../common/user_info.js"),i=require("../../common/fe_report/usability.js"),r=t(require("../../common/localStorage")),s=require("../../api/Ptag/report_manager"),d=getApp();new a.JDComponent({options:{pureDataPattern:/^_/},properties:{hornData:{type:Object,value:"",observer:function(t,a){var e=this;if(t){if(!this.data._route){var n=getCurrentPages().pop()||{};this.setData({_route:n.route||""})}this.data&&this.data._route&&r.get("horn_close_"+this.data._route).then(function(t){1!=t&&e.initData()}).catch(function(){e.initData()})}}}},data:{_route:"",isshow:0,showtype:0,countDown:[],_countDownTimer:null,_time:"",_endtime:"",discount:0,prizename:"",_jump_url:"",_isBindBack:0},observers:{},lifetimes:{created:function(){},attached:function(){},detached:function(){console.log("horn detached"),this.data&&1==this.data.isshow&&this.close()}},pageLifetimes:{hide:function(){console.log("horn hide"),this.data&&1==this.data.isshow&&this.close()}},methods:{initData:function(){var t=this;t.data.hornData&&0==t.data.hornData.ret&&0==t.data.hornData.type&&1==t.data.hornData.isshow&&t.data.hornData.discount>0?(t.setData({_endtime:t.data.hornData.endtime&&10==(t.data.hornData.endtime+"").length?1e3*Number(t.data.hornData.endtime):t.data.hornData.endtime,_time:t.data.hornData.time&&10==(t.data.hornData.time+"").length?1e3*Number(t.data.hornData.time):t.data.hornData.time,isshow:1,showtype:t.data.hornData.showtype,discount:t.data.hornData.discount,prizename:t.data.hornData.prizename,_jump_url:t.data.hornData.jump_url}),2==t.data.showtype&&t.data._time&&t.data._endtime&&t.data._endtime>t.data._time?(t.setData({_countDownTimer:(0,n.createInterval)(function(){t.formatCountDown(),t.setData({_time:Number(t.data._time)+1e3})},1e3)}),s.ReportManager.addPtagExposure(t.data.hornData.rd+".4")):1==t.data.showtype?(s.ReportManager.addPtagExposure(t.data.hornData.rd+".1"),1==t.data._isBindBack&&(t.setData({_isBindBack:0}),t.data.hornData.isbind&&t.draw())):t.close()):t.close()},close:function(t){t&&(1==this.showtype?this.$report(this.data.hornData.rd+".3"):this.$report(this.data.hornData.rd+".5"),this.data&&this.data._route&&r.set("horn_close_"+this.data._route,1,{expire:"1d"})),this.setData({isshow:0}),this.data._countDownTimer&&((0,n.stopInterval)(this.data._countDownTimer),this.setData({_countDownTimer:null}))},draw:function(t){var a=this;t&&a.$report(a.data.hornData.rd+".2"),new Promise(function(t){return t(a.data.hornData.isbind?e.draw(d.scene):"nobind")}).then(function(t){t&&0==t.ret&&t.discount>0&&t.time&&t.endtime&&t.endtime>t.time?(wx.showToast({icon:"none",title:t.errmsg||"领取成功，尽快去使用吧",duration:2e3}),s.ReportManager.addPtagExposure(a.data.hornData.rd+".4"),a.setData({showtype:2,_time:10==(t.time+"").length?1e3*Number(t.time):t.time,_endtime:10==(t.endtime+"").length?1e3*Number(t.endtime):t.endtime,discount:t.discount,prizename:t.prizename,_jump_url:t.jump_url,_countDownTimer:(0,n.createInterval)(function(){a.formatCountDown(),a.setData({_time:Number(a.data._time)+1e3})},1e3)})):!t||1e3!=t.ret&&"nobind"!=t?(wx.showToast({icon:"none",title:t&&t.errmsg||"不好意思，当前活动太火爆了，去逛逛吧",duration:2e3}),a.close()):(0,o.getUserInfo)(function(t,e){var n="";e&&0==e.retcode?n=1==e.definePin&&e.base&&3==e.base.accountType&&e.base.pinlist&&e.base.pinlist.split("|")[0]?"switch":"register":(0,i.umpBiz)({bizid:1446,operation:5,result:t,message:e&&e.msg}),a.setData({_isBindBack:1}),a.$goto("/pages/my_pages/accountv2/index",{title:n?"register"==n?"completeAccount":"switchAccount":"",returnUrl:encodeURIComponent(a.data._route),sceneid:encodeURIComponent("712194833"),ptag:encodeURIComponent("138268.6.32"),navBackType:"navigateBack"})})}).catch(function(){wx.showToast({icon:"none",title:"不好意思，当前活动太火爆了，去逛逛吧",duration:2e3}),a.close()})},formatCountDown:function(){var t=this.data._endtime-this.data._time;if(t<=0)return this.close(),!1;var a=parseInt(t/60/60/1e3);t-=60*(a=a>9?a:"0"+a)*60*1e3;var e=("0"+parseInt(t/60/1e3)).slice(-2);t-=60*e*1e3;var n=("0"+parseInt(t/1e3)).slice(-2);this.setData({countDown:[a,e,n]})},jump:function(){this.data._jump_url&&("/pages"==this.data._jump_url.slice(0,6)?this.$goto(this.data._jump_url,"navigateTo"):"pages"==this.data._jump_url.slice(0,5)&&this.$goto("/"+this.data._jump_url,"navigateTo"))}}}); 
 			}); 	require("components/horn/horn.js");
 		__wxRoute = 'components/jxapp-dl-entry/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/jxapp-dl-entry/index.js';	define("components/jxapp-dl-entry/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../bases/component.js"),n=require("../../common/biz.js"),t=require("../../common/utils"),o=require("../../common/request/request.js"),i=require("../../common/cookie-v2/cookie"),r=require("../../api/Ptag/report_manager"),a=require("../../api/Ptag/Ptag_utils"),c=function(e){return e&&e.__esModule?e:{default:e}}(require("../../libs/promise.min")),u=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(require("../../common/localStorage"));c.default.prototype.finally=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e(t))},function(t){return n.resolve(e(t))})},new e.JDComponent({data:{showBanner:!1,bannerPic:"",useConfig:null,accountType:100,curPageConfig:null},properties:{marginTop:{type:Number,value:0},marginBottom:{type:Number,value:0}},attached:function(){this.init()},pageLifetimes:{show:function(){this.init()}},methods:{init:function(){var e=this,t=getCurrentPages()||[],o=t.length>0?"/"+t[t.length-1].__route__:"";o&&(0,n.getPPMS)("36636").then(function(n){n&&n.length&&(n.some(function(n){if(n.pageUrl===o)return e.curPageConfig=n,!0}),e.curPageConfig&&e.getAccountType())}).catch(function(e){return console.error(e)})},getAccountType:function(){var e=this;this.checkAccountType().then(function(n){e.accountType=n.defaultFlag}).catch(function(n){e.accountType=100,e.hideBanner()}).finally(function(){u.get("jxapp_dl_close"+e.accountType).then(function(n){e.hideBanner()}).catch(function(n){e.dealByCondition()})})},dealByCondition:function(){var e=this,n=this.curPageConfig.condition;"all"==n?this.showBanner(this.curPageConfig):"new"==n&&this.checkAppNewLogin().then(function(n){1==n.isNewUser?e.showBanner(e.curPageConfig):e.hideBanner()}).catch(function(n){e.hideBanner()})},showBanner:function(e){var n=this;e.configs.some(function(e){if(e.accountType==n.accountType)return n.data.useConfig=e,!0}),this.data.useConfig&&this.data.useConfig.bannerPic?(this.setData({showBanner:!0,bannerPic:(0,t.getImg)(this.data.useConfig.bannerPic)}),r.ReportManager.addPtagExposure(this.data.useConfig.expouseRd)):this.hideBanner()},checkAccountType:function(){return new c.default(function(e,n){o.request.get({url:"https://wq.jd.com/pinbind/getpinflw",data:{source:2,sceneid:"221290216"},ump:{key:"wq.webmonitor.jxappdl.checkAccountType",bizId:"1323",opId:"3",errBizId:"1323",errOpId:"4",reportHook:function(e){return~[0,1001].indexOf(+e.errcode)?{code:0}:{code:e.errcode,message:e.errmsg}}}}).then(function(t){var o=t.body;t.header;0==o.errcode?e(o):n(o)}).catch(function(e){n(e)})})},checkAppNewLogin:function(){return new c.default(function(e,n){o.request.get({url:"https://wq.jd.com/pingou_api/CheckAppNewLogin",data:{platform:2==(0,i.getCookie)("wxapp_type")?9:4,source:"PersonalCenter"},ump:{key:"wq.webmonitor.jxappdl.CheckAppNewLogin",bizId:"1323",opId:"1",errBizId:"1323",errOpId:"2",reportHook:function(e){return~[0,2,10].indexOf(+e.recode)?{code:0}:{code:e.recode,message:e.errmsg}}}}).then(function(t){var o=t.body;t.header;0==o.recode?e(o):n(o)}).catch(function(e){n(e)})})},closeBanner:function(){a.PtagUtils.addPtag(this.data.useConfig.closeRd),this.hideBanner(),u.set("jxapp_dl_close"+this.accountType,!0,{expire:"7d"})},hideBanner:function(){this.data.useConfig=null,this.setData({showBanner:!1})},navToDlPage:function(){var e=this.data.useConfig,n=e.clickRd,o=e.url,i=o.startsWith("/pages/")?o:"/pages/h5/index?url="+encodeURIComponent((0,t.fixProtocol)(o));a.PtagUtils.addPtag(n),this.$goto(i)}}}); 
 			}); 	require("components/jxapp-dl-entry/index.js");
 		__wxRoute = 'components/launch-jdapp/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/launch-jdapp/index.js';	define("components/launch-jdapp/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../bases/component.js"),e=require("../../common/request/request.js"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(require("../../common/toast/toast.js")),r=function(t){return t&&t.__esModule?t:{default:t}}(require("../../api/Ptag/report_manager_wqvue")),i=require("./util");new t.JDComponent({data:{customerSwitch:!0,hidden:!0,cardTitle:"京东购物",cardImg:"https://img11.360buyimg.com/jdphoto/s420x336_jfs/t1/101747/30/7419/122044/5dfb4656E7c2df11c/e1e01a22a79273e3.png",sessionFromParam:""},properties:{activityId:{type:String,observer:function(){this.setCard()}},triggerLaunchErrorCount:{type:Number,value:0,observer:function(){this.data.customerSwitch?(this.setData({hidden:!1}),r.default.addPtagExposure("7658.5.1")):a.show({content:(0,i.getDownloadTip)()||"请至 APP STORE 或应用市场下载京东APP"})}},imkParam:{type:Object,value:{},observer:function(){this.setImkParam()}}},attached:function(){this.init()},methods:{init:function(){var t=this;i.getSwitchesPromise.then(function(e){e&&t.setData({customerSwitch:e.customerSwitch||!e.isShowLaunchEnterSwitch&&e.ylToCustomerServiceSwitch})})},setCard:function(){var t=this;this.data.activityId&&e.request.get({url:"//wq.360buyimg.com/data/ppms/js/ppms.pagev36866.json"}).then(function(e){var a=e.body;return a&&a.data&&a.data.length?a.data.filter(function(e){return e&&e.activityId==t.data.activityId})[0]:{}}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.cardTitle&&t.setData({cardTitle:e.cardTitle}),e.cardImg&&t.setData({cardImg:(0!=e.cardImg.indexOf("http")?"https:":"")+e.cardImg})})},setImkParam:function(){var t=this.data.imkParam;t.moduleName&&this.setData({sessionFromParam:(0,i.getImkParam)(t.moduleName,t)})},handleToastClose:function(){this.setData({hidden:!0}),r.default.addPtag("7658.5.3")},gotoCustomerCenter:function(t){r.default.addPtag("7658.5.2")}}}); 
 			}); 	require("components/launch-jdapp/index.js");
 		__wxRoute = 'components/launch-pgapp/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/launch-pgapp/index.js';	define("components/launch-pgapp/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../common/wqvue/indexv1.2").WqComponent)(e.default,"launch-pgapp"); 
 			}); 	require("components/launch-pgapp/index.js");
 		__wxRoute = 'components/login-layer/login-layer';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/login-layer/login-layer.js';	define("components/login-layer/login-layer.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../bases/component.js"),t=require("../../api/Ptag/Ptag_utils.js"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(require("../../common/localStorage")),n="2"===require("../../common/buildVersion").WXAPP_TYPE,a={OLD_LAYER:{EXPOSE_ALL:"7608.1.1",CLICK_CONFIRM:"7608.1.3",CLICK_CLOSE_LAYER:"7608.1.7"},NEW_LAYER:{EXPOSE_ALL:"7608.2.11",CLICK_WX:"7608.2.6",CLICK_ACCOUNT:"7608.2.8",CLICK_TEXT:"7608.2.10",CLICK_PROTOCOL:"7597.2.6",CLICK_CLOSE_LAYER:"7608.2.19"},WX_FROM_LAYER:{EXPOSE_USER_INFO:"7608.1.3",CLICK_USER_INFO_ALLOW:"7608.1.4",CLICK_USER_INFO_CANCEL:"7608.1.5",EXPOSE_PHONE_NUMBER:"7608.2.20",CLICK_PHONE_NUMBER_ALLOW:"7608.2.22",CLICK_PHONE_NUMBER_CANCEL:"7608.2.21"}};new e.JDComponent({options:{addGlobalClass:!0},properties:{loginLayerData:{type:Object,value:{hasImportLoginComponents:!0,isHideCloseLayerButton:!1,navBackType:"redirectTo",returnText:"继续购物",isShowLayer:!1,layerType:"auth",loginData:{},isFromUserInfoJS:!1},observer:function(e,t){var o=e.isHideCloseLayerButton,n=void 0!==o&&o,a=e.isShowLayer,i=void 0!==a&&a,r=e.layerType,s=void 0===r?"auth":r,L="auth"===s,C="login"===s;this.setData({isHideCloseLayerButton:n,isShowLayer:i,isShowAuthInfo:L,isShowLoginGuide:C})}}},data:{},lifetimes:{attached:function(){this.setData({IS_JING_XI_APP:n})},detached:function(){}},methods:{bindGetUserInfo:function(e){var n=e.detail,i=n.userInfo,r=n.rawData;i&&r?(t.PtagUtils.addPtag(a.WX_FROM_LAYER.CLICK_USER_INFO_ALLOW),getApp().event.emit("getUserInfoSuccess",e.detail),o.setSync("_LAST_AUTH_USER_INFO_SUCCESS_TIME_",Date.now(),{expire:"365d"})):(t.PtagUtils.addPtag(a.WX_FROM_LAYER.CLICK_USER_INFO_CANCEL),getApp().event.emit("getUserInfoFail","wx-layer cancel"))},bindGetPhoneNumber:function(e){var o=e.detail,n=o.iv,i=o.encryptedData,r=this.code;i&&n?this.gotoAccountV2Page({code:encodeURIComponent(r),iv:encodeURIComponent(n),encryptedData:encodeURIComponent(i)}):(t.PtagUtils.addPtag(a.WX_FROM_LAYER.CLICK_PHONE_NUMBER_CANCEL),getApp().event.emit("hideLoginGuideLayer"))},onAccountLogin:function(){t.PtagUtils.addPtag(a.NEW_LAYER.CLICK_ACCOUNT),this.gotoAccountV2Page({})},onTextLogin:function(){t.PtagUtils.addPtag(a.NEW_LAYER.CLICK_TEXT),this.gotoAccountV2Page({})},onGetPhoneNumber:function(){var e=this;wx.login({success:function(t){t&&t.code?e.code=t.code:console.error("@showLoginMask：wx.login fail 1")},fail:function(e){console.error("@showLoginMask：wx.login fail 2")}}),t.PtagUtils.addPtag(a.NEW_LAYER.CLICK_WX)},onGetUserInfo:function(){t.PtagUtils.addPtag(a.OLD_LAYER.CLICK_CONFIRM)},onCloseLayer:function(){var e=this.properties.loginLayerData||{},o=e.layerType;e.isHideCloseLayerButton||("auth"===o?(t.PtagUtils.addPtag(a.OLD_LAYER.CLICK_CLOSE_LAYER),getApp().event.emit("getUserInfoFail","jd-layer close")):(t.PtagUtils.addPtag(a.NEW_LAYER.CLICK_CLOSE_LAYER),getApp().event.emit("hideLoginGuideLayer")))},gotoAccountV2Page:function(e){var t=this.properties.loginLayerData||{},o=t.loginData,n=t.navBackType,a=t.returnText,i=getCurrentPages().pop().route;getApp().event.emit("hideLoginGuideLayer"),this.triggerEvent("getloginevent",{});var r=Object.assign({},{returnUrl:encodeURIComponent(i),sceneid:encodeURIComponent("621394760"),ptag:encodeURIComponent("138268.8.1"),loginData:o,force:1,navBackType:n,returnText:a},e);this.$goto("/pages/my_pages/accountv2/index",r)},gotoJDRegisterProtocol:function(){t.PtagUtils.addPtag(a.NEW_LAYER.CLICK_PROTOCOL),this.$goto("https://wqs.jd.com/my/bindpopupv2/register_protocal.shtml")},gotoJDPrivacyPolicy:function(){t.PtagUtils.addPtag(a.NEW_LAYER.CLICK_PROTOCOL),this.$goto("https://wqs.jd.com/my/bindpopupv2/policy.shtml")}}}); 
 			}); 	require("components/login-layer/login-layer.js");
 		__wxRoute = 'components/mp-behavior/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/mp-behavior/index.js';	define("components/mp-behavior/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Component({properties:{},data:{touchStartX:null,touchStartY:null,downTime:null,upTime:null,mouseMovePath:[],clientWidth:"",clientHeight:"",inTime:null,isJdAdClickReg:""},pageLifetimes:{show:function(){var t=this,e=/(http|https):\/\/(ccc\.x|ccc-x)\.jd\.com/;this.setData({isJdAdClickReg:e,inTime:(new Date).getTime()}),wx.getSystemInfo({success:function(e){var i=e.windowWidth,n=e.windowHeight;t.setData({clientWidth:i,clientHeight:n})}})}},methods:{touchStartFn:function(t){var e=this.getXY(t);e&&this.setData({touchStartX:e.x,touchStartY:e.y,downTime:(new Date).getTime()})},touchEndFn:function(t){this.setData({upTime:(new Date).getTime()}),this.clickFn(t)},moveFn:function(t){var e=this.data.mouseMovePath,i=this.getXY(t);i&&(e.length>400?(e.splice(1,1),e.push(i)):e.push(i),this.setData({mouseMovePath:e}))},clickFn:function(t){var e=this.data,i=e.mouseMovePath,n=e.upTime,h=e.downTime,a=e.inTime,s=e.clientWidth,c=e.clientHeight,o=[],u=this.getXY(t);if(u){for(var l=[],r=[],g=0,m=i.length<11?1:parseInt(i.length/11),d=0;d<10&&d<i.length;d++){var p=i[d*m],v=void 0;if(v=0==d?0:p.t-l[d-1],null==p)break;l.push(p.t),o.push([p.x,p.y,v>=9999?9999:v])}if(l.length>0){var T=u.t-l.pop();g=T>=9999?9999:T}else g=0;o.push([u.x,u.y,g]),o.unshift([i.length,n-h,n-a,s,c]),r=o.join("|"),this.triggerEvent("getHehavior",{behavior:r})}},getXY:function(t){try{return{x:parseInt(t.changedTouches[0].clientX),y:parseInt(t.changedTouches[0].clientY),t:(new Date).getTime()}}catch(t){}}}}); 
 			}); 	require("components/mp-behavior/index.js");
 		__wxRoute = 'components/nav-bar/nav-bar';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/nav-bar/nav-bar.js';	define("components/nav-bar/nav-bar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var t=require("../../bases/component.js"),a=require("../../common/navigator.js"),i=require("../../common/biz.js"),n=require("../../common/utils"),o=require("../../api/Ptag/Ptag_utils.js"),s=require("../../api/Ptag/report_manager"),r=e(require("../../common/cookie-v2/cookie")),u=e(require("../../common/localStorage")),l=require("./model"),g=require("../../common/request/request"),p=getApp(),c={EXPOSE_MENU:"7631.2.1",EXPOSE_BACK:"7631.2.2",EXPOSE_HOME:"7631.2.3",CLICK_MENU:"7631.1.1",CLICK_BACK:"7631.1.2",CLICK_HOME:"7631.1.3"},d=2==r.getCookie("wxapp_type"),h=[{name:"首页",url:d?"/pages/pingou/index/index":"/pages/index/index",img:"http://img14.360buyimg.com/jdphoto/jfs/t1/22282/31/11913/692/5c93804bE65f7cde1/4b7747ef481b2eb8.png"},{name:"我的京东",url:d?"/pages/pingou/account/index":"/pages/my/index/index",img:"http://img11.360buyimg.com/jdphoto/jfs/t1/21373/8/11995/720/5c938067Eb31c4270/123d60f06981484a.png"}],m=void 0;new t.JDComponent({options:{addGlobalClass:!0,pureDataPattern:/^_/},properties:{navBarData:{type:Object,value:{pageKey:"",capsuleType:"full",isShowCapsule:!0,isHalfCapsule:!1,isCustom:!1,title:"",navigationBarTextStyle:"black",backgroundValue:"rgba(255, 255, 255, 1)",backgroundRGB:"255, 255, 255",backgroundOpacity:"1.0",mainContentOpacity:"1.0",isCustomNavBack:!1,isCustomGoHome:!1},observer:function(e,t){var a=e.pageKey,i=e.capsuleType,o=e.isShowCapsule,s=e.isHalfCapsule,r=e.backgroundValue,u=e.backgroundRGB,l=e.backgroundOpacity,g=e.navigationBarTextStyle,p=e.isCustomCapsuleLeft,c=e.isCustomCapsuleRight,d=e.leftIconLink,h=e.rightIconLink;if(r&&r!==t.backgroundValue)this.setData({backgroundValue:r});else if(u&&u!==t.backgroundRGB||l&&l!==t.backgroundOpacity){var m=this.calculateRGBA(u,l);this.setData({backgroundValue:m})}if(g&&g!==t.navigationBarTextStyle){if(-1===["white","black"].indexOf(g))return;var f=g,C="white"===g?"rgba(0, 0, 0, 0.17)":"rgba(255, 255, 255, 0.6)",v="white"===g?"1rpx solid rgba(255, 255, 255, 0.22)":"1rpx solid rgba(0, 0, 0, 0.08)",M=s||["miniReturn","miniMenu"].indexOf(i)>-1?"":"background:"+C+";border:"+v+";";this.setData({forecolor:f,capsuleInjectStyle:M})}a&&a!==t.pageKey&&o&&this.updateMenuItems(a),((0,n.isType)(i,"String")&&i!==t.capsuleType||(0,n.isType)(o,"Boolean")&&o!==t.isShowCapsule||(0,n.isType)(s,"Boolean")&&s!==t.isHalfCapsule)&&this.updateConfig({isNeedReport:i||o}),p===t.isCustomCapsuleLeft&&d===t.leftIconLink||this.setData({isCustomCapsuleLeft:p,leftIconLink:d}),c===t.isCustomCapsuleRight&&h===t.rightIconLink||this.setData({isCustomCapsuleRight:c,rightIconLink:h})}}},data:{isSupportNav:!0,hasReturn:!1,isShowMenu:!1,isShowHorn:!1,hornData:{},statusBarHeight:"",containerHeight:"",navHeight:"",capsuleWidth:"",capsuleHeight:"",capsuleMarginLeft:"",hasMenu:!0,menuItems:[],backgroundValue:"rgba(255, 255, 255, 1)",mainContentOpacity:"1.0",forecolor:"black",capsuleInjectStyle:"background:rgba(255, 255, 255, 0.6);border:1rpx solid rgba(0, 0, 0, 0.08);",isShowBubbleMessage:!1,bubbleMessageData:{},isShowModal:!1,modalData:{}},lifetimes:{attached:function(){this.updateConfig({})},ready:function(){this.updateHornData("attached")}},pageLifetimes:{show:function(){this.updateConfig({}),this.updateHornData("show")},hide:function(){var e=getCurrentPages().pop();(0,n.isType)(e,"Object")&&(e._isHide=!0)}},methods:{updateConfig:function(e){var t=this,a=e.isNeedReport,i=void 0===a||a,o=e.isNeedRetry,r=void 0===o||o,u=this.properties.navBarData||{},l=u.pageKey,g=u.capsuleType,d=void 0===g?"full":g,h=u.isShowCapsule,m=u.isHalfCapsule,f=u.backgroundValue,C=u.backgroundRGB,v=u.backgroundOpacity,M=(this.data||{}).capsuleInjectStyle,b=getCurrentPages().length>1,y=p.systemInfo,I=y.statusBarHeight,x=y.screenWidth,S=y.version,w=y.platform,D=y.system,k=y.brand,P=y.model;if(r&&"Xiaomi"===k&&P.includes("MIX"))setTimeout(function(){t.updateConfig({isNeedRetry:!1})},100);else{try{var H=wx.getSystemInfoSync();I=H.statusBarHeight,x=H.screenWidth,S=H.version,w=H.platform,D=H.system}catch(e){console.error("<nav-bar>","wx.getSystemInfoSync()失败")}var T=this.compareVersion(S,"7.0.0")||"devtools"==w,_=/ios/i.test(D)?88:96,E=/ios/i.test(D)?7:10,B=/ios/i.test(D)?4:8,L=/ios/i.test(D)?44:48,O=I+L,R=E+.725*_-x/750*16,N=O-x/750*16,j=E+_,q=0,K=0,A=/ios/i.test(D)?34:32,G=_/2;h&&(d="full"),!h&&(0,n.isType)(h,"Boolean")&&(d="none"),m&&(d="miniReturn"),"full"===d?q=x-2*(_+E):["return","menu"].indexOf(d)>-1?(K=j-(G+E),q=x-(_+E)-(G+E),R=E+.5*G-x/750*16):["miniReturn","miniMenu"].indexOf(d)>-1?(M="padding-left: 4px",K=j-((G=x/750*40+8)+E),q=x-(_+E)-(G+E),R=E+4+20*x/750-8*x/750-2):(K=j,q=x-(_+E));var V=["full","menu","miniMenu"].indexOf(d)>-1;if(V&&this.updateMenuItems(l),T?this.triggerEvent("getnavinfo",{isSupportNav:T,navHeight:O,capsuleHeight:32,capsuleMarginTop:B,mainContentWidth:q,mainContentHeight:L,capsuleWidth:_,halfCapsuleWidth:G,capsuleMarginLeft:E}):this.triggerEvent("getnavinfo",{isSupportNav:T,navHeight:0,capsuleHeight:0,capsuleMarginTop:0,mainContentWidth:0,mainContentHeight:0,capsuleWidth:0,halfCapsuleWidth:0,capsuleMarginLeft:0}),"none"!==d&&i&&(s.ReportManager.addPtagExposure(c.EXPOSE_MENU),b?s.ReportManager.addPtagExposure(c.EXPOSE_BACK):s.ReportManager.addPtagExposure(c.EXPOSE_HOME)),f)this.setData({backgroundValue:f});else if(v){var W=this.calculateRGBA(C,v);this.setData({backgroundValue:W})}this.setData({hasReturn:b,statusBarHeight:I,containerHeight:L,navHeight:O,capsuleWidth:_,capsuleHeight:32,capsuleMarginLeft:E,capsuleMarginTop:B,halfCapsuleWidth:G,triangleLeft:R,triangleTop:N,isSupportNav:T,mainContentWidth:q,mainContentMargin:j,titlePaddingLeft:K,titleFontSize:A,capsuleType:d,capsuleInjectStyle:M,hasMenu:V})}},updateMenuItems:function(e){var t=this;m?this.setData({menuItems:this.getMenuItems(e,m)}):(0,i.getPPMS)("35846").then(function(a){m=a,t.setData({menuItems:t.getMenuItems(e,a)})}).catch(function(e){console.error("【顶部导航】PPMS配置异常1，请检查！",e),t.setData({menuItems:h})})},getMenuItems:function(e,t){var a=this;if(!t||!t.length||!e)return console.error("【顶部导航】PPMS配置异常2，请检查！",e,t),h;var i=null;return t.some(function(t){if(t.pageKey===e)return i=t,!0}),i&&i.navSets&&i.navSets.length?(i.navSets.forEach(function(e){e.img=a.utils.getImg(e.img)}),i.navSets.slice(0,8)):(console.error("【顶部导航】PPMS配置异常3，请检查！",i),h)},onClickLeft:function(){var e=this.properties.navBarData||{},t=e.isCustomNavBack,i=e.isCustomGoHome;if(e.isCustomCapsuleLeft)this.triggerEvent("clickleft",{});else if(this.data.hasReturn)t?this.triggerEvent("triggernavback",{}):wx.navigateBack(),o.PtagUtils.addPtag(c.CLICK_BACK);else if(i)this.triggerEvent("triggergohome",{});else{var n=d?"/pages/pingou/index/index":"/pages/index/index";(0,a.goto)(n),o.PtagUtils.addPtag(c.CLICK_HOME)}},onClickRight:function(){if((this.properties.navBarData||{}).isCustomCapsuleRight)this.triggerEvent("clickright",{});else{this.setData({isShowMenu:!this.data.isShowMenu}),o.PtagUtils.addPtag(c.CLICK_MENU);var e=(this.data||{}).menuItemsExposePtag;e&&s.ReportManager.addPtagExposure(e)}},onHideMenu:function(){this.setData({isShowMenu:!1})},onClickNav:function(e){var t=e.currentTarget.dataset,i=t.url,n=t.ptag;"getCoupon"===i?this.onClickGetCoupon():"myCoupon"===i?this.onClickMyCoupon():i&&(0,a.goto)(i),n&&o.PtagUtils.addPtag(n),this.setData({isShowMenu:!1})},compareVersion:function(e,t){e=e.split("."),t=t.split(".");for(var a=Math.max(e.length,t.length);e.length<a;)e.push("0");for(;t.length<a;)t.push("0");return 1e4*e[0]+100*e[1]+1*e[2]>=1e4*t[0]+100*t[1]+1*t[2]},calculateRGBA:function(e,t){return"rgba("+(e||"255, 255, 255")+", "+(t||"1.0")+")"},updateHornData:function(e){var t=this,a=r.getCookie("wxapp_scene");if(d)return!1;var i=p.systemInfo,o=i.version,s=i.platform;if(!(this.compareVersion(o,"7.0.0")||"devtools"==s))return!1;var g=!1,c=getCurrentPages().pop()||{};if((0,n.isType)(c,"Object")&&c._isHide&&(g=!0,c._isHide=!1),this.data._route||this.setData({_route:c.route||""}),"attached"===e||"show"===e&&g||"forced"===e)var h=setTimeout(function(){t.fetchPPMS("37334").then(function(e){if(!((0,n.isType)(e,"Array")&&e.length>0))return console.error("【顶部导航】PPMS配置异常8，请检查！",e);var i=e[0]||{},o=i.isAllowHorn,s=i.isAllowBubbleMessage,r=i.getMessageIcon,g=i.getMessageText,p=i.getMessageTitle,c=i.expireMessageIcon,d=i.expireMessageText,h=i.expireMessageTitle,m=i.getMenuItemIcon,f=i.getMenuItemText,C=i.hasMenuItemIcon,v=i.hasMenuItemText,M=i.bubbleMessageHowLong,b=i.bubbleMessageDuration;"1"==o&&(0,l.queryHorn)(a).then(function(e){var a=e||{},i=a.ret,o=a.type,l=a.isshow,y=a.showtype,I=a.prizetype,x=a.discount,S=a.endtime,w=a.prizename,D=a.rd,k=a.isbind;if(!(0==i&&"1"==l&&+y&&+x&&+I&&+k))return console.warn("【顶部导航】query接口返回不展示。ret:"+i+", showtype:"+y+", discount:"+x+", prizetype:"+I+", isbind:"+k),t.setData({isShowModal:!1,isShowHorn:!1,isShowBubbleMessage:!1}),void t.removeDIYMenuItem();var P=t.data||{},H=P.triangleLeft,T=P.navHeight,_=P.menuItems,E=P.capsuleType,B={},L={},O="",R=0==o&&1==l,N=1==o&&1==l&&"1"==s&&"0"!=y,j="full"===E,q=D||"138995.1";1==y?(B={leftIconLink:r,title:p.replace(/{discount}/g,x),text:g.replace(/{discount}/g,x),buttonText:"点击领取",isCustomClick:!0,isNeedTriangle:j,triangleLeft:H,top:T,duration:+b,exposePtag:q+".1",clickPtag:q+".2"},(_=t.removeDIYMenuItem()).unshift({url:"getCoupon",img:t.utils.getImg(m),name:f,ptag:q+".6"}),O=q+".5"):2==y?(!function(){var e=Date.now()/1e3;return M=+M,(0,n.isType)(M,"Number")&&!(0,n.isNaNPlus)(M)||(M=.5),3600*M>+S-e}()?N=!1:B={leftIconLink:c,title:h.replace(/{discount}/g,x),text:d.replace(/{discount}/g,x),buttonText:"点击了解",isCustomClick:!0,isNeedTriangle:j,triangleLeft:H,top:T,duration:+b,exposePtag:q+".3",clickPtag:q+".4"},L={type:"hasCoupon",title:"您已成功领券，去使用吧",prizeName:w,discount:x,timeText:(0,n.formatDate)(1e3*+S,"yyyy.MM.dd")+"到期"},(_=t.removeDIYMenuItem()).unshift({url:"myCoupon",img:t.utils.getImg(C),name:v,ptag:q+".8"}),O=q+".7"):0==y&&(_=t.removeDIYMenuItem()),u.get("nav_var_bubble_message_has_show_"+t.data._route,"").then(function(a){1==a&&(B={},N=!1,console.log("【顶部导航】气泡消息，已展示过。")),1!=a&&B.leftIconLink&&u.set("nav_var_bubble_message_has_show_"+t.data._route,1,{expire:"1d"}),t.setData({isShowHorn:R,isShowBubbleMessage:N,hornData:e,bubbleMessageData:B,showType:y,modalData:L,menuItems:_,menuItemsExposePtag:O})})}).catch(function(e){console.error("【顶部导航】queryHorn异常：",e)})}).catch(function(e){console.error("【顶部导航】PPMS配置异常9，请检查！",e)}),clearTimeout(h)},2e3)},onBubbleMessageClick:function(){var e=(this.data||{}).showType;"1"==e?this.getCoupon():"2"==e&&this.setData({isShowModal:!0})},getCoupon:function(){var e=this,t=r.getCookie("wxapp_scene");wx.showLoading({title:"正在领取..."}),(0,l.drawHorn)(t).then(function(t){wx.hideLoading();var a=t||{},i=a.ret,o=a.endtime,s=a.prizename,r=a.discount,u=a.prizetype;if(!(0==i&&s&&+r&&+o&&+u))return console.warn("【顶部导航】draw接口返回异常。ret:"+i+", endtime:"+o+", discount:"+r+", prizename:"+s+", , prizetype:"+u),e.setData({isShowModal:!0,modalData:{type:"error"},isShowHorn:!1,isShowBubbleMessage:!1}),void e.removeDIYMenuItem();e.setData({isShowModal:!0,modalData:{type:"success",title:"恭喜您，领取成功",prizeName:s,discount:r,timeText:(0,n.formatDate)(1e3*+o,"yyyy.MM.dd")+"到期",isNeedUpdateHornAfterModalClose:!0}}),e.removeDIYMenuItem()}).catch(function(e){console.error("【顶部导航】drawHorn异常：",e),wx.hideLoading()})},removeDIYMenuItem:function(){var e=(this.data||{}).menuItems;return(0,n.isType)(e,"Array")&&e.length>0&&["getCoupon","myCoupon"].indexOf(e[0].url)>-1&&e.shift(),this.setData({menuItems:e,menuItemsExposePtag:""}),e},onClickGetCoupon:function(){this.getCoupon()},onClickMyCoupon:function(){this.setData({isShowModal:!0})},onCloseModal:function(){this.setData({isShowModal:!1});var e=(this.data||{}).modalData;e&&e.isNeedUpdateHornAfterModalClose&&this.updateHornData("forced")},onBubbleMessageHide:function(){this.setData({bubbleMessageData:{}})},fetchPPMS:function(e){return g.request.get({url:"https://wq.360buyimg.com/data/ppms/js/ppms.pagev"+e+".json"}).then(function(e){var t=e.body;return t&&t.data})},jumpToMyCoupon:function(){this.onCloseModal(),this.$goto("/pages/my_pages/coupon/coupon")},jumpToHome:function(){this.onCloseModal();var e=d?"/pages/pingou/index/index":"/pages/index/index";this.$goto(e)},noop:function(){}}}); 
 			}); 	require("components/nav-bar/nav-bar.js");
 		__wxRoute = 'components/quick-clear/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/quick-clear/index.js';	define("components/quick-clear/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},e=require("../../bases/component.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(require("../../behaviors/attributes.js")),o=require("../../api/Ptag/report_manager.js"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(require("./api.js")),r=new(require("../../common/logger.js").Logger)("购物车-快速清理"),n=!1;new e.JDComponent({behaviors:[a.default],properties:{options:{type:Object,observer:"onShow"}},data:{loading:!0,hasError:!1,selections:{},groups:[],headerText:"",selectedNum:0,removedCnt:0,isTabCartPage:!1},attached:function(){var t=getCurrentPages()||[],e=t.length?t.pop().route:"";this.data.isTabCartPage="pages/cart/cart/index"===e},methods:{onShow:function(t){(t=t||{show:!1}).show?this.load():this.setData({loading:0})},load:function(){var e=this;this.setData({loading:1}),s.loadData().then(function(a){var o=a.clearcart,r=a.currentCount,n=a.maxCount,i=t({},o,{currentCount:r,maxCount:n});e.data.groups=s.groupBy(i),e.data.groups.forEach(function(t){e.data.selections[t.key]={}}),e.setData(Object.assign(e.data,{hasError:0,loading:0,headerText:e.data.groups.header})),e.exposureReport()}).catch(function(t){r.error(t),e.setData({loading:0,hasError:1}),t&&13==t.errId&&e.close({})})},exposureReport:function(){var t={noStock:"7014.29.15",oneYear:"7014.29.17",halfYear:"7014.29.19",oneMonth:"7014.29.21",inAMonth:"7014.29.22"};this.data.groups.map(function(t){return t.key}).forEach(function(e){var a=t[e];o.ReportManager.addPtagExposure(a)})},getSelections:function(t){var e=0,a=0,s=[],r={noStock:"7014.29.14",oneYear:"7014.29.16",halfYear:"7014.29.18",oneMonth:"7014.29.20",inAMonth:"7014.29.23"};return Object.values(this.data.selections).forEach(function(t){Object.entries(t).forEach(function(t){var e=t[0];t[1]&&(s.push(e),a++)})}),t&&(e=Object.values(this.data.selections[t]).filter(function(t){return t}).length)&&r[t]&&o.ReportManager.addPtagExposure(r[t]),{groupLen:e,groupsLen:a,skus:s}},selectAll:function(t){var e=t.currentTarget.dataset,a=e.selected,o=e.key,s=this.data.groups.find(function(t){return t.key===o}),r=this.data.groups.findIndex(function(t){return t.key===o}),n=this.data.selections[o],i=[],u={};s.products.forEach(function(t){var e=(4==t.itemType?t.suitId+"_":"")+t.skuId;n[e]=!a}),u["selections."+o]=n,i=this.getSelections(o),u["groups["+r+"].selections"]=i.groupLen,u.selectedNum=i.groupsLen,u["groups["+r+"].selected"]=!a,this.setData(u)},select:function(t){var e=t.currentTarget.dataset,a=e.selected,o=e.id,s=e.key,r=this.data.groups.find(function(t){return t.key===s}),n=this.data.groups.findIndex(function(t){return t.key===s}),i={},u=[];this.data.selections[s][o]=!a,i["selections."+s+"."+o]=!a,u=this.getSelections(s),i["groups["+n+"].selections"]=u.groupLen,i.selectedNum=u.groupsLen,i["groups["+n+"].selected"]=u.groupLen==r.totalNum,this.setData(i)},close:function(t){Object.assign(t,{needRefresh:n,removedCount:this.data.removedCnt}),this.triggerEvent("close",t),this.setData({groups:[],hasError:0,loading:0,selectedNum:0}),n=!1,this.data.removedCnt=0},clearSelections:function(){var t={headerText:"",selectedNum:0};this.getSelections().skus.forEach(function(e){var a=s.findById(e);a&&(t["groups."+a.groupName+"."+a.skuId]=!1)}),this.setData(t)},refresh:function(){this.setData({loading:1,hasError:0}),this.load()},removeSelections:function(t){var e=this,a=this.getSelections().skus,r=[];if(!a.length)return this.toast.show({icon:this.toast.ICON.WARNING,content:"请选择要删除的商品"});o.ReportManager.addPtagExposure("7014.29.24"),r=s.getRemoveParamsBySkus(a),this.setData({loading:1}),s.remove(r).then(function(r){e.data.groups=s.groupBy(r),e.data.selections={},e.data.groups.forEach(function(t){e.data.selections[t.key]={}}),n=!0,e.toast.show({icon:e.toast.ICON.SUCCESS,content:0===e.data.groups.totalNum?"删除成功":"删除成功，可继续清理"}),o.ReportManager.addPtagExposure("7014.29.27"),0===e.data.groups.totalNum?(e.close(Object.assign(t,{clearAll:!0})),e.setData({groups:[],hasError:0,loading:0,selectedNum:0})):(e.data.removedCnt+=a.length,e.setData(Object.assign(e.data,{hasError:0,loading:0,selectedNum:0,headerText:"已清理"+e.data.removedCnt+"件商品，可继续清理"})))}).catch(function(t){e.setData({loading:0}),e.toast.show({icon:e.toast.ICON.WARNING,content:"删除失败，请稍后再试"})})},add2Favorite:function(t){var e=this,a=this.getSelections().skus;if(!a.length)return this.toast.show({icon:this.toast.ICON.WARNING,content:"请选择要收藏的商品"});var i=s.getRemoveParamsBySkus(a),u=[];if(a.forEach(function(t){var e=s.findById(t);s.getSkusFromRawData(e).forEach(function(t){u.push({itemId:t})})}),u.length>40)return this.toast.show({icon:this.toast.ICON.WARNING,content:"一次收藏不能超过 40 个商品哦"});o.ReportManager.addPtagExposure("7014.29.25"),this.setData({loading:1}),s.add2Favorite(u,i).then(function(r){e.data.groups=s.groupBy(r),e.data.selections={},e.data.groups.forEach(function(t){e.data.selections[t.key]={}}),n=!0,0!==e.data.groups.totalNum&&e.toast.show({icon:e.toast.ICON.SUCCESS,content:0===e.data.groups.totalNum?"移入收藏成功":"移入收藏成功，可继续清理"}),o.ReportManager.addPtagExposure("7014.29.26"),0===e.data.groups.totalNum?(e.close(Object.assign(t,{clearAll:!0})),e.setData({groups:[],hasError:0,loading:0,selectedNum:0})):(e.data.removedCnt+=a.length,e.setData(Object.assign(e.data,{hasError:0,loading:0,selectedNum:0,headerText:"已清理"+e.data.removedCnt+"件商品，可继续清理"})))}).catch(function(t){r.error(t),e.setData({loading:0}),e.toast.show({icon:e.toast.ICON.WARNING,content:"收藏失败，请稍后再试"})})},noscroll:function(){}}}); 
 			}); 	require("components/quick-clear/index.js");
 		__wxRoute = 'components/quick-nav/quick-nav';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/quick-nav/quick-nav.js';	define("components/quick-nav/quick-nav.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../bases/component.js"),e=require("../../common/navigator.js"),a=require("../../common/biz.js");new t.JDComponent({properties:{bottom:{type:Number,value:100},wxappPageUrl:String},data:{showModule:!1,fold:!0,showMask:!1,navSets:[]},attached:function(){var t=this,e=this.properties.wxappPageUrl;e&&(0,a.getPPMS)("30728").then(function(a){if(a&&a.length){var o=null;a.some(function(t){if(t.pageName===e)return o=t,!0}),o&&o.navSets.length&&(o.navSets.forEach(function(e){e.wxappImg=t.utils.getImg(e.wxappImg)}),t.setData({showModule:!0,navSets:o.navSets}))}}).catch(function(t){return console.error(t)})},methods:{toggleStatus:function(){var t=this,e=this.data.fold,a={fold:!e};e?(this.setData({showMask:!0}),setTimeout(function(){t.setData(a)},100)):(this.setData(a),setTimeout(function(){t.setData({showMask:!1})},100))},navTo:function(t){var a=this;setTimeout(function(){return a.toggleStatus()},500),(0,e.goto)("/pages/h5/index",{url:t.currentTarget.dataset.tourl})}}}); 
 			}); 	require("components/quick-nav/quick-nav.js");
 		__wxRoute = 'components/recommend/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/recommend/index.js';	define("components/recommend/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},i=function(){function t(t,e){var i=[],s=!0,a=!1,r=void 0;try{for(var n,o=t[Symbol.iterator]();!(s=(n=o.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,r=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=require("../../bases/component.js"),a=require("../../common/logger.js"),r=t(require("utils")),n=t(require("../../common/biz")),o=t(require("../../common/toast/toast")),l=function(t){return t&&t.__esModule?t:{default:t}}(require("../../behaviors/attributes")),c=require("../../api/Ptag/Ptag_utils.js"),d=t(require("../../common/cookie-v2/cookie.js")),h=require("../../api/Ptag/report_manager"),g=t(require("../../common/url_utils")),u=require("./report"),p=new a.Logger("推荐/猜你喜欢组件");new s.JDComponent({behaviors:[l.default],properties:{options:{type:Object,value:{recommendId:"",skus:"",clkRd:"",moreRd:"",similarRd:"",dislikeRd:""},observer:"_onOptionsChange"},ppmsKey:{type:String,value:""},ignorScroll:{type:Boolean,value:!1}},data:{list:[],leftList:[],rightList:[],curMoreIndex:-1,loading:!1,error:!1,enableWaterfallFlow:!1,enableTopic:!1,enableKeyWord:!1,showHaitunGlobal:!1,iconList:{},viewLoaded:!1},attached:function(){var t=this;this.options={},this.config={loaded:!1},this.hasAddCart=!1,this.lastPageNum=-1,this.currentPageNum=0,this.listBuf=[],this.page=getCurrentPages().pop(),this.pageOnPageSrcoll=this.page?this.page.onPageScroll:null,this.screenHeight=667,this.listDiff={isLeftShort:!0,diffNum:1},this.setData({showHaitunGlobal:r.showHaitunGlobal()}),wx.getSystemInfo({success:function(e){t.screenHeight=e.screenHeight}}),this.pageUrl=this.page&&this.page.route?this.page.route:"",this.configKey=this.data&&this.data.ppmsKey?this.data.ppmsKey:this.pageUrl,!this.data.ignorScroll&&this.onPageScroll(),this.init()},detached:function(){this.intersectionObserver&&this.intersectionObserver.disconnect()},methods:{init:function(){var t=this;this.isLoading||(this.isLoading=!0,Promise.all([r.getConfig(this.configKey,this.pageUrl),r.getIconConfig()]).then(function(e){var s=i(e,2),a=s[0],r=s[1];t.isLoading=!1,Object.assign(t.config,a,{loaded:!0},{iconList:r||{}}),t.data.ignorScroll||t.pageOnPageSrcoll||!a.enable||"1"!=a.enablePagin||(p.error("使用猜你喜欢组件分页功能需要注册onPageScroll方法，若猜你喜欢组件在scroll-view内，则scroll-view的scroll事件需要绑定onPageScroll，详细文档可参考:http://git.jd.com/wxapp/wxapp/wikis/components/guess-you-like"),t.triggerEvent("bindScrollError")),t.load(t.config)}).catch(function(e){t.isLoading=!1,t.loadError(e),p.error(e)}))},load:function(t){if(!(!+t.enable||+t.pageSize<=0||!t.reclist||t.reclist&&0===t.reclist.length)){var i=d.getCookie("visitkey"),s=d.getCookie("jdpin"),a=!1;"1"==t.enableWaterfallFlow&&(+i.slice(i.length-2)<+t.grayPercent||t.whiteName.indexOf(s)>-1)&&(a=!0),"1"==t.isShowTopic&&(+i.slice(i.length-2)<+t.topicGrayPercent||t.topicGrayWhite.indexOf(s)>-1)&&(this.data.enableTopic=!0),1==t.isShowKeyword&&t.keyWords&&t.keyWords.length&&t.keyWordId&&(this.data.enableKeyWord=!0);var r={},n=[];t.markBtns&&t.markBtns.forEach(function(t){"看相似"==t.buttonText?r=t:"不喜欢"==t.buttonText&&(n[0]=t)}),this.setData({viewLoaded:!0,title:t.title,titleBg:this.data.options&&this.data.options.titleBg||"",enableAdd2Cart:t.enableAdd2Cart,similarBtn:r,markBtns:n,cornerMark:t.cornerMark,cwidth:t.cwidth||0,cheight:t.cheight||0,enableWaterfallFlow:a,plusImg:t.plusImg,iconList:t.iconList}),t.reclist.length>1?this._onRecommendDataReady():this._onOptionsChange(e({},this.data.options,{recommendId:t.reclist.pop().recid}))}},onPageScroll:function(){var t=this;this.page.onPageScroll=function(e){t.pageOnPageSrcoll&&t.pageOnPageSrcoll(e),t.onReachBottom()}},setLazyImg:function(){var t=this;if(this.pageOnPageSrcoll){var e=wx.createSelectorQuery(),i=e?e.in(this):null;i&&i.selectAll(".lazy").boundingClientRect(function(e){for(var i={},s=0;s<e.length;s++){var a=e[s],r=a.dataset,n=r.index,o=r.isleft,l=r.actualIndex;a.top<2*t.screenHeight&&(t.data.enableWaterfallFlow?1!=o||t.data.leftList[l].img?0!=o||t.data.rightList[l].img||(i["rightList["+l+"].img"]=t.listBuf[n].img):i["leftList["+l+"].img"]=t.listBuf[n].img:t.data.list[l].img||(i["list["+l+"].img"]=t.listBuf[n].img))}Object.keys(i).length>0&&t.setData(i)}).exec()}},onReachBottom:function(){var t=this,e=this.config,i=e.enable,s=e.enablePagin,a=e.pageCount;if(e.loaded){if(!this.isLoading&&i&&s&&this.currentPageNum<a&&this.lastPageNum!=this.currentPageNum&&!this.data.error){var r=wx.createSelectorQuery(),n=r?r.in(this):null;if(this.data.enableWaterfallFlow){var o=n?n.selectAll(".last"):null;o&&o.boundingClientRect(function(e){if(e.length>=2){var i=e[0].bottom<e[1].bottom?e[0]:e[1];if(i&&i.top<1.5*t.screenHeight){var s=Math.abs(e[0].bottom-e[1].bottom),a=e[0].left<e[1].left?e[0]:e[1];t.listDiff={isLeftShort:a==i,diffNum:Math.ceil(s/245)},t.getMoreData()}}}).exec()}else{var l=n?n.select(".last"):null;l&&l.boundingClientRect(function(e){e&&e.top<1.5*t.screenHeight&&t.getMoreData()}).exec()}}}else this.init()},_onRecommendDataReady:function(){this.triggerEvent("ready",{recList:this.config.reclist})},_onOptionsChange:function(t,e){this.hasAddCart?this.hasAddCart=!1:(this.options=t||{},!this.config&&(this.config={loaded:!1}),this.getMoreData())},_render:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(this.listDiff={isLeftShort:!0,diffNum:1},this.listBuf=[]),this.data.enableWaterfallFlow){var s=[],a=[];t.forEach(function(t,i){var r=t.isTopic||t.isKeyWord?Object.assign(t,{index:e.listBuf.length+i}):{index:e.listBuf.length+i,dpicon:t.dpicon,hasClsDoublePrice:t.hasClsDoublePrice,icon:t.icon,img:t.img,jp:t.jp,paicon:t.paicon,prom:t.prom,psp:t.psp,sku:t.sku,jpnonshow:t.jpnonshow,presellyd:t.presellyd,reserve:t.reserve,source:t.source,t:t.t,tip:t.tips&&t.tips.length>0?t.tips[0].v:""};i<e.listDiff.diffNum?e.listDiff.isLeftShort?s.push(r):a.push(r):e.listDiff.isLeftShort&&(i-e.listDiff.diffNum)%2==0||!e.listDiff.isLeftShort&&(i-e.listDiff.diffNum)%2!=0?a.push(r):s.push(r)}),this.setData({leftList:i?s:this.data.leftList.concat(s),rightList:i?a:this.data.rightList.concat(a)},function(){e.triggerEvent("afterrender",{currentPageNum:e.currentPageNum})})}else{var r=[];t.forEach(function(t,i){var s=t.isTopic||t.isKeyWord?Object.assign(t,{index:e.listBuf.length+i}):{index:e.listBuf.length+i,dpicon:t.dpicon,hasClsDoublePrice:t.hasClsDoublePrice,icon:t.icon,img:t.img,jp:t.jp,paicon:t.paicon,prom:t.prom,psp:t.psp,sku:t.sku,jpnonshow:t.jpnonshow,presellyd:t.presellyd,reserve:t.reserve,source:t.source,t:t.t,tip:t.tips&&t.tips.length>0?t.tips[0].v:""};r.push(s)}),this.setData({list:i?r:this.data.list.concat(r)},function(){e.triggerEvent("afterrender",{currentPageNum:e.currentPageNum})})}this.listBuf=this.listBuf.concat(t);var n=this.config.impr;h.ReportManager.guessyouLikeReport({impr:n}),this.skuIntersectionObserver()},getMoreData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.config,a=s.loaded,n=s.enable,o=s.enablePagin,l=s.pageCount,c=s.pageSize,d=s.topicIndex;if(!(this.isLoading||!a||!this.options.recommendId||"0"==n||"1"==o&&+l<=0||+c<=0||this.lastPageNum==this.currentPageNum&&!e)&&(0==this.currentPageNum||"1"==o&&(this.currentPageNum<l||e))){var g={pi:e?1:this.currentPageNum+1,pc:+c+(o?0:10),recpos:this.options.recommendId,skus:this.options.skus||""};this.isLoading=!0,this._showLoading(!0),this.lastPageNum=e?-1:this.currentPageNum,Promise.all([r.getRecommendList(g,this.data.enableWaterfallFlow),this.getTopic(e),this.getKeyWords(e)]).then(function(s){var a=i(s,2),r=a[0];a[1];Object.assign(t.config,{impr:r.impr,skus:g.skus,recpos:g.recpos}),e&&(t.currentPageNum=0),t.currentPageNum++,t.currentPageNum!=l&&"1"==o||t._showLoading(!1);var n=r.list.splice(0,+c);if(n.length>=d&&t.topic&&(!t.isAddTopic||e)&&(n.splice(d-1,0,t.topic),t.isAddTopic=!0,h.ReportManager.addPtagExposure("138433.1.1")),t.keyWordsIndex&&t.keyWordsIndex.length&&t.keyWordMap){var u=e?0:t.listBuf.length;t.keyWordsIndex.forEach(function(e,i){var s=0==u?+e:+e-u;if(s>0&&n.length>=s){var a=t.keyWordMap[e]||{};n.splice(s-1,0,{isKeyWord:!0,title:a.title||"",keyIndex:e,list:a.list||""}),a.rd&&h.ReportManager.addPtagExposure(a.rd),t.keyWordsIndex=t.keyWordsIndex.slice(i+1)}})}t._render(n,e),"1"==o&&1==t.currentPageNum&&n.length<=4&&t.getMoreData(),t.isLoading=!1,t.triggerEvent("loadsuccess",{currentPageNum:t.currentPageNum,data:n})}).catch(function(e){t.isLoading=!1,t.lastPageNum=-1,p.error(e),t.setData({loading:!1,error:!0}),t.loadError(e)})}},loadError:function(t){var e=this.config,i=e.enablePagin,s=e.pageCount,a=e.pageSize;this.triggerEvent("loaderror",{error:t,config:{currentPageNum:this.currentPageNum,enablePagin:i,pageCount:s,pageSize:a}})},getTopic:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!this.data.enableTopic||this.isLoadTopic&&!e?Promise.resolve(null):r.getRecommendTopic().then(function(e){return t.isLoadTopic=!0,t.topic=e,Promise.resolve(null)})},getKeyWords:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.data.enableKeyWord&&(!this.isLoadKeyWord||i)){var s=0,a=this.config,n=a.keyWords,o=a.keyWordId;return n.forEach(function(t){s+=+t.num}),r.getKeyWors({count:s,ruleid:o}).then(function(i){var s=i.words,a=i.ppsMap;return t.isLoadKeyWord=!0,t.keyWordMap={},t.keyWordsIndex=[],t.ppsMap=a,n.forEach(function(i){var a=i.num||0;if(+a>0){var r=s.slice(0,+a);r&&r.length&&(t.keyWordMap[i.index]=e({},i,{list:r}),t.keyWordsIndex.push(i.index)),s=s.slice(+a)}}),Promise.resolve(null)})}return Promise.resolve(null)},gotoDetails:function(t){var e=t.currentTarget.dataset.index,i=this.listBuf[e];if(i.isTopic)this.$goto("/pages/h5/index",{url:g.addUrlParam("https://wq.jd.com/webportal/channel/theme_page",{PTAG:"138433.1.1",count:2,sceneid:1,pps:i.pps,themeid:i.themeid,skus:i.skus})});else{var s=i.sku,a=i.img,r=i.t,n=i.jp,o=i.pps,l=i.paicon,c=i.icon;this._onClick(t),(0,u.report)(u.REPORT_ACTION.CLICK,i,this.options);var d=this.data&&this.data.options&&this.data.options.clkRd?this.data.options.clkRd:this.config&&this.config.rd?this.config.rd:"";this.$gotoItem({name:r,sku:s,cover:a,price:n/100,pps:o,ptag:d||""},{isPingou:"6"==l,isJx:11==c})}},add2Cart:function(t){var e=this,i=t.currentTarget.dataset.index,s=this.listBuf[i],a=s.sku,r="gyl_sku_"+a;this.hasAddCart=!0,this._onClick(t),(0,u.report)(u.REPORT_ACTION.CLICK,s,this.options),wx.showLoading({title:"正在加入购物车…",mask:!0}),n.addCart({skuId:a,buyNum:1,notifyCartRefresh:!1}).then(function(i){wx.hideLoading(),o.show({icon:o.ICON.SUCCESS,content:"成功加入购物车"}),e.triggerEvent("afteraddcart",Object.assign(t.detail,{success:!0,domId:r,skuId:a}))}).catch(function(i){wx.hideLoading(),o.show({icon:o.ICON.ERROR,content:i,duration:2e3}),e.triggerEvent("afteraddcart",Object.assign(t.detail,{success:!1,domId:r,skuId:a}))})},onMoreBtnTap:function(t){var e=t.currentTarget.dataset.index,i=this.data&&this.data.options&&this.data.options.moreRd?this.data.options.moreRd:this.config&&this.config.morePtag?this.config.morePtag:"";i&&c.PtagUtils.addPtag(i),this.setData({curMoreIndex:e})},onSimilarBtmTap:function(t){var e=(this.data.options||{}).similarRd,i=void 0===e?"":e,s=t.currentTarget.dataset,a=s.sku,r=(s.price/100).toFixed(2),n=i||(this.data.similarBtn||{}).ptag;n&&c.PtagUtils.addPtag(n),this.$goto("/pages/h5/index",{url:"https://wqs.jd.com/search/searchsimilar.shtml?sku="+a+"&jp="+r+"&ptag="+n+"&sceneid=19"})},onMoreMarkTap:function(t){var e=this,i=t.target.dataset,s=i.type,a=i.isleft,n=i.ptag,o=t.currentTarget.dataset,l=o.index,d=o.actualIndex,h=(this.data.options||{}).dislikeRd,g=void 0===h?"":h;switch(s){case"dislike":var p=this.listBuf[l],f=g||n;f&&c.PtagUtils.addPtag(f);var m={curMoreIndex:-1};p&&(0,u.report)(u.REPORT_ACTION.DISLIKE,p,Object.assign({},this.options,{fbr:20,dislikeType:"dislike",dislikeRd:f})),this.data.enableWaterfallFlow?(1==a&&this.data.leftList.find(function(t,i){return t.index==l&&(e.data.leftList.splice(i,1),m.leftList=e.data.leftList),t.index==l}),0==a&&this.data.rightList.find(function(t,i){return t.index==l&&(e.data.rightList.splice(i,1),m.rightList=e.data.rightList),t.index==l})):(this.data.list.splice(d,1),r.setClsDoublePrice(this.data.list),m.list=this.data.list),this.setData(m,function(){e.onReachBottom()});break;case"close":this.setData({curMoreIndex:-1})}},onKeyWordTap:function(t){var e=this._getDataSet(t),i=e.keyIndex,s=e.wordid,a=i?this.keyWordMap[i]:"";if(a&&a.list&&a.list.find(function(t){return t.wordid==s})||""){var r=a.list.find(function(t){return t.wordid==s});this.$goto("/pages/search/list/list",{key:r.word,pps:this.ppsMap?this.ppsMap[r.wordid]:"",ptag:a.clkRd||""})}},refresh:function(){(this.config||{}).loaded?this.getMoreData(!0):this.init()},onRetry:function(t){this.setData({error:!1}),this.getMoreData()},_onClick:function(t){this.triggerEvent("click",t)},_showSkuPanel:function(t){},_showLoading:function(t){this.data.loading!=t&&this.setData({loading:t})},skuIntersectionObserver:function(){var t=this;this.createIntersectionObserver&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=this.createIntersectionObserver({observeAll:!0,thresholds:[.5],initialRatio:0}),this.intersectionObserver.relativeToViewport({top:0,bottom:0}).observe(".mod_recommend_list_item",function(e){var i=null;e.intersectionRatio>.5&&e.dataset&&t.listBuf[+e.dataset.index]&&(i=t.listBuf[+e.dataset.index]),i&&(0,u.report)(u.REPORT_ACTION.EXPOSURE,i,t.options)}))},onImageLoadError:function(t){var e=this._getDataSet(t),i=e.actualIndex,s=e.index,a=e.isleft,r=this.listBuf[s];if(r&&!r.imgLoaded){var n=r.img,o=[10,11,12,13,14,20,30],l=((parseInt(n.substr(n.lastIndexOf("/")+1,8),36)||0)+1)%o.length;r.img=n.replace(/(\/\/img)\d{1,2}(\.360buyimg\.com)/,"$1"+o[l]+"$2"),r.imgLoaded=!0;var c={};c[(this.data.enableWaterfallFlow?1==a?"leftList":"rightList":"list")+"["+i+"].img"]=r.img,this.setData(c)}},bubble:function(t){},doAction:function(t){var i=e({},t.currentTarget.dataset,t.target.dataset).action;this[i]&&this[i](t)},_getDataSet:function(t){return e({},t.currentTarget.dataset,t.target.dataset,t.detail)}}}); 
 			}); 	require("components/recommend/index.js");
 		__wxRoute = 'components/return-wxapp/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/return-wxapp/index.js';	define("components/return-wxapp/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){return t&&t.__esModule?t:{default:t}}var e=require("../../bases/component.js"),n=t(require("../../common/wxcontext")),i=require("../../common/biz"),a=t(require("../../api/Ptag/report_manager_wqvue")),r=getApp(),o={EXP_RETURN_BTN:"138957.1.1",CLICK_RETURN_BTN:"138957.1.2",EXP_RETURN_SUCCESS:"138957.1.3",EXP_RETURN_FAIL:"138957.1.4"};new e.JDComponent({data:{hidden:!0,tip:""},properties:{appidTipObj:{type:Object},bottom:{type:String,value:"220rpx"},source:{type:String,value:"unknow"},showInJdXcx:{type:Boolean,value:!0},showInJxXcx:{type:Boolean,value:!1}},attached:function(){this.init()},pageLifetimes:{hide:function(){this.setData({hidden:!0})},show:function(){this.init()}},methods:{init:function(){var t=this,e=r.scene,i=r.referrerInfo,u=(void 0===i?{}:i).appId,c=this.data,p=c.showInJdXcx,s=c.showInJxXcx,d=c.source,f="2"==n.default.JD.cookie.get("wxapp_type");return!(1037!=e||!n.default.navigateBackMiniProgram)&&(!(f&&!s||!f&&!p)&&void this.getPPMSConfig().then(function(e){e[u]&&(t.setData({tip:e[u],hidden:!1}),t.triggerEvent("returnWxappBtnShow"),a.default.addPtagExposure(o.EXP_RETURN_BTN,{source:d}))}))},returnWxapp:function(t){var e=this,i=this.data.source;n.default.navigateBackMiniProgram({extraData:{},success:function(t){e.triggerEvent("returnWxappSuccess",t),a.default.addPtagExposure(o.EXP_RETURN_SUCCESS,{source:i})},fail:function(t){e.triggerEvent("returnWxappFail",t),a.default.addPtagExposure(o.EXP_RETURN_FAIL,{source:i})},complete:function(){e.setData({hidden:!0})}}),this.triggerEvent("returnWxappBtnClick",t),a.default.addPtag(o.CLICK_RETURN_BTN,{source:i})},getPPMSConfig:function(){var t=this.data.appidTipObj;return new Promise(function(e,n){return t?e(t):(0,i.getPPMS)(37188,{expire:"3m"}).then(function(){var t={};(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){t[e.appId]=e.text}),e(t)}).catch(function(t){e({})})})}}}); 
 			}); 	require("components/return-wxapp/index.js");
 		__wxRoute = 'components/search-bar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/search-bar/index.js';	define("components/search-bar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../bases/component.js"),t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(require("../../common/cookie-v2/cookie")),a=require("../../common/navigator.js"),r=require("../../common/request/request.js"),o=require("../../common/timer-manage"),i=2==t.getCookie("wxapp_type"),s=i?"搜索全站商品":"搜索京东商品",n=void 0,d={JX:"1",JD:"2",FACTORY:"3",VIDEO:"4"};new e.JDComponent({properties:{ptag:{type:String,value:""},from:{type:String,value:""},cssStyle:{type:String,value:""},icon:{type:String,value:"https://img12.360buyimg.com/img/s30x30_jfs/t1/117203/25/2331/969/5ea15c3eE7d02e947/9385f2c08cf27555.png"},placeholder:{type:String,value:s},useDarkText:{type:Boolean,value:!1},delay:{type:Number,value:5e3},skuid:{type:String,value:""},tab:{type:String,value:""}},data:{_darkItem:"",text:""},observers:{_darkItem:function(e){this.setData({text:e.showWord||e.realWord})}},methods:{onTap:function(){var e=i?"/pages/search_pg/index/index":"/pages/search/list/list",t=this.data._darkItem||{},r=t.showWord,o=void 0===r?"":r,s=t.realWord,n={searchname:(void 0===s?"":s)+"^"+o,from:this.data.from||""},u=this.data.ptag;u&&(n.ptag=u,this.$report(u));var c=d[this.data.tab];c&&(n.tab=c),(0,a.goto)(e,n)},_getDarkText:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a="//wq.jd.com/commodity/jxdarkword/jxwadarkword?from="+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"");return t&&(a="//wq.jd.com/commodity/jxdarkword/sxdarkword?skuid="+t),r.request.get({url:a,dataType:"json"}).then(function(t){var a=t.body;if(!a||0!=a.code)return Promise.reject();var r=a.data||[];if(1==r.length)e.setData({_darkItem:r[0]});else if(r.length>1){!function t(a,i){e.setData({_darkItem:r[i]}),n=(0,o.createTimeout)(function(){t(a,(i+1)%a.length)},parseInt(e.data.delay)||5e3,e.page)}(r,0)}else e.setData({text:e.data.placeholder})}).catch(function(){e.setData({text:e.data.placeholder})})}},attached:function(){this.data.useDarkText?this._getDarkText(this.data.skuid,this.data.from):this.setData({text:this.data.placeholder}),this.page=getCurrentPages().pop()},detached:function(){clearTimeout(n)}}); 
 			}); 	require("components/search-bar/index.js");
 		__wxRoute = 'components/sku-layer/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/sku-layer/index.js';	define("components/sku-layer/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t){var e="";return"object"==(void 0===t?"undefined":o(t))?e=t.message:"string"==typeof t&&(e=t),e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},a=require("../../bases/component"),n=require("../../common/fe_helper.js"),r=t(require("../../common/toast/toast")),u=t(require("../../common/cookie-v2/cookie.js")),c=require("../../common/utils"),d=require("../../common/user_info.js"),h=require("../../api/Ptag/report_manager"),p=require("../../models/item/item_model"),l=require("./api.js"),m=require("../../common/biz"),g=t(require("./constants")),f=getApp(),v=f.systemInfo.SDKVersion,I=(0,c.compareVersion)(v,"2.2.3")>=0,k={color:"颜色",size:"尺寸",spec:"规格"},y="https://img10.360buyimg.com/jdphoto/s100x100_jfs/t1951/176/1222496278/15607/bbb3b2eb/568cdbf0N4d33c2a4.png";new a.JDComponent({properties:{sku:String,price:String,cover:String,totalNum:Number,goodsNumObj:Object,suitPackData:Object,localData:Object,areaId:String,othersData:{type:Object,value:{}},searchReport:{type:Object,value:{}},initAddedServices:{type:Object,value:{}},pingouTipData:Object,saleAtmos:Object,bottomBtn:{type:Array,value:[]},isOfflineHasShop:Boolean,choseShopId:String,sceneType:String,needReport:Boolean,hasPurchaseIntention:{type:Boolean,value:!1},showGwfx:Boolean,isSubscribeCar:Boolean,isCart:{type:Boolean,value:!1},isDetail:{type:Boolean,value:!1},isNewUser:{type:Boolean,value:!1},showSkuLayerFlag:{type:Boolean,value:!1,observer:"observeFlagChange"},showNumController:{type:Boolean,value:!1},showActions:{type:Boolean,value:!1},isBipin:{type:Boolean,value:!1},hideSkuSwitch:{type:Boolean,value:!1},isSupportGift:{type:Boolean,value:!0}},data:{skuProps:[],addedServices:{extServices:[],jdServices:[],giftServices:[]},info:{skuId:0,skuName:"",price:"",otherPrice:"",cover:"",text:"",canBuy:!0},goodsNum:{value:1,limit:1,maxLimit:200,subEnabled:!1,addEnabled:!0,limitText:""},pool:{},selectInfo:{},isPingouApp:!1,tipsContent:"",isLoading:!1,tuanInfo:{},isShowPopup:!1,isShowPopupAnim:!1,isJX:!1,showAddCartBtns:!1,bipinInfo:{},needClearInitAddedServices:!1},created:function(){this.newColorSize=[]},ready:function(){var t=2==u.getCookie("wxapp_type");this.PtagConstants=g,t&&this.setData({isPingouApp:!0}),this.doBuy=(0,n.throttle)(this.doBuy,1e3),this.buy=(0,n.throttle)(this.doBuy,1e3),this.addToCart=(0,n.throttle)(this.addToCart,500),this.handleLookLike=(0,n.throttle)(this.handleLookLike,1e3),this.handleStockNotice=(0,n.throttle)(this.handleStockNotice,1e3),this.handleConfirmBtn=(0,n.throttle)(this.handleConfirmBtn,1e3),this.handleSkuChange=(0,n.throttle)(this.handleSkuChange,500),this.handlePreviewImage=(0,n.throttle)(this.handlePreviewImage,1e3),this.pingouConfirm=(0,n.throttle)(this.pingouConfirm,1e3),f.event.on("updateItemPoolList",this.updateItemPoolList.bind(this)),f.event.on("adderssSwitch",this.observeAreaIdChange.bind(this))},detached:function(){f.event.off("adderssSwitch")},methods:{observeAreaIdChange:function(t){var e={extServices:[],jdServices:[],giftServices:[]};this.setData({addedServices:e}),this.triggerEvent("closeSkuLayer",{params:{addedServices:e}})},updateAddedServices:function(t){var e=this,i=t.detail.addedServices;I?wx.nextTick(function(){e.setData({addedServices:i,hasPurchaseIntention:!0})}):setTimeout(function(){e.setData({addedServices:i,hasPurchaseIntention:!0})},500)},handlePreviewImage:function(){var t=this.data.info.isPingou,e=this.data.info.cover;e&&!this.data.isCart&&(t?this.$report("LAYER_SKU_COVER_VIEW_PINGOU"):this.$report("LAYER_SKU_COVER_VIEW"),e=e.replace(/(\/)(?:s\d+x\d+_)?(jfs\/)/,"$1$2").replace("n1/","img/"),wx.previewImage({current:e,urls:[e]}))},closeSkuLayer:function(t,e){var i=this.data,o=i.info,s=void 0===o?{}:o,a=i.skuProps,n=i.goodsNum,r=i.addedServices,u=i.hasPurchaseIntention;if(e||s.skuId){var c=s.skuId,d=s.skuName,h=s.price,p=s.cover,l=e||{sku:c,name:d,price:h,cover:p,num:n.value,skuProps:a,addedServices:r};this.triggerEvent("closeSkuLayer",{params:l,hasPurchaseIntention:u}),this.$report("LAYER_SKU_CLOSE")}else this.triggerEvent("closeSkuLayer",{hasPurchaseIntention:u})},showSkuPanel:function(){var t=this.data,e=t.sku,i=t.price,o=t.cover,a=t.totalNum,r=t.suitPackData,u=t.localData,c=t.goodsNumObj;if(this.setData({"bipinInfo.price":i||"","bipinInfo.sku":e||"","info.price":i||"","info.cover":o||"","goodsNum.value":0|a||1,"goodsNum.limit":c&&c.limit||1,"goodsNum.maxLimit":c&&c.maxLimit||200,"goodsNum.limitText":c&&c.limitText||"",isLoading:!u}),r&&r.packList){for(var d=r.pIndex,h=r.iIndex,p=r.suit,l=r.packList[d].poolList[h-1],m=l.saleProp,g=l.saleNames,f=[],v=l.colorList||[],I={},y={},S=v.length-1;S>=0;S--)e==v[S].skuId&&(y=v[S],I={color:v[S].color||"",size:v[S].size||"",spec:v[S].spec||""});g.forEach(function(t){f.push({value:m[t],name:t,text:k[t],current:I[t],sale:!0})});var N=p.item[h].finalPrice,b={price:p.price,dis:p.dis,mprice:p.mprice},P=s({},this.data.info,{skuId:y.skuId,skuName:y.skuName,sku:y.skuId,name:y.skuName,price:N.toFixed(2),cover:(0,n.getImg)(y.skuPicUrl,160),text:[I.color,I.size,I.spec].join(" "),choose:[I.color,I.size,I.spec].join(" ")});return p.suitPrice=b,void this.setData({info:P,skuProps:f,pool:l,isLoading:!1,showAddCartBtns:!1,"suitPackData.suit":p})}this.initSkuPanelInfo(e,!0)},resetPanelData:function(){this.newColorSize=[],this.setData({info:{skuId:0,skuName:"",price:"",otherPrice:"",cover:"",text:"",canBuy:!0},skuProps:[],pool:{},goodsNum:{value:1,limit:1,maxLimit:200,subEnabled:!1,addEnabled:!0,limitText:""},selectInfo:{},tipsContent:"",tuanInfo:{},bipinInfo:{},needClearInitAddedServices:!1})},calcSkuForEachProp:function(t){var i=this,o=this.data.skuProps.length?this.data.skuProps:t,s=this.getCurrentSelect(o);return Array.isArray(o)&&o.forEach(function(t){var o=[];t.value.forEach(function(a){var n={};Object.assign(n,s,e({},t.name,a)),t.isSizeGuideShow&&i.$report("EXP_SIZE_GUIDE");var r=(0,l.getSpecifySku)(n,i.newColorSize);o.push(r.join("|"))}),t.sku=o}),o},getCurrentSelect:function(t){var e={};return(t=t||this.data.skuProps).forEach(function(t){e[t.name]=t.current}),e},formatCurrentSelectText:function(t){var e=[];return(t=t||this.data.skuProps).forEach(function(t){t.current&&t.value.length>=1&&e.push(t.current)}),e},handleConfirmBtn:function(){var t=this.data,e=t.info,i=t.goodsNum,o=t.skuProps,s=t.suitPackData,a=t.othersData,n=void 0===a?{}:a,u=t.selectInfo,c=t.addedServices;if(e.canBuy||"subscribe"==n.btnType){var d=this.getCurrentSelect(o);if(this.checkPropSelect(d,this.newColorSize)){if(this.setPurchaseIntention(!0),"addToCart"===n.btnType)return this.$report("LAYER_SKU_TOW_CONFIRM"),this.addToCart();if("buy"==n.btnType)return this.$report("LAYER_SKU_TOW_CONFIRM"),this.doBuy();if("subscribe"==n.btnType)return this.$report("LAYER_SKU_TOW_CONFIRM"),this.subscribeItem();var h={sku:e.skuId,idx:u.pidx,name:u.name,val:u.val};e.sku=e.skuId,this.triggerEvent("confirmSkuChange",{info:e,num:i.value,suitPackData:s,othersData:n,sInfo:h,addedServices:c})}else r.show({icon:r.ICON.WARNING,content:"您未完整选中规格参数"})}},gotoSizeGuide:function(t){var e=this.data.info.skuId,i=t.currentTarget?t.currentTarget.dataset:t,o=i.spu,s=i.size;this.$report("CLICK_SIZE_GUIDE"),this.$goto("https://m.toplife.com/sizeGuide.html?skuId="+e+"&productId="+o+"&sizeCode="+s+"&showHead=no")},handleSkuChange:function(t){var i=this.data.skuProps,o=t.currentTarget.dataset,a=o.pidx,r=o.idx,u=o.name,c=o.val,d=o.disabled,p=this.getCurrentSelect();if(!d&&i[a])if(c!=p[u]){if(this.setData({isOfflineHasShop:!1,addedServices:{},selectInfo:{pidx:a,idx:r,name:u,val:c},hasPurchaseIntention:!0}),i[a].sku){var l=i[a].sku[r];if(!l)return;var m=this.getCurrentSelect();this.setData(e({},"skuProps["+a+"].current",c==m[u]?"":c)),this.setData({skuProps:this.calcSkuForEachProp()}),m=this.getCurrentSelect(),1==l.split("|").length&&this.checkPropSelect(m,this.newColorSize)&&l!=this.data.info.skuId&&(this.initSkuPanelInfo(l),this.setData({needClearInitAddedServices:!0}))}else{var g=this.data,f=g.skuProps,v=g.suitPackData,I=g.pool,k=I.saleNames,y=I.colorList,S=f[a].value[r],N={},b=[],P=void 0;f[a].current=S,f.forEach(function(t){N[t.name]=t.current,b.push(t.current)});for(var C=y.length-1;C>=0;C--)for(var T=0,_=k.length-1;_>=0;_--){var x=k[_];N[x]==y[C][x]&&++T==k.length&&(P=y[C])}if(!P)return;var D=v.suit,A=v.iIndex,E=D.item[A].finalPrice,w={price:D.price,dis:D.dis,mprice:D.mprice},L=s({},this.data.info,{skuId:P.skuId,skuName:P.skuName,sku:P.skuId,name:P.skuName,price:E.toFixed(2),cover:(0,n.getImg)(P.skuPicUrl,160),text:[N.color,N.size,N.spec].join(" "),choose:b.join(" "),canBuy:!!P.stock});D.suitPrice=w,this.setData({info:L,skuProps:f,"suitPackData.suit":D})}this.$report("LAYER_SKU_CHANGE"),h.ReportManager.addPtagExposure("7145.16.11")}else i[a]&&(this.data.skuProps[a].current="",this.setData({skuProps:this.calcSkuForEachProp()}))},getItemData:function(t,e){var i=this.data,o=i.isNewUser,s=i.localData,a=i.needReport,n=i.isPingou;return e&&s?Promise.resolve(s):(0,l.initItem)({skuId:t,isNewUser:o,needReport:a,pingou:n})},initSkuPanelInfo:function(t,e){var o=this,a=this.data,u=a.othersData,c=void 0===u?{}:u,d=a.isCart,p=a.goodsNum;this.getItemData(t,e).then(function(i){if(i)if(d||!i.jumpUrl)if(!i.buyingSpreeFlag||e||d){i.isJX=!(!i.spAttr||1!=i.spAttr.IsJX),i.isECardOnce=i.isECard&&i.spAttr&&1==i.spAttr.yysfhf,Number(i.price)&&(i.price=parseFloat(i.price).toFixed(2)),e&&(o.newColorSize=i.newColorSize||f.tempNewColorSize||[]);var a=o.calcSkuForEachProp(i.props)||[],r=o.formatCurrentSelectText(i.props).join(", "),u=i.isPingou,m=i.pingouInfo;u&&!e&&o.getPingouTipInfo(i.skuId);var g=[];if(a.forEach(function(t){g.push(t.current),u&&m&&m.skuid_list&&(t.disabled=t.sku.map(function(t){return-1===m.skuid_list.indexOf(Number(t))}))}),e||o.updateLimitBuy(i),void 0!==c.buyType&&0!=c.buyType&&h.ReportManager.addPtagExposure("7418.16.28"),!u||m&&m.price||(0,l.getPingouPrice)(i.skuId).then(function(t){o.setData({"info.pingouInfo.price":t.bp})}).catch(function(t){o.setData({"info.pingouInfo.price":"暂无定价"})}),i.poolList){var v=o.data.goodsNum.value||1,I=i.poolList;I.forEach(function(t){t.list.forEach(function(t){t.img=(0,n.getImg)(t.mp,150),t.num=v,t.selected=!1})}),i.poolFlag?(I[0].list[0].selected=!0,I[0].selectedArr=[I[0].list[0]]):I.forEach(function(t){t.list[0].selected=!0,t.selectedIndex=0,t.selectedNum=1})}o.updateDiscount(i),d&&(i.presellFlag&&(i.canBuy=!1,i.tipsContent="该商品属于预售商品，暂不支持加车"),i.subscribeFlag&&(i.yuyue&&4==i.yuyue.state&&!i.buyingSpreeFlag||(i.canBuy=!1,i.tipsContent="该商品属于预约商品，暂不支持加车")),i.buyingSpreeFlag&&(i.canBuy=!1,i.tipsContent="该商品属于抢购商品，暂不支持加车")),delete i.item,delete i.newColorSize;var k=s({},i,{cover:(0,n.getImg)(i.images[0],160),text:r,choose:g.join(" ")});o.setData({info:k,skuProps:a,tipsContent:i.tipsContent,showAddCartBtns:!1},function(){o.updateNum(p.value||1)})}else{var y={sku:t,cover:i.images[0],name:i.skuName,price:i.price};o.closeSkuLayer({},y)}else o.$goto("/pages/h5/index",{url:i.jumpUrl},{method:"redirectTo",skipSwitchUrl:!0})}).catch(function(t){r.show({icon:r.ICON.WARNING,content:i(t)||"网络错误，请稍后重试"}),o.setData({"info.canBuy":!1})}).then(function(){o.setData({isLoading:!1})})},checkPropSelect:function(t){var e="";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(i){if(i&&!e){var o=!0;for(var s in t)t[s]!=i[s]&&(o=!1);e=o?i.skuId:""}}),!!e},doAddNum:function(t){var e=this.data,i=e.info,o=e.othersData,s=void 0===o?{}:o,a=e.goodsNum,n=i.isPingou,r=i.pingouInfo;a.addEnabled&&(n&&r&&[1,2,3].indexOf(r.pinType)>-1&&1!=s.buyType||(this.setPurchaseIntention(!0),this.updateNum(parseInt(a.value)+1)))},doSubNum:function(t){var e=this.data,i=e.info,o=e.othersData,s=void 0===o?{}:o,a=e.goodsNum,n=i.isPingou,r=i.pingouInfo;a.subEnabled&&(n&&r&&[1,2,3].indexOf(r.pinType)>-1&&1!=s.buyType||(this.setPurchaseIntention(!0),this.updateNum(parseInt(a.value)-1)))},doInputNum:function(t){var e=t.detail.value,i=this.data,o=i.info,s=i.othersData,a=void 0===s?{}:s,n=o.isPingou,r=o.pingouInfo;n&&r&&[1,2,3].indexOf(r.pinType)>-1&&1!=a.buyType||(this.setPurchaseIntention(!0),this.updateNum(parseInt(e)||1))},updateNum:function(t){var e=this.data.info,i=e.stock,o=void 0===i?{}:i,s=e.poolFlag,a=this.data.goodsNum.limit,n=o.rn||0,u=this.data.goodsNum.maxLimit,c="";n>0&&(u=Math.min(u,n)),t<a?(t=a,a>1&&(c="该商品最少需购买"+a+"件")):t>u&&(t=u,c=200==u?"单款最多可买200件":"该商品最多可买"+u+"件"),c&&r.show({icon:r.ICON.WARNING,content:c});var d=this.data.info.poolList&&Array.from(this.data.info.poolList);if(d&&d.length)if(s){if(d[0].list&&d[0].list.length){d[0].selectedNum=t,d[0].selectedArr=d[0].list.filter(function(t){return t.selected});var h=d[0].selectedArr.reduce(function(t,e){return t+e.num},0);if(d[0].selectedArr[0].num+=t-h,d[0].selectedArr[0].num<=0){var p=d[0].list.find(function(t){return t.selected});p.selected=!1,p.num=1,d[0].selectedArr.shift()}}}else d.forEach(function(e){t<=e.list.length&&(e.selectedNum=t)});this.setData({"info.poolList":d||[],"goodsNum.value":"number"==typeof this.data.goodsNum.value?t+"":+t,"goodsNum.subEnabled":t>a,"goodsNum.addEnabled":t<u})},observeFlagChange:function(t){var e=this;t?(this.showSkuPanel(),this.setData({isShowPopup:!0}),setTimeout(function(){e.setData({isShowPopupAnim:!0})},100)):(this.setData({isShowPopupAnim:!1}),setTimeout(function(){e.setData({isShowPopup:!1}),e.resetPanelData()},500))},noscroll:function(){},handleStartTuan:function(t){t&&(t&&t.currentTarget&&t.currentTarget.dataset).report&&h.ReportManager.addPtagExposure("7415.8.1"),this.startTuan()},startTuan:function(t){var e=this;if(this.data.info.canBuy){var i=this.data.info,o=i.skuId,s=i.pingouInfo,a=i.spAttr,n=this.data.addedServices,d=this.data.pingouTipData,h=d.activeId,p=d.tuanId,m=d.masterNickname,g=d.tuanList,f=t?{skuId:o,activeId:h,tuanId:p,nickname:encodeURIComponent(m),headUrl:g[0].head_portrait_url||y}:{skuId:o};(0,l.getTuanStatus)(f).then(function(i){if(i)if(i.active_time_left<=0)wx.showModal({title:"提示",content:"该活动已结束，去看看其他拼购商品吧！",showCancel:!1,confirmText:"知道啦",confirmColor:"#E93B3D"});else if(1!=i.cannot_buy_code){e.closeSkuLayer({},{sku:o,num:e.data.goodsNum.value,addedServices:n,action:"buy"});var r=e.handleCommlistData(),d={activeid:i.active_id,sku:Number(o),num:e.data.goodsNum.value,bizkey:"pingou",bizval:i.biz_value,member:i.tuan_member_count};t&&(d=Object.assign(d,{jointuan:"1"})),d=Object.assign(d,r),a&&a.isOverseaPurchase&&0!=a.isOverseaPurchase&&(d.category="global"),a&&1==a.isXnzt&&(d.type=3),s&&0!=s.pinType&&Object.assign(d,{fixednum:1}),!s||1!=s.pinType&&5!=s.pinType?e.$goto("/pages/pay/index/index",d):u.getCookie("cd_eid")?e.$goto("/pages/pay/index/index",d):(0,l.getNewerTuanSwitch)().then(function(t){if(t){var o=Object.assign({},d,{pindes:i.pid}),s="https://wqs.jd.com/my/agreement/eid_page.shtml?"+(0,c.querystring)(o);e.$goto("/pages/h5/index",{url:s})}else e.$goto("/pages/pay/index/index",d)}).catch(function(t){e.$goto("/pages/pay/index/index",d)})}else wx.showModal({title:"提示",content:"该商品仅限京东新用户"+(t?"参":"开")+"团哦，再看看其他好货吧~",showCancel:!1,confirmText:"知道啦",confirmColor:"#E93B3D"});else wx.showModal({title:"提示",content:"抱歉，网络跑的有点慢，请稍后重试~",showCancel:!1,confirmText:"知道啦",confirmColor:"#E93B3D"})}).catch(function(t){var i="开团失败，请稍后再试";t&&(i="string"==typeof t?t:t.message+"("+t.code+")"),r.show({icon:r.ICON.WARNING,content:i,page:e})})}},doBuy:function(t){var e=this,i=(t&&t.currentTarget&&t.currentTarget.dataset||{}).report,o=this.data,a=o.addedServices,n=o.bottomBtn,c=void 0===n?[]:n,l=o.searchReport,m=void 0===l?{}:l,g=encodeURIComponent(u.getCookie("wq_addr")),f=this.data.info,v=f.canBuy,I=f.spAttr,k=f.skuId,y=f.isECard,S=this.data.goodsNum.value||1,N=!(!c[0]||!c[0].sellWhilePresell);if(this.data.isSpecialProcess&&this.$report("DETAIL_SUBSCRIBE_SECKILL_BTN"),i&&(h.ReportManager.addPtagExposure("7415.8.21"),h.ReportManager.addPtagExposure(i)),v&&this.checkSku())if(this.setPurchaseIntention(!1),this.closeSkuLayer({},{sku:k,num:S,addedServices:a,action:"buy"}),y){var b=(0,d.getAddress)().addressId;(0,p.checkPinStatus)({loginText:"您当前登录的是临时账号，为了您的资产安全，购买礼品卡前请先登录京东账号",switchText:"您当前登录的是临时账号，为了您的资产安全，购买礼品卡前请先切换至您的京东账号",skuId:k}).then(function(t){var i="https://wq.jd.com/pinbind/pintokenredirect?biz=ecard&url="+encodeURIComponent("https://giftcard.jd.com/giftcardpurchase/mIndex?skuNumInfo="+k+","+S+"&clientType=1&addressId="+b);e.$goto("/pages/h5/index",{url:i})}).catch(function(t){t.message&&r.show({icon:r.ICON.WARNING,content:t.message,page:e})})}else if(this.data.choseShopId){var P=[k,this.data.choseShopId,S,k,"1,0,0"];this.$goto("/pages/pay/index/index",{commlist:P.join(",")})}else if(this.data.info.isOTC&&this.data.info.isZiying){var C="https://wqs.jd.com/order/s_confirm_otc.shtml?commlist="+[k,"",S,k,"1,0,0"].join(",")+"&wq_addr="+g;I&&1==I.isXnzt&&(C+="&type=3"),this.$goto("/pages/h5/index",{url:C})}else{var T=this.handleCommlistData(),_={sku:k,num:S,type:I&&1==I.isXnzt?3:0};"pingou"==this.data.sceneType&&(_=Object.assign(_,{bizkey:"pingou",bizval:0})),_=Object.assign(_,T),I&&I.isOverseaPurchase&&0!=I.isOverseaPurchase&&(_.category="global"),N&&(_.sourcefrom="presalefixup"),this.$goto("/pages/pay/index/index",_)}this.$report("VIEW_BUYING",s({sku_id:k},m))},handleCommlistData:function(){var t=this.data.info,e=t.skuId,i=t.poolList,o=void 0===i?[]:i,a=this.data.goodsNum.value||1,n=this.data.addedServices,r="";o.length&&(r=this.data.info.poolFlag?o[0].selectedArr&&o[0].selectedArr.map(function(t){return t.sid+"|"+t.num}).join("_")||"":o.reduce(function(t,e){return t.concat(e.list.filter(function(t){return t.selected}))},[]).map(function(t){return t.sid+"|"+a}).join("_")||"");var u=(0,l.getServicesCommList)({skuId:e,buyNum:a},n);return s({zp:r},u)},addToCart:function(t){var e=this,i=this.data.info,o=i.canBuy,a=i.skuId,n=i.spAttr,u=void 0===n?{}:n,c=i.poolList,d=void 0===c?[]:c,m=i.poolFlag,g=i.isECard,v=this.data,I=v.sceneType,k=v.addedServices,y=v.isOfflineHasShop,S=v.searchReport,N=void 0===S?{}:S,b=t&&t.currentTarget&&t.currentTarget.dataset||{},P=b.disabled,C=b.report,T=this.data.goodsNum.value||1;if(o&&!P&&this.checkSku()){if(C&&h.ReportManager.addPtagExposure(C),this.us.prepare(this.us.OP_ITEM_ADD_CART),this.setPurchaseIntention(!0),"1"===u.isLOC&&!y)return this.chooseShop();var _="";d.length&&(_=m?d[0].selectedArr&&d[0].selectedArr.map(function(t){return t.sid+"|"+t.num}).join("_")||"":d.reduce(function(t,e){return t.concat(e.list.filter(function(t){return t.selected}))},[]).map(function(t){return t.sid+"|"+e.data.goodsNum.value}).join("_")||"");var x=u&&1==u.isLOC&&this.data.choseShopId?this.data.choseShopId:"";g?(0,p.checkPinStatus)({loginText:"您当前登录的是临时账号，为了您的资产安全，购买礼品卡前请先登录京东账号",switchText:"您当前登录的是临时账号，为了您的资产安全，购买礼品卡前请先切换至您的京东账号",skuId:a}).then(function(t){(0,l.addCardList)({buyNum:T,sku:a,pin:t.pin||"",canBuy:o}).then(function(t){e.us.report(e.us.OP_ITEM_ADD_CART,0,null),r.show({icon:r.ICON.SUCCESS,content:"加入卡清单成功",page:e}),e.closeSkuLayer()}).catch(function(t){e.us.report(e.us.OP_ITEM_ADD_CART,1,t),r.show({icon:r.ICON.WARNING,content:"string"==typeof t?t:"加入卡清单失败("+t.code+")"||"加入卡清单失败",page:e})})}).catch(function(t){t.message&&r.show({icon:r.ICON.WARNING,content:t.message,page:e})}):(0,l.addCart)(this.data.info,{buyNum:T,type:u&&1==u.isXnzt?3:0,sku:a,shopid:x,str:_,services:k}).then(function(t){e.us.report(e.us.OP_ITEM_ADD_CART,0,null),r.show({icon:r.ICON.SUCCESS,content:"加入购物车成功",page:e}),e.closeSkuLayer(),e.triggerEvent("onAddCartFail",{code:1001,num:t}),f.event.emit("cartrefresh")}).catch(function(t){e.us.report(e.us.OP_ITEM_ADD_CART,1,"string"==typeof t?t:t.message),t&&"8969"==t.code&&"detail"===I?(e.closeSkuLayer(),e.triggerEvent("onAddCartFail",t)):r.show({icon:r.ICON.WARNING,content:"string"==typeof t?t:t.message+"("+t.code+")"||"添加购物车失败，请稍后再试",page:e})}),this.$report("VIEW_ADD_TO_CART",s({sku_id:a},N))}},pingouConfirm:function(){var t=this.data,e=t.info,i=t.othersData,o=void 0===i?{}:i;this.setPurchaseIntention(!0),e.isPingou&&1==o.buyType?this.doBuy():e.isPingou&&2==o.buyType?(this.$report("CLICK_START_TUAN_CONFIRM"),this.startTuan(!1)):e.isPingou&&3==o.buyType&&this.startTuan(!0),e.isPingou&&h.ReportManager.addPtagExposure("7418.16.27")},gotoPingouDetail:function(t){var e=this.data.othersData,i=void 0===e?{}:e;h.ReportManager.addPtagExposure("7145.8.12"),2==i.buyType&&this.$report("CLICK_JOIN_TUAN"),this.startTuan(!0)},checkSku:function(){var t=this.getCurrentSelect();if(!this.checkPropSelect(t,this.newColorSize)){var e=[];return this.data.skuProps.forEach(function(i){t[i.name]||e.push(i.text.replace("选择",""))}),r.show({icon:r.ICON.WARNING,content:"请选择`"+e.join("/")+"`",page:this}),!1}return!0},handleLookLike:function(){var t=this.data.info,e="https://wqs.jd.com/search/searchsimilar.shtml?sceneid=18&sku="+t.skuId+"&jp="+t.price;this.$report("DETAIL_LOOK_SIMILAR_BUTTON"),this.$goto("/pages/h5/index",{url:e})},handleStockNotice:function(t){var e=this.data.info.skuId;this.$report("DETAIL_STOCK_NOTICE"),this.$goto("/pages/item/subPackages/pages/arriveNotice/index",{sku:e})},method0:function(){var t=""+this.data.bottomBtn[0].method;this[t]&&this[t]()},method1:function(t){var e=this,i=""+this.data.bottomBtn[1].method;t.detail&&t.detail.formId&&"subscribeItem"==i?(0,m.setFormIdWithSession)(t.detail.formId).then(function(){e[i]&&e[i]()}).catch(function(){e[i]&&e[i]()}):this[i]&&this[i]()},subscribeItem:function(){this.$report("DETAIL_SUBSCRIBE_BTN"),this.setPurchaseIntention(!1);var t="https://wqs.jd.com/item/yuyue_item.shtml?sku="+this.data.info.skuId+"&sceneval=3";this.$goto("/pages/h5/index",{url:t})},specialBuy:function(t){var e=this.data.info,i=e.isPop,o=e.stock,s=void 0;o&&o.D?s=o&&o.D&&o.D.type:o&&o.venderType&&"100"==o.venderType?s=100:i||(s=-1),this.$report("DETAIL_BUYING_SPREE_BTN"),this.setPurchaseIntention(!0);var a={sku:this.data.info.skuId,num:this.data.goodsNum.value,rcheck:1,category:"miao"};void 0!==s&&(a.venderType=s),this.$goto("/pages/pay/index/index",a)},chooseShop:function(){this.setPurchaseIntention(!0),this.triggerEvent("chooseShop")},updateDiscount:function(t){var e=(0,l.getMarketPrice)(t),i=this.data.info.price,o={},s="";+e.price>+i&&(s=(10*i/e.price).toFixed(1)),s&&s<10&&(o={desc:e.title,price:e.price,rate:s+"折"},this.$report("EXP_LINE_PRICE")),t.discount=o},gotoGiftList:function(t){var e=t.currentTarget.dataset.url,i=this.data.info,o=i.cover,s=i.skuName,a=i.price,n=i.poolFlag,r=i.poolList,u=void 0===r?[]:r,c=this.data.goodsNum.value;this.setPurchaseIntention(!0),f.itemPoolList=u,this.$goto(e,{name:s,price:a,cover:o,num:c,flag:n},"navigateToByForce")},updateLimitBuy:function(t){var e=this,i=t.promote,o=void 0===i?[]:i,s=t.pingouInfo,a=t.othersData,n=void 0===a?{}:a,r=this.data.goodsNum.value,u=void 0,c=200;o.forEach(function(t,e){"限购"===t.name&&(u=e)}),t.spAttr&&parseInt(t.spAttr.MN)?c=parseInt(t.spAttr.MN)>9999?9999:parseInt(t.spAttr.MN):t.category&&"1713"==t.category[0]&&(c=1e3);var h=parseInt(t.spAttr&&t.spAttr.LowestBuy)||0;s&&0!=s.pinType&&1!=n.buyType?this.setData({"goodsNum.value":1,"goodsNum.limit":1,"goodsNum.limitText":""}):t.subscribeFlag||t.buyingSpreeFlag?this.setData({"goodsNum.value":1,"goodsNum.maxLimit":1,"goodsNum.limitText":"","goodsNum.subEnabled":!1,"goodsNum.addEnabled":!1}):t.spAttr&&t.spAttr.LowestBuy&&h>1?this.setData({"goodsNum.value":r>h?r:h,"goodsNum.limit":h,"goodsNum.limitText":h+"件起售","goodsNum.maxLimit":c}):this.setData({"goodsNum.value":r<c?r:c,"goodsNum.limit":1,"goodsNum.limitText":"","goodsNum.maxLimit":c});var p=o[u]||{};(0,l.getLimitBuyInfo)({skuId:t.skuId,areaId:(0,d.getUserAddressID)(),category:t.category&&t.category.join(","),venderId:t.venderID,skuName:t.skuName,promoId:p.activityId,promoType:p.activityType,promoPrice:p.price&&100*parseInt(p.price)||""}).then(function(t){var i=t.limitNum,o=t.noSaleFlag,s={},a="",n=0;i>1&&!h?(n=i,a="最多可购买"+i+"件"):1!=i||h?i&&h&&h<i&&(n=i,a=h+"件起售，最多可购买"+i+"件"):(n=i,a="仅限购买1件"),a&&(s["goodsNum.limitText"]=a),n&&(s["goodsNum.maxLimit"]=n,s["goodsNum.addEnabled"]=n>1),1==o&&(s.tipsContent="该商品在该地区暂不支持销售，非常抱歉！",s["info.canBuy"]=!1),e.setData(s)})},getPingouTipInfo:function(t){var e=this;(0,l.getPingouTuijianTuan)(t).then(function(t){var i={head_portrait_url:"https://img11.360buyimg.com/jdphoto/s60x60_jfs/t24697/277/2148369463/2325/5594f2b9/5bc478b7Na0b2e015.png"};if(t.active_id){var o=t.nick_name||"*******";o=o.length>7?o.replace(/(^[^])([^]*)([^]$)/,"$1***$3"):o,t.head_url=t.head_url?t.head_url:y,e.setData({pingouTipData:{activeId:t.active_id,tuanId:t.tuan_id,tuanList:[{head_portrait_url:t.head_url},i],masterNickname:o}})}}).catch(function(t){})},showBtns:function(){this.data.info.canBuy&&(this.data.isPingouApp||this.setData({showAddCartBtns:!0}))},hiddenBtns:function(){this.setData({showAddCartBtns:!1})},updateItemPoolList:function(t){var e=t||[];e.length&&(e[0].selectedArr=e[0].list.filter(function(t){return t.selected}),this.setData({"info.poolList":e}))},setPurchaseIntention:function(t){this.setData({hasPurchaseIntention:!!t})},gotoChongyin:function(){this.triggerEvent("closeSkuLayer",{});var t="https://printing.m.jd.com/index.html#/?skuId="+this.data.info.skuId;this.$goto("/pages/h5/index",{url:t})},subscribeCar:function(){var t=this.data,e=t.sku,i=t.choseShopId,o=void 0===i?"":i,s="https://wq.jd.com/pinbind/pintokenredirect?biz=carbrand&url="+encodeURIComponent("https://carbrand.jd.com/m/html/reservationCar.html?skuId="+e+"&storeId="+o);this.$goto("/pages/h5/index",{url:s})}}}); 
 			}); 	require("components/sku-layer/index.js");
 		__wxRoute = 'components/sku-layer/sku-added-service/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/sku-layer/sku-added-service/index.js';	define("components/sku-layer/sku-added-service/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,i){e.forEach(function(t,r){t===i&&e.splice(r,1)})}function i(e,i){var t={extServices:[],jdServices:[],giftServices:[]};return e.ext.forEach(function(e){e.list.forEach(function(e){i.ext.includes(e.id)&&t.extServices.push(e)})}),e.jd.forEach(function(e){e.list.forEach(function(e){i.jd.includes(e.id)&&t.jdServices.push(e)})}),e.gift.forEach(function(e){e.list&&e.list.forEach(function(e){i.gift.includes(e.id)&&t.giftServices.push(e)})}),t}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[];return Array.isArray(e)?(e.forEach(function(e,r){if(e&&e.fuwuSkuDetailList&&e.fuwuSkuDetailList.length){var n=0,s=e.fuwuSkuDetailList.map(function(t){var s=d({index:n,grpIndex:r,id:t.bindSkuId,name:t.bindSkuName,desc:t.tip||"",price:(0,f.divide)(t.price,100),isFavor:e.isFavor,checked:i.includes(t.bindSkuId)});return n++,s});t.push({name:e.displayName,list:s})}}),t):t}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[];return e.forEach(function(e,r){if(e&&e.fuwuSkuDetailList&&e.fuwuSkuDetailList.length){var n=0,s=e.fuwuSkuDetailList.map(function(e){var t=d({index:n,grpIndex:r,id:e.bindSkuId,name:e.bindSkuName,desc:e.tip,price:(0,f.divide)(e.price,100),tag:e.favor?"优惠":"",isFavor:e.isFavor,checked:i.includes(e.bindSkuId)});return n++,t});t.push({name:e.displayName,list:s})}}),t}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[],r={name:"礼品包装",list:[]},n=Object.entries(e),s={packing:"礼品包装"},c=0,o=0,u={};i.forEach(function(e){e.id&&(u[e.id]=!0)});var f=!0,p=!1,h=void 0;try{for(var l,g=n[Symbol.iterator]();!(f=(l=g.next()).done);f=!0){var S=a(l.value,2),b=S[0],m=S[1],y=s[b]||"";if(y){var k=d({index:c,grpIndex:o,id:m.serviceSku,name:y,desc:m.title,image:v.getImg(m.pic,50).replace(/\/img\//,"/"),price:m.price,isFavor:m.isFavor,checked:i.includes(m.serviceSku)});r.list.push(k),c++}}}catch(e){p=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw h}}return n.length&&t.push(r)&&o++,t}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({id:"",name:"",desc:"",image:"",price:"",tag:"",type:"",checked:!1},e)}function s(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(i){i.id&&e.push(i.id-0)}),e}var a=function(){function e(e,i){var t=[],r=!0,n=!1,d=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!i||t.length!==i);r=!0);}catch(e){n=!0,d=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw d}}return t}return function(i,t){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return e(i,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=require("../../../bases/component"),o=require("../../../common/user_info.js"),u=require("../../../common/request/request.js"),v=function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i.default=e,i}(require("../../../common/fe_helper.js")),f=require("../../../common/numberp.js"),p=getApp();new c.JDComponent({properties:{info:Object,skuId:{type:String,observer:"updateAddedService"},areaId:{type:String,observer:"updateAddedService"},category:{type:Array,value:[]},brandId:String,price:String,isSupportGift:Boolean,initAddedServices:Object},data:{checkedIdMap:{ext:[],jd:[],gift:[]},options:{ext:[],jd:[],gift:[]},baozhangTitle:"",svcplusTitle:""},ready:function(){var e=this.data,i=e.skuId,t=e.areaId;i&&t&&this.fetchServices(),p.event.on("adderssSwitch",this.resetAddedService.bind(this))},detached:function(){p.event.off("adderssSwitch")},methods:{initChecked:function(){var e=this.data.initAddedServices;e&&(this.setData({checkedIdMap:{ext:s(e.extServices),jd:s(e.jdServices),gift:s(e.giftServices)}}),this.triggerEvent("updateAddedServices",{addedServices:e}))},updateAddedService:function(e,i){i&&"0"!=e&&(this.resetAddedService(),this.initChecked(),this.fetchServices())},resetAddedService:function(){var e={ext:[],jd:[],gift:[]},t=this.data.options;this.setData({checkedIdMap:e}),this.triggerEvent("updateAddedServices",{addedServices:i(t,e)})},onCheck:function(t){var r=t.currentTarget.dataset,n=r.id,d=r.type,s=r.gindex,a=this.data,c=a.checkedIdMap,o=a.options;c[d]&&(c[d].includes(n)?e(c[d],n):((o[d][s].list||[]).forEach(function(i,t){c[d].includes(i.id)&&e(c[d],i.id)}),c[d].push(n)),this.triggerEvent("updateAddedServices",{addedServices:i(o,c)}),this.setData({checkedIdMap:c}))},fetchServices:function(){var e=this,i=this.data,d=i.skuId,s=void 0===d?"":d,a=i.category,c=void 0===a?[]:a,v=i.brandId,f=void 0===v?"":v,p=i.price,h=void 0===p?"":p,l=i.isSupportGift,g=i.checkedIdMap,S=void 0===g?{}:g;if(s&&0!=s){var b={url:"https://wq.jd.com/commodity/jdsbranch/get",data:{skuid:s,cat:c.join(","),sence:23,brandid:f,area:(0,o.getAddress)().areaId,price:h,functionids:"8,12"},ump:{bizId:760,opId:13}};return u.request.get(b).then(function(i){var d=i.body,s=d.errcode,a=d.bzsvc,c=void 0===a?[]:a,o=[],u=[],v="保障服务",f="京东服务",p=d.giftgou,h=void 0===p?{}:p,g=[];h=l&&h.success?h.result:{},s||(c&&c.length>0&&(c[0]&&c[0].bindResponses&&c[0].bindResponses.length>0&&(1==c[0].type?(o=c[0].bindResponses,v=c[0].title||v):2==c[0].type&&(u=c[0].bindResponses,f=c[0].title||f)),c[1]&&c[1].bindResponses&&c[1].bindResponses.length>0&&(1==c[1].type?(o=c[1].bindResponses,v=c[1].title||v):2==c[1].type&&(u=c[1].bindResponses,f=c[1].title||f))),o.length&&g.push(v),u.length&&g.push(f),l&&g.push("礼品包装")),e.setData({"options.ext":r(o,S.ext)||[],"options.jd":t(u,S.jd)||[],"options.gift":n(h,S.gift)||[],baozhangTitle:v,svcplusTitle:f})})}}}}); 
 			}); 	require("components/sku-layer/sku-added-service/index.js");
 		__wxRoute = 'components/slider-view/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/slider-view/index.js';	define("components/slider-view/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../bases/component"),e=getApp().systemInfo.pixelRatio,a=void 0===e?2:e;new t.JDComponent({properties:{moveThreshold:{type:Number,value:60},moveMax:{type:Number,value:136},open:{type:Boolean,value:!1,observer:function(t){this.setData({x:t?0:this.data.moveMax*a}),this.triggerEvent("change",{open:t})}},showRemoveBtn:{type:Boolean,value:!0},showFavBtn:{type:Boolean,value:!1},disabled:Boolean},data:{x:136*a,currentX:136,moveInstance:0},methods:{onChange:function(t){var e=t.detail.x*a;this.data.moveInstance=this.data.moveMax-e,this.data.currentX=e},onTouchEnd:function(t){if(0===this.data.currentX)return this.setData({open:!0}),void this.triggerEvent("open",t);this.data.currentX!==this.data.moveMax?this.data.open&&this.data.currentX>0?this.setData({open:!1}):this.data.moveInstance<this.data.moveThreshold?this.setData({open:!1,x:this.data.moveMax*a}):(this.setData({open:!0}),this.triggerEvent("open",t)):this.setData({open:!1})},onRemove:function(t){var e=this;this.setData({open:!1},function(){e.triggerEvent("remove",t)})},onFavorite:function(t){var e=this;this.setData({open:!1},function(){e.triggerEvent("fav",t)})}}}); 
 			}); 	require("components/slider-view/index.js");
 		__wxRoute = 'components/subscribe-guider/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/subscribe-guider/index.js';	define("components/subscribe-guider/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}var t=require("../../bases/component"),o=e(require("../../common/cookie-v2/cookie")),r=e(require("./helper")),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../../api/Ptag/report_manager_wqvue"));new t.JDComponent({properties:{props:{type:Object,value:{}}},data:{appName:2==o.getCookie("wxapp_type")?"京喜":"京东购物",titleSize:2==o.getCookie("wxapp_type")?32:30},methods:{hideGuide2Setting:function(){r.hide()},gotoset:function(){i.default.addPtag("7130.1.231"),wx.openSetting({withSubscriptions:!0}),r.hide()}}}); 
 			}); 	require("components/subscribe-guider/index.js");
 		__wxRoute = 'components/watermarker/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'components/watermarker/index.js';	define("components/watermarker/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../bases/component.js"),t=wx.getSystemInfoSync(),r=t.windowWidth,a=t.windowHeight;new e.JDComponent({properties:{text:{type:String,value:"",observer:"draw"},zIndex:{type:Number,value:9999}},data:{value:"",rows:[],items:[]},methods:{draw:function(e){if(!(e=String(e||"").trim()))return this.setData({value:e,items:[],rows:[]});var t=Math.ceil(a/100),i=Math.ceil(r/(10*e.length));this.setData({value:e,items:new Array(i),rows:new Array(t)})}}}); 
 			}); 	require("components/watermarker/index.js");
 		__wxRoute = 'pages/cart/components/banner/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/banner/index.js';	define("pages/cart/components/banner/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var e=require("../../../../bases/component"),i=require("../../../../common/utils"),n=t(require("../../common/ptag-constants")),a=require("../../models/model"),r=t(require("./api"));new e.JDComponent({properties:{ppmsKey:String},data:{show:!1,activeId:"",img:"",imgLoaded:!1,url:""},attached:function(){this.refresh()},methods:{refresh:function(){var t=this,e=this.data.ppmsKey;if(!e)return this.hide();e&&r.getBanner(e).then(function(e){if(!e||!e.img)return t.hide();var r=e.id,o=e.img,s=e.wxappUrl;t.setData({show:!0,activeId:r,img:(0,i.getImg)(o,710,67)||"",url:s}),(0,a.addPtagExposure)(n.CART_BANNER)})},onCloseTap:function(){var t=this.data,e=t.ppmsKey,i=t.activeId;r.getCloseCount(e,i).then(function(t){return r.setCloseCount(e,i,t+1)}),this.hide(),(0,a.addPtag)(n.CART_BANNER_CLOSE)},onBannerTap:function(){(0,a.addPtag)(n.CART_BANNER_CLK),this.data.url&&this.$goto(this.data.url)},onImgLoad:function(){this.setData({imgLoaded:!0})},onImgError:function(){this.hide()},hide:function(){this.setData({show:!1,imgLoaded:!1})}}}); 
 			}); 	require("pages/cart/components/banner/index.js");
 		__wxRoute = 'pages/cart/components/bottom-bar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/bottom-bar/index.js';	define("pages/cart/components/bottom-bar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},a=t(require("../../common/ptag-constants.js")),i=require("../../../../bases/component.js"),o=function(t){return t&&t.__esModule?t:{default:t}}(require("../../../../behaviors/attributes.js")),s=require("../../common/select-mode.js"),n=t(require("../../../../common/modal/modal.js")),r=t(require("../../models/model.js")),c=[];new i.JDComponent({behaviors:[o.default],options:{addGlobalClass:!0},properties:{summary:{type:Object,value:{}},cartType:{type:Number,value:1},isPinGou:{type:Boolean,value:!1},editable:{type:Boolean,value:!1},showQuickCleanButton:{type:Boolean,value:!1},theme:{type:String,value:"theme"}},data:{},ready:function(){this.page=getCurrentPages().pop(),this.pageId=this._getPageId()},methods:{onCheck:function(t){this.triggerEvent("check",e({},t,{optype:"all",summary:this.data.summary,cartType:this.data.cartType})),this.hideSumDetail()},onEditCheck:function(t){this.triggerEvent("editcheck",e({},t,{optype:"all",checked:this.data.summary.editChecked,cartType:this.data.cartType}))},removeSelections:function(t){var e=this,a=s.SelectMode.getSelections(this.data.cartType);if(!a.length)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"请选择要删除的商品"});n.show({title:"",content:"确认将已选中的"+a.length+"件商品删除吗？",showCancel:!0,confirmText:"删除",success:function(){return e.triggerEvent("remove",{products:a,cartType:e.data.cartType})}})},add2Favorite:function(t){var e=this,a=s.SelectMode.getSelections(this.data.cartType),i=a.length?a.length>40?"一次收藏不能超过 40 个商品哦":"":"请选择要移至收藏的商品";if(i)return this.toast.show({icon:this.toast.ICON.WARNING,content:i});n.show({title:"",content:"确认将已选中的"+a.length+"件商品移至收藏？",showCancel:!0,confirmText:"移至收藏",success:function(){return e.triggerEvent("favorite",{products:a,cartType:e.data.cartType})}})},onPayCheck:function(t){var e=t.currentTarget.dataset.index;this.data.summary.details.forEach(function(t,a){t.checked=e===a}),this.setData({"summary.details":this.data.summary.details})},hideConfirmPay:function(){this.setData({showPay:!1})},showConfirmPay:function(){if(this.hideSumDetail(),this.data.summary.details.length>1)return this.setData({showPay:!0});this.gotoPay()},gotoPay:function(){this.hideSumDetail();var t=this.data.summary.details.length?this.data.summary.details.find(function(t){return!0===t.checked}):{category:"other",checkedSkuCount:+this.data.summary.checkedSkuCount,globalMix:this.data.summary.globalMix},e={category:t.category,checkedSkuCount:t.checkedSkuCount,mix:t.globalMix||0,global:"global"==t.category||1==t.globalMix?"1":"0",pingouchannel:this.data.isPinGou?1:0};if(this.hideConfirmPay(),r.addPtag(a.CART_GOTO_PAY,{num:this.data.summary.checkedNum,price:this.data.summary.price}),t.checkedSkuCount>110)return wx.showModal({title:"勾选商品太多啦",content:"单次结算商品不能超过110种，请重新选择结算商品",showCancel:!1,confirmText:"我知道了"});c.length&&(c.forEach(function(t){t()}),c=[]);var i=Date.now();this.disablePay&&i-this.disablePay<2e3||(this.disablePay=i,this.$goto("/pages/pay/index/index",e))},toggleDetail:function(){this.data.showSumDetail||r.addPtag(a.CART_SUMMARY_CASHBACK_CLK),this.setData({showSumDetail:!this.data.showSumDetail})},hideSumDetail:function(){this.data&&this.data.showSumDetail&&this.setData({showSumDetail:!1})},_onPay:function(t){"function"==typeof t&&c.push(t)},showQuickClearPanel:function(){this.triggerEvent("quickclear",{cartType:this.data.cartType})},noscroll:function(t){}}}); 
 			}); 	require("pages/cart/components/bottom-bar/index.js");
 		__wxRoute = 'pages/cart/components/main-sku-gift/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/main-sku-gift/index.js';	define("pages/cart/components/main-sku-gift/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";new(require("../../../../bases/component").JDComponent)({options:{addGlobalClass:!0},properties:{product:{type:Object,value:{}},itemId:{type:String,value:{}},type:{type:String,value:""},editable:{type:Boolean,value:!0},cartType:{type:Number,value:1},theme:{type:String,value:"theme"}},data:{},methods:{gotoGiftDetail:function(){this.doAction({action:"gotoGiftDetail"})},onRemoveGift:function(){this.doAction({action:"onRemoveGift"})},doAction:function(t){var e=this.data,i=e.product,o=e.itemId,n=e.cartType;Object.assign(t,{skuId:i.id,itemId:o,cartType:n}),this.trigger(t)},trigger:function(t){this.triggerEvent("action",t)}}}); 
 			}); 	require("pages/cart/components/main-sku-gift/index.js");
 		__wxRoute = 'pages/cart/components/number-picker/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/number-picker/index.js';	define("pages/cart/components/number-picker/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};new(require("../../../../bases/component").JDComponent)({properties:{num:{type:Number,value:1},min:{type:Number,value:1},max:{type:Number,value:1},theme:{type:String,value:"theme"}},data:{},methods:{doAction:function(t){var e=this._getDataSet(t).action;this.trigger({action:e})},showInputMask:function(t){this.trigger({action:"showInputMask"})},updateNum:function(t){var e=this._getDataSet(t).value;this.trigger({action:"updateNum",opts:{value:e}})},trigger:function(t){this.triggerEvent("action",t)},_getDataSet:function(e){return t({},e.currentTarget.dataset,e.target.dataset,e.detail)}}}); 
 			}); 	require("pages/cart/components/number-picker/index.js");
 		__wxRoute = 'pages/cart/components/option-promotions/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/option-promotions/index.js';	define("pages/cart/components/option-promotions/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var o={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=t[s]);return o.default=t,o}var o=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},s=require("../../../../bases/component.js"),i=function(t){return t&&t.__esModule?t:{default:t}}(require("../../../../behaviors/attributes")),e=require("../../../../api/Ptag/Ptag_utils.js"),a=require("../../../../api/Ptag/report_manager"),n=t(require("../../common/ptag-constants")),r=t(require("../../../../common/toast/toast")),h=t(require("./api")),l=t(require("../../../../common/modal/modal"));new s.JDComponent({behaviors:[i.default],properties:{hide:{type:Boolean,value:!0},cartType:{type:Number,value:1}},data:{showTips:!1,showList:!1,discount:0,isPlusPromo:!1,list:[],remCoupons:[]},ready:function(){this.page=getCurrentPages().pop(),this.refresh=this.helper.debounce(this.refresh,100),this.onViewList=this.helper.debounce(this.onViewList,100),this.onSwitchPromo=this.helper.debounce(this.onSwitchPromo,100)},methods:{hidePromoTips:function(){this.setData({showTips:!1,showList:!1,list:[]})},refresh:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?o||this.refreshPlusPromo():this.refreshOpPromo(o)},refreshOpPromo:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,h.getoptimalpromo(!1,this.data.cartType).then(function(s){var i=s.discount,e=s.relationMap,r=s.recommendCoupon;t.relationMap=e,t.recommendCoupon=r,t.setData({discount:i,showTips:+i>0,showList:!1,isPlusPromo:!1}),t.loading=!1,i>0?a.ReportManager.addPtagExposure(n.CART_OPTION_PROMO):o||t.refreshPlusPromo()},function(o){t.setData({showTips:!1,showList:!1}),t.loading=!1})},refreshPlusPromo:function(){var t=this;h.checkPlusPromoEnable().then(function(o){o?(t.loading=!0,void 0===t.grayIsOpen?h.getPPMSConfig().then(function(o){null==o?t.grayIsOpen=!1:(t.grayIsOpen=!0,t.priceLimit=o.ABTest?+o.limitA:0,t.ABTest=o.ABTest,t.loadPlusPromo()),t.loading=!1},function(o){t.loading=!1}):t.grayIsOpen&&t.loadPlusPromo()):t.triggerEvent("shutdown",{type:"plus"})})},loadPlusPromo:function(){var t=this;this.loading=!0,h.getoptimalpromo(!0,this.data.cartType).then(function(o){var s=o.discount,i=o.relationMap,e=o.plusGraySwitch;t.relationMap=i.filter(function(t){return+t.plusPrice<+t.price&&+t.plusPrice>0});var r=i&&i.length&&s>0&&t.priceLimit>0&&s>t.priceLimit;t.setData({discount:s,showTips:r,showList:!1,isPlusPromo:!0,plusGraySwitch:e}),r&&a.ReportManager.addPtagExposure(t.ABTest?n.CART_PlUS_PROMO_A:n.CART_PlUS_PROMO_B),t.loading=!1},function(o){t.setData({showTips:!1,showList:!1}),t.loading=!1})},onClosePromoTips:function(){this.setData({showTips:!1}),this.data.isPlusPromo?(e.PtagUtils.addPtag(n.CART_PlUS_PROMO_TIPS_CLOSE),h.plusCloseCount()):(e.PtagUtils.addPtag(n.CART_OPTION_PROMO_TIPS_CLOSE),this.refreshPlusPromo()),this.triggerEvent("shutdown",{type:this.data.isPlusPromo?"plus":"promo"})},onViewList:function(t){this.data.isPlusPromo?this.showPromoPlusMain(t):this.showPromoAIchooseMain(t)},showPromoAIchooseMain:function(){var t=this;this.loading||(this.loading=!0,e.PtagUtils.addPtag(n.CART_OPTION_PROMO_TIPS_CLK),h.selectoptimalpromo(this.relationMap,0,this.data.cartType).then(function(o){var s=h.formateCounpons(t.recommendCoupon);t.setData({list:o,showList:o.length,remCoupons:s}),!o.length&&t.showToast("哎呀，操作发生点意外，请重新试试"),t.loading=!1},function(o){t.showToast(o.message),t.loading=!1}))},showPromoPlusMain:function(){e.PtagUtils.addPtag(n.CART_PlUS_PROMO_TIPS_CLK);var t=h.getPlusPromoData(this.relationMap,this.data.cartType);this.setData({list:t,showList:!0})},onCloseList:function(){this.setData({showList:!1,list:[],remCoupons:[]})},onSwitchPromo:function(){var t=this;this.loading||(this.loading=!0,e.PtagUtils.addPtag(n.CART_OPTION_PROMO_SWITCH_CLK),this._showLoading(),h.batchChangePromo(this.relationMap,0,this.data.cartType).then(function(s){t.setData({showTips:!1,showList:!1});var i=h.getAllSkuId(t.data.cartType)[t.relationMap[0].skuId]||[],e=i&&i.length?o({},s,{uuid:i[0]||""}):s;t.loading=!1,t.triggerEvent("afterswitchpromo",{data:e})},function(o){t._hideLoading(),t.showToast(o.message),t.loading=!1}))},showPlusPriceTip:function(){e.PtagUtils.addPtag(n.CART_PlUS_PROMO_SPREAD_CLK),l.show({title:"",content:"节省金额=开通PLUS后的结算金额－当前结算金额（具体金额以实际结算为准）",maxHeight:"360",align:"left",showCancel:!1,confirmText:"我知道了"})},gotoPlus:function(){e.PtagUtils.addPtag(n.CART_PlUS_PROMO_VIEW),this.setData({showList:!1}),this.$goto("/pages/h5/index",{url:"https://plus.m.jd.com/index?s=xcx"})},buyPlus:function(){e.PtagUtils.addPtag(n.CART_PlUS_PROMO_BUY),this.setData({showList:!1});var t="https://plus.m.jd.com/index?s=xcx";1==this.data.plusGraySwitch&&(t="https://plus.m.jd.com/open/formalOpenConfirm?s=xcx"),this.$goto("/pages/h5/index",{url:t})},noscroll:function(){},showToast:function(t){r.show({page:this.page,icon:r.ICON.WARNING,content:t})}}}); 
 			}); 	require("pages/cart/components/option-promotions/index.js");
 		__wxRoute = 'pages/cart/components/popup-coupons/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/popup-coupons/index.js';	define("pages/cart/components/popup-coupons/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}var e=require("../../../../bases/component.js"),a=require("../../../../common/logger.js"),n=t(require("api")),o=t(require("draw")),r=new a.Logger("购物车-优惠券弹层"),s={AVAILABLE:"1",DISABLED:"2",LOADING:"3",OVER:"4"},i={GETTABLE:1,USEABLE:2};new e.JDComponent({options:{addGlobalClass:!0},properties:{vid:{type:String,value:""},cartType:{type:Number,value:1},show:{type:Boolean,value:!1,observer:"toggleVisible"}},data:{loading:!1,showError:!1,gettable:[],useable:[],skuInfos:{}},attached:function(){this.page=getCurrentPages().pop()},detached:function(){delete this.page},methods:{toggleVisible:function(t){var e=this;if(!t)return this.setData({showAnim:!1,loading:!1,gettable:[],useable:[]}),void o.hieRealNameMsgBox();setTimeout(function(){return e.setData({showAnim:!0})},100),this.refresh()},refresh:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.data,o=a.vid,r=a.cartType;o&&(this.setData({loading:!0}),n.queryCoupon({vid:o,cartType:r,sku:e.sku}).then(function(e){t.skuInfos=e.skuInfos||{},t.setData({gettable:e.gettable||[],useable:e.useable||[],loading:!1,hasError:!1}),e&&e.loginCount&&t.triggerEvent("cartchanged",{cartType:t.data.cartType})},function(e){var a=t.data,n=a.gettable,o=a.useable,r=!n.length&&!o.length;!r&&t.toast.show({page:t.page,icon:t.toast.ICON.WARNING,content:e.message}),t.setData({loading:!1,showError:r})}))},setDrawButtonStatus:function(t,e){var a={};a["gettable["+t+"].status"]=e,e==s.DISABLED&&(a["gettable["+t+"].couponDo"]=2),this.setData(a)},draw:function(t){var e=this,a=this.data.gettable,n=t.currentTarget.dataset,i=n.key,u=n.index,c=n.couponId,d=a.find(function(t){return i&&i==t.encryptedKey||c&&c==t.couponId});d&&d.status!=s.LOADING&&(this.setDrawButtonStatus(u,s.LOADING),o.draw(this,d).then(function(a){var n=a.success,o=a.code,r=34==o||54==o;e.setDrawButtonStatus(u,n?s.DISABLED:r?s.AVAILABLE:s.OVER),n&&e.triggerEvent("drawafter",t)}).catch(function(t){r.error(t),e.setDrawButtonStatus(u,s.AVAILABLE),t&&e.toast.show({page:e.page,icon:e.toast.ICON.WARNING,content:"活动太火爆了，请稍后重试"})}))},onCheck:function(t){var e=t.currentTarget.dataset.uuid,a=e&&this.skuInfos?this.skuInfos[e]:"";a&&[0,1].indexOf(+a.checkType)>-1&&(this.refresh({sku:a}),this.triggerEvent("cartchanged",{cartType:this.data.cartType}))},gotoCouponPromotion:function(t){var e=this.data,a=e.vid,o=e.gettable,r=void 0===o?[]:o,s=e.useable,u=void 0===s?[]:s,c=t.currentTarget.dataset,d=c.batchId;if(c.couponDo==i.GETTABLE)return this.toast.show({page:this.page,icon:this.toast.ICON.WARNING,content:"您还未领券，请先领券哦"});var g=u.find(function(t){return t.batchId==d});g||(g=r.find(function(t){return t.batchId==d})),this.triggerEvent("tocouponpromopage",{vid:a,batchId:d,couponKind:g.couponKind,startTime:n.getTimeStamp(g.beginTime),endTime:n.getTimeStamp(g.endTime),cartType:this.data.cartType})},onClose:function(t){this.triggerEvent("close",{cartType:this.data.cartType})},noscroll:function(t){}}}); 
 			}); 	require("pages/cart/components/popup-coupons/index.js");
 		__wxRoute = 'pages/cart/components/product/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/product/index.js';	define("pages/cart/components/product/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};new(require("../../../../bases/component").JDComponent)({options:{addGlobalClass:!0},properties:{product:{type:Object,value:{}},suitNum:{type:Number,value:0},vskuid:{type:String,value:""},editable:{type:Boolean,value:!0},shangou:{type:Object,value:{}},miaosha:{type:String,value:""},pingou:{type:Object,value:{}},partitionSku:{type:String,value:""},serviceEntry:{type:Boolean,value:!1},cartType:{type:Number,value:1},theme:{type:String,value:"theme"}},data:{},methods:{doAction:function(t){var i=this._getDataSet(t),a=i.action,o=i.imgclk,n=void 0===o?"":o,r=i.opts,c=this.data,u=c.product,s=c.cartType,p=c.partitionSku,d=c.vskuid,l=e({product:u,action:a,uuid:u.uuid,cartType:s,vskuid:d},r||{});switch(a){case"onEditCheck":Object.assign(l,{optype:"product",checked:u.editChecked});break;case"onCheck":Object.assign(l,{optype:"product"});break;case"gotoItemDetail":Object.assign(l,{imgclk:n});break;case"gotoPopItemDetail":Object.assign(l,{sku:p});break;case"gotoSimilarPage":Object.assign(l,{sku:u.mainSku&&u.mainSku.id})}a&&this.trigger(l)},onSliderViewRemove:function(e){this.doAction({action:"onSliderViewRemove"})},onSliderViewOpen:function(e){this.doAction({action:"onSliderViewOpen"})},onSliderViewFav:function(e){this.doAction({action:"onSliderViewFav"})},trigger:function(e){this.triggerEvent("action",e)},_getDataSet:function(t){return e({},t.currentTarget&&t.currentTarget.dataset,t.target&&t.target.dataset,t.detail,t)}}}); 
 			}); 	require("pages/cart/components/product/index.js");
 		__wxRoute = 'pages/cart/components/pullrefresh/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/pullrefresh/index.js';	define("pages/cart/components/pullrefresh/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},e={STOP:0,START:1,READY:2,LOADING:3};new(require("../../../../bases/component").JDComponent)({properties:{marginTop:{type:Number,value:0},height:{type:Number,value:100},enable:{type:Boolean,value:!0,observer:"reset"},scroll:{type:String,value:""},touchStart:{type:String,value:""},touchMove:{type:String,value:""},touchEnd:{type:String,value:""}},data:{curStatus:e.STOP,uiType:1},attached:function(){this.onPageTouchMove=this.helper.throttle(this.onPageTouchMove,50),this.bindEvents();var t=wx.getSystemInfoSync()||{};this._MinOffSetY=.25*(t.windowHeight||619),this.reset()},detached:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId="")},methods:{bindEvents:function(){var t=this;if(this.page=getCurrentPages().pop(),this.page){var e=this.data,a=e.scroll,i=e.touchStart,n=e.touchMove,s=e.touchEnd;[{name:a,func:this.onPageSrcoll},{name:i,func:this.onPageTouchStart},{name:n,func:this.onPageTouchMove},{name:s,func:this.onPageTouchEnd}].forEach(function(e){if(t.page[e.name]){var a=e.name+"Temp";t[a]=t.page[e.name],t.page[e.name]=function(i){t[a]&&t[a](i),e.func.call(t,i)}}})}},onPageSrcoll:function(t){this._scrollIndex=(this._getDataSet(t)||{}).scrollTop},onPageTouchStart:function(t){if(this.data.enable){var e=(t.touches[0]||t.changedTouches[0]).pageY;!this.startY&&(!this._scrollIndex||this._scrollIndex<10)&&e&&(this.startY=e,this.newY=e)}},onPageTouchMove:function(t){if(this.data.enable){var a=this.data.curStatus;if(this.startY&&a!=e.LOADING){var i=this.getNextStatus(t,!0);this.updateStatus(i)}}},onPageTouchEnd:function(t){if(this.data.enable){var a=this.data.curStatus;this.startY&&a!=e.LOADING&&(this.getNextStatus(t,!1)==e.READY?(this.loadingStartTime=(new Date).getTime(),this.updateStatus(e.LOADING)):this.reset())}},getNextStatus:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=(t.touches[0]||t.changedTouches[0]).pageY,n=i-this.startY,s=i-this.newY;return a&&Math.abs(s)<5?this.data.curStatus:this._scrollIndex>20||a&&s<0?e.STOP:n>=this._MinOffSetY?e.READY:n>=.4*this._MinOffSetY?e.START:(this.newY=this.startY,e.STOP)},updateStatus:function(t){if(t!=this.data.curStatus){this.setData({curStatus:t});var a=void 0;a=t==e.STOP?"close":t==e.LOADING?"loading":"open",this.triggerEvent(a)}},reset:function(){var t=this,a=0;if(!this.timeoutId&&this.loadingStartTime){var i=(new Date).getTime()-this.loadingStartTime;i<700&&(a=700-i)}var n=function(){t.startY=0,t.newY=0,t._scrollIndex=0,t.loadingStartTime=0,t.updateStatus(e.STOP)};this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=""),a>0?this.timeoutId=setTimeout(function(){t.timeoutId="",n()},a):n()},_getDataSet:function(e){return t({},e.currentTarget&&e.currentTarget.dataset,e.target&&e.target.dataset,e.detail,e)}}}); 
 			}); 	require("pages/cart/components/pullrefresh/index.js");
 		__wxRoute = 'pages/cart/components/sku-infos/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/sku-infos/index.js';	define("pages/cart/components/sku-infos/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var e=function(){function t(t,e){var r=[],i=!0,u=!1,a=void 0;try{for(var n,o=t[Symbol.iterator]();!(i=(n=o.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){u=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(u)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=require("../../../../bases/component.js"),i=t(require("../../models/model")),u=require("../../../../api/Ptag/Ptag_utils.js"),a=t(require("../../common/ptag-constants"));new r.JDComponent({options:{addGlobalClass:!0},properties:{uuid:{type:String,value:"",observer:"refresh"},services:{type:Object,value:{}},cartType:{type:Number,value:1},editable:{type:Boolean,value:!1}},data:{product:null,suitNum:0,vSkuId:"",showPopup:!1,showServiceEntry:!1},methods:{refresh:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!r)return this.setData({product:null,showPopup:!1});var n=this.data.cartType,o=i.queryProductByUUID(r,n)||null,s="",d=0;if(o&&o.isSuit){var c=r.split("_"),l=e(c,4),v=l[2],h=l[3],p=i.queryItemByItemId(v,n)||{};h!=o.mainSku.id&&p.suits&&p.suits.length&&(p=p.suits.find(function(t){return t.vSkuId==h})||{}),d=p.num||0,s=p.vSkuId||""}var f=!this.data.editable&&o&&o.serviceSelNum>0;f&&u.PtagUtils.addPtag(a.CART_SKUINFOCMP_SERVERCE),this.setData({product:o,vSkuId:s,suitNum:d,showServiceEntry:f},function(){t.setData({showPopup:!0})})},close:function(t){this.triggerEvent("close",t)},showSwitchSkuPanel:function(t){var e=t.currentTarget.dataset.skuId,r=void 0===e?"":e,i=this.data,u=i.uuid,a=i.cartType;this.triggerEvent("showSwitchSkuPanel",{skuId:r,uuid:u,cartType:a})},onRemoveJdService:function(t){var e=t.currentTarget.dataset.skuId,r=void 0===e?"":e,i=this.data,u=i.uuid,a=i.cartType;this.triggerEvent("removeJdService",{skuId:r,uuid:u,cartType:a})},gotoGiftDetail:function(t){var e=t.currentTarget.dataset.skuId,r=void 0===e?"":e,i=this.data,u=i.uuid,a=i.cartType;this.triggerEvent("goGiftDetail",{skuId:r,uuid:u,cartType:a})},gotoAttachmentsDetail:function(t){var e=t.currentTarget.dataset.skuId,r=void 0===e?"":e;this.triggerEvent("goAttachmentsDetail",{skuId:r})},noscroll:function(t){}}}); 
 			}); 	require("pages/cart/components/sku-infos/index.js");
 		__wxRoute = 'pages/cart/components/suit/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/suit/index.js';	define("pages/cart/components/suit/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e};new(require("../../../../bases/component").JDComponent)({options:{addGlobalClass:!0},properties:{item:{type:Object,value:{}},editable:{type:Boolean,value:!0},services:{type:Object,value:{}},partition:{type:Number,value:0},flashPurchaseSkus:{type:Object,value:{}},miaShaInfos:{type:Object,value:{}},isPinGou:{type:Boolean,value:!1},cartType:{type:Number,value:1},theme:{type:String,value:"theme"}},data:{},methods:{doAction:function(t){var a=this._getDataSet(t),i=a.action,o=a.opts,r=this.data,n=r.item,c=r.cartType,s=e({product:n,action:i,uuid:n.uuid,cartType:c},o||{});switch(i){case"onEditCheck":Object.assign(s,{optype:"product",checked:n.editChecked});break;case"onCheck":Object.assign(s,{optype:"product"});break;case"onSliderViewRemove":Object.assign(s,{product:n,uuid:n.uuid})}this.trigger(s)},proAction:function(e){"onSliderViewRemove"==this._getDataSet(e).action?this.doAction(e):this.trigger(e.detail)},trigger:function(e){this.triggerEvent("action",e)},_getDataSet:function(t){return e({},t.currentTarget.dataset,t.target.dataset,t.detail)}}}); 
 			}); 	require("pages/cart/components/suit/index.js");
 		__wxRoute = 'pages/cart/components/switch-price/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/switch-price/index.js';	define("pages/cart/components/switch-price/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e={show:!1,price:"",memberPrice:"",memberPriceType:"",promoTag:"",shopLevel:""};new(require("../../../../bases/component.js").JDComponent)({properties:{options:{type:Object,value:e,observer:"onOptionsChange"}},data:{show:!0},attached:function(){},methods:{onOptionsChange:function(o){o=o||e,this.setData(o.show?{show:o.show,price:o.price,memberPrice:o.memberPrice,memberPriceType:o.memberPriceType,promoTag:o.promoTag,shopLevel:o.shopLevel,uuid:o.uuid}:{show:!1})},select:function(e){var o=e.currentTarget.dataset,t=o.checked,r=o.name;t||(this.setData({promoTag:r}),this.triggerEvent("select",e))},close:function(e){this.triggerEvent("close",e)}}}); 
 			}); 	require("pages/cart/components/switch-price/index.js");
 		__wxRoute = 'pages/cart/components/switch-promotions/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/switch-promotions/index.js';	define("pages/cart/components/switch-promotions/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";new(require("../../../../bases/component.js").JDComponent)({options:{addGlobalClass:!0},properties:{promotion:{type:Object,value:{list:[]},observer:"loadList"}},methods:{loadList:function(t,e){this.setData(t)},hasChange:function(t){var e=this.data.list.find(function(t){return 1==t.sstate});return!!e&&e.pid!=t},select:function(t){var e=t.currentTarget.dataset.pid;this.hasChange(e)&&this.triggerEvent("select",t)},close:function(t){this.triggerEvent("select",t)},noscroll:function(t){}}}); 
 			}); 	require("pages/cart/components/switch-promotions/index.js");
 		__wxRoute = 'pages/cart/components/top-bar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/components/top-bar/index.js';	define("pages/cart/components/top-bar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},a=require("../../models/model"),o=e(require("../../common/ptag-constants")),r=require("../../../../bases/component"),n=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../behaviors/attributes")),i=e(require("../../../../common/cookie-v2/cookie"));new r.JDComponent({behaviors:[n.default],properties:{isEmptyCart:{type:Boolean,value:!0},hidden:{type:Boolean,value:!0},editable:{type:Boolean,value:!1},navHeight:{type:Number,value:0},addrFixed:{type:Boolean,value:!1},address:{type:String,value:""},cartType:{type:Number,value:1},showJthEntry:{type:Boolean,value:!1},theme:{type:String,value:"theme"}},data:{showMenus:!1},pageLifetimes:{hide:function(){this.hideMenus()}},ready:function(){this._pageId="_"+this._getPageId()},attached:function(){var e=t({},this.data.navBarData),a=(getApp()||{}).systemInfo.system,o=void 0===a?"":a;e.pageKey="wxapp_cart_cart",this.data.showCapsule&&(e.isShowCapsule=!0),e.marginTop=/ios/i.test(o)?4:8,this.setData({navBarData:e})},methods:{doEdit:function(e){var t=this.data.cartType;this.triggerEvent("toggleeditmode",{cartType:t})},_getDataSet:function(e){return t({},e.currentTarget&&e.currentTarget.dataset,e.target&&e.target.dataset,e.detail)},showSwitchAddressPanel:function(e){this.triggerEvent("showaddrpanel",e.detail)},gotoSharePage:function(e){var t=i.getCookie("nickName");this.$goto("/pages/h5/index",{url:"https://wqs.jd.com/my/cart/cart_share_v2.shtml?iswxapp=1&wxname="+t})},showMenus:function(e){this.setData({showMenus:!0})},hideMenus:function(e){this.setData({showMenus:!1})},gotoHomeShoppingList:function(){(0,a.addPtag)(o.CART_MENU_JTH),this.$goto("/pages/family/pages/shoppingList/shoppingList")}}}); 
 			}); 	require("pages/cart/components/top-bar/index.js");
 		__wxRoute = 'pages/cate/components/banner/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/components/banner/index.js';	define("pages/cate/components/banner/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},a=require("../../../../common/taro/@tarojs/taro-weapp/index.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=require("../../../../common/navigator.js"),s=require("../../../../common/utils.js"),p=require("../../../cate/model.js"),c={},f=function(r){function f(){var n,r,o,i;e(this,f);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return r=o=t(this,(n=f.__proto__||Object.getPrototypeOf(f)).call.apply(n,[this].concat(l))),o.$usedState=["entries","swiperIdx","updateTime","onClick","__fn_onClick","config"],o.handleSlideChange=function(e){var t=e.detail.current;o.setState({swiperIdx:t},function(){var e=o.state.entries,n=e[t]&&e[t].id||"";u.default.eventCenter.trigger("exposureZwx",{type:"banner",eparam:n})})},o.$$refs=[],i=r,t(o,i)}return n(f,a.Component),o(f,[{key:"_constructor",value:function(e){i(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_constructor",this).call(this,e),this.updateConfig(e.config)}},{key:"componentWillReceiveProps",value:function(e){e.updateTime!==this.props.updateTime&&this.updateConfig(e.config)}},{key:"updateConfig",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("|"),t=!Number.isNaN(e[0])&&e[0],n=e[1]||"";if(!t)return this.setState({entries:[],swiperIdx:0});this.groupId=t,this.ptag=n,this.loadData()}},{key:"loadData",value:function(){var e=this;(0,p.getCpcData)([this.groupId]).then(function(t){var n=t[e.groupId]||{},r=[];for(var o in n)r=r.concat(n[o]||[]);r=r.map(function(t){return{id:t.planid,image:(0,s.getImg)(t.material,670),url:(0,p.addPtag)(t.sUrl,e.ptag)}}),c[e.groupId]=r,e.setState({entries:r,swiperIdx:0},function(){if(r&&r[0]){var e=r[0].id||"";u.default.eventCenter.trigger("exposureZwx",{type:"banner",eparam:e})}})})}},{key:"handleItemClick",value:function(e){var t=e.currentTarget.dataset,n=t.url,r=t.id,o={id:void 0===r?"":r,target:n};(0,l.goto)(n),this.props.onClick&&this.__triggerPropsFn("onClick",[null].concat([o]))}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.__state,t=e.entries,n=void 0===t?[]:t,r=e.swiperIdx,o=void 0===r?0:r;return n.length?(Object.assign(this.__state,{entries:n,swiperIdx:o}),this.__state):null}}]),f}();f.properties={updateTime:{type:null,value:null},onClick:{type:null,value:null},__fn_onClick:{type:null,value:null},config:{type:null,value:null}},f.$$events=["handleSlideChange","handleItemClick"],exports.default=f,new(require("../../../../bases/component.js").JDComponent)(require("../../../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(f)); 
 			}); 	require("pages/cate/components/banner/index.js");
 		__wxRoute = 'pages/cate/components/cate-list/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/components/cate-list/index.js';	define("pages/cate/components/cate-list/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){return/PTAG=/i.test(e)?e.replace(/PTAG=[\d\.]+/i,"PTAG="+t):e+(-1===e.indexOf("?")?"?":"&")+"PTAG="+t}function n(e){return{1:{color:"",txt:""},2:{color:"#ef491e",txt:"HOT"},3:{color:"#c6d964",txt:"NEW"},4:{color:"",txt:e.customDoc||""}}[e.label]||{}}function i(e){return!(e&&0!==Number(e.label)&&1!==Number(e.label)&&e.labelStartTime&&e.labelEndTime&&0===(0,f.checkTime)(e.labelStartTime,e.labelEndTime))}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),u=function e(t,o,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,o);if(void 0===n){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,r)}if("value"in n)return n.value;var l=n.get;if(void 0!==l)return l.call(r)},s=require("../../../../common/taro/@tarojs/taro-weapp/index.js"),c=function(e){return e&&e.__esModule?e:{default:e}}(s),p=require("../../../../common/navigator.js"),f=require("../../../../common/utils.js"),d=function(l){function d(){var o,n,i,l;e(this,d);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=i=t(this,(o=d.__proto__||Object.getPrototypeOf(d)).call.apply(o,[this].concat(u))),i.$usedState=["loopArray0","entries","onClick","__fn_onClick","updateTime"],i.handleItemClick=function(e){var t=e.currentTarget.dataset,o=t.key,n=t.url,l=t.pps,a=t.ptag,u=t.index,s=t.cateIdx,c=i.props.entries[s]||{},d={cate:c,cateIdx:s,level2Item:c.level2words[u]||{},level2Index:u};if(/key=([^=&]+)/.test(n)){var _={key:o,pps:l,ptag:a};d.target="/pages/search/list/list?"+(0,f.querystr)(_),(0,p.goto)("/pages/search/list/list",_)}else(0,p.goto)(r(n,a)),d.target=n;i.props.onClick&&i.__triggerPropsFn("onClick",[null].concat([d]))},i.$$refs=[],l=n,t(i,l)}return o(d,s.Component),a(d,[{key:"_constructor",value:function(e){u(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"_constructor",this).call(this,e)}},{key:"shouldComponentUpdate",value:function(e){return e.updateTime!==this.props.updateTime}},{key:"componentDidMount",value:function(){this.observer=this.$scope.createIntersectionObserver({observeAll:!0}).relativeToViewport(),this.observer.observe(".sub-list__item",function(e){var t=e.dataset,o=t.cateId,r=void 0===o?"":o,n=t.id,i=void 0===n?"":n,l=t.index,a=void 0===l?"":l;c.default.eventCenter.trigger("exposureZwx",{type:"cate",eparam:r+"#"+i+"#"+a})})}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.__props.entries,t=void 0===e?[]:e,o=t.map(function(e,t){return{$anonymousCallee__0:(e={$original:(0,s.internal_get_original)(e)}).$original.level2words.map(function(e,t){return{$loopState__temp2:i((e={$original:(0,s.internal_get_original)(e)}).$original),$loopState__temp4:(0,s.internal_inline_style)({backgroundColor:n(e.$original).color}),$loopState__temp6:n(e.$original).txt,$original:e.$original}}),$original:e.$original}});return Object.assign(this.__state,{loopArray0:o,entries:t}),this.__state}}]),d}();d.properties={entries:{type:null,value:null},onClick:{type:null,value:null},__fn_onClick:{type:null,value:null},updateTime:{type:null,value:null}},d.$$events=["handleItemClick"],exports.default=d,new(require("../../../../bases/component.js").JDComponent)(require("../../../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(d)); 
 			}); 	require("pages/cate/components/cate-list/index.js");
 		__wxRoute = 'pages/cate/components/channel/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/components/channel/index.js';	define("pages/cate/components/channel/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var u=r.get;if(void 0!==u)return u.call(o)},u=require("../../../../common/taro/@tarojs/taro-weapp/index.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(o){function l(){var n,o,r,i;e(this,l);for(var u=arguments.length,a=Array(u),c=0;c<u;c++)a[c]=arguments[c];return o=r=t(this,(n=l.__proto__||Object.getPrototypeOf(l)).call.apply(n,[this].concat(a))),r.$usedState=["channelInfo","__fn_onClick","updateTime"],r.handleClick=function(e){r.__triggerPropsFn("onClick",[null].concat([e]))},r.$$refs=[],i=o,t(r,i)}return n(l,u.Component),r(l,[{key:"_constructor",value:function(e){i(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"_constructor",this).call(this,e)}},{key:"shouldComponentUpdate",value:function(e){return e.updateTime!==this.props.updateTime}},{key:"componentDidMount",value:function(){this.observer=this.$scope.createIntersectionObserver({observeAll:!0}).relativeToViewport(),this.observer.observe(".channel",function(e){var t=e.dataset,n=t.url,o=t.name;a.default.eventCenter.trigger("exposureZwx",{type:"channel",eparam:n+"_"+o})})}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.__props.channelInfo;return e?(Object.assign(this.__state,{channelInfo:e}),this.__state):null}}]),l}();l.properties={__fn_onClick:{type:null,value:null},updateTime:{type:null,value:null},channelInfo:{type:null,value:null}},l.$$events=["handleClick"],exports.default=l,new(require("../../../../bases/component.js").JDComponent)(require("../../../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(l)); 
 			}); 	require("pages/cate/components/channel/index.js");
 		__wxRoute = 'pages/cate/components/promotion-entry/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/components/promotion-entry/index.js';	define("pages/cate/components/promotion-entry/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":n(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},a=require("../../../../common/taro/@tarojs/taro-weapp/index.js"),l=(function(t){t&&t.__esModule}(a),require("../../../../common/navigator.js")),u=function(n){function u(){var o,n,r,i;t(this,u);for(var a=arguments.length,l=Array(a),p=0;p<a;p++)l[p]=arguments[p];return n=r=e(this,(o=u.__proto__||Object.getPrototypeOf(u)).call.apply(o,[this].concat(l))),r.$usedState=["anonymousState__temp","loopArray0","entries","updateTime","promotion"],r.$$refs=[],i=n,e(r,i)}return o(u,a.Component),r(u,[{key:"_constructor",value:function(t){i(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"_constructor",this).call(this,t)}},{key:"handleItemClick",value:function(t){var e=t.currentTarget.dataset.url;(0,l.goto)(e)}},{key:"shouldComponentUpdate",value:function(t){return t.updateTime!==this.props.updateTime}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var t=this.__props.promotion,e=void 0===t?{}:t,o=e.entries,n=void 0===o?[]:o,r=e.img,i=e.titleColor,l=e.descColor;if(!n.length||n.length<4)return null;var u=(0,a.internal_inline_style)({backgroundImage:"url("+r+")"}),p=n.map(function(t,e){return t={$original:(0,a.internal_get_original)(t)},{$loopState__temp3:e<4?(0,a.internal_inline_style)({color:i}):null,$loopState__temp5:e<4?(0,a.internal_inline_style)({color:l}):null,$original:t.$original}});return Object.assign(this.__state,{anonymousState__temp:u,loopArray0:p,entries:n}),this.__state}}]),u}();u.properties={updateTime:{type:null,value:null},promotion:{type:null,value:null}},u.$$events=["handleItemClick"],exports.default=u,new(require("../../../../bases/component.js").JDComponent)(require("../../../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(u)); 
 			}); 	require("pages/cate/components/promotion-entry/index.js");
 		__wxRoute = 'pages/cate/components/promotion/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/components/promotion/index.js';	define("pages/cate/components/promotion/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":n(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function e(t,o,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,o);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in r)return r.value;var u=r.get;if(void 0!==u)return u.call(n)},u=require("../../../../common/taro/@tarojs/taro-weapp/index.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(u),l=require("../../../../common/navigator.js"),s=function(n){function s(){var o,n,r,i;e(this,s);for(var u=arguments.length,a=Array(u),l=0;l<u;l++)a[l]=arguments[l];return n=r=t(this,(o=s.__proto__||Object.getPrototypeOf(s)).call.apply(o,[this].concat(a))),r.$usedState=["promotion","onClick","__fn_onClick","updateTime"],r.$$refs=[],i=n,t(r,i)}return o(s,u.Component),r(s,[{key:"_constructor",value:function(e){i(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_constructor",this).call(this,e)}},{key:"handleItemClick",value:function(e){var t=e.currentTarget.dataset,o=t.key,n=t.name,r=t.url,i=t.id;this.props.onClick&&this.__triggerPropsFn("onClick",[null].concat([{name:n,url:r,id:i}])),/\/\//.test(r)&&!/key=([^=&]+)/.test(r)?(0,l.goto)(r):(0,l.goto)("/pages/search/list/list",{key:o})}},{key:"shouldComponentUpdate",value:function(e){return e.updateTime!==this.props.updateTime}},{key:"componentDidMount",value:function(){this.observer=this.$scope.createIntersectionObserver({observeAll:!0}).relativeToViewport(),this.observer.observe(".marketing__list-item",function(e){var t=e.dataset,o=t.id,n=t.name;a.default.eventCenter.trigger("exposureZwx",{type:"prmt",eparam:o+"#"+n})})}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.__props.promotion;return e?(Object.assign(this.__state,{promotion:e}),this.__state):null}}]),s}();s.properties={onClick:{type:null,value:null},__fn_onClick:{type:null,value:null},updateTime:{type:null,value:null},promotion:{type:null,value:null}},s.$$events=["handleItemClick"],exports.default=s,new(require("../../../../bases/component.js").JDComponent)(require("../../../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(s)); 
 			}); 	require("pages/cate/components/promotion/index.js");
 		__wxRoute = 'pages/cate/components/tab-nav/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/components/tab-nav/index.js';	define("pages/cate/components/tab-nav/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},a=require("../../../../common/taro/@tarojs/taro-weapp/index.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(r){function l(){var n,r,o,i;e(this,l);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return r=o=t(this,(n=l.__proto__||Object.getPrototypeOf(l)).call.apply(n,[this].concat(u))),o.$usedState=["st","curIdx","tabEntries","updateTime","onTabClick","__fn_onTabClick"],o.handleItemClick=function(e){var t=e.currentTarget.dataset,n=t.index,r=t.ptag;o.props.onTabClick&&o.__triggerPropsFn("onTabClick",[null].concat([{index:n,ptag:r},!0]))},o.$$refs=[],i=r,t(o,i)}return n(l,a.Component),o(l,[{key:"_constructor",value:function(e){i(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"_constructor",this).call(this,e)}},{key:"shouldComponentUpdate",value:function(e){return e.updateTime!==this.props.updateTime&&(this.observer&&this.observer.disconnect(),this.observer=this.$scope.createIntersectionObserver({observeAll:!0}).relativeToViewport(),this.observer.observe(".tab__item",function(e){var t=e.dataset,n=t.index,r=t.id,o=t.name;u.default.eventCenter.trigger("exposureZwx",{type:"tab",eparam:r+"#"+o+"#"+n})}),!0)}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var e=this.__props,t=e.tabEntries,n=e.curIdx,r=e.st;return Object.assign(this.__state,{st:r,curIdx:n,tabEntries:t}),this.__state}}]),l}();l.properties={updateTime:{type:null,value:null},onTabClick:{type:null,value:null},__fn_onTabClick:{type:null,value:null},tabEntries:{type:null,value:null},curIdx:{type:null,value:null},st:{type:null,value:null}},l.$$events=["handleItemClick"],exports.default=l,new(require("../../../../bases/component.js").JDComponent)(require("../../../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(l)); 
 			}); 	require("pages/cate/components/tab-nav/index.js");
 		__wxRoute = 'pages/index/compoments-sale/banner-1/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/compoments-sale/banner-1/index.js';	define("pages/index/compoments-sale/banner-1/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../mallv2/common-behavior.js")),i=require("../../../../api/Ptag/report_manager.js"),r=require("../../utils.js"),n=require("../../../../common/timer-manage");new e.JDComponent({behaviors:[t.default],properties:{stage:{type:String}},data:{color:"",l_name:"",l_benefit:"",l_img:"",l_link:"",r_name:"",r_benefit:"",r_img:"",r_link:"",swiperIdx:0,bgImg:"",location:[],hideModule:!1},attached:function(){this.page=getCurrentPages().pop()},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){if(!e.ny_tonglan_1)return Promise.reject("数据格式错误");var a=e.ny_tonglan_1,l=a.stage,o=a.bg,g=a.benefit_color1,s=a.benefit_color2,m=a.l_name,u=a.l_benefit,_=a.l_corner_img,c=a.l_img,p=a.l_link,f=a.l_ptag,d=a.r_name,h=a.r_benefit,b=a.r_img,v=a.r_link,I=a.r_ptag,P=a.m_items;if(Number(l)!==Number(t.data.stage))return Promise.reject("未到展示时机");if(!(o&&m&&u&&c&&p&&d&&h&&b&&v&&P))return Promise.reject("数据字段缺少");for(var k=P.filter(function(e){return e.link&&e.img&&e.name}),x=[],j=[f,I],w=0;w+1<k.length&&w<=8;w+=2)j.push(k[w].ptag),j.push(k[w+1].ptag),x.push({name:k[w].name,l_img:t.utils.getImg(k[w].img),l_link:(0,r.replaceParam)(k[w].link,{ptag:k[w].ptag}),r_img:t.utils.getImg(k[w+1].img),r_link:(0,r.replaceParam)(k[w+1].link,{ptag:k[w+1].ptag})});if(x.length<1)return Promise.reject("中间坑位数量小于2");var q=t.data.swiperIdx,M={bg:t.utils.getImg(o),benefitBg:g&&s?"linear-gradient(to right, "+g+" 0%, "+s+" 100%)":"",l_corner_img:t.utils.getImg(_),l_name:m,l_benefit:u,l_img:t.utils.getImg(c),l_link:(0,r.replaceParam)(p,{ptag:f}),r_name:d,r_benefit:h,r_img:t.utils.getImg(b),r_link:(0,r.replaceParam)(v,{ptag:I}),location:x,swiperIdx:q||0,hideModule:!1};t.isRefresh&&!e.fromCache&&(M.swiperIdx=0),t.setData(M,function(){j.forEach(function(e){return i.ReportManager.addPtagExposure(e)}),e.fromCache||t.isRefresh||(t.isRefresh=!0),(0,n.stopInterval)(t.timer),t.timer=(0,n.createInterval)(function(){var e=((t.data.swiperIdx||0)+1)%x.length;t.setData({swiperIdx:e})},2e3,t.page)})}).catch(function(e){console.warn("618 预热期大促通栏",e),t.setData({hideModule:!0})})},gotoUrl:function(e){var t=e.currentTarget.dataset.url,i=void 0===t?"":t;this.$goto("/pages/h5/index",{url:i})}}}); 
 			}); 	require("pages/index/compoments-sale/banner-1/index.js");
 		__wxRoute = 'pages/index/compoments-sale/banner-2/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/compoments-sale/banner-2/index.js';	define("pages/index/compoments-sale/banner-2/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../mallv2/common-behavior.js")),i=require("../../../../api/Ptag/report_manager.js"),r=require("../../utils.js"),n=require("../../../../common/timer-manage");new e.JDComponent({behaviors:[t.default],properties:{stage:{type:String}},data:{color:"",bgImg:"",l1_coner:"",l1_benefit:"",l1_img:"",l1_link:"",l1_name:"",l2_coner:"",l2_benefit:"",l2_img:"",l2_link:"",l2_name:"",r1_benefit:"",r1_img:"",r1_link:"",r1_name:"",r2_benefit:"",r2_img:"",r2_link:"",r2_name:"",swiperIdx:0,location:[],hideModule:!0},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},attached:function(){this.page=getCurrentPages().pop()},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){if(!e.ny_tonglan_2)return Promise.reject("数据格式错误");var a=e.ny_tonglan_2,l=a.bg,g=a.m_items,m=a.color,_=a.stage,o=a.l1_corner_img,s=a.l1_ptag,c=a.l1_benefit,u=a.l1_img,p=a.l1_link,f=a.l1_name,d=a.l2_corner_img,h=a.l2_ptag,b=a.l2_benefit,I=a.l2_img,k=a.l2_link,v=a.l2_name,P=a.r1_ptag,x=a.r1_benefit,j=a.r1_img,w=a.r1_link,q=a.r1_name,C=a.r2_ptag,M=a.r2_benefit,D=a.r2_img,R=a.r2_link,y=a.r2_name;if(!(l&&_&&g&&c&&u&&p&&f&&b&&I&&k&&v&&x&&j&&w&&q&&M&&D&&R&&y))return Promise.reject("数据格式错误");if(t.data.stage!==_)return Promise.reject("日期未到");for(var A=g.filter(function(e){return e.link&&e.img&&e.name}),E=[],J=[s,h,P,C],S=0;S+1<A.length&&S<=8;S+=2)J.push(A[S].ptag),J.push(A[S+1].ptag),E.push({name:A[S].name,l_img:t.utils.getImg(A[S].img),l_link:(0,r.replaceParam)(A[S].link,{ptag:A[S].ptag}),r_img:t.utils.getImg(A[S+1].img),r_link:(0,r.replaceParam)(A[S+1].link,{ptag:A[S+1].ptag})});if(E.length<1)return Promise.reject("中间坑位数量小于2");var T=t.data.swiperIdx,U={bgImg:t.utils.getImg(l),color:m,l1_coner:t.utils.getImg(o),l1_name:f,l1_benefit:c,l1_img:t.utils.getImg(u),l1_link:(0,r.replaceParam)(p,{ptag:s}),l2_coner:t.utils.getImg(d),l2_name:v,l2_benefit:b,l2_img:t.utils.getImg(I),l2_link:(0,r.replaceParam)(k,{ptag:h}),r1_name:q,r1_benefit:x,r1_img:t.utils.getImg(j),r1_link:(0,r.replaceParam)(w,{ptag:P}),r2_name:y,r2_benefit:M,r2_img:t.utils.getImg(D),r2_link:(0,r.replaceParam)(R,{ptag:C}),location:E,swiperIdx:T||0,hideModule:!1};t.isRefresh&&!e.fromCache&&(U.swiperIdx=0),t.setData(U,function(){!e.fromCache&&J.forEach(function(e){return i.ReportManager.addPtagExposure(e)}),e.fromCache||t.isRefresh||(t.isRefresh=!0),t.timer&&(0,n.stopInterval)(t.timer),t.timer=(0,n.createInterval)(function(){var e=((t.data.swiperIdx||0)+1)%E.length;t.setData({swiperIdx:e})},2e3,t.page)})}).catch(function(e){console.warn("热卖期大促通栏",e),t.setData({hideModule:!0})})},gotoUrl:function(e){var t=e.currentTarget.dataset.url,i=void 0===t?"":t;i&&this.$goto("/pages/h5/index",{url:i})}}}); 
 			}); 	require("pages/index/compoments-sale/banner-2/index.js");
 		__wxRoute = 'pages/index/compoments-sale/featured-1/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/compoments-sale/featured-1/index.js';	define("pages/index/compoments-sale/featured-1/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../mallv2/common-behavior.js")),i=require("../../../../common/utils.js"),n=require("../../utils.js"),r=require("../../../../api/Ptag/report_manager.js");new e.JDComponent({behaviors:[t.default],properties:{},data:{entries:[],current:1,hideModule:!0},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){var a=e&&e.gxhc||{},o=a.content||[];if(!o||!o.length)return Promise.reject("无数据");var s=o.map(function(e,t){return{name:e.name||"",des:e.benefit||"",img:(0,i.getImg)(e.img),url:(0,n.replaceParam)(e.link,{ptag:e.ptag})||"",style:e.bg_img&&"background-image: url("+(0,i.getImg)(e.bg_img)+");",ptag:e.ptag||""}});if(!(s=s.filter(function(e){return e.name&&e.des&&e.img&&e.url&&e.style})).length||s.length<3)return Promise.reject("数据不足");var u=[],g=e&&e.fromCache;s.forEach(function(e){u.push(e.ptag)}),!g&&r.ReportManager.addPtagExposure("7593.1.1",{ptag_list:u.join("_")}),t.setData({entries:s,hideModule:1!=a.switch})}).catch(function(e){t.setData({hideModule:!0})})},swiperChange:function(e){this.setData({current:e.detail.current})},gotoUrl:function(e){var t=e.currentTarget.dataset.url;this.$goto(t)}}}); 
 			}); 	require("pages/index/compoments-sale/featured-1/index.js");
 		__wxRoute = 'pages/index/compoments-sale/featured-2/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/compoments-sale/featured-2/index.js';	define("pages/index/compoments-sale/featured-2/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../../../bases/component.js"),e=function(t){return t&&t.__esModule?t:{default:t}}(require("../../mallv2/common-behavior.js")),i=require("../../../../common/utils.js"),r=require("../../utils.js"),n=require("../../../../api/Ptag/report_manager.js");new t.JDComponent({behaviors:[e.default],data:{entries:[],entries_top2:[],config:{},hideModule:!0},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(t){var e=this;Promise.resolve(t).then(function(t){var a=t&&t.jxhc||{},o=a.content||[],g=1==a.is_show_top2;if(!o||!o.length)return Promise.reject("无数据");var l={headBg:(0,i.getImg)(a.bg_img)||"",leftText:a.l_txt||"",rightText:a.r_txt||"",leftUrl:(0,r.replaceParam)(a.l_link,{ptag:a.l_ptag})||"",rightUrl:(0,r.replaceParam)(a.r_link,{ptag:a.r_ptag})||"",leftPtag:a.l_ptag||"",rightPtag:a.r_ptag||""},s=o.map(function(t){return{name:t.name||"",des:t.benefit||"",img:(0,i.getImg)(t.img,130),url:(0,r.replaceParam)(t.link,{ptag:t.ptag})||"",ptag:t.ptag||"",bg:t.bg_img||""}});(s=s.filter(function(t){return t.name&&t.img&&t.url})).length%2==1&&s.pop();var u=[],p=t&&t.fromCache;s.forEach(function(t){u.push(t.ptag)}),u.push(l.leftPtag,l.rightPtag),!p&&n.ReportManager.addPtagExposure("7593.1.1",{ptag_list:u.join("_")});var c=g&&s.splice(0,2)||[];if(!s.length||s.length<10)return Promise.reject("数据不足");e.setData({config:l,entries:s,entries_top2:c,hideModule:!1})}).catch(function(t){e.setData({hideModule:!0})})},gotoUrl:function(t){var e=t.currentTarget.dataset.url;this.$goto(e)}}}); 
 			}); 	require("pages/index/compoments-sale/featured-2/index.js");
 		__wxRoute = 'pages/index/compoments-sale/timeaxis-1/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/compoments-sale/timeaxis-1/index.js';	define("pages/index/compoments-sale/timeaxis-1/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../mallv2/common-behavior.js")),i=require("../../model"),n=require("../../../../api/Ptag/report_manager.js"),r=require("../../../../common/timer-manage"),a=require("../../utils.js");new e.JDComponent({behaviors:[t.default],data:{bg:"",time_list:[],showMessage:!1,messageTxt:"",iconType:"success",is_show_img:!0,hideModule:!1},attached:function(){this.page=getCurrentPages().pop()},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){if(!e.timeline)return Promise.reject("时间轴无数据");var r=e.timeline,s=r.is_newusr,o=r.bg_img,g=r.today_bg_img,c=r.today_benefit_color,u=r.pre_link,_=r.pre_bg_color,m=r.pre_bg_img,l=r.after_bg_img,f=r.after_bg_color,d=r.see_more_link,p=r.see_more_img,h=r.see_more_ptag,b=r.today_link,v=r.content;if(!(o&&g&&(u||1!==Number(s))&&m&&l&&d&&p&&b&&v))return Promise.reject("数据字段缺失");var x=[h],w=[],T=!0,M=v.filter(function(e){return e.act_txt&&e.benefit&&e.date_txt}).map(function(e,i){var n=e.act_id,r=e.act_txt,s=e.benefit,o=e.date_txt,l=e.ptag,f=e.img;return l&&x.push(l),n&&w.push(n),f||(T=!1),{act_id:n,act_txt:r,benefit:s,date_txt:o,ptag:l,is_clicked:!1,benefit_color:0===i?c:_,bg_img:0===i?t.utils.getImg(g):t.utils.getImg(m),link:0===i?(0,a.replaceParam)(b,{ptag:l}):(0,a.replaceParam)(u,{ptag:l}),img:t.utils.getImg(f)}});if(M.length<4||M.length>7)return Promise.reject("时间轴数据长度错误");!e.fromCache&&(0,i.getActiveResult)(w).then(function(e){M=M.map(function(i){return e.includes(Number(i.act_id))&&(i.is_clicked=!0,i.bg_img=t.utils.getImg(l),i.benefit_color=f),i}),t.setData({time_list:M})}).catch(function(e){return console.warn("618 大促时间轴",e)}),t.setData({bg:t.utils.getImg(o),today_bg:t.utils.getImg(g),pre_bg:t.utils.getImg(m),next_bg:t.utils.getImg(l),time_list:M,today_benefit_color:c,more_bg:t.utils.getImg(p),more_link:(0,a.replaceParam)(d,{ptag:h}),pre_benefit_color:_,next_benefit_color:f,isnewuser:1===Number(s),showMessage:!1,messageTxt:"",is_show_img:T,iconType:"success",hideModule:!1},function(){!e.fromCache&&x.forEach(function(e){return n.ReportManager.addPtagExposure(e)}),t.triggerEvent("componentLoad",t.is)})}).catch(function(e){console.warn("618 大促时间轴",e),t.setData({hideModule:!0},function(){t.triggerEvent("componentLoad",t.is)})})},tapAct:function(e){var t=this,n=e.currentTarget.dataset.index,r=this.data,s=r.time_list,o=r.pre_bg,g=r.pre_benefit_color,c=r.next_bg,u=r.next_benefit_color,_=r.isnewuser;if(0===Number(n)||_)s[n].link&&this.$goto("/pages/h5/index",{url:s[n].link});else{if(s[n].is_clicked)return this.toastMessage("您已预约，请等待通知","warning");s[n].is_clicked=!0,s[n].bg_img=c,s[n].benefit_color=u,s[n].ptag&&(0,a.report)(s[n].ptag),(0,i.postYuyue)(s[n].act_id).then(function(e){var i=e.messageTxt,n=e.iconType;i&&t.toastMessage(i,n)}).catch(function(e){var i=e.messageTxt;e.iconType;s[n].is_clicked=!1,s[n].bg_img=o,s[n].benefit_color=g,i&&t.toastMessage(i,"warning"),t.setData({time_list:s})}),this.setData({time_list:s})}},toastMessage:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";this.setData({showMessage:!0,messageTxt:e,iconType:i},function(){(0,r.stopTimeout)(t.timer),t.timer=(0,r.createTimeout)(function(){t.setData({showMessage:!1})},3e3,t.page)})},gotoUrl:function(e){var t=e.currentTarget.dataset.url,i=void 0===t?"":t;i&&this.$goto("/pages/h5/index",{url:i})}}}); 
 			}); 	require("pages/index/compoments-sale/timeaxis-1/index.js");
 		__wxRoute = 'pages/index/components-cate/catebar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/components-cate/catebar/index.js';	define("pages/index/components-cate/catebar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../../../bases/component.js"),e=function(t){return t&&t.__esModule?t:{default:t}}(require("../../mallv2/common-behavior.js")),a=require("../../utils");new t.JDComponent({behaviors:[e.default],properties:{showSkeleton:{type:Boolean,observer:function(t){this.setData({showSkeleton:t})}},hasSubHome:{type:Boolean},fixedbarHeight:{type:Number}},data:{tabs:[].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(Array(6))),curIdx:0,hasPannel:!0,showPanel:!1,dropFloatTxt:"全部分类",animation:!0,hideModule:!1,isScroll:!1},created:function(){var t=this;this.init=this.init.bind(this),getApp().event.on("indexCateBarHome",function(){var e=t.data,i=e.hideModule,o=e.animation,n=e.curIdx;i||(n&&o&&(0,a.report)("138567.65.1"),t.switchTab({currentTarget:{dataset:{index:0}}}))}),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init),getApp().event.off("indexCateBarHome")},pageLifetimes:{show:function(){var t=this;setTimeout(function(){t.setData({animation:!0})},1e3)},hide:function(){var t=this.data.curIdx;this.setData({showPanel:!1,animation:!t})}},methods:{init:function(t){var e=this;Promise.resolve(t).then(function(t){var a=t.cate_tab,i=void 0===a?{}:a,o=i.is_show_drop_icon,n=i.drop_float_txt,r=void 0===n?"全部分类":n,s=i.drop_icon_ptag,c=i.content,d=void 0===c?[]:c,l=i.click_color,p=i.unclick_color;if(e.dropIconPtag=s,!d||d.length<6)return Promise.reject("数据不足");e.setData({tabs:d,hasPannel:1===Number(o),dropFloatTxt:r,isScroll:d.length>6,hideModule:!1,tabColor:p||"#fff",curTabColor:l||"#fff"}),e.eparam=d.map(function(t){var e=t&&t.action&&t.action.param||{};return{pproid:e.pproid,sid:e.sid,pname:t.name}})}).catch(function(t){e.setData({hideModule:!0})})},togglePanel:function(t){this.dropIconPtag&&(0,a.report)(this.dropIconPtag),this.setData({showPanel:!this.data.showPanel});var e=this.data.curIdx,i=this.eparam&&this.eparam[e]||{};a.logger.click({eid:"JDShopping_Home_smallParentclassIcon",eparam:""+i.pproid,target:"",event:t})},onTouch:function(t){},switchTab:function(t){wx.pageScrollTo({scrollTop:0,duration:0});var e=t.currentTarget.dataset.index,i=this.data.curIdx,o=this.data.tabs[e];if(o&&(getApp().event.emit("indexCateBar",o),this.setData({curIdx:Number(e),showPanel:!1}),Number(e)!==Number(i))){o.ptag&&(0,a.report)(o.ptag);var n=this.eparam&&this.eparam[e]||{};a.logger.click({eid:"JDShopping_Home_smallParentclass",eparam:n.pproid+"_"+n.sid+"_"+n.pname,target:"",event:t})}}}}); 
 			}); 	require("pages/index/components-cate/catebar/index.js");
 		__wxRoute = 'pages/index/components-cate/channel/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/components-cate/channel/index.js';	define("pages/index/components-cate/channel/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../../mallv2/common-behavior.js")),a=require("../../../../common/utils.js"),i=require("../../utils.js");new e.JDComponent({behaviors:[t.default],properties:{channelData:{type:Object,observer:function(){this.init()}}},data:{entries:[],hideModule:!0,isHasMore:!1,onShowMore:!1},methods:{init:function(){var e=this.data.channelData.subcate,t=e&&e.content||[],i=t.map(function(e){return{name:e.name||"",image:(0,a.getImg)(e.img,110),url:e.link||"",ptag:e.ptag||"",isSearch:1==e.type}}),r=!1;(i=i.filter(function(e){return e.name&&e.image&&e.url})).length<5?i=[]:i.length>=1&&i.length<10?i=i.slice(0,5):10==i.length?i=i.slice(0,10):r=!0,this.setData({entries:i,isHasMore:r,hideModule:!i.length,onShowMore:!1}),this.eparam=t.map(function(e){return{ppid:e.ppid,pname:e.pname,sourceid:e.sourceid,subpid:e.subpid,ssubpid:e.ssubpid,name:e.name}})},showMore:function(e){var t=this.data,a=t.channelData,r=t.onShowMore,s=(a||{}).subcate;this.setData({onShowMore:!r});var n=this.eparam[0]||{};r?((0,i.report)(s.ptag_close),i.logger.click({eid:"JDShopping_Home_smallSubclassRetract",eparam:n.ppid+"_"+n.pname+"_"+n.sourceid+"_"+n.subpid,target:"",event:e})):((0,i.report)(s.ptag),i.logger.click({eid:"JDShopping_Home_smallSubclassMore",eparam:n.ppid+"_"+n.pname+"_"+n.sourceid+"_"+n.subpid,target:"",event:e}))},gotoSearch:function(e){var t=e.currentTarget.dataset.index,r=this.data.entries[t]||{};if(r.isSearch){var s=r.url.split("?")[1],n=(s?(0,a.querystr)(s).query:{}).key;this.$goto("/pages/search/list/list",{key:n,ptag:r.ptag})}else this.$goto("/pages/h5/index",{url:r.url,ptag:r.ptag});var o=this.eparam[t]||{};i.logger.click({eid:"JDShopping_Home_smallSubclass",eparam:o.ppid+"_"+o.pname+"_"+o.sourceid+"_"+o.subpid+"_"+o.ssubpid+"_"+o.name,target:r.url,event:e})}}}); 
 			}); 	require("pages/index/components-cate/channel/index.js");
 		__wxRoute = 'pages/index/components-cate/goods/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/components-cate/goods/index.js';	define("pages/index/components-cate/goods/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function t(e){if(!e)return"";var t=(e=""+e).replace("￥","").split("."),i={full:e,integer:"",decimal:""};return i.integer=t[0],t.length>1&&(i.decimal=t[1].replace(/(0+)$/g,"")),i}function i(e){return 375*(e.match(/\/s(\d+)x(\d+)_jfs\//)||[])[1]/c}var r=require("../../../../bases/component.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(require("../../mallv2/common-behavior.js")),n=require("../../model.js"),s=require("../../utils.js"),o=require("../../../../common/utils.js"),c=getApp()&&getApp().systemInfo&&getApp().systemInfo.windowWidth||0,u=new Set,d=[];new r.JDComponent({behaviors:[a.default],properties:{channelData:{type:Object,observer:function(){this.init()}},reachBottom:{type:Number,observer:function(){var e=(d[this.index]||{}).list;e&&e.length&&this.getData()}}},data:{entries:[],maxCount:200,hideModule:!1},methods:{init:function(){var e=this.data.channelData.wnjx||{},t=e.search_keyword,i=e.ptag,r=e.ppid,a=e.sourceid,n=e.pname;if(!t)return this.setData({entries:[],hideModule:!0});this.setKeys(t,i),this.keys.length==d.length?d[this.index].list.length?this.loadData():this.getData():(d.push({keyword:t,list:[],page:1}),this.getData()),this.eparam={ppid:r,sourceid:a,pname:n}},setKeys:function(t,i){var r=this;u.add(t),this.keys=[].concat(e(u)).filter(function(e){return e}).map(function(e,t){return{key:e,index:t}}),this.keys.forEach(function(e){e.key==t&&(r.index=e.index,r.ptag=i)})},getData:function(){var e=this,r=this.index,a=d[this.index]||{},s=a.keyword,c=a.page,u=a.pvid,l=a.logid;if(!(this.data.entries.length>=200)){var g={keyword:s,stock:"1",page:""+c,pagesize:"10",pvid:u,logid:l};(0,n.getSearchV3)(g).then(function(a){var n=a&&a.wareInfo||[];if(!n||!n.length)return Promise.reject("没有数据");n=(n=n.map(function(e){var r=t(e.jdPrice)||{},a=e.subPrices&&e.subPrices[0]||{},n=a&&"plusPrice"==a.type&&t(a.price)||"",s=e.webLableDatas&&e.webLableDatas.titleBefore||[];s=s.map(function(e){return{image:(0,o.getImg)(e.image),width:i(e.image)}});var c=e.webLableDatas&&e.webLableDatas.priceBehind||[];return c=c.map(function(e){return{image:(0,o.getImg)(e.image),text:e.text||""}}),{name:e.wname||"",cover:(0,o.getImg)(e.imageurl,345)||"",isZiying:e.isSelf,sku:e.wareId||"",price:e.jdPrice||"",jdPrice:r,plusPrice:n,icons:s,tags:c,isPingou:e.isPgPromotion}})).filter(function(e){return e.name&&e.cover&&e.price}),d[r].list=d[r].list&&d[r].list.length?d[r].list.concat(n):n,d[r].page++,d[r].pvid=a&&a.csid||"",d[r].logid=a&&a.logid||"",e.setData({entries:d[r].list,dataError:!1,hideModule:!1})}).catch(function(t){e.setData({dataError:!0,hideModule:!d[r].list.length})})}},loadData:function(){this.setData({entries:d[this.index].list,hideModule:!d[this.index].list.length})},gotoDetail:function(e){var t=e.currentTarget.dataset.index,i=this.data.entries[t]||{};this.$gotoItem({sku:i.sku,name:i.name,price:i.price,cover:i.cover,ptag:this.ptag},{isPingou:i.isPingou});var r=this.eparam||{};s.logger.click({eid:"JDShopping_Home_smallSearch",eparam:r.ppid+"_"+r.sourceid+"_"+r.pname+"_"+i.sku+"_"+t,target:"",event:e})}}}); 
 			}); 	require("pages/index/components-cate/goods/index.js");
 		__wxRoute = 'pages/index/components/app-lauch-btn/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/components/app-lauch-btn/index.js';	define("pages/index/components/app-lauch-btn/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var t=require("../../../../bases/component.js"),e=require("../../../../api/Ptag/report_manager.js"),a=require("../../utils.js"),n=require("../../../../components/launch-jdapp/util.js"),i="138567.42.1";new t.JDComponent({data:{showAppShare:!1,parameter:"",animationClass:"expandAnimation"},attached:function(){var t=this,n=new Set;this.inited=!1,getApp().event.on("init_app_launch",function(o){if(n.add(o),2===n.size&&!t.inited){t.inited=!0;var p=(0,a.getAppSchema)({source:"wxapp_index",ptag:i});e.ReportManager.addPtagExposure(i),t.setData({parameter:p,showAppShare:!0},function(){setTimeout(function(){t.setData({animationClass:"foldAnimation"})},3e3)})}})},methods:{launchAppError:function(){console.log("[首页] App 唤起协议",this.data.parameter),this.toast.show({content:(0,n.getDownloadTip)()||"请至 APP STORE 或应用市场下载京东APP"})},clickUmp:function(){this.$report(i)}}}); 
 			}); 	require("pages/index/components/app-lauch-btn/index.js");
 		__wxRoute = 'pages/index/components/shake/shake';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/components/shake/shake.js';	define("pages/index/components/shake/shake.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var t=require("../../../../bases/component.js"),i=e(require("../../../../common/localStorage.js")),n=require("../../../../api/Ptag/report_manager.js"),a=e(require("../../utils.js"));new t.JDComponent({properties:{config:{type:Object,observer:function(e){this.getPPMSDataResolve&&e.data&&e.data.shake&&this.getPPMSDataResolve(e)}},curtainFinish:{type:Boolean,observer:function(e){e&&this.waitCurtainFinishResolve&&this.waitCurtainFinishResolve()}},isNewUser:{type:Boolean}},data:{showModule:!1,image:""},attached:function(){this.init()},methods:{init:function(){var e=this;Promise.all([this.getPPMSData(),i.get("shakeAnim_hide_util",null),i.get("discovery_shakeAnim_hide_util",null),this.waitCurtainFinish()]).then(function(t){var i=t[0].data;e.indexName=t[0].indexName;var n="discovery"===e.indexName?t[2]:t[1];if(!i||!i.shake||!i.shake.length)return Promise.reject("shake:get ppms data error");var r=i.shake.find(function(e){return a.checkTime(e.begin,e.end)});if(!r)return Promise.reject("shake:no shake config");n&&Date.now()<n?e.triggerEvent("shakeAnimLoaded",{config:r,showEntrance:!0}):(e.config=r,e.setData({image:e.utils.getImg(r.bigImg)}))}).catch(function(t){e.triggerEvent("shakeAnimLoaded",{showEntrance:!1})})},getPPMSData:function(){var e=this;return new Promise(function(t){return e.getPPMSDataResolve=t})},waitCurtainFinish:function(){var e=this;return new Promise(function(t){return e.waitCurtainFinishResolve=t})},onImgLoaded:function(e){this.showAnim(this.config)},showAnim:function(e){var t=this,a="138567.20.7";"discovery"===this.indexName?(a="138722.18.1",i.set("discovery_shakeAnim_hide_util",(new Date).setHours(24,0,0,0))):(a="138567.20.7",i.set("shakeAnim_hide_util",(new Date).setHours(24,0,0,0))),a&&n.ReportManager.addPtagExposure(a),this.setData({showModule:!0});setTimeout(function(){t.setData({showModule:!1},function(){return t.triggerEvent("shakeAnimLoaded",{config:e,showEntrance:!0})})},3e3)}}}); 
 			}); 	require("pages/index/components/shake/shake.js");
 		__wxRoute = 'pages/index/mallv2/carousel/carousel';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/carousel/carousel.js';	define("pages/index/mallv2/carousel/carousel.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=require("../../../../common/img_loader/img_loader.js"),r=require("../../utils.js");new e.JDComponent({properties:{pageType:{type:String},showSkeleton:{type:Boolean,observer:function(e){this.setData({showSkeleton:e})}}},data:{autoplay:!0,fromCache:!1,swiperIdx:0,entries:[],bannerTag:""},pageLifetimes:{hide:function(){this.isHidden=!0},show:function(){this.isHidden=!1}},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var n=this;Promise.resolve(e).then(function(e){if(!e.banner||!e.banner.content||!e.banner.content.length)return Promise.reject("数据空窗");var t=e.banner,r=t.content,i=t.icon,a=r.filter(function(e){return e.img&&e.link}).map(function(e){var t=e.img,r=e.link,i=e.id,a=e.clickurl,o=e.exposalurl;return{image:n.utils.getImg(t),url:r,id:i,clickUrl:a||"",exposalUrl:o||"",isExposal:!1}});return a.length?{entries:a,banner_tag:i}:Promise.reject("数据字段异常")}).then(function(i){var a=i.entries,o=i.banner_tag,s=e.fromCache,l=o&&n.utils.getImg(o,80,80)||"";if(!a.length)return Promise.reject({message:"Data error!"});a[0].url=(0,r.replaceParam)(a[0].url,{mini:1}),n.setData({entries:[Object.assign({},a[0],{image:n.utils.getImg(a[0].image,150)})],autoplay:!0,bannerTag:l,fromCache:!!s,error:!1},function(){return n.triggerEvent("componentLoad",n.is)}),getApp().event.emit("carouselEvent","success"),n.imgLoader=new t.ImgLoader(n),n.imgLoader.load(a[0].image,function(e,t){!s&&r.logger.exposure({eid:"JDShopping_Home_BannerExpo",eparam:0}),s||a[0].isExposal||!a[0].exposalUrl||(wx.$.request.get({url:a[0].exposalUrl}),a[0].isExposal=!0),n.setData({entries:a,swiperCurrent:0,swiperIdx:0})})}).catch(function(e){console.warn("焦点轮播异常：",e),n.setData({error:!0,fromCache:!1,entries:[]},function(){n.triggerEvent("componentLoad",n.is)}),getApp().event.emit("carouselEvent","error")})},onSwiperChange:function(e){if(!this.isHidden){var t=Number(e.detail.current);r.logger.exposure({eid:"JDShopping_Home_BannerExpo",eparam:String(t)});var n=this.data,i=n.entries,a=n.fromCache,o=i[t];!a&&o&&!o.isExposal&&o.exposalUrl&&(wx.$.request.get({url:o.exposalUrl}),o.isExposal=!0),this.setData({swiperIdx:t})}},tapOnItem:function(e){var t=e.currentTarget.dataset.index,n=this.data.entries[t],i=n.url,a=n.id,o=n.clickUrl;if(r.logger.click({eid:"JDShopping_Home_Banner",eparam:a+"_"+t,target:i,event:e}),o&&wx.$.request.get({url:o}),(0,r.isH5Url)(i))this.$goto("/pages/h5/index",{url:i});else{var s=(0,r.parseFocusUrl)(i);this.$goto(s)}}}}); 
 			}); 	require("pages/index/mallv2/carousel/carousel.js");
 		__wxRoute = 'pages/index/mallv2/channel-nav/channel-nav';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/channel-nav/channel-nav.js';	define("pages/index/mallv2/channel-nav/channel-nav.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t=require("../../../../bases/component.js"),r=require("../../../../api/Ptag/report_manager.js"),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../utils.js"));new t.JDComponent({properties:{showSkeleton:{type:Boolean,observer:function(e){this.setData({showSkeleton:e})}}},data:{swiperIdx:0,pages:[{entries:[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(10)))}],isDiscoveryVersion:!1,hideModule:!1},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(t){var i=this;Promise.resolve(t).then(function(e){var t=e.page_version||0,r=e.floor_entry&&e.floor_entry.theme&&e.floor_entry.theme.content&&e.floor_entry.theme.content[0]||{};if(!e.floor_entry||!e.floor_entry.content||!e.floor_entry.content.length)return i.getDisasterData(r,t);var o=e.floor_entry.content.filter(function(e){return e.img&&e.name&&(e.link||e.app_url&&e.app_id||e.app_link)}).map(function(e){var t=e.ptag||n.getUrlPtag(e.link)||"",r=n.addPtag(e.link,t);return{appid:e.app_id||"",wxJumpUrl:e.app_url||"",wxappPath:e.app_link||"",ptag:t,link:r,corner:e.corner_tag||"",name:e.name,imgUrl:i.utils.getImg(e.img)}});return o.length?{entries:o,theme:r}:i.getDisasterData(r,t)}).then(function(o){var a=o.entries,s=o.theme,g=t.isDiscoveryVersion,p=t.fromCache,c=g?"7593.1.2":"7593.1.1",l="",u={bg:"",textColor:"",hideIcons:!1};s&&(s.entrysbgimg||s.entrysbg||s.entryscolor)&&(l=i.utils.getImg(s.entrysbgimg),s.entrysbg&&(u.hideIcons=!0,u.bg=i.utils.getImg(s.entrysbg)),u.textColor=s.entryscolor||"");var m={bg:"",textColor:"",hideIcons:!1};s&&(s.second_entrysbg||s.second_entryscolor)&&(s.second_entrysbg&&(m.hideIcons=!0,m.bg=i.utils.getImg(s.second_entrysbg)),m.textColor=s.second_entryscolor||"");var d=[e({},u,{entries:a.slice(0,10)})];i.secondPageExposure=!1,a.slice(10,20).length&&(d.push(e({},m,{entries:a.slice(10,20)})),i.secondPagePtags=d[1].entries.map(function(e){var t=e.ptag,r=e.link;if(t||r)return t||n.getUrlPtag(r)||""}).filter(function(e){return!!e}));var f=d[0].entries.map(function(e){var t=e.ptag,r=e.link;if(t||r)return t||n.getUrlPtag(r)||""}).filter(function(e){return!!e});!p&&r.ReportManager.addPtagExposure(c,{ptag_list:f.join("_")});var h=d[0].entries.map(function(e){return e.name}).join("#"),_=d[1]&&d[1].entries.map(function(e){return e.name}).join("#");!p&&n.logger.exposure({eid:"JDShopping_Home_MagicBoxExpo",eparam:h+"_"+_}),i.setData({pages:d,bg:l,isDiscoveryVersion:g,swiperCurrent:0,hideModule:!1},function(){return i.triggerEvent("componentLoad",i.is)})}).catch(function(e){console.warn("error",e),i.setData({hideModule:!0},function(){i.triggerEvent("componentLoad",i.is)})})},getDisasterData:function(e,t){var r=this;return this.biz.getPPMS(35900).then(function(i){if(!(i&&i[0]&&i[0].icon_config&&i[0].icon_config.length))return Promise.reject({message:"Data error!"});var o=i[0].icon_config.filter(function(e){var r=e.begin,i=e.end,o=e.isRongzai,a=e.iconText,s=e.iconImg,g=e.surl,p=e.wxappUrl,c=e.wxappLink,l=e.wxappid,u=n.checkTime(r,i),m=2===Number(t)&&3===Number(o),d=!(0!==Number(t)&&1!==Number(t)||1!==Number(o)&&2!==Number(o));return e&&(m||d)&&a&&s&&(g||p||c&&l)&&u}).sort(function(e,t){return parseInt(e.level)-parseInt(t.level)}).map(function(e){var t=e.ptag||n.getUrlPtag(e.surl)||"",i=n.addPtag(e.surl,t);return{appid:e.wxappid||"",wxJumpUrl:e.wxappUrl||"",wxappPath:e.wxappLink||"",ptag:t,link:i,corner:"",name:e.iconText,imgUrl:r.utils.getImg(e.iconImg)}});return o.length?{entries:o,theme:e}:Promise.reject({message:"容灾数据不足，隐藏模块"})})},onSwiperChange:function(e){var t=e.detail.current;if(this.setData({swiperIdx:t}),1==t){var i=this.data.isDiscoveryVersion,o=i?"7593.1.2":"7593.1.1",a=i?"7593.3.3":"7593.3.1";n.report(a),this.secondPageExposure||(r.ReportManager.addPtagExposure(o,{ptag_list:this.secondPagePtags.join("_")}),this.secondPageExposure=!0)}},tapOnItem:function(e){var t=e.currentTarget.dataset,r=t.url,i=t.ptag,o=t.appid,a=t.wxappPath,s=t.wxJumpUrl,g=t.name,p=t.index,c=t.page;n.logger.click({eid:"JDShopping_Home_MagicBox",eparam:g+"_"+c+"_"+p,target:s||a||r,event:e}),o&&s?(wx.navigateToMiniProgram({appId:o,path:s}),i&&n.report(i)):a?this.$goto(a,{ptag:i}):this.$goto("/pages/h5/index",{url:n.addPtag(r,i)})}}}); 
 			}); 	require("pages/index/mallv2/channel-nav/channel-nav.js");
 		__wxRoute = 'pages/index/mallv2/curtain/curtain';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/curtain/curtain.js';	define("pages/index/mallv2/curtain/curtain.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function t(e){return/^(https?:)?\/\//i.test(e)}var a=require("../../../../bases/component.js"),i=e(require("../../utils.js")),r=e(require("../../../../common/localStorage.js")),n=require("../../../../api/Ptag/report_manager.js"),s=require("../../../../common/timer-manage");new a.JDComponent({properties:{hasSubHome:{type:Boolean},showTime:{type:Number,observer:function(){this.triggerCurtainFinishDelay&&(this.triggerCurtainFinishDelay=!1,this.triggerEvent("curtainFinish"))}},fixedbarHeight:{type:Number}},data:{showModule:!1,height:"",url:"",image:"",rd:"",transparent:!1,countdown:5,special:!1,hideCountdown:!1,sale:!1,sale618:!1,hide618Sale:!1,period:"",saleCountdown:5,climax:!1,hideSale:!1,hideMould:!1,hideSaleCountdown:!1},attached:function(){this.page=getCurrentPages().pop()},created:function(){this.init=this.init.bind(this),this.hasShow=!1,getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{parseCurtainData:function(e){if(!e)return{material:"",sUrl:"",userdata1:"",userdata2:"",userdata3:""};var t=e.link,a=e.img,i=void 0===a?"":a,r=e.userdata1,n=void 0===r?"":r,s=e.userdata2,o=void 0===s?"":s,u=e.userdata3,l=void 0===u?"":u;return{material:i,sUrl:t&&t[0]||"",userdata1:n,userdata2:o,userdata3:l}},parseMainData:function(e){var t={};if(!e.screen||this.hasShow)return Promise.resolve(t);this.hasShow=!0;var a=e.screen,i=a.activity,r=a.baping,n=a.newuser,s=a.sanchao,o=a.screen188,u=a.silent,l=a.strategy,h=a.youli,g=a.config,c=this.parseCurtainData(o),d=this.parseCurtainData(n),p=this.parseCurtainData(i),m=this.parseCurtainData(s),_=this.parseCurtainData(r),f=this.parseCurtainData(l),v=this.parseCurtainData(h),D=this.parseCurtainData(u),C=e.isDiscoveryVersion,w=e.mrrr;return t.curtainData={freshmenGiftData:c,freshmenActivitiesData:d,activitiesData:p,atmosphereData:m,bapingData:_,strategyData:f,freeUserData:v,silentData:D,config:g},t.isDiscoveryVersion=C,t.mrrr=w||{ut:"0",w_nus:"1",ngs:"1",ug:"0",pglabel:"1"},Promise.resolve(t)},init:function(e){var t=this,a=e.screen,n=e.isDiscoveryVersion;if(a){var s="";a&&a.strategy&&(s=this.parseCurtainData(a.strategy).userdata2||""),Promise.all([this.parseMainData(e),this.getCurtainExpire(s,n)]).then(function(e){var a=e[0].mrrr,n=e[0].isDiscoveryVersion,s=e[0].curtainData,o=e[1][0],u=e[1][1],l=e[1][2],h=e[1][3],g=e[1][4],c=e[1][5],d=e[1][6],p=e[1][7];if(!s)return t.triggerEvent("curtainFinish");var m=s.freshmenGiftData,_=s.freshmenActivitiesData,f=s.activitiesData,v=s.atmosphereData,D=s.bapingData,C=s.strategyData,w=s.freeUserData,x=s.silentData,y=s.config,P=0,S="",b=0;return y.silent_gray&&y.silent_gray.some(function(e){return!!i.checkTime(e.begin,e.end)&&(P=e.range,!0)}),y.whitelist&&y.whitelist.some(function(e){return!!i.checkTime(e.begin,e.end)&&(S=e.pin,!0)}),y.youli_gray&&y.youli_gray.some(function(e){return!!i.checkTime(e.begin,e.end)&&(b=e.range,!0)}),Promise.resolve().then(function(){var e=a.w_nus,s=a.ngs;if(1!=Number(e))return!1;if(1===Number(s)){var u="";return n?(u="discovery_mall_freshmenCurtain_hide_until",_.ptag="138722.1.3",t.closePtag="7547.17.3"):(u="mall_freshmenCurtain_hide_until",_.ptag="138567.1.3",t.closePtag="7547.4.6"),t.curtainExistsThenShow(_,"freshmen",o).then(function(e){return e&&(r.set(u,(new Date).setHours(24,0,0,0)),t.zwxIndex=3,i.logger.exposure({eid:"JDShopping_Home_CurtainDialogExpo",eparam:3})),e})}var l="";return n?(l="discovery_mall_freshmenCurtain_hide_until",m.ptag="138722.1.2",t.closePtag="7547.17.2"):(l="mall_freshmenCurtain_hide_until",m.ptag="138567.1.2",t.closePtag="7547.4.5"),t.curtainExistsThenShow(m,"freshmen",o).then(function(e){return e&&(r.set(l,(new Date).setHours(24,0,0,0)),t.zwxIndex=2,i.logger.exposure({eid:"JDShopping_Home_CurtainDialogExpo",eparam:2})),e})}).then(function(e){if(e)return e;var a="";return n?(D.ptag="138722.1.5",t.closePtag="7547.17.5",a="discovery_saleCurtain_hide_until"):(D.ptag=D.userdata2,t.closePtag="7547.9.5",a="saleCurtain_hide_until"),t.curtainExistsThenShow(D,"sale",h).then(function(e){return e&&r.set(a,(new Date).setHours(24,0,0,0)),e})}).then(function(e){if(e)return e;var a=C.userdata1,i=C.userdata2;if(Number(c)>=Number(a))return e;C.userdata1=c;var s="",o="";return n?(s="discovery_strategyCurtain_"+i+"_hide_until",o="discovery_strategyCurtain_"+i+"_show_count",C.ptag="138722.1.6",t.closePtag="7547.17.10"):(s="strategyCurtain_"+i+"_hide_until",o="strategyCurtain_"+i+"_show_count",C.ptag="138567.1.15",t.closePtag="7547.15.1"),t.curtainExistsThenShow(C,"strategy",g).then(function(e){return e&&(r.set(s,(new Date).setHours(24,0,0,0),{expire:"30d"}),r.set(o,Number(a)+1,{expire:"30d"})),e})}).then(function(e){if(e)return e;var a="";return n?(a="discovery_mall_specialCurtain_hide_until",v.ptag="138722.1.4",v.sUrl=i.addPtag(v.sUrl,"138722.1.4"),t.closePtag="7547.17.4"):(a="mall_specialCurtain_hide_until",v.ptag=i.getUrlPtag(v.sUrl)||"",t.closePtag="7547.5.2"),t.curtainExistsThenShow(v,"special",l).then(function(e){return e&&r.set(a,(new Date).setHours(24,0,0,0),{expire:"30d"}),e})}).then(function(e){if(e||!n)return e;t.isNoGrey=!1;var r=0===Number(a.w_nus);if(r&&1===Number(a.ut)){if(i.greyScale(b,S))return w.ptag="138722.1.7",t.closePtag="7547.17.6",t.curtainExistsThenShow(w,"free",d);t.isNoGrey=!0,f.ptag="138722.1.9",t.closePtag="7547.17.8"}else if(r&&(2===Number(a.ut)||3===Number(a.ut))){if(i.greyScale(P,S))return x.ptag="138722.1.8",t.closePtag="7547.17.7",t.curtainExistsThenShow(x,"slient",p);t.isNoGrey=!0,f.ptag="138722.1.10",t.closePtag="7547.17.9"}return e}).then(function(e){if(e)return e;var a="";return n?(a="discovery_mall_normalCurtain_hide_until",f.ptag=t.isNoGrey?f.ptag:"138722.1.1",t.closePtag=t.isNoGrey?t.closePtag:"7547.17.1"):(a="mall_normalCurtain_hide_until",f.ptag=f.ptag||"138567.1.1",t.closePtag=t.closePtag||"7547.3.2"),t.curtainExistsThenShow(f,"normal",u).then(function(e){return e&&r.set(a,(new Date).setHours(24,0,0,0),{expire:"30d"}),e})}).then(function(e){!e&&t.triggerEvent("curtainFinish")})})}},curtainExistsThenShow:function(e,a,o){var u=this,l=e.sUrl,h=e.material,g=e.ptag,c=e.userdata3;if(o&&Date.now()<o)return Promise.resolve(!1);var d=0===Number(c)?"":c;if(l&&h){switch(a){case"sale":var p=t(l)?"":i.parseFocusUrl(l),m={sale:!0,url:i.addPtag(l,g),image:this.utils.getImg(h),rd:g,wxappLink:p};this.setData(m),n.ReportManager.addPtagExposure(g),this.zwxIndex=4,i.logger.exposure({eid:"JDShopping_Home_CurtainDialogExpo",eparam:4});break;case"special":var _=t(l)?"":i.replaceParam(i.parseFocusUrl(l),{ptag:g});this.setData({special:!0,showModule:!0,url:l,wxappLink:_,rd:g,image:this.utils.getImg(h)},function(){(0,s.createTimeout)(function(){return u.count()},1e3,u.page)}),n.ReportManager.addPtagExposure(g),this.zwxIndex=6,i.logger.exposure({eid:"JDShopping_Home_CurtainDialogExpo",eparam:6});break;case"strategy":var f=t(l)?"":i.parseFocusUrl(l);this.setData({showModule:!0,url:i.addPtag(l,g),wxappLink:f,rd:g,image:this.utils.getImg(h),height:d}),n.ReportManager.addPtagExposure(g),this.zwxIndex=5,i.logger.exposure({eid:"JDShopping_Home_CurtainDialogExpo",eparam:5});break;case"freshmen":var v=t(l)?"":i.parseFocusUrl(l);this.setData({showModule:!0,url:i.addPtag(l,g),wxappLink:v,rd:g,image:this.utils.getImg(h),height:d}),n.ReportManager.addPtagExposure(g);break;case"free":var D=t(l)?"":i.parseFocusUrl(l);this.setData({showModule:!0,wxappLink:D,rd:g,url:i.addPtag(l,g),image:this.utils.getImg(h),height:d}),r.set("mall_freeCurtain_hide_until",(new Date).setHours(24,0,0,0)),n.ReportManager.addPtagExposure(g);break;case"slient":var C=t(l)?"":i.parseFocusUrl(l);this.setData({showModule:!0,wxappLink:C,rd:g,url:i.addPtag(l,g),image:this.utils.getImg(h),height:d}),r.set("mall_silentCurtain_hide_until",(new Date).setHours(24,0,0,0)),n.ReportManager.addPtagExposure(g);break;case"normal":var w=t(l)?"":i.parseFocusUrl(l);this.setData({showModule:!0,url:i.addPtag(l,g),wxappLink:w,rd:g,image:this.utils.getImg(h),height:d}),n.ReportManager.addPtagExposure(g),this.zwxIndex=1,i.logger.exposure({eid:"JDShopping_Home_CurtainDialogExpo",eparam:1});break;default:console.error("幕帘异常，未知key",a)}return Promise.resolve(!0)}return Promise.resolve(!1)},getCurtainExpire:function(e,t){return t?Promise.all([r.get("discovery_mall_freshmenCurtain_hide_until",null),r.get("discovery_mall_normalCurtain_hide_until",null),r.get("discovery_mall_specialCurtain_hide_until",null),r.get("discovery_saleCurtain_hide_until",null),r.get("discovery_strategyCurtain_"+e+"_hide_until",null),r.get("discovery_strategyCurtain_"+e+"_show_count",0),r.get("mall_freeCurtain_hide_until",null),r.get("mall_silentCurtain_hide_until",null)]):Promise.all([r.get("mall_freshmenCurtain_hide_until",null),r.get("mall_normalCurtain_hide_until",null),r.get("mall_specialCurtain_hide_until",null),r.get("saleCurtain_hide_until",null),r.get("strategyCurtain_"+e+"_hide_until",null),r.get("strategyCurtain_"+e+"_show_count",0),r.get("mall_freeCurtain_hide_until",null),r.get("mall_silentCurtain_hide_until",null)])},close:function(e){this.data.showModule&&(e&&this.closePtag&&i.report(this.closePtag),e&&i.logger.click({eid:"JDShopping_Home_CurtainDialogClose",eparam:this.zwxIndex,target:"",event:e}),this.setData({transparent:!0}))},onTransitionEnd:function(){var e=this;this.setData({showModule:!1,hideMould:!0},function(){!e.triggerCurtainFinishDelay&&e.triggerEvent("curtainFinish")})},count:function(){var e=this,t=this.data.countdown;1!==t?(this.setData({countdown:t-1}),this.timer=(0,s.createTimeout)(function(){return e.count()},1e3,this.page)):this.closeSpecial()},closeSpecial:function(e){this.data.hideSpecial||(clearTimeout(this.timer),e&&this.closePtag&&i.report(this.closePtag),e&&i.logger.click({eid:"JDShopping_Home_CurtainDialogClose",eparam:this.zwxIndex,target:"",event:e}),this.setData({hideSpecial:!0,hideCountdown:!0}))},saleCount:function(){var e=this,t=this.data.saleCountdown;1!==t?(this.setData({saleCountdown:t-1}),this.saleTimer=(0,s.createTimeout)(function(){return e.saleCount()},1e3,this.page)):this.closeSale()},closeSale:function(e){var t=this.data,a=t.hideSale,r=t.sale618,n=t.hide618Sale;if(!a&&!n){this.saleTimer&&clearTimeout(this.saleTimer),this.saleTimer=null,e&&this.closePtag&&i.report(this.closePtag),e&&i.logger.click({eid:"JDShopping_Home_CurtainDialogClose",eparam:this.zwxIndex,target:"",event:e});var s={};s=r?{hide618Sale:!0,hideSaleCountdown:!0}:{hideSale:!0,hideSaleCountdown:!0},this.setData(s)}},closeClimax:function(){this.setData({transparent:!0})},saleImageLoaded:function(e){var t=this;(0,s.createTimeout)(function(){return t.saleCount()},1e3,this.page)},imageLoaded:function(){var e=this;(0,s.createTimeout)(function(){return e.close()},5e3,this.page)},preventSaleMove:function(){},tapOnNavigator:function(e){var t=e.currentTarget.dataset,a=t.rd,r=void 0===a?"":a,n=t.wxappLink,s=void 0===n?"":n,o=t.url,u=void 0===o?"":o;if(i.logger.click({eid:"JDShopping_Home_CurtainDialog",eparam:this.zwxIndex,target:u,event:e}),s){var l=i.replaceParam(s,{ptag:r});this.$goto(l,{ptag:r})}else this.$goto("/pages/h5/index",{url:u});this.triggerCurtainFinishDelay=!0}}}); 
 			}); 	require("pages/index/mallv2/curtain/curtain.js");
 		__wxRoute = 'pages/index/mallv2/floating/floating';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/floating/floating.js';	define("pages/index/mallv2/floating/floating.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function t(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var e=function(){function t(t,e){var i=[],r=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){n=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=require("../../../../bases/component.js"),r=t(require("../../../../common/localStorage.js")),n=t(require("../../utils.js")),o=require("../../../../api/Ptag/report_manager.js");new i.JDComponent({data:{floating:{},floatingType:"normal",showFloating:!1,url:"",wxappRd:"",bottom:"",isNewUser:!1,isDiscoveryVersion:!1},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(t){var i=this;Promise.all([Promise.resolve(t),this.getExpire(t.isDiscoveryVersion)]).then(function(t){var r=e(t,2),a=r[0],s=r[1],l=a.floating,u=a.isNewUser,g=a.isDiscoveryVersion,c=a.fromCache;if(!(l&&l.img&&l.link&&l.link[0]))return Promise.reject();if(!(s&&Date.now()<s)){var f="138567.17.2";g&&!u?f="138722.16.1":g&&u&&(f="138722.16.2");var d={image:i.utils.getImg(l.img),url:n.replaceParam(l.link[0],{ptag:f}),bottom:0===Number(l.userdata1)?"":l.userdata1,wxappRd:f};!c&&o.ReportManager.addPtagExposure(f),i.setData({floating:d,floatingType:"normal",isNewUser:u,isDiscoveryVersion:g})}}).catch(function(){i.setData({showFloating:!1}),console.log("end")})},imageLoaded:function(){this.setData({showFloating:!0})},getExpire:function(t){return t?r.get("discovery_mall_floating_hide_util",null):r.get("mall_floating_hide_util",null)},hideFloating:function(){var t=this.data,e=t.isDiscoveryVersion,i=t.isNewUser,o="";if(e){o="discovery_mall_floating_hide_util";var a=i?"7547.17.14":"7547.17.13";n.report(a),console.log(a)}else o="mall_floating_hide_util",n.report("7547.9.1");r.set(o,(new Date).setHours(24,0,0,0)),this.setData({showFloating:!1})},gotoUrl:function(t){var e=t.currentTarget.dataset,i=e.url,r=e.wxappRd,o=n.parseFocusUrl(i);n.logger.click({eid:"JDShopping_Home_Floating",target:o,event:t}),n.isH5Url(o)?this.$goto("/pages/h5/index",{url:o}):this.$goto(o,{ptag:r})}}}); 
 			}); 	require("pages/index/mallv2/floating/floating.js");
 		__wxRoute = 'pages/index/mallv2/goods/goods';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/goods/goods.js';	define("pages/index/mallv2/goods/goods.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e){if(!e)return"";var t=(e=""+e).split("."),r={full:e,integer:"",decimal:""};return r.integer=t[0],t.length>1&&(r.decimal=t[1].replace(/(0+)$/g,"")),r}var i=require("../../../../bases/component.js"),n=e(require("../common-behavior.js")),a=require("../../model.js"),o=require("../../../../common/utils.js"),s=require("../../utils.js"),u=require("../../../../common/fe_report/usability.js"),c=require("../../../../api/Ptag/report_manager.js"),p=e(require("../../../../common/report/pps.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../../../common/localStorage.js")),d=require("../../../../common/timer-manage");new i.JDComponent({behaviors:[n.default],properties:{scrollTop:{type:Number},reachBottom:{type:Number,observer:function(){var e=this.data,t=e.entries[e.curIdx]||{};if("1"===t.type){var r=this.selectComponent("#reclikeCmp");r&&r.onReachBottom()}t.list&&t.list.length&&this.loadData()}},tabBanner:{type:Object},fixedbarHeight:{type:Number},hasSubHome:{type:Boolean}},data:{entries:[],curIdx:0,tabModifier:!1,maxCount:200,scrollLeft:0,saleList:[],saleNum:0,showRecommend:!0},attached:function(){this.page=getCurrentPages().pop()},ready:function(){var e=this,t=getApp()||{},r=t&&t.systemInfo||{};this.windowWidth=r.windowWidth||0,this.init(),this.fixedTabs(),this.getExpire().then(function(t){t&&Date.now()<t||e.setData({showTabBanner:!0})}).catch(function(t){e.setData({showTabBanner:!1})})},methods:{init:function(){var e=this;this.biz.getPPMS(36266).then(function(t){var r=t&&t[0]||{},i=e.data.hasSubHome?r.tabConfig1:r.tabConfig2||[],n=r.tab2||[],u=r.label||[],c=r.nyLabel||[],p=r.byLabel||[],l=r.saleTab||[],d=r.saleSku||[];if(!n||!n.length)return Promise.reject("PPMS 没有数据");var m="",g="";i.some(function(e){if((0,s.checkTime)(e.begin,e.end))return m=e.proid,g=e.total,!0}),u.some(function(t){if((0,s.checkTime)(t.begin,t.end))return e.saleIcon=(0,o.getImg)(t.icon),!0}),c.some(function(t){if((0,s.checkTime)(t.begin,t.end))return e.nySaleIcon=(0,o.getImg)(t.icon),!0}),p.some(function(t){if((0,s.checkTime)(t.begin,t.end))return e.bySaleIcon=(0,o.getImg)(t.icon),!0}),d.some(function(t){if((0,s.checkTime)(t.begin,t.end)){var r=t.sku1.split(":")||[],i=t.sku2.split(":")||[],n=t.sku3.split(":")||[];return e.saleSkuList=[{sku:r[0],ptag:r[1]},{sku:i[0],ptag:i[1]},{sku:n[0],ptag:n[1]}],!0}}),e.saleSkuList=e.saleSkuList&&e.saleSkuList.filter(function(e){return e.sku});var f=[];e.saleSkuList&&e.saleSkuList.forEach(function(e){f.push(e.sku)}),f=f&&f.join(",");var h=void 0;l.some(function(e){if((0,s.checkTime)(e.begin,e.end))return h={title:"大促",des:e.des||"",rd:e.rd||"",tabRd:e.tabRd||"",id:e.id||"0",type:3,list:[],offset:0,count:20,order:e.order-1||"1",icon:(0,o.getImg)(e.icon,80,40)||"",topskus:f},!0});(0,a.getFloorData)([m],[g],{recpos:"6663"}).then(function(t){if(!t||!t.length)return Promise.reject("请求楼层排序接口没有返回数据");var r=t.map(function(e){return{title:e.cname&&e.cname.split("|")[0]||"",des:e.cname&&e.cname.split("|")[1]||"",rd:e.ext1&&e.ext1.split("|")[1]||"",tabRd:e.ext1&&e.ext1.split("|")[0]||"",id:e.ext2||"",type:e.ext3||"",list:[],offset:0,page:1,count:20,pps:e.pps||""}});if(!(r=r.filter(function(e){return e&&e.title&&e.des&&e.id}))||!r.length)return Promise.reject();h&&r.splice(h.order,0,h),e.setData({entries:r,hideModule:!1})}).catch(function(t){var r=n.map(function(e){return{title:e.title||"",des:e.des||"",rd:e.rd||"",tabRd:e.tabRd||"",id:e.id||"",type:e.type||"",list:[],offset:0,page:1,count:20}});r=r.filter(function(e){return e.title&&e.des&&e.id}),h&&r.splice(h.order,0,h),e.setData({entries:r,hideModule:!1})})}).catch(function(t){e.setData({hideModule:!0})})},loadData:function(){var e=this.data,t=e.entries,r=e.curIdx,i=t[r]||{};i.list.length>=200||("1"==i.type?this.setData({showRecommend:!0}):"3"==i.type&&this.loadGoodsData(i,r))},loadGoodsData:function(e,i){var n=this,u=e.id,p=e.offset,l=e.count,d=e.rd,m=e.topskus,g=e.page;(0,a.getSmartData)({id:u,offset:p,count:l,topskus:m||"",recpos:"29319"}).then(function(a){var s=a&&a[u]||[];if(!s||!s.length)return Promise.reject("no getSmartData data");var p=[];(s=(s=s.map(function(e,t){var i="";(1048576&e.property)>0?i="jingxuan":(524288&e.property)>0?i="chaoshi":(2097152&e.property)>0?i="quanqiu":(65536&e.property)>0&&(i="wuliu");var a="",s="#e31d1a";if(1==e.ispingou)(131072&e.property)>0&&(a="新人价",s="#ee9548");else if((262144&e.property)>0)a="秒杀";else if((4096&e.property)>0)a="新品",s="#40bd9c";else if(e.coupondesc&&"{}"!==e.coupondesc)a="券";else if(e.promdescext){var u=JSON.parse(e.promdescext);u&&u.some(function(e){var t=e.subextinfo&&JSON.parse(e.subextinfo)||{},r=e.promtype,i=t.subExtType;if(15===Number(r)&&1===Number(i)||16===Number(r)&&2===Number(i)||16===Number(r)&&3===Number(i)||15===Number(r)&&14===Number(i))return a="满减",!0})}var c=r(e.price)||{},p=e.newuserprice&&"0.00"!=e.newuserprice?r(e.newuserprice):"",l=r(e.refprice),m=e.plusprice&&"0.00"!=e.plusprice?r(e.plusprice):"",g=n.saleIcon&&(16384&e.property)>0?n.saleIcon:"",f=n.nySaleIcon&&(8192&e.property)>0?n.nySaleIcon:"",h=n.bySaleIcon&&(134217728&e.property)>0?n.bySaleIcon:"";return{title:e.fullname||"",realPrice:e.price||"",price:c,image:(0,o.getImg)(e.imgbase,350)||"",isZiying:1==e.itemtype,isPingou:1==e.ispingou,tuanCount:e.needcount&&e.needcount>0?e.needcount:"",refPrice:l,newPrice:p,plusPrice:m,property:i,tag:a,tagColor:s,sku:e.skuid||"",pps:e.pps||"",rd:d,saleIcon:h||f||g,reason:e.reason||"",btnUrl:"https://wqs.jd.com/search/searchsimilar.shtml?sceneid=21&sku="+e.skuid+"&ptag=138567.15.27",rp:e.rp||{},index:t}})).filter(function(e){return e.title&&e.image&&e.sku})).forEach(function(e){p.push({report_url:"",source:3,ad_sid:"",reqsig:"",ad_type:3,skuid:e.sku,id:"",page:g,index:e.index+1,broker_info:e.rp.broker_info||"",pps:e.pps,ptag:e.rd,recpos:"29319",user_layer:e.rp.user_layer||"",skus:"",service_type:e.rp.service_type||"",ext:{}})}),c.ReportManager.pinLikeExposure(p),e.list=e.list.concat(s),e.offset=Number(e.offset)+Number(20),e.page=Number(e.page)+1,e.recpos="29319",e.error="";var l={};e.list=e.list.reduce(function(e,t){return(l[t.sku]?"":l[t.sku]=!0)&&e.push(t),e},[]);var m="entries["+i+"]";n.setData(t({},m,e))}).catch(function(e){var r=e.code,i=e.message,a=n.data,o=a.entries,u=a.curIdx,c=o[u];c.error="网络异常，重新加载试试",console.warn("单品模块异常信息：",(0,s.genErrMsg)(i,r));var p="entries["+u+"]";n.setData(t({},p,c))})},switchTab:function(e){var t=this,r=e.currentTarget.dataset,i=r.index,n=r.rd,a=r.pps;(0,d.createTimeout)(function(){t.setData({curIdx:i,scrollLeft:(i-3)*t.getRealValue(69)+55}),t.tabRectTop&&t.data.scrollTop>t.tabRectTop&&wx.pageScrollTo({scrollTop:t.tabRectTop-t.getRealValue(30),duration:0});var r=t.data,o=r.entries,u=r.curIdx,c=o[u];!c.list.length&&t.loadData(),s.logger.click({eid:"JDShopping_Home_RecommendTab",eparam:c.id+"_"+c.title+"_"+u,target:"",event:e}),n&&(0,s.report)(n),a&&(0,p.default)(a)},300,this.page)},fixedTabs:function(){var e=this,t=this.data.fixedbarHeight*this.windowWidth/-750-70;this.bottomNum=0;var r=wx.createSelectorQuery();r.selectViewport().scrollOffset(),r.in(this).select(".goods-tabs").boundingClientRect();try{this._intersectionObserver=this.createIntersectionObserver(),this._intersectionObserver.relativeToViewport({top:t,bottom:2e3}).observe(".goods-tabs",function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intersectionRatio>0;e.setData({tabModifier:!t}),r.exec(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t[0]&&t[1]&&(e.tabRectTop=t[0].scrollTop+t[1].top)})})}catch(e){console.warn("版本过低不支持吸顶特性",e)}},getRealValue:function(e){return e*this.windowWidth/375},gotoDetail:function(e){var t=e.currentTarget.dataset.index,r=this.data,i=r.entries,n=r.curIdx,a=i[n]||{},o=a.list[t]||{},u=a.rd||"";a.topskus&&this.saleSkuList&&this.saleSkuList.length&&this.saleSkuList.forEach(function(e){e.sku==o.sku&&e.ptag&&(u=e.ptag)}),s.logger.click({eid:"JDShopping_Home_RecommendProduct",eparam:a.id+"_"+a.title+"_"+n+"_"+o.sku+"_"+parseInt(t/20)+"_"+t,target:"",event:e});var p=[{report_url:"",source:3,ad_sid:"",reqsig:"",ad_type:3,skuid:o.sku,id:"",page:a.page-1,index:o.index+1,broker_info:o.rp.broker_info||"",pps:o.pps,ptag:o.rd,recpos:a.recpos,user_layer:o.rp.user_layer||"",skus:"",service_type:o.rp.service_type||"",ext:{}}];c.ReportManager.pinLikeClick(p),this.$gotoItem({sku:o.sku,name:o.title,price:o.realPrice,cover:o.image,pps:o.pps,ptag:u},{isPingou:o.isPingou})},gotoUrl:function(e){var t=e.currentTarget.dataset,r=t.url,i=t.index;if(""!==i){var n=this.data,a=n.entries,o=n.curIdx,u=a[o]||{};s.logger.click({eid:"JDShopping_Home_RecommendAggregation",eparam:u.id+"_"+u.title+"_"+o+"_"+parseInt(i/20)+"_"+i,target:r,event:e})}this.$goto(r)},gotoSimilar:function(e){var t=e.currentTarget.dataset,r=t.url,i=t.index,n=this.data,a=n.entries,o=n.curIdx,u=a[o]||{},c=u.list[i]||{};s.logger.click({eid:"JDShopping_Home_RecommendSimilar",eparam:u.id+"_"+u.title+"_"+o+"_"+c.sku+"_"+parseInt(i/20)+"_"+i,target:r,event:e}),this.$goto(r)},onRecommendLoadError:function(e){var t=e.detail,r=t.error;0==t.config.currentPageNum&&(this.setData({showRecommend:!1,recommendErrMsg:r.message}),(0,u.umpBiz)({bizid:1141,operation:4,result:1,message:r.message}))},onRecommendLoadSuccess:function(e){var t=e.detail;getApp().event.emit("recommendLoadSuccess",t)},getExpire:function(){return l.get("mall_tabBanner_hide_util",null)},hideTabBanner:function(){l.set("mall_tabBanner_hide_util",(new Date).setHours(24,0,0,0));var e=this.data.tabBanner&&this.data.tabBanner.closePtag||"";e&&(0,s.report)(e),this.setData({showTabBanner:!1})}}}); 
 			}); 	require("pages/index/mallv2/goods/goods.js");
 		__wxRoute = 'pages/index/mallv2/group-banner/group-banner';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/group-banner/group-banner.js';	define("pages/index/mallv2/group-banner/group-banner.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=function(e){return e&&e.__esModule?e:{default:e}}(require("../common-behavior.js")),i=require("../../../../common/utils.js"),n=require("../../utils.js"),r=["138567.22.1","138567.22.2","138567.22.3","138567.22.4"];new e.JDComponent({behaviors:[t.default],data:{entries:[],hideModule:!0},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){var o=e&&e.group_banner_r4&&e.group_banner_r4.content||[];if(!o||!o.length)return Promise.reject("直出没有数据");var a=o.map(function(e){return{title:e.name||"",des:e.benefit||"",style:e.img&&"background-image: url("+(0,i.getImg)(e.img,170,255)+");"||"",image:(0,i.getImg)(e.skuimg,130),url:e.link||""}}),u=r;if(a.forEach(function(e,t){e.url=(0,n.replaceParam)(e.url,{ptag:u[t]})}),!(a=a.filter(function(e){return e.title&&e.des&&e.image&&e.url&&e.style}))||!a.length||a.length<4)return Promise.reject("没有有效数据");a=a.slice(0,4),t.setData({entries:a,hideModule:!1})}).catch(function(e){console.log(e),t.setData({hideModule:!0})})},gotoUrl:function(e){var t=e.currentTarget.dataset,i=t.url,r=t.index;n.logger.click({eid:"JDShopping_Home_InterlacingBanner",eparam:"4_"+r,target:i,event:e}),this.$goto("/pages/h5/index",{url:i})}}}); 
 			}); 	require("pages/index/mallv2/group-banner/group-banner.js");
 		__wxRoute = 'pages/index/mallv2/guide-bar/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/guide-bar/index.js';	define("pages/index/mallv2/guide-bar/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var t=function(){function e(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=require("../../../../bases/component.js"),n=require("../../../../api/Ptag/report_manager.js"),r=e(require("../../../../common/localStorage.js")),o=e(require("../../utils.js")),a=e(require("../../../../common/cookie-v2/cookie.js"));new i.JDComponent({properties:{curtainFinish:{type:Boolean,observer:function(e){e&&this.waitCurtainFinishResolve&&this.waitCurtainFinishResolve()}}},created:function(){var e=this;this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init),getApp().event.on("recommendLoadSuccess",function(t){1===t.currentPageNum&&e.waitRecommendFinishResolve&&e.waitRecommendFinishResolve(t)})},detached:function(){getApp().event.off("index_mall_init",this.init),getApp().event.off("recommendLoadSuccess")},data:{img:"",txt:"",hidden:!0},methods:{init:function(e){var i=this;if(e.navigation&&!e.isRefresh){var s=this.utils.formatTime();Promise.all([Promise.resolve(e),this.waitRecommendFinish(),r.get("guide_bar_show_count"+s,0),this.waitCurtainFinish()]).then(function(e){var u=t(e,3),c=u[0],m=u[1],d=u[2];if(!(c&&c.navigation&&c.navigation.txt&&c.navigation.duration&&c.navigation.nums))return Promise.reject("直出接口出错");if(!(m&&m.data&&m.data[0]&&m.data[0].img))return Promise.reject("猜你喜欢接口出错");if(!a.getCookie("visitkey"))return Promise.reject("不存在 vk 值");var h=c.navigation,g=h.duration,v=h.nums,f=h.txt,l=m.data[0].img;if(Number(d)>=Number(v))return Promise.reject("展示次数已达上限");var p=Math.min(1e3*Number(g),5e3);getApp().event.emit("guideBarShow",!1),i.setData({hidden:!1,txt:f,img:l},function(){n.ReportManager.addPtagExposure("138567.47.1"),o.logger.exposure({eid:"JDShopping_Home_PathfindingExpo",eparam:1}),r.set("guide_bar_show_count"+s,Number(d)+1),setTimeout(function(){i.setData({hidden:!0})},p),i.triggerEvent("componentLoad",i.is)})}).catch(function(e){console.warn(e,"推荐导航条隐藏"),getApp().event.emit("guideBarShow",!0),i.setData({hidden:!0},function(){i.triggerEvent("componentLoad",i.is)})})}},waitRecommendFinish:function(){var e=this;return new Promise(function(t){return e.waitRecommendFinishResolve=t})},waitCurtainFinish:function(){var e=this;return new Promise(function(t){return e.waitCurtainFinishResolve=t})},handleScroll:function(e){getApp().event.emit("guideBarEvent"),this.setData({hidden:!0}),o.logger.click({eid:"JDShopping_Home_Pathfinding",eparam:"1",target:"",event:e}),o.report("138567.47.1")}}}); 
 			}); 	require("pages/index/mallv2/guide-bar/index.js");
 		__wxRoute = 'pages/index/mallv2/hot-word/hot-word';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/hot-word/hot-word.js';	define("pages/index/mallv2/hot-word/hot-word.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=require("../../utils.js");new e.JDComponent({created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},properties:{showSkeleton:{type:Boolean,observer:function(e){this.setData({showSkeleton:e})}},hasSubHome:{type:Boolean}},data:{error:!1,entries:[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(4)))},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){if(!e.keyword||!e.keyword.content||e.keyword.content.length<4)return t.getDisasterData();var r=e.keyword.content.filter(function(e){return e.keyword&&e.link}).slice(0,4).map(function(e){return{searchname:t.utils.getUrlParam("key",e.link)||"",keyword:e.keyword||"",pps:e.pps}});return r.length<4?t.getDisasterData():r}).then(function(r){var n=e.isDiscoveryVersion;t.setData({error:!1,isDiscoveryVersion:n,entries:r},function(){t.triggerEvent("componentLoad",t.is)}),getApp().event.emit("hotWordEvent","success")}).catch(function(e){t.setData({error:!0,entries:[]},function(){t.triggerEvent("componentLoad",t.is)}),getApp().event.emit("hotWordEvent","error")})},getDisasterData:function(){return this.biz.getPPMS(35934).then(function(e){if(!e||e.length<2||!e[1].hotword||!e[1].hotword.length)return Promise.reject({message:"Data error!"});var t=e[1].hotword.filter(function(e){return e.keyword&&e.searchname});return t.length<4?Promise.reject({message:"容灾数据不足，隐藏模块"}):t})},gotoUrl:function(e){var r=e.currentTarget.dataset,n=r.pps,i=r.searchname,o=this.data.isDiscoveryVersion?"138722.2.3":"138567.2.5";t.logger.click({eid:"JDShopping_Home_SearchHot",eparam:i,target:"/pages/search/list/list",event:e});var s={ptag:o,key:i};n&&(s.pps=n),this.$goto("/pages/search/list/list",s)}}}); 
 			}); 	require("pages/index/mallv2/hot-word/hot-word.js");
 		__wxRoute = 'pages/index/mallv2/index/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/index/index.js';	define("pages/index/mallv2/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}var t=require("../../../../bases/component.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(require("../../page-behavior.js")),i=e(require("../../model.js")),n=e(require("../../utils.js")),o=require("../../../../common/utils.js"),s=require("../../../../common/timer-manage"),r=getApp()&&getApp().systemInfo&&getApp().systemInfo.windowWidth||0,h=["mallv2/hot-word","mallv2/carousel","mallv2/promote-banner","mallv2/channel-nav","mallv2/promote-banner","mallv2/newuser-floor","mallv2/one-yuan","mallv2/wallet-group"].length-1;new t.JDComponent({behaviors:[a.default],properties:{pageType:String,pretime:String,showPhotoShopping:Boolean},data:{scrollTop:0,reachBottom:0,refreshTime:0,showTime:0,hideTime:0,hotWordError:!1,carouselError:!1,indexStyle:{},showSkeleton:!0,isError:!1,isLoading:!1,navBarData:{pageKey:"",isShowCapsule:!1,isCustom:!0,title:"京东购物",backgroundOpacity:"0",navigationBarTextStyle:"black"},channelStatus:0,channelData:{},isSupportNav:!0,fixedbarHeight:""},created:function(){var e=this;this.channelDataCache={},getApp().event.on("hotWordEvent",function(t){var a=!1;"error"===t&&(a=!0),e.setData({hotWordError:a})}),getApp().event.on("carouselEvent",function(t){var a=!1;"error"===t&&(a=!0),e.setData({carouselError:a})}),getApp().event.on("guideBarEvent",function(){wx.createSelectorQuery().in(e.selectComponent("#goods")).select(".goods-tabs").boundingClientRect(function(t){t.top&&wx.pageScrollTo({scrollTop:e.data.scrollTop+t.top-100})}).exec()}),getApp().event.on("indexCateBar",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(Number(t.type)){case 1:e.setData({channelStatus:0});break;case 2:case 3:var a=t.action,n=void 0===a?{}:a,o=n.func,s=n.recpos,r=n.param,h=void 0===r?{}:r,c=h.sid,l=h.subproid,g=l+"_"+o+"_"+s+"_"+c;if(e.cacheKey=g,e.fetchChannelData=function(t){return e.setData({channelStatus:1}),i.getChannelData(l,o,s,c).then(function(a){e.channelDataCache[t]=a,t===e.cacheKey&&e.setData({channelStatus:2,channelData:a}),wx.stopPullDownRefresh(),wx.hideNavigationBarLoading()}).catch(function(){wx.stopPullDownRefresh(),wx.hideNavigationBarLoading(),t===e.cacheKey&&e.setData({channelStatus:3})})},e.channelDataCache[g]){var d=e.channelDataCache[g];e.setData({channelStatus:2,channelData:d})}else e.fetchChannelData(g)}})},attached:function(){this.page=getCurrentPages().pop()},detached:function(){getApp().event.off("carouselEvent"),getApp().event.off("guideBarEvent"),getApp().event.off("hotWordEvent"),getApp().event.off("indexCateBar")},methods:{onLoad:function(){this.refresh(!0)},onShow:function(){var e=this;(0,s.createTimeout)(function(){e.data.showSkeleton&&e.setData({isLoading:!0})},3e3,this.page),this.shake&&this.shake.start(),this.setData({showTime:Date.now()})},onHide:function(){this.shake&&this.shake.stop(),this.setData({hideTime:Date.now()})},refresh:function(e){if(this.shake&&this.shake.stop(),wx.showNavigationBarLoading(),0!==this.data.channelStatus)return this.setData({refreshTime:Date.now()}),void(this.fetchChannelData&&this.fetchChannelData(this.cacheKey));this.priorCount=0,this.setData({loadOthers:!1,refreshTime:Date.now()}),!0===e&&this.getMainFromCache(),this.getMain(e)},errorRefresh:function(){var e=0===this.data.channelStatus;this.setData({isLoading:e}),this.refresh(!1)},onComponentLoad:function(e){var t=this;console.log("[首页v2] onComponentLoad, total: "+h+"; cur: ",this.priorCount,e.detail),++this.priorCount==h&&(this.triggerEvent("firstScreenLoaded",this.hasCache?9:11),console.log("[首页v2] 成功上报测速"),(0,s.createTimeout)(function(){t.onIdle()},2e3,this.page))},onCurtainFinish:function(e){this.setData({curtainFinish:!0})},getMain:function(e){var t=this;i.getMallMainV2(this.data.pageType,this.data.pretime).then(function(a){return!0!==e&&(a.isRefresh=!0),t.processMainData(a)}).catch(function(){return t.mainDataDidLoad()})},getMainFromCache:function(){var e=this;i.getMallMainV2(this.data.pageType,"",{fetchCache:!0}).then(function(t){t.fromCache=!0,delete t.screen,delete t.shake,delete t.floating,delete t.navigation,e.processMainData(t,!0)}).catch(function(){return console.log("[index] no cache data")})},processMainData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.triggerEvent("mainDataLoaded",t?8:10),e.fromCache&&(this.hasCache=!0),e.isError)return this.setData({isError:!this.hasCache,isLoading:!1,showSkeleton:!1}),wx.stopPullDownRefresh(),void wx.hideNavigationBarLoading();var a={},i={};e.shake&&e.shake.content&&e.shake.content.length&&(i.shake=e.shake.content.map(function(e){return e.usingShake=e.usingShake||e.canshake,e.link=e.link||e.url,e.bigImg=e.bigImg||e.bigimg,e.wxappSmallImg=e.wxappSmallImg||e.smallimg,e})),a.saleConfig={data:i,indexName:"mallv2"},e.isDiscoveryVersion&&(a.saleConfig.indexName="discovery"),a.isNewUserVersion=e.isNewUserVersion,a.isNewUser=e.isNewUser,a.isDiscoveryVersion=e.isDiscoveryVersion,a.hasSubHome=1==e.pagestatus,this.cateTab=e.cate_tab&&e.cate_tab.content||[],a.isError=!1,a.isLoading=!1,this.setData(a),this.setFixedBar(a),this.mainDataDidLoad(e),this.initShake(i.shake,e.isDiscoveryVersion),this.initIndexConfig(e);var n=e&&e.isGaryPage;this.triggerEvent("isGaryPage",n)},mainDataDidLoad:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};getApp().event.emit("index_mall_init",t),this.setData({loadOthers:!0},function(){e.setData({showSkeleton:!1,isLoading:!1})}),wx.stopPullDownRefresh(),wx.hideNavigationBarLoading()},onIdle:function(){this.$preload("pages/cate/cate"),this.$preload("pages/cart/cart/index")},back2top:function(){var e=this.data.isDiscoveryVersion;wx.pageScrollTo({scrollTop:0}),e&&n.report("7547.17.15")},initShake:function(e,t){var a=this;if(e&&e.length){var i=void 0;e.some(function(e){if(n.checkTime(e.begin,e.end))return i=e,!0}),i&&"1"==i.usingShake&&(this.shake=n.Shake.init(),this.shake.on(function(){a.shake.stop();var e=t?"138722.18.2":"138567.20.7";if(i.app_url){var o=n.addPtag(i.app_url,e);a.$goto(o)}else{var s=n.addPtag(i.link,e);a.$goto("/pages/h5/index",{url:s})}}))}},onShakeAnimLoaded:function(e){this.setData({shakePayload:e.detail})},initIndexConfig:function(e){var t=e.header_theme||{},a=t&&t.content&&t.content[0]||{},i=t&&t.page_bg_color1||"",s=t&&t.page_bg_color2||"",r=a.bgColor&&"background-color: "+a.bgColor+";"||"",h="background-image: url("+((0,o.getImg)(a.bgImg,750,400)||"https://img14.360buyimg.com/ling/jfs/t1/125998/11/1438/10823/5ebcb319E06ef51db/0ed728b9af7b560d.png")+");",c=a.new_gift_bg_img&&"background-image: url("+(0,o.getImg)(a.new_gift_bg_img,750,250)+");"||"",l=1==a.fontColor,g=e.biz_djxy_bg_color1&&e.biz_djxy_bg_color2&&"background-image: -webkit-linear-gradient(top, "+e.biz_djxy_bg_color1+" , "+e.biz_djxy_bg_color2+");"||"",d=a.searchTopBgColor&&"background-color: "+a.searchTopBgColor+";"||"",u=a.searchTopBgImg&&"background-image: url("+this.utils.getImg(a.searchTopBgImg)+");"||"",p={isBlackTitle:l,headerStyle:r+h,newGiftStyle:c,pageStyle:i&&s&&"background-image: -webkit-linear-gradient(top, "+i+" , "+s+" 4000rpx);"||"",fixedbarStyle:d+u||"background-image: url(https://img12.360buyimg.com/img/s750x206_jfs/t1/89341/6/16400/12002/5e79c8efE759df608/25674df8d2582a7a.png);",floorBg:g},f=e&&e.tab_banner||{},m={image:(0,o.getImg)(f.img)||"",url:n.replaceParam(f.link,{ptag:f.ptag})||"",showClose:1==f.switch,closePtag:f.ptag_close||""};this.setData({indexStyle:p,tabBanner:m})},setNavInfo:function(e){var t=e.detail,a=t.isSupportNav,i=t.navHeight;this.isSupportNav=a,this.titleHeight=a?750*i/r:0,this.triggerEvent("onNavInfo",{navHeight:a?i:0})},setFixedBar:function(e){var t=this.titleHeight,a=e.hasSubHome&&this.cateTab.length>5?80:0,i=this.titleHeight+a+84;this.setData({titleHeight:t,fixedbarHeight:i,isSupportNav:this.isSupportNav})}}}); 
 			}); 	require("pages/index/mallv2/index/index.js");
 		__wxRoute = 'pages/index/mallv2/newuser-floor/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/newuser-floor/index.js';	define("pages/index/mallv2/newuser-floor/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=require("../../utils.js"),n=require("../../../../common/utils.js"),r=require("../../../../api/Ptag/report_manager.js");new e.JDComponent({created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},data:{entries:[],error:!1},methods:{init:function(e){var i=this;Promise.resolve(e).then(function(e){if(!e.newuser_banner_v2||!e.newuser_banner_v2.content||!e.newuser_banner_v2.content.length)return Promise.reject();var a=e.newuser_banner_v2,o=a.style,s=a.content,g=a.bg,u=e.fromCache,c=s.filter(function(e){return e.link&&e.img}).map(function(e){var i=e.ptag,a=e.link,o=e.img;return!u&&r.ReportManager.addPtagExposure(i),{link:(0,t.replaceParam)(a,{ptag:i}),img:(0,n.getImg)(o)}});if(Number(o)!==c.length)return Promise.reject("数据格式错误");i.setData({entries:c,error:!1,bg:g&&"background-image: url("+(0,n.getImg)(g)+");"||""},function(){i.triggerEvent("componentLoad",i.is)})}).catch(function(e){i.setData({error:!0,entries:[]},function(){i.triggerEvent("componentLoad",i.is)})})},gotoUrl:function(e){var n=e.currentTarget.dataset,r=n.url,i=n.index;t.logger.click({eid:"JDShopping_Home_NewGuestCard",eparam:""+i,target:r,event:e}),this.$goto("/pages/h5/index",{url:r})}}}); 
 			}); 	require("pages/index/mallv2/newuser-floor/index.js");
 		__wxRoute = 'pages/index/mallv2/one-yuan/one-yuan';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/one-yuan/one-yuan.js';	define("pages/index/mallv2/one-yuan/one-yuan.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return void 0===t||0==+t?Math.ceil(e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),e=Math.ceil(+(e[0]+"e"+(e[1]?+e[1]-t:-t))),+((e=e.toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))}var t=require("../../../../bases/component.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../common-behavior.js")),r=require("../../utils"),n=require("../../../../common/utils.js"),o=require("../../../../api/Ptag/report_manager.js");new t.JDComponent({behaviors:[i.default],properties:{pageType:{type:String,observer:function(e){this.isDiscoveryVersion="DISCOVERY"===e}}},data:{entries:[],bgImg:"",link:"",hideModule:!0},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(t){var i=this;Promise.resolve(t).then(function(t){if(!t.newuser_banner||!t.newuser_banner.r4)return Promise.reject();var r=t.newuser_banner.r4,a=r.img,s=r.link,u=r.content,c=void 0===u?[]:u;if(!a||!s)return Promise.reject();var l=(0,n.getImg)(a),g=c.filter(function(e){return e.skuid&&e.realprice&&e.refprice&&e.img}).splice(0,4).map(function(t){var i=t.skuid,r=t.realprice,o=t.refprice,a=t.img;return{sku:i,img:(0,n.getImg)(a),price:e(parseFloat(r),-1),oldPrice:e(parseFloat(o),-1)}});if(4!==g.length)return Promise.reject();!t.fromCache&&o.ReportManager.addPtagExposure("138567.28.4"),i.setData({bgImg:l,link:s,entries:g,hideModule:!1},function(){i.triggerEvent("componentLoad",i.is)})}).catch(function(e){console.log(e),i.setData({hideModule:!0},function(){i.triggerEvent("componentLoad",i.is)})})},gotoUrl:function(e){var t=this.data.link,i=e.currentTarget.dataset.sku,n=void 0===i?"":i,o={ptag:"138567.28.4"};n&&(o.sku=n);var a=(0,r.replaceParam)(t,o);this.$goto("/pages/h5/index",{url:a})}}}); 
 			}); 	require("pages/index/mallv2/one-yuan/one-yuan.js");
 		__wxRoute = 'pages/index/mallv2/promote-banner/promote-banner';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/promote-banner/promote-banner.js';	define("pages/index/mallv2/promote-banner/promote-banner.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var t=require("../../../../bases/component.js"),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../utils.js")),n=function(e){return e&&e.__esModule?e:{default:e}}(require("../common-behavior.js")),i=require("../../../../api/Ptag/report_manager.js"),o={strategy:["138722.8.1","138722.8.2","138722.8.3","138722.8.4"],group:["138722.9.1","138722.9.2","138722.9.3","138722.9.4"],floor:["138722.10.1","138722.10.2","138722.10.3","138722.10.4"]},a={strategy:1,group:2,floor:3};new t.JDComponent({behaviors:[n.default],properties:{field:{type:String},showSkeleton:{type:Boolean,observer:function(e){this.setData({showSkeleton:e})}}},data:{hotspot:[],hideModule:!0,showImage:!1,mt:"0"},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{refresh:function(){this.init()},init:function(t){var n=this;Promise.resolve().then(function(){var a=n.data.field,s=o[a],u=t.isDiscoveryVersion,c=t.fromCache,l=a+"_banner";if(!t[l])return Promise.reject();var f=t[l],d=f.link,g=f.img,h=f.promotion,p=f.userdata1,m=f.userdata2,v=f.userdata3,_=[].concat(e(d),[p,m,v]).filter(function(e){return!!e});if(!g||!_||!_.length)return Promise.reject();var y=parseInt(h||1);if(!y||y<1||y>4)return Promise.reject();var P=n.utils.getImg(g,750,184),j=_.slice(0,y).map(function(e,t){var n=u?s[t]:r.getUrlPtag(e);return!c&&i.ReportManager.addPtagExposure(n),r.replaceParam(e,{ptag:n})});n.setData({image:P,hotspot:j,hideModule:!1},function(){return n.triggerEvent("componentLoad",n.is)})}).catch(function(e){n.setData({hideModule:!0},function(){n.triggerEvent("componentLoad",n.is)})})},tapOnItem:function(e){var t=this.data.field,n=e.currentTarget.dataset,i=n.url,o=n.index,s=a[t];r.logger.click({eid:"JDShopping_Home_InterlacingBanner",eparam:s+"_"+o,target:i,event:e}),this.$goto("/pages/h5/index",{url:i})},onImgLoad:function(e){this.setData({showImage:!0})}}}); 
 			}); 	require("pages/index/mallv2/promote-banner/promote-banner.js");
 		__wxRoute = 'pages/index/mallv2/search-bar/search-bar';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/search-bar/search-bar.js';	define("pages/index/mallv2/search-bar/search-bar.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=require("../../../../api/Ptag/report_manager.js"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(require("../../utils.js")),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../../../../common/wxcontext.js")),n=require("../../../../common/utils"),o=require("../../../../common/timer-manage");new e.JDComponent({properties:{shakePayload:{type:Object,observer:function(e){e&&e.showEntrance&&this.showShakeEntrance(e.config)}},showSkeleton:{type:Boolean,observer:function(e){this.setData({showSkeleton:e})}}},attached:function(){this.page=getCurrentPages().pop()},data:{showLantern:!1,bannerAnimation:!1,link:"",expand_img_b:"",ptag:"",shakeEntrance:{},wordIndex:0,isShowPhoto:!1,showCate:!1,hiddenWord:[{keyword:"搜索喜欢的商品"}]},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this,a=e.keyword,i=void 0===a?{}:a,n=e.hiddenword,o=void 0===n?{}:n,r=e.header_theme,s=void 0===r?{}:r,h=e.pagestatus,d=o.mode,c=o.duration,l=o.content,p=1===Number(h);this.isAutoPlay=1===Number(d),this.duration=1e3*Number(c)||2e3;var u=i.content&&i.content.map(function(e){return e.keyword})||[],g=!p&&l?l.filter(function(e){return!u.includes(e.keyword)}):l,m=g&&g.length>0?g:[{keyword:"搜索喜欢的商品"}];this.setData({wordIndex:0,hiddenWord:m},function(){t.initInterval()}),this.setData({showCate:s&&1==s.is_show_icon})},tapOnSearchBar:function(e){var t=this.data,i=t.hiddenWord[t.wordIndex];if(i){var o={ptag:"138567.2.2"},r=i.active_url,s=void 0===r?"":r,h=i.keyword,d=void 0===h?"搜索喜欢的商品":h,c=i.link,l=void 0===c?"":c,p=(0,n.getUrlParam)("pps",l),u=(0,n.getUrlParam)("key",l);if("搜索喜欢的商品"!==d){var g=u+"^"+d+"^"+p;Object.assign(o,{searchname:s?g+"^"+encodeURIComponent(s):g})}this.$goto("/pages/search/list/list",o);var m="/pages/search/list/list?"+(0,n.querystr)(o);a.logger.click({eid:"JDShopping_Home_Search",eparam:"",target:m,event:e})}},initInterval:function(){var e=this;(0,o.stopInterval)(this.timer);var t=this.data.hiddenWord;this.isAutoPlay&&(!t||t.length<2||(this.timer=(0,o.createInterval)(function(){var t=e.data,a=(t.wordIndex+1)%t.hiddenWord.length;e.setData({wordIndex:a})},this.duration,this.page)))},tapOnChannelMenu:function(e){var t="/pages/cate/cate";this.$goto(t,"switchTab"),a.logger.click({eid:"JDShopping_Home_ClassificationAll",eparam:"",target:t,event:e}),this.$report("138567.2.1")},showShakeEntrance:function(e){this.config=e;t.ReportManager.addPtagExposure("138567.20.7"),this.setData({shakeEntrance:{image:this.utils.getImg(e.wxappSmallImg),url:a.addPtag(e.link,"138567.20.7")}})},takePhoto:function(e){var t=this;a.logger.click({eid:"JDShopping_Home_PhotoBuy",eparam:"",target:"/pages/search_photo/result/result",event:e}),i.default.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){e.tempFilePaths&&e.tempFilePaths[0]&&t.$goto("/pages/search_photo/result/result",{filepath:e.tempFilePaths[0],ptag:"138722.2.4"})}})},navigate:function(e){var t=this.config,i=t.app_url,n=t.link;a.logger.click({eid:"JDShopping_Home_TopShaking",eparam:"",target:i||n,event:e}),i?this.$goto(i,{ptag:"138567.20.7"}):this.$goto("/pages/h5/index",{url:a.addPtag(n,"138567.20.7")})}}}); 
 			}); 	require("pages/index/mallv2/search-bar/search-bar.js");
 		__wxRoute = 'pages/index/mallv2/wallet-group/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/wallet-group/index.js';	define("pages/index/mallv2/wallet-group/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=require("../../../../bases/component.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../common-behavior.js")),r=require("../../../../common/fe_helper.js"),o=require("../../model.js"),a=require("../../../../common/cookie-v2/cookie"),c=require("../../../../common/utils.js"),s=require("../../utils.js"),u=require("../../../../api/Ptag/report_manager.js"),l=require("../../../../common/timer-manage");new n.JDComponent({behaviors:[i.default],properties:{showSkeleton:{type:Boolean,observer:function(e){this.setData({showSkeleton:e})}}},data:{seckillBeginTime:null,seckillGoods:[].concat(e(Array(2))),countdownHour:null,countdownMinute:null,countdownSecond:null,hideSeckill:!1,hideModule:!0,entries:[].concat(e(Array(4))),is2Column:!1},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},attached:function(){this.page=getCurrentPages().pop()},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(e){var t=this;Promise.resolve(e).then(function(e){return t.fromCache=e&&e.fromCache,t.timer&&clearTimeout(t.timer),t.seckill=e&&e.secondkill||{},t.bi=e&&e.floor_column||{},Promise.all([t.initSeckill(t.seckill),t.initBI(t.bi)])}).then(function(){t.setData({hideModule:!1},function(){t.triggerEvent("componentLoad",t.is)})}).catch(function(e){t.setData({hideModule:!0},function(){t.triggerEvent("componentLoad",t.is)})})},initBI:function(e){var n=this;return Promise.resolve(e).then(function(e){var t=e&&e.content||[],i=e&&e.exp||0,r=t.map(function(e){var t=e.items.map(function(t){return{src:(0,c.getImg)(t.img,134),url:t.link,sku:t.sku,eparam:e.pid+"_"+e.name+"_"+t.sku,label:t.price||""}});return t=t.filter(function(e){return e.src&&e.url}).slice(0,3),{type:e.type||"",title:e.name||"",des:e.benefit||"",image:t,ptag:e.ptag,eparam:e.pid+"_"+e.name+"_-1"}}),o=2==i,a=o?3:4;if(!(r=r.filter(function(e){return e.title&&e.des&&e.image&&e.image.length}))||!r.length||r.length<a)return Promise.reject("BI没有足够数据");var s=[];return(r=r.slice(0,a)).forEach(function(e){s.push(e.ptag)}),!n.fromCache&&u.ReportManager.addPtagExposure("7593.1.1",{ptag_list:s.join("_")}),n.setData({entries:r,is2Column:o,hideModule:!1}),{entries:r}}).then(function(e){var i=e.entries;i.forEach(function(e){8==e.type&&n.getCsortData(e.ptag).then(function(r){if(!r.image)return Promise.reject();e.image=r.image.map(function(n){return t({},n,{eparam:e.eparam})}),n.setData({entries:i})}).catch(function(e){console.log(e)})})}).catch(function(e){n.getPPMSData()})},initSeckill:function(e){var n=this;return Promise.resolve(e).then(function(e){var i=e||{},o=i.name||"",a=i.benefit_more||"",s=i.link||"",u=i.ptag||"",m=i.content||[];if(!m||!m.length)return Promise.reject("no seckillGoods");var g=[],f=[];if(m=m.map(function(e){return{stock:e.stock_state,image:(0,c.getImg)(e.img,140),price:0==e.stock_state?e.quot_price:e.chprice,oldPrice:e.pcprice,skuId:e.skuid,pps:e.pps,eparam:e.poolid+"_"+e.full_name+"_"+e.skuid,label:e.lowestprice_label||""}}).forEach(function(e){var t=parseInt(e.stock);!isNaN(t)&&t>0?g.push(e):f.push(e)}),!(m=[].concat(g,f).filter(function(e){return e.image&&e.price&&e.oldPrice&&e.skuId}).slice(0,15).map(function(e,n){return t({},e,{eparam:e.eparam+"_"+n})}))||!m.length||m.length<4)return Promise.reject("秒杀商品没有足够数据");for(var p=[0,6,8,10,12,14,16,18,20,22,24],h=(0,r.getServerTime)(),d=new Date(h).getHours(),v=void 0,k=void 0,_=0;_<p.length-1;_++)if(d>=p[_]&&d<p[_+1]){v=p[_],(k=new Date(h)).setHours(p[_+1]),k.setMinutes(0),k.setSeconds(0);break}var D=Math.floor((k.getTime()-h)/1e3),P=Math.floor(D/60/60),I=Math.floor(D%3600/60),w=D%60;n.setData({seckillTitle:o,seckillDes:a,seckillLink:s,seckillPtag:u,seckillBeginTime:v+"",seckillGoods:m,countdownHour:P<10?"0"+P:""+P,countdownMinute:I<10?"0"+I:""+I,countdownSecond:w<10?"0"+w:""+w,hideSeckill:!1}),(0,l.createTimeout)(function(){return n.setCountDown(D-1)},1e3,n.page)}).catch(function(e){n.setData({hideSeckill:!0})})},setCountDown:function(e){var t=this;if(e<0)return this.initSeckill(this.seckill);var n=Math.floor(e/60/60),i=Math.floor(e%3600/60),r=e%60;this.setData({countdownHour:n<10?"0"+n:""+n,countdownMinute:i<10?"0"+i:""+i,countdownSecond:r<10?"0"+r:""+r}),this.timer=(0,l.createTimeout)(function(){return t.setCountDown(e-1)},1e3,this.page)},getCsortData:function(e){return(0,o.getCsortData)(178,1).then(function(t){if(!t||!t.length)return Promise.reject("no getCsortData data");var n=t&&t[0]&&t[0].c2[0].c3[0].c3item||"",i=(0,a.getCookie)("wq_addr")||"_|19_1601|广东",r=(i=i.split("|")||[])[2].split("_")[0]||"",s=i[1].split("_")[0]||"",u=i[1].split("_")[1]||"";return n&&s&&u?(0,o.getRankInfoData)(n,s,u).then(function(t){var n=t&&t.rankInfo&&t.rankInfo[0]||{};return n?{image:[{src:(0,c.getImg)(n.imgPath,148)||"",url:"https://wqs.jd.com/portal/wx/jdrank_v2/hot.shtml?area="+s+"_"+u+"_"+encodeURIComponent(r)+"&ptag="+e}]}:Promise.reject("no rankData data")}).catch(function(e){}):Promise.reject("no cateId or provinceId or cityId data")}).catch(function(e){})},getPPMSData:function(){var e=this;this.biz.getPPMS(35904).then(function(t){var n=t&&t[0]&&t[0].floor_config||[];return n&&n.length?((n=n.filter(function(e){return e.level&&"1"==e.isRongzai})).sort(function(e,t){return e.level-t.level}),n=n.map(function(e){var t=[{src:(0,c.getImg)(e.leftImg,147),url:e.surl||""},{src:(0,c.getImg)(e.rightImg,147),url:e.surl||""}];return t=t.filter(function(e){return e.src&&e.url}),{title:e.title||"",des:e.interest||"",image:t,type:e.type}}),(n=n.filter(function(e){return e.title&&e.des&&e.image&&e.image.length}))&&n.length?(n=n.slice(0,4),void e.setData({entries:n,hideBI:!1})):Promise.reject("兜底BI没有足够数据")):Promise.reject("no 35904 data")}).catch(function(t){e.setData({hideBI:!0})})},tapSeckill:function(e){var t=e.currentTarget.dataset,n=t.sku,i=void 0===n?"":n,r=t.pps,o=void 0===r?"":r,a=t.ptag,c=void 0===a?"":a,u=t.path,l=void 0===u?"":u,m=t.eparam,g=void 0===m?"":m,f=l||"/pages/seckill/index/index";s.logger.click({eid:"JDShopping_Home_BusinessFloor",eparam:g,target:f,event:e}),this.$goto(f,{sku:i,pps:o,ptag:c})},gotoUrl:function(e){var t=e.currentTarget.dataset,n=t.url,i=void 0===n?"":n,r=t.eparam,o=void 0===r?"":r;s.logger.click({eid:"JDShopping_Home_BusinessFloor",eparam:o,target:i,event:e}),this.$goto(i)}}}); 
 			}); 	require("pages/index/mallv2/wallet-group/index.js");
 		__wxRoute = 'pages/index/mallv2/wallet-selected/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/wallet-selected/index.js';	define("pages/index/mallv2/wallet-selected/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},t=require("../../../../bases/component.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(require("../common-behavior.js")),i=require("../../../../common/utils.js"),n=require("../../../../api/Ptag/report_manager.js"),o=require("../../utils.js");new t.JDComponent({behaviors:[r.default],data:{entries1:[],entries2:[],hideMore:!1,hideModule:!0},created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},methods:{init:function(t){var r=this;Promise.resolve(t).then(function(t){var a=t&&t.promote&&t.promote.content||[];if(!a||!a.length)return Promise.reject("馆区模块直出没有数据");var l=a.map(function(e){var t=e.items&&e.items[0]||{};return{title:e.name||"",des:t.content||"",image:(0,i.getImg)(t.img,134),url:t.link||"",floorId:e.child_id||""}});if(!(l=l.filter(function(e){return e.title&&e.image&&e.des&&e.url}))||!l.length||l.length<4)return Promise.reject("没有有效数据或数据不足4个");var s=(l=l.slice(0,12)).slice(0,4).map(function(t,r){return e({},t,{eid:"JDShopping_Home_LibraryAreaProduct",eparam:t.floorId+"_"+t.title+"_"+r})}),c=l.slice(4,12).map(function(t,r){return e({},t,{eid:"JDShopping_Home_LibraryAreaRecommend",eparam:t.floorId+"_"+t.title+"_"+r})}),g=!1;!c||!c.length||c.length<5?c=[]:c.length>4&&c.length<8&&(g=!0);var u=t&&t.fromCache,p=[];(l=s.concat(c)).forEach(function(e){var t=(0,i.getUrlParam)("ptag",String(e.url));p.push(t)}),!u&&n.ReportManager.addPtagExposure("7593.1.1",{ptag_list:p.join("_")}),r.setData({entries1:s,entries2:c,hideMore:g,hideModule:!1},function(){!u&&s.length&&o.logger.exposure({eid:"JDShopping_Home_LibraryAreaProductExpo",eparam:""}),!u&&c.length&&o.logger.exposure({eid:"JDShopping_Home_LibraryAreaRecommendExpo",eparam:""})})}).catch(function(e){console.log(e),r.setData({hideModule:!0})})},gotoUrl:function(e){var t=e.currentTarget.dataset,r=t.url,i=t.eid,n=t.eparam;o.logger.click({eid:i,eparam:n,target:r,event:e}),this.$goto("/pages/h5/index",{url:r})},gotoMore:function(e){o.logger.click({eid:"JDShopping_Home_LibraryAreaLookAll",eparam:"",target:"/pages/index/subpack/channel/index",event:e}),this.$goto("/pages/index/subpack/channel/index",{ptag:"138567.13.26"})}}}); 
 			}); 	require("pages/index/mallv2/wallet-selected/index.js");
 		__wxRoute = 'pages/index/mallv2/yard/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/mallv2/yard/index.js';	define("pages/index/mallv2/yard/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../../bases/component.js"),t=require("../../../../common/utils.js"),r=require("../../utils.js"),i=require("../../../../api/Ptag/report_manager.js");new e.JDComponent({created:function(){this.init=this.init.bind(this),getApp().event.on("index_mall_init",this.init)},detached:function(){getApp().event.off("index_mall_init",this.init)},data:{title:"",entries:[],hideModule:!0},methods:{init:function(e){var n=this;Promise.resolve(e).then(function(e){if(!e.djxy||!e.djxy.content||!e.djxy.content.length)return Promise.reject();var a=e.djxy,o=a.content,s=a.name,u=a.button_link,d=a.button_txt,g=a.is_show_more,m=o.map(function(e){var i=e.items&&e.items[0]||{};return{name:e.name||"",des:e.benefit||"",image:(0,t.getImg)(i.img,210)||"",url:(0,r.replaceParam)(i.link,{ptag:i.ptag})||""}});if((m=m.filter(function(e){return e.name&&e.des&&e.image&&e.url})).length<3)return Promise.reject("数据不足");n.setData({title:s||"东家小院",moreLink:u||"",moreText:d||"",hideMore:"1"!=g,entries:m,hideModule:!1},function(){var a=e&&e.fromCache,o=[];m.forEach(function(e){var r=(0,t.getUrlParam)("ptag",String(e.url));o.push(r)}),!n.data.hideMore&&o.push((0,t.getUrlParam)("ptag",String(n.data.moreLink))),!a&&i.ReportManager.addPtagExposure("7593.1.1",{ptag_list:o.join("_")}),!a&&r.logger.exposure({eid:"JDShopping_Home_EastCourtyardProductExpo",eparam:""})})}).catch(function(e){console.warn("东家小院",e),n.setData({hideModule:!0})})},gotoUrl:function(e){var t=e.currentTarget.dataset,i=t.url,n=t.index,a=void 0===n?"":n,o=t.name,s=void 0===o?"":o;s?r.logger.click({eid:"JDShopping_Home_EastCourtyardProduct",eparam:s+"_"+i+"_"+a,target:i,event:e}):r.logger.click({eid:"JDShopping_Home_EastCourtyardProductMore",eparam:"",target:i,event:e}),this.$goto("/pages/h5/index",{url:i})}}}); 
 			}); 	require("pages/index/mallv2/yard/index.js");
 		__wxRoute = 'pages/my/index/components/bind-curtain/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/bind-curtain/index.js';	define("pages/my/index/components/bind-curtain/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/bind-curtain/index.js");
 		__wxRoute = 'pages/my/index/components/bind-floor/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/bind-floor/index.js';	define("pages/my/index/components/bind-floor/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/bind-floor/index.js");
 		__wxRoute = 'pages/my/index/components/my-activity/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/my-activity/index.js';	define("pages/my/index/components/my-activity/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/my-activity/index.js");
 		__wxRoute = 'pages/my/index/components/my-asset/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/my-asset/index.js';	define("pages/my/index/components/my-asset/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/my-asset/index.js");
 		__wxRoute = 'pages/my/index/components/my-fav/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/my-fav/index.js';	define("pages/my/index/components/my-fav/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/my-fav/index.js");
 		__wxRoute = 'pages/my/index/components/my-header/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/my-header/index.js';	define("pages/my/index/components/my-header/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/my-header/index.js");
 		__wxRoute = 'pages/my/index/components/my-logistics/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/my-logistics/index.js';	define("pages/my/index/components/my-logistics/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/my-logistics/index.js");
 		__wxRoute = 'pages/my/index/components/my-order/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/my-order/index.js';	define("pages/my/index/components/my-order/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/my-order/index.js");
 		__wxRoute = 'pages/my/index/components/new-curtain/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/new-curtain/index.js';	define("pages/my/index/components/new-curtain/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/new-curtain/index.js");
 		__wxRoute = 'pages/my/index/components/plus-curtain/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/plus-curtain/index.js';	define("pages/my/index/components/plus-curtain/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/plus-curtain/index.js");
 		__wxRoute = 'pages/my/index/components/promote-floor/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/components/promote-floor/index.js';	define("pages/my/index/components/promote-floor/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../../../common/wqvue/indexv1.2").WqComponent)(e.default); 
 			}); 	require("pages/my/index/components/promote-floor/index.js");
 		__wxRoute = 'pages/recommend/components/goods/goods';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/recommend/components/goods/goods.js';	define("pages/recommend/components/goods/goods.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function r(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function t(e){if(!e)return"";var r=(e=""+e).split("."),t={integer:"",decimal:""};return t.integer=r[0],r.length>1&&(t.decimal=r[1].replace(/(0+)$/g,"")),t}var s=require("../../../../bases/component.js"),i=function(e){return e&&e.__esModule?e:{default:e}}(require("../common-behavior.js")),o=require("../../model.js"),a=require("../../../../common/utils.js"),n=require("../../utils.js"),u=require("../../../../common/fe_report/usability.js"),c=require("../../../../api/Ptag/report_manager.js"),p=[{title:"精选",type:"recommend",tabRd:"138619.1.1000",tabRd_panel:"138619.1.999",list:[],offset:0,count:20}];new s.JDComponent({behaviors:[i.default],properties:{reachBottom:{type:Number,observer:function(){var e=this.data,r=e.entries[e.curIdx]||{};r.list&&r.list.length&&this.loadData()}},scrollTop:{type:Number,value:0,observer:function(){this.data.showPanel&&this.setData({showPanel:!1})}},refreshTime:{type:Number,observer:function(){this.isRefresh=!0,this.loadData()}}},data:{entries:[],curIdx:0,maxCount:200,scrollLeft:0,showPanel:!1,showRecommend:!0,hideGoodsTabs:!0},ready:function(){this.init()},methods:{init:function(){var e=this;this.biz.getMultiPPMS([35984]).then(function(t){var s=t&&t[35984]&&t[35984][0]||{},i=s.tab||[],u=s.saleIcon||[];if(!i||!i.length)return Promise.reject("no tabData data");var c=i.map(function(e){return{title:e.title||"",type:e.type||"goods",id:e.id||"",rd:e.rd||"",tabRd:e.tabRd||"",tabRd_panel:e.tabRd_panel||"",cid:e.cid,list:[],offset:0,page:1,count:20}});u.some(function(r){if((0,n.checkTime)(r.begin,r.end))return e.saleIcon=(0,a.getImg)(r.image),!0}),(0,o.getFloorData)([511]).then(function(r){var t=r&&r[0]&&r[0].pfloor&&r[0].pfloor[0]&&r[0].pfloor[0].cfloor||[];if(!t||!t.length)return Promise.reject("no getFloorData data");var s=[];t.forEach(function(e){c.forEach(function(r){e.cid===r.cid&&s.push(r)})}),c=[p[0]].concat(s),e.setData({entries:c,hideGoodsTabs:!1})}).catch(function(){c=[p[0]].concat(r(c)),e.setData({entries:c,hideGoodsTabs:!1})})}).catch(function(r){console.log(r),e.setData({entries:p,hideGoodsTabs:!0})})},loadData:function(){var e=this.data,r=e.entries,t=e.curIdx,s=r[t]||{list:[]};if(!(s.list.length>=200))if(this.isRefresh&&(s.list=[],s.offset=0,this.isRefresh=!1),"recommend"==s.type){var i=this.selectComponent("#reccmp");i&&i.refresh(),this.setData({showRecommend:!0}),wx.stopPullDownRefresh()}else"goods"==s.type&&this.loadGoodsData(s,t)},loadGoodsData:function(r,s){var i=this,u=r.id,p=r.offset,l=r.count,d=r.rd,f=r.page;(0,o.getSmartData)({id:u,offset:p,count:l,recpos:"29323"}).then(function(o){var n=o&&o[u]||[];if(!n||!n.length)return Promise.reject("no getSmartData data");var p=[];(n=(n=n.map(function(e,r){var s="";(1048576&e.property)>0?s="jingxuan":(524288&e.property)>0?s="chaoshi":(2097152&e.property)>0?s="quanqiu":(65536&e.property)>0&&(s="wuliu");var o="",n="#e31d1a";if(1==e.ispingou)(131072&e.property)>0&&(o="新人专享",n="#ee9548");else if((262144&e.property)>0)o="秒杀";else if((4096&e.property)>0)o="新品",n="#40bd9c";else if(e.coupondesc&&"{}"!==e.coupondesc)o="券";else if(e.promdescext){var u=JSON.parse(e.promdescext);u&&u.some(function(e){var r=e.subextinfo&&JSON.parse(e.subextinfo)||{},t=e.promtype,s=r.subExtType;if(15===Number(t)&&1===Number(s)||16===Number(t)&&2===Number(s)||16===Number(t)&&3===Number(s)||15===Number(t)&&14===Number(s))return o="满减",!0})}var c=t(e.price)||{},p=e.newuserprice&&"0.00"!=e.newuserprice?t(e.newuserprice):"",l=t(e.refprice),f=e.plusprice&&"0.00"!=e.plusprice?t(e.plusprice):"";return{title:e.fullname||"",realPrice:e.price||"",price:c,image:(0,a.getImg)(e.imgbase,350)||"",isZiying:1==e.itemtype,isPingou:1==e.ispingou,tuanCount:e.needcount&&e.needcount>0?e.needcount:"",refPrice:l,newPrice:p,plusPrice:f,property:s,tag:o,tagColor:n,sku:e.skuid||"",pps:e.pps||"",rd:d,saleIcon:i.saleIcon&&(16384&e.property)>0?i.saleIcon:"",rp:e.rp||{},index:r}})).filter(function(e){return e.title&&e.image&&e.sku})).forEach(function(e){p.push({report_url:"",source:3,ad_sid:"",reqsig:"",ad_type:3,skuid:e.sku,id:"",page:f,index:e.index+1,broker_info:e.rp.broker_info||"",pps:e.pps,ptag:e.rd,recpos:"29323",user_layer:e.rp.user_layer||"",skus:"",service_type:e.rp.service_type||"",ext:{}})}),c.ReportManager.pinLikeExposure(p),r.list=r.list.concat(n),r.offset=Number(r.offset)+Number(20),r.page=Number(r.page)+1,r.recpos="29323",r.error="";var l={};r.list=r.list.reduce(function(e,r){return(l[r.sku]?"":l[r.sku]=!0)&&e.push(r),e},[]);var m="entries["+s+"]";i.setData(e({},m,r),function(){wx.stopPullDownRefresh()})}).catch(function(r){var t=r.code,s=r.message,o=i.data,a=o.entries,u=o.curIdx,c=a[u];c.error=(0,n.genErrMsg)(s,t);var p="entries["+u+"]";i.setData(e({},p,c),function(){wx.stopPullDownRefresh()})})},switchTab:function(e){var r=e.currentTarget.dataset,t=r.index,s=r.rd,i=getApp()||{},o=i&&i.systemInfo&&i.systemInfo.windowWidth||0;this.setData({curIdx:t,scrollLeft:59*o/375*(t-3)+20,showPanel:!1}),wx.pageScrollTo({scrollTop:0});var a=this.data,u=a.entries[a.curIdx]||{list:[],type:""};"recommend"!==u.type&&!u.list.length&&this.loadData(),s&&(0,n.report)(s)},togglePanel:function(e){var r=e.currentTarget.dataset.rd;r&&(0,n.report)(r),this.setData({showPanel:!this.data.showPanel})},gotoUrl:function(e){var r=e.currentTarget.dataset.index,t=this.data,s=t.entries[t.curIdx]||{},i=s.list[r]||{},o=[{report_url:"",source:3,ad_sid:"",reqsig:"",ad_type:3,skuid:i.sku,id:"",page:s.page-1,index:i.index+1,broker_info:i.rp.broker_info||"",pps:i.pps,ptag:i.rd,recpos:s.recpos,user_layer:i.rp.user_layer||"",skus:"",service_type:i.rp.service_type||"",ext:{}}];c.ReportManager.pinLikeClick(o),this.$gotoItem({sku:i.sku,name:i.title,price:i.realPrice,cover:i.image,pps:i.pps,ptag:i.rd},{isPingou:i.isPingou})},tapOnSearchBar:function(){this.$goto("/pages/search/list/list",{ptag:"138619.30.3"})},onRecommendLoadError:function(e){var r=e.detail,t=r.error;0==r.config.currentPageNum&&(this.setData({showRecommend:!1,recommendErrMsg:t.message}),(0,u.umpBiz)({bizid:1141,operation:3,result:1,message:t.message}))}}}); 
 			}); 	require("pages/recommend/components/goods/goods.js");
 		__wxRoute = 'pages/taro/components/fanxian-tag/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/taro/components/fanxian-tag/index.js';	define("pages/taro/components/fanxian-tag/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e,n=require("../../common.js"),o=require("../../npm/@tarojs/taro-weapp/index.js"),a=function(t){return t&&t.__esModule?t:{default:t}}(o),r=(e=t=function(t){function e(){var t,o,a,r;(0,n._classCallCheck)(this,e);for(var s=arguments.length,l=Array(s),_=0;_<s;_++)l[_]=arguments[_];return o=a=(0,n._possibleConstructorReturn)(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),a.$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","anonymousState__temp5","leftLabel","rightLabel","marginLeft","color","rightLabelBg"],a.customComponents=[],r=o,(0,n._possibleConstructorReturn)(a,r)}return(0,n._inherits)(e,t),(0,n._createClass)(e,[{key:"_constructor",value:function(t){(0,n._get)(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_constructor",this).call(this,t),this.$$refs=new a.default.RefsArray}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2],this.$prefix;var t=this.__props,e=t.leftLabel,n=t.rightLabel,r=t.marginLeft,s=void 0===r?10:r,l=t.color,_=t.rightLabelBg,i={},u={},p={},c={};l&&(i.backgroundColor=l,p.backgroundColor=l,u.color=l,c.borderColor=l),_&&(c.backgroundColor=_);var m=e&&n?(0,o.internal_inline_style)({marginLeft:a.default.pxTransform(+s)}):null,f=e&&n?(0,o.internal_inline_style)(i):null,y=e&&n?(0,o.internal_inline_style)(p):null,h=e&&n?(0,o.internal_inline_style)(u):null,g=e&&n?(0,o.internal_inline_style)(c):null;return Object.assign(this.__state,{anonymousState__temp:m,anonymousState__temp2:f,anonymousState__temp3:y,anonymousState__temp4:h,anonymousState__temp5:g,leftLabel:e,rightLabel:n}),this.__state}}]),e}(a.default.Component),t.$$events=[],t.$$componentPath="wxapp/pages/taro/components/fanxian-tag/index",e);exports.default=r,new(require("../../../../bases/component.js").JDComponent)(require("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(r)); 
 			}); 	require("pages/taro/components/fanxian-tag/index.js");
 		__wxRoute = 'pages/taro/components/loading/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/taro/components/loading/index.js';	define("pages/taro/components/loading/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e,o=require("../../common.js"),r=function(t){return t&&t.__esModule?t:{default:t}}(require("../../npm/@tarojs/taro-weapp/index.js")),s=(e=t=function(t){function e(){var t,r,s,n;(0,o._classCallCheck)(this,e);for(var a=arguments.length,p=Array(a),i=0;i<a;i++)p[i]=arguments[i];return r=s=(0,o._possibleConstructorReturn)(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(p))),s.$usedState=[],s.customComponents=[],n=r,(0,o._possibleConstructorReturn)(s,n)}return(0,o._inherits)(e,t),(0,o._createClass)(e,[{key:"_constructor",value:function(t){(0,o._get)(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_constructor",this).call(this,t),this.$$refs=new r.default.RefsArray}},{key:"_createData",value:function(){this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};arguments[2],this.$prefix;return Object.assign(this.__state,{}),this.__state}}]),e}(r.default.Component),t.$$events=[],t.$$componentPath="wxapp/pages/taro/components/loading/index",e);exports.default=s,new(require("../../../../bases/component.js").JDComponent)(require("../../npm/@tarojs/taro-weapp/index.js").default.createComponent(s)); 
 			}); 	require("pages/taro/components/loading/index.js");
 		__wxRoute = 'pages/index/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/index/index.js';	define("pages/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function t(e){return Array.isArray(e)?e:Array.from(e)}var i=function(){function e(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=require("../../bases/page.js"),a=require("../../common/localStorage.js"),o=e(require("./utils.js")),r=e(require("../../common/login/login.js"));new n.JDPage({data:{onLoad:null,onShow:null,onRefresh:null,onReachBottom:null,onPageScroll:null,loginLayerData:{hasImportLoginComponents:!0,isHideCloseLayerButton:!1},subsGuider:{show:!1,tplCount:1},onShowTime:null,onHideTime:null,navHeight:0,isGary:!1},waitBarFinish:function(){var e=this;return new Promise(function(t){return e.waitBarFinishResolve=t})},waitGuideBarGrey:function(){var e=this;return new Promise(function(t){return e.waitGuideBarGreyResolve=t})},onTabItemTap:function(e){getApp().event.emit("indexCateBarHome")},onLoad:function(e){var t=this,n=e.scene,a=e.dummyAppScene,o=e.open_url,r=e.su,s=e.pt,l=void 0===s?"":s,u=(getApp()||{}).scene;this.isAppShare=1036===Number(u),n&&(n=decodeURIComponent(n),this.handleScene(n));var h=o||r;h&&this.$goto(this.utils.decode(h));var c=this.processEntryPoint(a),p=c.ptag,d=c.pageType;Promise.all([this.waitBarFinish(),this.waitGuideBarGrey()]).then(function(e){var n=i(e,2),a=n[0],o=n[1];a&&o&&(t.isShowGuideAddApp=!0,t.setData({onShowTime:Date.now()}))}),getApp().event.on("guideBarShow",function(e){t.waitBarFinishResolve&&t.waitBarFinishResolve(e)});this.speedInit(1596),this.speedMark(2),this.setData({onLoad:{timestamp:Date.now()},pageType:d,pretime:l,ptag:p}),this.manualJDReportPV=!0,this.onPageScroll=this.utils.debounce(this.onPageScroll,500)},onUnload:function(){r.clearLoginPromise()},onShow:function(){o.logger.pv();var e={onShow:{timestamp:Date.now()}};this.isShowGuideAddApp&&(e.onShowTime=Date.now()),this.setData(e),wx.hideNavigationBarLoading(),delete getApp().navigateToIndexByCode,this.data.isGary&&wx.setTabBarStyle({selectedColor:"#666"})},onHide:function(){this.setData({onHide:{timestamp:Date.now()},onHideTime:Date.now()}),this.data.isGary&&wx.setTabBarStyle({selectedColor:"#e22d3d"})},onPullDownRefresh:function(){this.setData({onRefresh:{timestamp:Date.now()}})},onShareAppMessage:function(){var e=this.shareConfig||{},t={title:e.title||"京东购物，多·快·好·省",path:e.path||this.route};return e.image&&(t.imageUrl=o.fixUrl(e.image)),t},onReachBottom:function(){this.setData({onReachBottom:{timestamp:Date.now()}})},onPageScroll:function(e){this.setData({onPageScroll:{timestamp:Date.now(),scrollTop:e.scrollTop}})},initIndexConfig:function(){var e=this;this.configInited||(this.configInited=!0,this.biz.getMultiPPMS([34242,35630]).then(function(t){var i=t&&t[34242]&&t[34242][0]&&t[34242][0].shareConfig&&t[34242][0].shareConfig[0]||null,n=t&&t[35630]&&t[35630][0]&&t[35630][0].guideAddApp||[],a=t&&t[35630]&&t[35630][0]&&t[35630][0].launchApp||[],r={};i&&(e.shareConfig=i);var s=!1;n.some(function(e){var t=e.range,i=e.whitePin,n=e.startTime,a=e.endTime;if(o.checkTime(n,a)&&o.greyScale(t,i))return s=!0,!0}),e.waitGuideBarGreyResolve&&e.waitGuideBarGreyResolve(s),e.isAppShare&&a.some(function(e){var t=e.range,i=e.whitePin,n=e.startTime,a=e.endTime;if(o.checkTime(n,a)&&o.greyScale(t,i))return getApp().event.emit("init_app_launch","grey"),!0}),e.setData(r)}).catch(function(e){return console.log(e)}))},handleScene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=this.parseScene(e),getApp().wxacode=e;var t="",n=null,o=i(e.path,1)[0];switch(e.type){case"shop":t="/pages/offlineStore/index",n={shopId:o},(0,a.set)("3c_shop",{id:o,time:Date.now()})}t&&this.$goto(t,Object.assign({},e.query,n))},parseScene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return{};var n=e.split("?"),a=i(n,2),o=a[0],r=a[1],s=void 0===r?"":r,l=t(o.split("/")),u=l[0],h=l.slice(1),c={};return s.split("&").forEach(function(e){var t=e.split("="),n=i(t,2),a=n[0],o=n[1];c[a]=o}),{type:u,path:h,query:c,querystring:s}},processEntryPoint:function(e){var t=(0,a.getSync)("index_last_scene")||"",i=(getApp()||{}).scene,n=void 0===i?"":i;e&&(n=e),1112!=n&&1019!=n||(0,a.set)("index_last_scene",n,{expire:"30d"});var o=void 0,r=void 0;return 1112==n?(r="DISCOVERY",o="138570.1.5"):1019==n?(r="WALLET",o="138570.1.2"):1112==t?(r="DISCOVERY",o="138570.1.6"):(r="WALLET",o="138570.1.1"),{ptag:o,pageType:r}},mainDataLoaded:function(e){this.speedMark(4,null,{override:!1}),e.detail&&this.speedMark(e.detail),getApp().event.emit("init_app_launch","main")},firstScreenLoaded:function(e){var t=this;this.speedMark(5,null,{override:!1}),e.detail&&this.speedMark(e.detail),setTimeout(function(){t.speedReport()},0),this.initIndexConfig()},setNavInfo:function(e){this.setData({navHeight:e.detail.navHeight})},isGaryPage:function(e){var t=e&&e.detail&&1==e.detail,i=t?"assets/images/tabbar_home_gray.png":"assets/images/tabbar_home_on.png",n=t?"#333":"#e22d3d";wx.setTabBarItem({index:0,selectedIconPath:i}),wx.setTabBarStyle({selectedColor:n}),this.setData({isGary:t})}}); 
 			}); 	require("pages/index/index.js");
 		__wxRoute = 'pages/cate/cate';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cate/cate.js';	define("pages/cate/cate.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function t(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return(0,f.globalConfigGet)("cate").then(function(e){e&&e.grayscale&&e.grayscale.abtest&&(T=2075)})}function r(e){return e.changedTouches&&e.changedTouches[0]&&e.changedTouches[0].pageY||0}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(exports,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function e(t,a,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,a);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(n)},d=require("../../common/taro/@tarojs/taro-weapp/index.js"),u=e(d),p=e(require("../../common/taro/classnames/index.js")),h=require("../../common/navigator.js"),g=require("../../common/fe_report/speed.js"),f=require("../../common/global_config.js"),m=require("../../api/Ptag/Ptag_utils.js"),v=require("../cate/model.js"),_=require("../cate/log.js"),y=require("../../common/utils.js"),S=50,b="搜索京东商品",x=void 0,E=void 0,w="7458.1.1",T=117,I=function(e){function s(){var e,t,o,i;a(this,s);for(var c=arguments.length,l=Array(c),d=0;d<c;d++)l[d]=arguments[d];return t=o=n(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(l))),o.$usedState=["_$anonymousState__temp","tabEntries","curIdx","isTouchDown","updateTime","bannerConfig","promoteEntryData","promotion","commonWords","channelInfo","wordIndex","hiddenWord","st1","st2","preTabName","cateEntries","showPagination","isAnimation","ptag","__fn_on"],o.config={navigationBarTitleText:"商品分类"},o.state={tabEntries:[{areaId:"",name:"",ptag:"",loading:!0,errMsg:""}],cateEntries:[],promoteEntryData:{},curIdx:0,st1:0,st2:0,showPagination:!1,isAnimation:!0,isTouchDown:!1,preTabName:"",updateTime:"1",wordIndex:0,hiddenWord:[{keyword:b}],ptag:"138043.1.2"},o.initInterval=function(){o.isAutoPlay&&(clearInterval(o.wordTimer),o.wordTimer=setInterval(function(){var e=o.state,t=e.wordIndex,a=e.hiddenWord;if(a&&!(a.length<2)){var n=(t+1)%a.length,i=a[n]&&a[n].keyword||"-1";o.logger.exposure({eid:"JDShopping_Classification_HintExpo",eparam:i}),o.setState({wordIndex:n})}},o.duration))},o.handleTabClick=function(e){var t=e.index,a=e.ptag,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=o.state,r=i.curIdx,s=i.cateEntries,c=i.st2,l=i.tabEntries,d=i.isAnimation;if(t!=r){var u=(new Date).getTime();o.setState({showPagination:!1,curIdx:t,updateTime:u,isTouchDown:t>r&&!d,st2:-1===c?0:-1},function(){var e=t>0?l[t-1].name:"";o.stateTimer=setTimeout(function(){o.setState({preTabName:e,isTouchDown:!1})},300)}),s[t]||o.loadData(t),o.scrollToTabItem(t),a&&m.PtagUtils.addPtag(a);var p=l[t]||{},h=n?"JDShopping_Classification_FCategory":"JDShopping_Classification_FSwitchSlide";o.logger.click({eid:h,eparam:p.areaId+"_"+p.name+"_"+t}),o.handleReportExp(!1)}},o.handleTapOnSearchBar=function(){var e=o.state,t=e.wordIndex,a=e.hiddenWord[t];if(a){var n=a.active_url,i=void 0===n?"":n,r=a.pps,s=void 0===r?"":r,c=a.keyword,l=void 0===c?b:c,d=a.link,u=void 0===d?"":d,p={ptag:w},g=(0,y.getUrlParam)("key",u);if(l!==b){var f=g+"^"+l+"^"+s;Object.assign(p,{searchname:i?f+"^"+encodeURIComponent(i):f})}(0,h.goto)("/pages/search/list/list",p);var m="/pages/search/list/list?"+(0,y.querystr)(p);o.logger.click({eid:"JDShopping_Classification_SearchFocus",target:m})}},o.handleReportCate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.state,a=t.tabEntries,n=t.curIdx,i=e.cate,r=e.cateIdx,s=e.level2Index,c=e.level2Item,l=e.target,d=a[n]||{},u=d.areaId+"_"+d.name+"_"+n+"_"+i.keywordId+"_"+i.keyword+"_"+r+"_"+c.keywordId+"_"+c.keyword+"_"+s;o.logger.click({eid:"JDShopping_Classification_TCategory",eparam:u,target:l})},o.handleReportBanner=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.state,a=t.tabEntries,n=t.curIdx,i=e.id,r=e.target,s=a[n]||{},c=s.areaId+"_"+s.name+"_"+n+"_"+i;o.logger.click({eid:"JDShopping_Classification_FBanner",eparam:c,target:r})},o.handleReportPrmt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.state,a=t.tabEntries,n=t.curIdx,i=e.name,r=e.url,s=e.id,c=a[n]||{},l=c.areaId+"_"+c.name+"_"+n+"_"+s+"_"+i;o.logger.click({eid:"JDShopping_Classification_FMarketing",eparam:l,target:r})},o.handleChannelClick=function(e){var t=o.state,a=t.tabEntries,n=t.curIdx,i=a[n]||{},r=e.currentTarget.dataset,s=r.url,c=r.name,l=i.areaId+"_"+i.name+"_"+n+"_"+s+"_"+c;o.logger.click({eid:"JDShopping_Classification_FChannelAccess",eparam:l,target:s}),(0,h.goto)(s)},o.handleTouchStart=function(e){o.touchDot=r(e),(o.scrollHeight<=o.scrollTop+750||o.scrollTop<=100)&&(o.timer=setInterval(function(){o.moveTime++},100))},o.handleTouchMove=function(e){var t=o.state.curIdx,a=r(e)-o.touchDot;o.scrollTop<=100&&t-1>=0&&a>=5&&!o.isMoving&&(o.isMoving=!0,o.setState({showPagination:!0}))},o.handleTouchEnd=function(e){var t=o.state,a=t.curIdx,n=t.tabEntries,i=t.isTouchDown;if(n[a].loading||i)return clearInterval(o.timer),o.moveTime=0,o.isMoving=!1,void o.setState({showPagination:!1});var s=r(e)-o.touchDot,c=n.length,l=o.scrollHeight<=o.scrollTop+750&&a+1<c&&s<=-100&&o.moveTime>=2,d=a-1>=0&&o.scrollTop<=100&&s>=S&&o.moveTime>=2&&o.isMoving;if(l){var u=a+1;o.handleTabClick({index:u,ptag:n[u].ptag},!1)}else if(d){var p=a-1;o.handleTabClick({index:p,ptag:n[p].ptag},!1)}o.setState({showPagination:!1}),clearInterval(o.timer),o.moveTime=0,o.isMoving=!1},o.handleScroll=function(e){var t=e.detail,a=t.scrollTop,n=t.scrollHeight;o.scrollTop=a||0,o.scrollHeight=n},o.$$refs=[],i=t,n(o,i)}return o(s,d.Component),c(s,[{key:"_constructor",value:function(e){l(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"_constructor",this).call(this,e)}},{key:"componentWillMount",value:function(){var e=this;(E=new g.Speed(605)).mark(2),this.$scope.manualJDReportPV=!0,this.logger=(0,_.initLog)(),!x&&u.default.getSystemInfo({success:function(e){var t=e&&e.windowHeight;t&&(x=t-20-44-50)}}),i().then(function(){e.loadData()}).catch(function(){e.loadData()}),this.loadPromoteEntryData(),this.initHiddenWord(),this.tabExpSet=new Set,this.prmtExpSet=new Set,this.cateExpSet=new Set,this.bannerExpSet=new Set,this.channelExpSet=new Set,u.default.eventCenter.on("exposureZwx",function(t){var a=e.state,n=a.curIdx,o=a.tabEntries[n]||{},i=t.type,r=t.eparam;switch(i){case"tab":e.tabExpSet.add(r);break;case"prmt":e.prmtExpSet.add(r);break;case"cate":e.cateExpSet.add(o.areaId+"#"+r);break;case"banner":e.bannerExpSet.add(r);break;case"channel":e.channelExpSet.add(r);break;default:console.warn("未知曝光类型","test")}})}},{key:"componentDidMount",value:function(){var e=this;this.moveTime=0,this.scrollTop=0,this.scrollHeight=1e3,this.isMoving=!1,u.default.getSystemInfo().then(function(t){var a=t.system;/IOS/i.test(a)&&e.setState({isAnimation:!1})}),E.mark(3)}},{key:"componentDidShow",value:function(){this.logger.pv(),this.initInterval()}},{key:"componentDidHide",value:function(){var e=this,t=this.state,a=t.wordIndex,n=t.hiddenWord;if(clearInterval(this.timer),clearInterval(this.wordTimer),clearTimeout(this.stateTimer),clearTimeout(this.durationTimer),this.handleReportExp(!0),!1===this.isAutoPlay&&n&&!(n.length<2)){var o=(a+1)%n.length;this.durationTimer=setTimeout(function(){e.setState({wordIndex:o})},500)}}},{key:"onShareAppMessage",value:function(){return{title:"京东购物，多·快·好·省",path:"/pages/cate/cate"}}},{key:"initHiddenWord",value:function(){var e=this;(0,v.getHiddenWord)().then(function(t){var a=t.config,n=void 0===a?{}:a,o=t.list,i=void 0===o?[]:o,r=n.mode,s=void 0===r?"1":r,c=n.duration,l=void 0===c?"3":c,d=n.functionSwitch,u=void 0===d?"1":d,p=n.num,h=void 0===p?"10":p;if(0!==Number(u)){e.isAutoPlay=1===Number(s),e.duration=1e3*Number(l)||2e3;var g=i.length>0?i.slice(0,h):[{keyword:b}],f=i[0]&&i[0].keyword||"-1";e.logger.exposure({eid:"JDShopping_Classification_HintExpo",eparam:f}),e.setState({hiddenWord:g,wordIndex:0},function(){e.initInterval()})}})}},{key:"loadPromoteEntryData",value:function(){var e=this;(0,v.getEntryConfig)().then(function(t){var a=t.proid,n=void 0===a?"":a,o=t.img,i=t.titleColor,r=void 0===i?"":i,s=t.descColor,c=void 0===s?"":s;n&&o?(0,v.getEntryDataById)(n,4).then(function(t){t&&t.length>=4?e.setState({promoteEntryData:{proid:n,img:o,titleColor:r,descColor:c,entries:t}}):e.setState({promoteEntryData:{}})}):e.setState({promoteEntryData:{}})})}},{key:"loadData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=this.state.tabEntries,n=this.state.cateEntries,o=a[t].areaId;a[t].loading=!0,a[t].errMsg="",this.setState({tabEntries:a}),(0,v.getData)(T,o).then(function(e){!o&&E.mark(4),e.tabEntries&&(a=e.tabEntries),n[t]=e.cateData}).catch(function(e){a[t].errMsg=e.message||e}).then(function(){a[t].loading=!1;var i=(new Date).getTime();e.setState({tabEntries:a,cateEntries:n,updateTime:i},function(){!o&&E.mark(5).report()})})}},{key:"handleReportExp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.state,n=a.curIdx,o=a.tabEntries[n]||{},i=o.areaId+"_"+o.name+"_"+n;if(this.tabExpSet.size&&e){var r=[].concat(t(this.tabExpSet)).join("_");this.logger.exposure({eid:"JDShopping_Classification_FCategoryExpo",eparam:r}),this.tabExpSet=new Set}if(this.cateExpSet.size){var s=[].concat(t(this.cateExpSet)).join("_");this.logger.exposure({eid:"JDShopping_Classification_TCategoryExpo",eparam:s}),this.cateExpSet=new Set}if(this.bannerExpSet.size){var c=i+"_"+[].concat(t(this.bannerExpSet)).join("@");this.logger.exposure({eid:"JDShopping_Classification_FBannerExpo",eparam:c}),this.bannerExpSet=new Set}if(this.prmtExpSet.size){var l=i+"_"+[].concat(t(this.prmtExpSet)).join("@");this.logger.exposure({eid:"JDShopping_Classification_FMarketingExpo",eparam:l}),this.prmtExpSet=new Set}if(this.channelExpSet.size){var d=i+"_"+[].concat(t(this.channelExpSet)).join("");this.logger.exposure({eid:"JDShopping_Classification_FChannelAccessExpo",eparam:d}),this.channelExpSet=new Set}}},{key:"handleClickRetryBtn",value:function(){this.loadData(this.state.curIdx)}},{key:"scrollToTabItem",value:function(e){x&&this.setState({st1:50*e-(x-50)/2})}},{key:"_createData",value:function(){var e;this.__state=arguments[0]||this.state||{},this.__props=arguments[1]||this.props||{};var t=this.__state,a=t.tabEntries,n=t.cateEntries,o=t.curIdx,i=(t.updateTime,t.st1,t.st2,t.wordIndex,t.hiddenWord,t.showPagination),r=t.isAnimation,s=t.isTouchDown,c=(t.preTabName,t.promoteEntryData,void 0),l=void 0,d=void 0,u=void 0;return a[o].loading,!a[o].loading&&a[o].errMsg||a[o].loading||s||(c=n[o].extInfo1,l=n[o].level1words_2&&n[o].level1words_2[0]||null,d=n[o].level1words_1,u=n[o].channelInfo||null,e=o>0?(0,p.default)("pagination","pagination--prev",{"pagination--hidden":!i,"pagination--animation":r}):null),Object.assign(this.__state,{_$anonymousState__temp:e,bannerConfig:c,promotion:l,commonWords:d,channelInfo:u}),this.__state}}],[{key:"onPreLoad",value:function(){i().then(function(){(0,v.getInitCateData)(T)}).catch(function(){(0,v.getInitCateData)(T)})}}]),s}();I.properties={__fn_on:{type:null,value:null}},I.$$events=["handleClickRetryBtn","handleReportBanner","handleReportPrmt","handleReportCate","handleChannelClick","handleTapOnSearchBar","handleTabClick","handleTouchStart","handleTouchEnd","handleTouchMove","handleScroll"],exports.default=I,new(require("../../bases/page.taro.js").JDPage)(require("../../common/taro/@tarojs/taro-weapp/index.js").default.createComponent(I,!0),!0); 
 			}); 	require("pages/cate/cate.js");
 		__wxRoute = 'pages/cart/cart/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/cart/index.js';	define("pages/cart/cart/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";(function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e})(require("./view")).init(); 
 			}); 	require("pages/cart/cart/index.js");
 		__wxRoute = 'pages/cart/cart/cart';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/cart/cart/cart.js';	define("pages/cart/cart/cart.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";(function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e})(require("./view")).init(); 
 			}); 	require("pages/cart/cart/cart.js");
 		__wxRoute = 'pages/my/index/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/index/index.js';	define("pages/my/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=function(e){return e&&e.__esModule?e:{default:e}}(require("./page"));new(require("../../../common/wqvue/indexv1.2").WqVue)(e.default); 
 			}); 	require("pages/my/index/index.js");
 		__wxRoute = 'pages/my/coupon/coupon';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/coupon/coupon.js';	define("pages/my/coupon/coupon.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../page.js"),o=function(e){if(e&&e.__esModule)return e;var o={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o.default=e,o}(require("../../../common/fe_report/usability.js"));new e.JDPage({onLoad:function(e){o.umpBiz({bizid:"744",operation:1,result:"4",message:"/pages/my/coupon/coupon"}),this.$goto("/pages/my_pages/coupon/coupon",e,"redirectTo")}}); 
 			}); 	require("pages/my/coupon/coupon.js");
 		__wxRoute = 'pages/my/ecard/index/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/ecard/index/index.js';	define("pages/my/ecard/index/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../page.js"),r=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.default=e,r}(require("../../../../common/fe_report/usability.js"));new e.JDPage({onLoad:function(e){r.umpBiz({bizid:"744",operation:1,result:"2",message:"/pages/my/ecard/index/index"}),this.$goto("/pages/my_pages/ecard/index/index",e,"redirectTo")}}); 
 			}); 	require("pages/my/ecard/index/index.js");
 		__wxRoute = 'pages/my/ecard/bind/bind';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/ecard/bind/bind.js';	define("pages/my/ecard/bind/bind.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../../page.js"),r=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r.default=e,r}(require("../../../../common/fe_report/usability.js"));new e.JDPage({onLoad:function(e){r.umpBiz({bizid:"744",operation:1,result:"1",message:"/pages/my/ecard/bind/bind"}),this.$goto("/pages/my_pages/ecard/bind/bind",e,"redirectTo")}}); 
 			}); 	require("pages/my/ecard/bind/bind.js");
 		__wxRoute = 'pages/my/account/account';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/my/account/account.js';	define("pages/my/account/account.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../page.js"),r=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(require("../../../common/fe_report/usability.js"));new e.JDPage({onLoad:function(e){e.rurl=e.rurl||"",e.rurl.match(/^(\/?pages|(?:https?:)?\/\/)/g)?e.returnUrl=e.rurl.replace(/^(?:http:)?\/\//g,"https://"):(e.returnUrl="/pages/my_pages/bindresult/bindresult",e.navBackType="navigateBack"),e.activeid=e.bindactiveid,e.activeLevel=e.bindlevel,e.ptag="138268.7.6",delete e.rurl,delete e.bindactiveid,delete e.bindlevel,r.umpBiz({bizid:"744",operation:1,result:"5",message:"/pages/my/account/account"}),this.$goto("/pages/my_pages/accountv2/index",e,"redirectTo")}}); 
 			}); 	require("pages/my/account/account.js");
 		__wxRoute = 'pages/common/update/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/common/update/index.js';	define("pages/common/update/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";new(require("../../../bases/page.js").JDPage)({data:{title:"",desc1:"",desc2:"",system:"",sdkVersion:""},onLoad:function(s){var e=s.system,t=void 0===e?"":e,a=s.sdkVersion,i=void 0===a?"":a;t?this.setData({title:"手机系统版本过低",desc1:"您的手机系统版本过低，无法使用当前功能",desc2:'请前往"系统设置-通用-软件更新"进行更新',system:t}):this.setData({title:"微信版本过低",desc1:"您的微信版本过低，无法使用当前功能",desc2:"请至APP STORE/各大应用市场进行更新",sdkVersion:i})},tapOnBtn:function(){wx.navigateBack()}}); 
 			}); 	require("pages/common/update/index.js");
 		__wxRoute = 'pages/h5/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/h5/index.js';	define("pages/h5/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t]);return i.default=e,i}var i=require("../../bases/page.js"),t=e(require("../../common/utils.js")),o=e(require("../../common/h5jump.js")),r=e(require("../../common/cookie-v2/cookie.js")),n=e(require("../../common/fe_report/usability.js")),a=e(require("../../common/localStorage.js")),s=require("../../common/url_utils"),l=require("../../common/biz.js");new i.JDPage({data:{url:"",webUrlCache:null,shareTitle:"",shareSetting:{isset:!1,url:"",rurl:"",title:"",imgurl:"",pageurl:""},isPingouApp:2==r.getCookie("wxapp_type"),showErrorTips:!1,isExecShareCb:!1},onLoad:function(e){console.log("[Webview Options] ",e),console.log("[Webview URL] ",e.url);var i=e.url,t=e.token,o=e.onPageUnload,n=e.shareTitle,a=void 0===n?"":n,s=e.pageTitle;i&&("function"==typeof o&&(this.onPageUnload=o),this.data.isPingouApp&&(this.data.webUrlCache={url:i,enterTime:+new Date}),t&&r.setCookie({data:{wxsearch_token:{value:t,maxAge:86400}}}),s&&wx.setNavigationBarTitle({title:this.helper.decode(s)}),this.setData({url:i,shareTitle:this.helper.decode(a)}))},onShow:function(){var e=this.data,i=e.url,t=e.shareSetting,o=void 0===t?{}:t,r=e.isExecShareCb;i?r&&o.rurl&&(this.$goto("/pages/h5/index",{encode_url:encodeURIComponent(o.rurl)},"redirectTo"),this.data.shareSetting.rurl="",this.data.isExecShareCb=!1):this.setData({showErrorTips:!0})},onMessage:function(e){for(var i=(e.detail||{}).data,t=void 0===i?[]:i,r=void 0,n=t.length;n>=0;n--)if(t[n]&&t[n].snsset){r=t[n];break}r&&(this.data.shareSetting={isset:!0,url:r.url||"",title:r.title||"",imgurl:r.imgurl||"",rurl:r.rurl||"",pageurl:r.pageurl||""});var a={},s=!1;t.forEach(function(e){for(var i in e)"cookie"==i&&(Object.assign(a,e[i]),s=!0)}),s&&o.updateCookie({cookie:a},{dataType:"json"})},onWebLoad:function(e){var i=e.detail&&e.detail.src;if(this.data.isPingouApp&&i){console.log("webview bindload url:",i);var o=!0,r=!1,n=["wq.jd.com/webreport/static/proxy.html","wqs.jd.com/portal/wx/storageBridge2.shtml"];if(["wqs.jd.com/favicon.ico"].forEach(function(e){-1!==i.indexOf(e)&&(o=!1)}),n.forEach(function(e){-1!==i.indexOf(e)&&(r=!0)}),r){var s=i.indexOf("?")>-1&&i.split("?")[1]||"",l=t.querystr(s).query;l._refer?i=l._refer:o=!1}o?this.data.webUrlCache={url:i,enterTime:+new Date}:(this.data.webUrlCache=null,a.remove("PINGOU_URL_HISTORY"))}},onWebError:function(){this.data.isPingouApp&&(this.data.webUrlCache=null,a.remove("PINGOU_URL_HISTORY"))},onHide:function(){var e=this.data,i=e.webUrlCache;e.isPingouApp&&i&&(i.leaveTime=+new Date,a.set("PINGOU_URL_HISTORY",i)),(0,l.notifyCartRefresh)()},onUnload:function(e){"function"==typeof this.onPageUnload&&this.onPageUnload(),(0,l.notifyCartRefresh)()},onShareAppMessage:function(e){var i=e.webViewUrl;i=this.removeUnnecessaryParams(i),this.data.isExecShareCb=!1;var t=["open.weixin.qq.com/connect/oauth2/authorize","wqlogin1.jd.com/mlogin/wxv3/LoginRedirect","wqlogin2.jd.com/mlogin/wxv3/LoginRedirect","wq.jd.com/mlogin/wxv3/LoginRedirect","open.show.qq.com/cgi-bin/login_state_auth_redirect","wqlogin1.jd.com/mlogin/h5v1/GetCode","wqlogin2.jd.com/mlogin/h5v1/GetCode","wq.jd.com/mlogin/h5v1/GetCode","wq.jd.com/mlogin/wxv3/login_BJ","plogin.m.jd.com/cgi-bin/ml/risk","plogin.m.jd.com/cgi-bin/ml/bind_risk","plogin.m.jd.com/cgi-bin/ml/sms_risk","plogin.m.jd.com/cgi-bin/ml/voice_risk","plogin.m.jd.com/cgi-bin/ml/resetpwd_risk","plogin.m.jd.com/cgi-bin/ml/jcap_risk","plogin.m.jd.com/cgi-bin/ml/voicecode_reg","plogin.m.jd.com/cgi-bin/ml/unionlogin_addition_verify","ms.jr.jd.com/jrpmobile/btcashier/cashierDeskWap/landingPage"],o=this.data.isPingouApp?"京喜·省钱省心":"京东购物·多快好省";if(t.some(function(e){return i.indexOf(e)>=0}))return n.umpBiz({bizid:1002,operation:8,result:1,message:getApp().appId}),{title:o,path:this.data.isPingouApp?"pages/pingou/index/index":"/pages/index/index",success:function(e){wx.showToast({title:"转发成功",icon:"success"})},fail:function(){}};var r=this.judgeUrlIsRight(i),a=this.judgeSpecialUrl(i);if(this.data.shareSetting.isset&&r||a.isDreamShoppingOrder){var s=this,l=this.data.shareSetting.rurl,c=this.data.shareSetting.url;c=this.removeUnnecessaryParams(c);var d={title:a.title||this.data.shareSetting.title||this.data.shareTitle||o,path:(this.data.isPingouApp?"/pages/pingou/index/index?open_url=":"/pages/index/index?open_url=")+encodeURIComponent(a.url||c||i),success:function(e){l?s.$goto("/pages/h5/index",{encode_url:encodeURIComponent(l)},"redirectTo"):wx.showToast({title:"转发成功",icon:"success"})},fail:function(){}};return a.isDreamShoppingOrder&&a.imageUrl&&(d.imageUrl=a.imageUrl),this.data.shareSetting.imgurl&&(d.imageUrl=this.data.shareSetting.imgurl),l&&(this.data.isExecShareCb=!0),d}var u={title:a.title||this.data.shareTitle||o,path:(this.data.isPingouApp?"/pages/pingou/index/index?open_url=":"/pages/index/index?open_url=")+encodeURIComponent(a.url||i),success:function(e){wx.showToast({title:"转发成功",icon:"success"})},fail:function(){}};return a.imageUrl&&(u.imageUrl=a.imageUrl),u},judgeUrlIsRight:function(e){var i=this.data.shareSetting.pageurl;return!!e&&(!!i&&(e.indexOf("?")>-1&&(e=e.split("?")[0]),e.indexOf("#")>-1&&(e=e.split("#")[0]),i.indexOf("?")>-1&&(i=i.split("?")[0]),i.indexOf("#")>-1&&(i=i.split("#")[0]),e===i))},judgeSpecialUrl:function(e){var i=e;if(!e)return{url:"",title:""};if(e.indexOf("?")>-1&&(e=e.split("?")[0]),e.indexOf("#")>-1&&(e=e.split("#")[0]),e.indexOf("train.m.jd.com")>=0)return{url:"https://train.m.jd.com",title:"京东火车票，光速抢票，助力出行！"};if(e.indexOf("oilcard.m.jd.com")>=0)return{url:"https://oilcard.m.jd.com/sinopec/sinoPecCardList.action?wxapp_type=1",title:""};if(i.indexOf("wqs.jd.com/order/n_detail_v2.shtml?dreamShoppingInfo=")>=0){var t=new RegExp("([?&])dreamShoppingInfo=([^&]*)(&|$)","i"),o=i.match(t);if(null!=o)try{return o=JSON.parse(decodeURIComponent(o[2])),{isDreamShoppingOrder:!0,url:"https://wqitem.jd.com/item/view?sku="+o.sku,title:o.title,imageUrl:o.image}}catch(e){console.log("解析url的参数dreamShoppingInfo出错",e)}}else if(e.indexOf("m-jiaofei.jd.com")>=0)return{title:"生活缴费|水电煤宽带固话有线电视费",url:"https://m-jiaofei.jd.com/index.html?sk=63",imageUrl:"https://img11.360buyimg.com/jdphoto/s400x320_jfs/t27094/107/1231465374/21852/63d80305/5bc4540cN65109b70.jpg"};return{url:"",title:""}},removeUnnecessaryParams:function(e){return e?(e=(0,s.removeUrlParam)(e,"cookie"),e=(0,s.removeUrlParam)(e,"sens"),e=(0,s.removeUrlParam)(e,"wxappSeries")):""},goBack:function(){wx.navigateBack()}}); 
 			}); 	require("pages/h5/index.js");
 		__wxRoute = 'pages/gwq/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/gwq/index.js';	define("pages/gwq/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";var e=require("../../bases/page.js"),t=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(require("../../common/h5jump.js"));new e.JDPage({data:{url:"https://wqs.jd.com/xcxgwq/index.html?xcx=1",ptag:"138043.1.3"},onLoad:function(e){this.setData({url:t.addParamsToH5Url(this.data.url)}),console.log("购物圈 webview.src: ",this.data.url)},onShareAppMessage:function(e){return{title:"京东微信购物圈"}}}); 
 			}); 	require("pages/gwq/index.js");
 		__wxRoute = 'pages/wechatpay/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/wechatpay/index.js';	define("pages/wechatpay/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";function e(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function r(e,r){try{(r=r||{}).error&&(r.error=encodeURIComponent(JSON.stringify(r.error)));var o=getCurrentPages?getCurrentPages():[],i=o[o.length-2]||{};r.refRoute=i.route,r=Object.entries(r).reduce(function(e,r){var o=t(r,2),i=o[0],a=o[1];return e.concat(i+"="+a)},[]).join("&");var a=2==n.getCookie("wxapp_type")?1305:619;d.umpBiz({bizid:a,operation:120,result:e,message:r})}catch(e){console.error(e)}}var t=function(){function e(e,r){var t=[],o=!0,i=!1,a=void 0;try{for(var n,d=e[Symbol.iterator]();!(o=(n=d.next()).done)&&(t.push(n.value),!r||t.length!==r);o=!0);}catch(e){i=!0,a=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw a}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(require("../../models/pay/wechat_pay.js")),i=require("../../bases/page.js"),a=e(require("../../common/url_utils.js")),n=e(require("../../common/cookie-v2/cookie.js")),d=e(require("../../common/fe_report/usability.js"));new i.JDPage({data:{loading:!1,price:0,dealId:""},onLoad:function(e){var t=this,i=e.dealId,d=e.price,s=e.source,l=e.failRedirectUrl,c=e.successRedirectUrl,u=e.wdref,p=getApp().appId,f=decodeURIComponent(l),g=c?decodeURIComponent(c):"/pages/pay_second/done/done",y=i?"":"没有传入dealId或dealId为空",m={errMsg:y,appId:p,dealId:i,price:d,source:s,failRedirectUrl:l,successRedirectUrl:c,wdref:u};if(y)return this.setData({errMsg:y}),void r(-1,m);this.setData({price:d||0,loading:!0}),"oilcard"==s&&"closewindow"!=f&&"undefined"!=f&&(f=a.addUrlParam(f,{wxapp_type:n.getCookie("wxapp_type")})),this.biz.getPPMS(34620).then(function(e){if(t.setData({loading:!1}),e&&e.length>0){var a=e[0],n=a.openAll,d=a.supportSources;n||d.split("|").indexOf(s)>0?o.requestPay(p,i,function(e,o,i){if(m.from=i,e||"QB"==i){if("closewindow"==f)wx.navigateBack();else if(f&&"undefined"!=f)if(f.indexOf("https://")>-1)t.$goto("/pages/h5/index",{url:f},"redirectTo");else{var a={},n=t.getUrlParams(f,a);t.$goto(n,a,"redirectTo"),a.orderRedirectUrl=n}else t.$goto("/pages/order/detail/detail",{deal_id:o},"redirectTo"),m.orderRedirectUrl="/pages/order/detail/detail";m.error=e,m.orderRedirectUrl=m.orderRedirectUrl||f,e&&"requestPayment:fail cancel"==e.errMsg?(m.cancel=!0,r(-5,m)):r(e.errno||-6,m)}else if("closewindow"==g)wx.navigateBack(),r(0,m);else if(g.indexOf("https://")>-1)t.$goto("/pages/h5/index",{url:g},"redirectTo"),r(0,m);else{var d={};"/pages/pay_second/done/done"==g?d={dealId:o,orderType:s||"",orderRedirectUrl:f}:g.indexOf("?")>-1&&(g=t.getUrlParams(g,d)),t.$goto(g,d,"redirectTo"),d.successUrl=g,r(0,d)}}):(t.setData({errMsg:"source:"+s+"是不支持的来源"}),r(-4,m))}else console.error("ppms34620数据异常，请检测配置！"),t.setData({loading:!1,errMsg:"网络异常，请稍后重试！"}),m.error=e,r(-3,m)}).catch(function(e){t.setData({loading:!1,errMsg:"网络异常，请稍后重试！"}),m.error=e,r(-2,m)})},getUrlParams:function(e,r){var t=e.indexOf("?"),o=e.slice(t+1).split("&");e=e.slice(0,t);for(var i=0;i<o.length;i++){var a=o[i].split("=");r[a[0]]=a[1]}return e}}); 
 			}); 	require("pages/wechatpay/index.js");
 		__wxRoute = 'pages/recommend/index';__wxRouteBegin = true; 	__wxAppCurrentFile__ = 'pages/recommend/index.js';	define("pages/recommend/index.js", function(require, module, exports, window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){ 			

"use strict";new(require("../../bases/page.js").JDPage)({data:{reachBottom:0,scrollTop:0,ptag:"138570.2.1",refreshTime:0},onPageScroll:function(e){this.setData({scrollTop:e.scrollTop})},onReachBottom:function(){this.setData({reachBottom:Date.now()})},onShareAppMessage:function(){return{title:"京东购物，多·快·好·省",path:"/pages/recommend/index"}},onPullDownRefresh:function(){this.setData({refreshTime:Date.now()})},back2top:function(){wx.pageScrollTo({scrollTop:0})}}); 
 			}); 	require("pages/recommend/index.js");
 	